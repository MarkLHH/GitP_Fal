{"ast":null,"code":"import{useContext}from'react';import{ChatContext}from'../../../context/Context';import{isIterableArray}from'../../../helpers/utils';import PropTypes from'prop-types';var LastMessage=function LastMessage(lastMessage,thread){var _useContext=useContext(ChatContext),users=_useContext.users;var user=users.find(function(_ref){var id=_ref.id;return id===(lastMessage===null||lastMessage===void 0?void 0:lastMessage.senderUserId);});var name=user===null||user===void 0?void 0:user.name.split(' ');var lastMassagePreview=(lastMessage===null||lastMessage===void 0?void 0:lastMessage.messageType)==='attachment'?\"\".concat(name[0],\" sent \").concat(lastMessage.attachment):lastMessage===null||lastMessage===void 0?void 0:lastMessage.message.split('<br>');if(!!lastMessage){if(lastMessage.senderUserId===3){return\"You: \".concat(lastMassagePreview[0]);}if(isIterableArray(thread.userId)){return\"\".concat(name[0],\": \").concat(lastMassagePreview);}return\"\".concat(lastMassagePreview);}return'Say hi to your new friend';};LastMessage.propTypes={thread:PropTypes.object.isRequired,lastMessage:PropTypes.object.isRequired};export default LastMessage;","map":{"version":3,"sources":["/workspace/GitP_Fal/src/components/chat/sidebar/LastMessage.js"],"names":["useContext","ChatContext","isIterableArray","PropTypes","LastMessage","lastMessage","thread","users","user","find","id","senderUserId","name","split","lastMassagePreview","messageType","attachment","message","userId","propTypes","object","isRequired"],"mappings":"AAAA,OAASA,UAAT,KAA2B,OAA3B,CACA,OAASC,WAAT,KAA4B,0BAA5B,CACA,OAASC,eAAT,KAAgC,wBAAhC,CACA,MAAOC,CAAAA,SAAP,KAAsB,YAAtB,CAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,WAAD,CAAcC,MAAd,CAAyB,iBACzBN,UAAU,CAACC,WAAD,CADe,CACnCM,KADmC,aACnCA,KADmC,CAE3C,GAAMC,CAAAA,IAAI,CAAGD,KAAK,CAACE,IAAN,CAAW,kBAAGC,CAAAA,EAAH,MAAGA,EAAH,OAAYA,CAAAA,EAAE,IAAKL,WAAL,SAAKA,WAAL,iBAAKA,WAAW,CAAEM,YAAlB,CAAd,EAAX,CAAb,CACA,GAAMC,CAAAA,IAAI,CAAGJ,IAAH,SAAGA,IAAH,iBAAGA,IAAI,CAAEI,IAAN,CAAWC,KAAX,CAAiB,GAAjB,CAAb,CACA,GAAMC,CAAAA,kBAAkB,CACtB,CAAAT,WAAW,OAAX,EAAAA,WAAW,SAAX,QAAAA,WAAW,CAAEU,WAAb,IAA6B,YAA7B,WACOH,IAAI,CAAC,CAAD,CADX,kBACuBP,WAAW,CAACW,UADnC,EAEIX,WAFJ,SAEIA,WAFJ,iBAEIA,WAAW,CAAEY,OAAb,CAAqBJ,KAArB,CAA2B,MAA3B,CAHN,CAKA,GAAI,CAAC,CAACR,WAAN,CAAmB,CACjB,GAAIA,WAAW,CAACM,YAAZ,GAA6B,CAAjC,CAAoC,CAClC,qBAAeG,kBAAkB,CAAC,CAAD,CAAjC,EACD,CAED,GAAIZ,eAAe,CAACI,MAAM,CAACY,MAAR,CAAnB,CAAoC,CAClC,gBAAUN,IAAI,CAAC,CAAD,CAAd,cAAsBE,kBAAtB,EACD,CAED,gBAAUA,kBAAV,EACD,CAED,MAAO,2BAAP,CACD,CAtBD,CAuBAV,WAAW,CAACe,SAAZ,CAAwB,CACtBb,MAAM,CAAEH,SAAS,CAACiB,MAAV,CAAiBC,UADH,CAEtBhB,WAAW,CAAEF,SAAS,CAACiB,MAAV,CAAiBC,UAFR,CAAxB,CAKA,cAAejB,CAAAA,WAAf","sourcesContent":["import { useContext } from 'react';\nimport { ChatContext } from '../../../context/Context';\nimport { isIterableArray } from '../../../helpers/utils';\nimport PropTypes from 'prop-types';\n\nconst LastMessage = (lastMessage, thread) => {\n  const { users } = useContext(ChatContext);\n  const user = users.find(({ id }) => id === lastMessage?.senderUserId);\n  const name = user?.name.split(' ');\n  const lastMassagePreview =\n    lastMessage?.messageType === 'attachment'\n      ? `${name[0]} sent ${lastMessage.attachment}`\n      : lastMessage?.message.split('<br>');\n\n  if (!!lastMessage) {\n    if (lastMessage.senderUserId === 3) {\n      return `You: ${lastMassagePreview[0]}`;\n    }\n\n    if (isIterableArray(thread.userId)) {\n      return `${name[0]}: ${lastMassagePreview}`;\n    }\n\n    return `${lastMassagePreview}`;\n  }\n\n  return 'Say hi to your new friend';\n};\nLastMessage.propTypes = {\n  thread: PropTypes.object.isRequired,\n  lastMessage: PropTypes.object.isRequired\n};\n\nexport default LastMessage;\n"]},"metadata":{},"sourceType":"module"}