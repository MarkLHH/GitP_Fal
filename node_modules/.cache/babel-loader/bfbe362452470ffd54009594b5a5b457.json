{"ast":null,"code":"import _slicedToArray from\"/workspace/GitP_Fal/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import chunk from'lodash/chunk';import{isIterableArray}from'../helpers/utils';var usePagination=function usePagination(items){var defaultItemsPerPage=arguments.length>1&&arguments[1]!==undefined?arguments[1]:5;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),itemsChunk=_useState4[0],setItemsChunk=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),total=_useState6[0],setTotal=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),lastPageNo=_useState8[0],setLastPageNo=_useState8[1];var _useState9=useState(defaultItemsPerPage),_useState10=_slicedToArray(_useState9,2),itemsPerPage=_useState10[0],setItemsPerPage=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),pageNo=_useState12[0],setPageNo=_useState12[1];var _useState13=useState(1),_useState14=_slicedToArray(_useState13,2),from=_useState14[0],setFrom=_useState14[1];var _useState15=useState(itemsPerPage),_useState16=_slicedToArray(_useState15,2),to=_useState16[0],setTo=_useState16[1];var _useState17=useState(true),_useState18=_slicedToArray(_useState17,2),prevPageNo=_useState18[0],setPrevPageNo=_useState18[1];var _useState19=useState(true),_useState20=_slicedToArray(_useState19,2),nextPageNo=_useState20[0],setNextPageNo=_useState20[1];useEffect(function(){setData(isIterableArray(itemsChunk[pageNo-1])?itemsChunk[pageNo-1]:[]);},[setData,itemsPerPage,itemsChunk,pageNo]);useEffect(function(){setItemsChunk(chunk(items,itemsPerPage));setPageNo(1);setTotal(items.length);},[itemsPerPage,setPageNo,items]);useEffect(function(){setFrom(itemsPerPage*(pageNo-1)+1);setTo(itemsPerPage*(pageNo-1)+data.length);setPrevPageNo(pageNo>1?pageNo-1:null);setNextPageNo(pageNo<lastPageNo?pageNo+1:null);},[itemsPerPage,pageNo,data,lastPageNo]);useEffect(function(){setLastPageNo(itemsChunk.length);},[itemsChunk]);var handleNextPage=function handleNextPage(){return setPageNo(pageNo+1);};var handlePrevPage=function handlePrevPage(){return setPageNo(pageNo-1);};return{data:data,meta:{total:total,pageNo:pageNo,lastPageNo:lastPageNo,itemsPerPage:itemsPerPage,from:from,to:to,nextPageNo:nextPageNo,prevPageNo:prevPageNo},handler:{nextPage:handleNextPage,prevPage:handlePrevPage,currentPage:setPageNo,perPage:setItemsPerPage}};};export default usePagination;","map":{"version":3,"sources":["/workspace/GitP_Fal/src/hooks/usePagination.js"],"names":["useState","useEffect","chunk","isIterableArray","usePagination","items","defaultItemsPerPage","data","setData","itemsChunk","setItemsChunk","total","setTotal","lastPageNo","setLastPageNo","itemsPerPage","setItemsPerPage","pageNo","setPageNo","from","setFrom","to","setTo","prevPageNo","setPrevPageNo","nextPageNo","setNextPageNo","length","handleNextPage","handlePrevPage","meta","handler","nextPage","prevPage","currentPage","perPage"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\nimport chunk from 'lodash/chunk';\nimport { isIterableArray } from '../helpers/utils';\n\nconst usePagination = (items, defaultItemsPerPage = 5) => {\n  const [data, setData] = useState([]);\n  const [itemsChunk, setItemsChunk] = useState([]);\n  const [total, setTotal] = useState(0);\n  const [lastPageNo, setLastPageNo] = useState(0);\n  const [itemsPerPage, setItemsPerPage] = useState(defaultItemsPerPage);\n  const [pageNo, setPageNo] = useState(null);\n  const [from, setFrom] = useState(1);\n  const [to, setTo] = useState(itemsPerPage);\n  const [prevPageNo, setPrevPageNo] = useState(true);\n  const [nextPageNo, setNextPageNo] = useState(true);\n\n  useEffect(() => {\n    setData(isIterableArray(itemsChunk[pageNo - 1]) ? itemsChunk[pageNo - 1] : []);\n  }, [setData, itemsPerPage, itemsChunk, pageNo]);\n\n  useEffect(() => {\n    setItemsChunk(chunk(items, itemsPerPage));\n    setPageNo(1);\n    setTotal(items.length);\n  }, [itemsPerPage, setPageNo, items]);\n\n  useEffect(() => {\n    setFrom(itemsPerPage * (pageNo - 1) + 1);\n    setTo(itemsPerPage * (pageNo - 1) + data.length);\n    setPrevPageNo(pageNo > 1 ? pageNo - 1 : null);\n    setNextPageNo(pageNo < lastPageNo ? pageNo + 1 : null);\n  }, [itemsPerPage, pageNo, data, lastPageNo]);\n\n  useEffect(() => {\n    setLastPageNo(itemsChunk.length);\n  }, [itemsChunk]);\n\n  const handleNextPage = () => setPageNo(pageNo + 1);\n  const handlePrevPage = () => setPageNo(pageNo - 1);\n\n  return {\n    data,\n    meta: { total, pageNo, lastPageNo, itemsPerPage, from, to, nextPageNo, prevPageNo },\n    handler: {\n      nextPage: handleNextPage,\n      prevPage: handlePrevPage,\n      currentPage: setPageNo,\n      perPage: setItemsPerPage\n    }\n  };\n};\n\nexport default usePagination;\n"]},"metadata":{},"sourceType":"module"}