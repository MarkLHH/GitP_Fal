{"ast":null,"code":"var _jsxFileName = \"/workspace/GitP_Fal/src/components/dashboard/ActiveUsersBarChart.js\";\nimport React, { Component } from 'react';\nimport { Bar } from 'react-chartjs-2';\nimport { Link } from 'react-router-dom';\nimport range from 'lodash/range';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Card, CardHeader, CardBody, ListGroup, ListGroupItem, CardFooter } from 'reactstrap';\nimport { rgbaColor } from '../../helpers/utils';\nimport { activeUserHistory } from '../../data/dashboard/activeUsers';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst dividerBorder = '1px solid rgba(255, 255, 255, 0.15)';\nconst listItemBorderColor = 'rgba(255, 255, 255, 0.05)';\nconst chartOptions = {\n  legend: {\n    display: false\n  },\n  scales: {\n    yAxes: [{\n      display: false,\n      stacked: true\n    }],\n    xAxes: [{\n      stacked: false,\n      ticks: {\n        display: false\n      },\n      barPercentage: 0.9,\n      categoryPercentage: 1.0,\n      gridLines: {\n        color: rgbaColor('#fff', 0.1),\n        display: false\n      }\n    }]\n  }\n};\n\nclass ActiveUsersBarChart extends Component {\n  constructor(...args) {\n    super(...args);\n    this._isMounted = false;\n    this.state = {\n      activeUserHistory,\n      currentActiveUser: activeUserHistory[activeUserHistory.length - 1],\n      chartData: {\n        labels: range(1, 26),\n        datasets: [{\n          label: 'Users',\n          backgroundColor: rgbaColor('#fff', 0.3),\n          data: []\n        }]\n      }\n    };\n\n    this.simulateActiveUsers = () => {\n      this.refreshInterval = setInterval(() => {\n        const currentActiveUser = Math.floor(Math.random() * (120 - 60) + 60);\n        const activeUserHistory = [...this.state.activeUserHistory];\n        activeUserHistory.shift();\n\n        if (this._isMounted) {\n          this.setState({\n            activeUserHistory\n          }, () => {\n            this.refreshTimeout = setTimeout(() => {\n              const activeUserHistory = [...this.state.activeUserHistory];\n              activeUserHistory.push(currentActiveUser);\n\n              if (this._isMounted) {\n                this.setState({\n                  activeUserHistory,\n                  currentActiveUser\n                });\n              }\n            }, 500);\n          });\n        }\n      }, 2000);\n    };\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n    this.simulateActiveUsers();\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n    clearInterval(this.refreshInterval);\n    clearTimeout(this.refreshTimeout);\n  }\n\n  render() {\n    const chartData = { ...this.state.chartData,\n      datasets: [{ ...this.state.chartData.datasets[0],\n        data: this.state.activeUserHistory\n      }]\n    };\n    return /*#__PURE__*/_jsxDEV(Card, {\n      className: \"h-100 bg-gradient\",\n      children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n        className: \"bg-transparent\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"text-white\",\n          children: \"Active users right now\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"real-time-user display-1 font-weight-normal text-white\",\n          children: this.state.currentActiveUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n        className: \"text-white fs--1\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"pb-2\",\n          style: {\n            borderBottom: dividerBorder\n          },\n          children: \"Page views per second\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Bar, {\n          data: chartData,\n          options: chartOptions,\n          width: 10,\n          height: 4\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n          flush: true,\n          className: \"mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(ListGroupItem, {\n            className: \"bg-transparent d-flex justify-content-between px-0 py-1 font-weight-semi-bold border-top-0\",\n            style: {\n              borderColor: listItemBorderColor\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mb-0\",\n              children: \"Top Active Pages\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mb-0\",\n              children: \"Active Users\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ListGroupItem, {\n            className: \"bg-transparent d-flex justify-content-between px-0 py-1\",\n            style: {\n              borderColor: listItemBorderColor\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mb-0\",\n              children: \"/bootstrap-themes/\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mb-0\",\n              children: \"3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ListGroupItem, {\n            className: \"bg-transparent d-flex justify-content-between px-0 py-1\",\n            style: {\n              borderColor: listItemBorderColor\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mb-0\",\n              children: \"/tags/html5/\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mb-0\",\n              children: \"3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ListGroupItem, {\n            className: \"bg-transparent d-xxl-flex justify-content-between px-0 py-1 d-none\",\n            style: {\n              borderColor: listItemBorderColor\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mb-0\",\n              children: \"/\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mb-0\",\n              children: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ListGroupItem, {\n            className: \"bg-transparent d-xxl-flex justify-content-between px-0 py-1 d-none\",\n            style: {\n              borderColor: listItemBorderColor\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mb-0\",\n              children: \"/preview/falcon/dashboard/\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mb-0\",\n              children: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ListGroupItem, {\n            className: \"bg-transparent d-flex justify-content-between px-0 py-1\",\n            style: {\n              borderColor: listItemBorderColor\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mb-0\",\n              children: \"/100-best-themes...all-time/\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mb-0\",\n              children: \"1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardFooter, {\n        className: \"text-right bg-transparent\",\n        style: {\n          borderTop: dividerBorder\n        },\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          className: \"text-white\",\n          to: \"#!\",\n          children: [\"Real-time report\", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: \"chevron-right\",\n            transform: \"down-1\",\n            className: \"ml-1 fs--1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default ActiveUsersBarChart;","map":{"version":3,"sources":["/workspace/GitP_Fal/src/components/dashboard/ActiveUsersBarChart.js"],"names":["React","Component","Bar","Link","range","FontAwesomeIcon","Card","CardHeader","CardBody","ListGroup","ListGroupItem","CardFooter","rgbaColor","activeUserHistory","dividerBorder","listItemBorderColor","chartOptions","legend","display","scales","yAxes","stacked","xAxes","ticks","barPercentage","categoryPercentage","gridLines","color","ActiveUsersBarChart","_isMounted","state","currentActiveUser","length","chartData","labels","datasets","label","backgroundColor","data","simulateActiveUsers","refreshInterval","setInterval","Math","floor","random","shift","setState","refreshTimeout","setTimeout","push","componentDidMount","componentWillUnmount","clearInterval","clearTimeout","render","borderBottom","borderColor","borderTop"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Bar } from 'react-chartjs-2';\nimport { Link } from 'react-router-dom';\nimport range from 'lodash/range';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Card, CardHeader, CardBody, ListGroup, ListGroupItem, CardFooter } from 'reactstrap';\nimport { rgbaColor } from '../../helpers/utils';\nimport { activeUserHistory } from '../../data/dashboard/activeUsers';\n\nconst dividerBorder = '1px solid rgba(255, 255, 255, 0.15)';\nconst listItemBorderColor = 'rgba(255, 255, 255, 0.05)';\n\nconst chartOptions = {\n  legend: { display: false },\n  scales: {\n    yAxes: [\n      {\n        display: false,\n        stacked: true\n      }\n    ],\n    xAxes: [\n      {\n        stacked: false,\n        ticks: { display: false },\n        barPercentage: 0.9,\n        categoryPercentage: 1.0,\n        gridLines: {\n          color: rgbaColor('#fff', 0.1),\n          display: false\n        }\n      }\n    ]\n  }\n};\n\nclass ActiveUsersBarChart extends Component {\n  _isMounted = false;\n  refreshInterval;\n  refreshTimeout;\n  state = {\n    activeUserHistory,\n    currentActiveUser: activeUserHistory[activeUserHistory.length - 1],\n    chartData: {\n      labels: range(1, 26),\n      datasets: [\n        {\n          label: 'Users',\n          backgroundColor: rgbaColor('#fff', 0.3),\n          data: []\n        }\n      ]\n    }\n  };\n\n  simulateActiveUsers = () => {\n    this.refreshInterval = setInterval(() => {\n      const currentActiveUser = Math.floor(Math.random() * (120 - 60) + 60);\n      const activeUserHistory = [...this.state.activeUserHistory];\n      activeUserHistory.shift();\n      if (this._isMounted) {\n        this.setState({ activeUserHistory }, () => {\n          this.refreshTimeout = setTimeout(() => {\n            const activeUserHistory = [...this.state.activeUserHistory];\n            activeUserHistory.push(currentActiveUser);\n            if (this._isMounted) {\n              this.setState({ activeUserHistory, currentActiveUser });\n            }\n          }, 500);\n        });\n      }\n    }, 2000);\n  };\n\n  componentDidMount() {\n    this._isMounted = true;\n    this.simulateActiveUsers();\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n    clearInterval(this.refreshInterval);\n    clearTimeout(this.refreshTimeout);\n  }\n\n  render() {\n    const chartData = {\n      ...this.state.chartData,\n      datasets: [\n        {\n          ...this.state.chartData.datasets[0],\n          data: this.state.activeUserHistory\n        }\n      ]\n    };\n\n    return (\n      <Card className=\"h-100 bg-gradient\">\n        <CardHeader className=\"bg-transparent\">\n          <h5 className=\"text-white\">Active users right now</h5>\n          <div className=\"real-time-user display-1 font-weight-normal text-white\">{this.state.currentActiveUser}</div>\n        </CardHeader>\n        <CardBody className=\"text-white fs--1\">\n          <p className=\"pb-2\" style={{ borderBottom: dividerBorder }}>\n            Page views per second\n          </p>\n          <Bar data={chartData} options={chartOptions} width={10} height={4} />\n          <ListGroup flush className=\"mt-4\">\n            <ListGroupItem\n              className=\"bg-transparent d-flex justify-content-between px-0 py-1 font-weight-semi-bold border-top-0\"\n              style={{ borderColor: listItemBorderColor }}\n            >\n              <p className=\"mb-0\">Top Active Pages</p>\n              <p className=\"mb-0\">Active Users</p>\n            </ListGroupItem>\n            <ListGroupItem\n              className=\"bg-transparent d-flex justify-content-between px-0 py-1\"\n              style={{ borderColor: listItemBorderColor }}\n            >\n              <p className=\"mb-0\">/bootstrap-themes/</p>\n              <p className=\"mb-0\">3</p>\n            </ListGroupItem>\n            <ListGroupItem\n              className=\"bg-transparent d-flex justify-content-between px-0 py-1\"\n              style={{ borderColor: listItemBorderColor }}\n            >\n              <p className=\"mb-0\">/tags/html5/</p>\n              <p className=\"mb-0\">3</p>\n            </ListGroupItem>\n            <ListGroupItem\n              className=\"bg-transparent d-xxl-flex justify-content-between px-0 py-1 d-none\"\n              style={{ borderColor: listItemBorderColor }}\n            >\n              <p className=\"mb-0\">/</p>\n              <p className=\"mb-0\">2</p>\n            </ListGroupItem>\n            <ListGroupItem\n              className=\"bg-transparent d-xxl-flex justify-content-between px-0 py-1 d-none\"\n              style={{ borderColor: listItemBorderColor }}\n            >\n              <p className=\"mb-0\">/preview/falcon/dashboard/</p>\n              <p className=\"mb-0\">2</p>\n            </ListGroupItem>\n            <ListGroupItem\n              className=\"bg-transparent d-flex justify-content-between px-0 py-1\"\n              style={{ borderColor: listItemBorderColor }}\n            >\n              <p className=\"mb-0\">/100-best-themes...all-time/</p>\n              <p className=\"mb-0\">1</p>\n            </ListGroupItem>\n          </ListGroup>\n        </CardBody>\n        <CardFooter className=\"text-right bg-transparent\" style={{ borderTop: dividerBorder }}>\n          <Link className=\"text-white\" to=\"#!\">\n            Real-time report\n            <FontAwesomeIcon icon=\"chevron-right\" transform=\"down-1\" className=\"ml-1 fs--1\" />\n          </Link>\n        </CardFooter>\n      </Card>\n    );\n  }\n}\n\nexport default ActiveUsersBarChart;\n"]},"metadata":{},"sourceType":"module"}