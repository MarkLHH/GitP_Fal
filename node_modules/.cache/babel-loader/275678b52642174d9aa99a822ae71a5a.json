{"ast":null,"code":"import _objectSpread from\"/workspace/GitP_Fal/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/workspace/GitP_Fal/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"/workspace/GitP_Fal/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React,{useContext,useState}from'react';import{Badge,Col}from'reactstrap';import Flex from'../../common/Flex';import{Link}from'react-router-dom';import{isIterableArray}from'../../../helpers/utils';import Slider from'react-slick/lib';import StarCount from'./StarCount';import classNames from'classnames';import ButtonIcon from'../../common/ButtonIcon';import AppContext,{ProductContext}from'../../../context/Context';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductGrid=function ProductGrid(_ref){var id=_ref.id,files=_ref.files,title=_ref.title,category=_ref.category,price=_ref.price,sale=_ref.sale,rating=_ref.rating,review=_ref.review,shippingCost=_ref.shippingCost,isInStock=_ref.isInStock,isNew=_ref.isNew,sliderSettings=_ref.sliderSettings,rest=_objectWithoutProperties(_ref,[\"id\",\"files\",\"title\",\"category\",\"price\",\"sale\",\"rating\",\"review\",\"shippingCost\",\"isInStock\",\"isNew\",\"sliderSettings\"]);var _useContext=useContext(AppContext),currency=_useContext.currency;var _useContext2=useContext(ProductContext),handleCartAction=_useContext2.handleCartAction,isInFavouriteItems=_useContext2.isInFavouriteItems,favouriteItemsDispatch=_useContext2.favouriteItemsDispatch;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),cartLoading=_useState2[0],setCartLoading=_useState2[1];var handleAddToCart=function handleAddToCart(){setCartLoading(true);setTimeout(function(){handleCartAction({id:id});setCartLoading(false);},1000);};return/*#__PURE__*/_jsx(Col,_objectSpread(_objectSpread({className:\"mb-4\"},rest),{},{children:/*#__PURE__*/_jsxs(Flex,{justify:\"between\",column:true,className:\"border rounded h-100 pb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative rounded-top overflow-hidden\",children:[isIterableArray(files)&&files.length===1&&/*#__PURE__*/_jsx(Link,{className:\"d-block h-100\",to:\"/e-commerce/product-details/\".concat(id),children:/*#__PURE__*/_jsx(\"img\",{className:\"img-fluid rounded-top\",src:files[0]['src']||files[0]['base64'],alt:files[0].path})}),isIterableArray(files)&&files.length>1&&/*#__PURE__*/_jsx(Slider,_objectSpread(_objectSpread({},sliderSettings),{},{children:files.map(function(file){return/*#__PURE__*/_jsx(Link,{className:\"d-block h-100\",to:\"/e-commerce/product-details/\".concat(id),children:/*#__PURE__*/_jsx(\"img\",{className:\"img-fluid fit-cover w-sm-100 h-sm-100 rounded\",src:file['src']||file['base64'],alt:file.path})},file.id);})})),isNew&&/*#__PURE__*/_jsx(Badge,{color:\"success\",pill:true,className:\"position-absolute t-0 r-0 mr-2 mt-2 fs--2 z-index-2\",children:\"New\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-3\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"fs-0\",children:/*#__PURE__*/_jsx(Link,{className:\"text-dark\",to:\"/e-commerce/product-details/\".concat(id),children:title})}),/*#__PURE__*/_jsx(\"p\",{className:\"fs--1 mb-3\",children:/*#__PURE__*/_jsx(\"a\",{className:\"text-500\",href:\"#!\",children:category})}),/*#__PURE__*/_jsxs(Flex,{tag:\"h5\",align:\"center\",className:\"fs-md-2 text-warning mb-0 mb-3\",children:[currency,!!sale?price-price*(sale/100):price,!!sale&&/*#__PURE__*/_jsxs(\"del\",{className:\"ml-2 fs--1 text-500\",children:[currency,price]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"fs--1 mb-1\",children:[\"Shipping Cost: \",/*#__PURE__*/_jsx(\"strong\",{children:shippingCost===0?'Free':\"\".concat(currency).concat(shippingCost)})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"fs--1 mb-1\",children:[\"Stock:\",' ',/*#__PURE__*/_jsx(\"strong\",{className:classNames({'text-success':isInStock,'text-danger':!isInStock}),children:isInStock?'Available':'Sold-Out'})]})]})]}),/*#__PURE__*/_jsxs(Flex,{align:\"center\",justify:\"between\",className:\"px-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(StarCount,{stars:rating}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-1\",children:[\"(\",review,\")\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(ButtonIcon,{color:isInFavouriteItems(id)?'falcon-danger':'falcon-default',size:\"sm\",icon:[isInFavouriteItems(id)?'fas':'far','heart'],onClick:function onClick(){return isInFavouriteItems(id)?favouriteItemsDispatch({type:'REMOVE',id:id}):favouriteItemsDispatch({type:'ADD',payload:{id:id}});},className:\"mr-2\"}),cartLoading?/*#__PURE__*/_jsx(ButtonIcon,{color:\"primary\",size:\"sm\",icon:\"circle-notch\",iconClassName:\"fa-spin\",style:{cursor:'progress'},disabled:true}):/*#__PURE__*/_jsx(ButtonIcon,{color:\"primary\",size:\"sm\",icon:\"cart-plus\",onClick:handleAddToCart})]})]})]})}));};ProductGrid.defaultProps={isNew:false,isInStock:false,files:[]};export default ProductGrid;","map":{"version":3,"sources":["/workspace/GitP_Fal/src/components/e-commerce/product/ProductGrid.js"],"names":["React","useContext","useState","Badge","Col","Flex","Link","isIterableArray","Slider","StarCount","classNames","ButtonIcon","AppContext","ProductContext","ProductGrid","id","files","title","category","price","sale","rating","review","shippingCost","isInStock","isNew","sliderSettings","rest","currency","handleCartAction","isInFavouriteItems","favouriteItemsDispatch","cartLoading","setCartLoading","handleAddToCart","setTimeout","length","path","map","file","type","payload","cursor","defaultProps"],"mappings":"qUAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,QAA5B,KAA4C,OAA5C,CAEA,OAASC,KAAT,CAAgBC,GAAhB,KAA2B,YAA3B,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,eAAT,KAAgC,wBAAhC,CACA,MAAOC,CAAAA,MAAP,KAAmB,iBAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,UAAP,KAAuB,YAAvB,CACA,MAAOC,CAAAA,UAAP,KAAuB,yBAAvB,CACA,MAAOC,CAAAA,UAAP,EAAqBC,cAArB,KAA2C,0BAA3C,C,wFAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,MAcd,IAbJC,CAAAA,EAaI,MAbJA,EAaI,CAZJC,KAYI,MAZJA,KAYI,CAXJC,KAWI,MAXJA,KAWI,CAVJC,QAUI,MAVJA,QAUI,CATJC,KASI,MATJA,KASI,CARJC,IAQI,MARJA,IAQI,CAPJC,MAOI,MAPJA,MAOI,CANJC,MAMI,MANJA,MAMI,CALJC,YAKI,MALJA,YAKI,CAJJC,SAII,MAJJA,SAII,CAHJC,KAGI,MAHJA,KAGI,CAFJC,cAEI,MAFJA,cAEI,CADDC,IACC,uKACiB1B,UAAU,CAACW,UAAD,CAD3B,CACIgB,QADJ,aACIA,QADJ,kBAEqE3B,UAAU,CAACY,cAAD,CAF/E,CAEIgB,gBAFJ,cAEIA,gBAFJ,CAEsBC,kBAFtB,cAEsBA,kBAFtB,CAE0CC,sBAF1C,cAE0CA,sBAF1C,eAGkC7B,QAAQ,CAAC,KAAD,CAH1C,wCAGG8B,WAHH,eAGgBC,cAHhB,eAKJ,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC5BD,cAAc,CAAC,IAAD,CAAd,CACAE,UAAU,CAAC,UAAM,CACfN,gBAAgB,CAAC,CAAEd,EAAE,CAAFA,EAAF,CAAD,CAAhB,CACAkB,cAAc,CAAC,KAAD,CAAd,CACD,CAHS,CAGP,IAHO,CAAV,CAID,CAND,CAQA,mBACE,KAAC,GAAD,8BAAK,SAAS,CAAC,MAAf,EAA0BN,IAA1B,4BACE,MAAC,IAAD,EAAM,OAAO,CAAC,SAAd,CAAwB,MAAM,KAA9B,CAA+B,SAAS,CAAC,2BAAzC,wBACE,aAAK,SAAS,CAAC,iBAAf,wBACE,aAAK,SAAS,CAAC,+CAAf,WACGpB,eAAe,CAACS,KAAD,CAAf,EAA0BA,KAAK,CAACoB,MAAN,GAAiB,CAA3C,eACC,KAAC,IAAD,EAAM,SAAS,CAAC,eAAhB,CAAgC,EAAE,uCAAiCrB,EAAjC,CAAlC,uBACE,YACE,SAAS,CAAC,uBADZ,CAEE,GAAG,CAAEC,KAAK,CAAC,CAAD,CAAL,CAAS,KAAT,GAAmBA,KAAK,CAAC,CAAD,CAAL,CAAS,QAAT,CAF1B,CAGE,GAAG,CAAEA,KAAK,CAAC,CAAD,CAAL,CAASqB,IAHhB,EADF,EAFJ,CAUG9B,eAAe,CAACS,KAAD,CAAf,EAA0BA,KAAK,CAACoB,MAAN,CAAe,CAAzC,eACC,KAAC,MAAD,gCAAYV,cAAZ,eACGV,KAAK,CAACsB,GAAN,CAAU,SAAAC,IAAI,qBACb,KAAC,IAAD,EAAM,SAAS,CAAC,eAAhB,CAAgC,EAAE,uCAAiCxB,EAAjC,CAAlC,uBACE,YACE,SAAS,CAAC,+CADZ,CAEE,GAAG,CAAEwB,IAAI,CAAC,KAAD,CAAJ,EAAeA,IAAI,CAAC,QAAD,CAF1B,CAGE,GAAG,CAAEA,IAAI,CAACF,IAHZ,EADF,EAA8EE,IAAI,CAACxB,EAAnF,CADa,EAAd,CADH,GAXJ,CAwBGU,KAAK,eACJ,KAAC,KAAD,EAAO,KAAK,CAAC,SAAb,CAAuB,IAAI,KAA3B,CAA4B,SAAS,CAAC,qDAAtC,iBAzBJ,GADF,cA+BE,aAAK,SAAS,CAAC,KAAf,wBACE,WAAI,SAAS,CAAC,MAAd,uBACE,KAAC,IAAD,EAAM,SAAS,CAAC,WAAhB,CAA4B,EAAE,uCAAiCV,EAAjC,CAA9B,UACGE,KADH,EADF,EADF,cAME,UAAG,SAAS,CAAC,YAAb,uBACE,UAAG,SAAS,CAAC,UAAb,CAAwB,IAAI,CAAC,IAA7B,UACGC,QADH,EADF,EANF,cAYE,MAAC,IAAD,EAAM,GAAG,CAAC,IAAV,CAAe,KAAK,CAAC,QAArB,CAA8B,SAAS,CAAC,gCAAxC,WACGU,QADH,CAEG,CAAC,CAACR,IAAF,CAASD,KAAK,CAAGA,KAAK,EAAIC,IAAI,CAAG,GAAX,CAAtB,CAAwCD,KAF3C,CAGG,CAAC,CAACC,IAAF,eACC,aAAK,SAAS,CAAC,qBAAf,WACGQ,QADH,CAEGT,KAFH,GAJJ,GAZF,cAsBE,WAAG,SAAS,CAAC,YAAb,0CACiB,wBAASI,YAAY,GAAK,CAAjB,CAAqB,MAArB,WAAiCK,QAAjC,SAA4CL,YAA5C,CAAT,EADjB,GAtBF,cAyBE,WAAG,SAAS,CAAC,YAAb,oBACS,GADT,cAEE,eAAQ,SAAS,CAAEb,UAAU,CAAC,CAAE,eAAgBc,SAAlB,CAA6B,cAAe,CAACA,SAA7C,CAAD,CAA7B,UACGA,SAAS,CAAG,WAAH,CAAiB,UAD7B,EAFF,GAzBF,GA/BF,GADF,cAkEE,MAAC,IAAD,EAAM,KAAK,CAAC,QAAZ,CAAqB,OAAO,CAAC,SAA7B,CAAuC,SAAS,CAAC,MAAjD,wBACE,oCACE,KAAC,SAAD,EAAW,KAAK,CAAEH,MAAlB,EADF,cAEE,cAAM,SAAS,CAAC,MAAhB,eAAyBC,MAAzB,OAFF,GADF,cAKE,oCACE,KAAC,UAAD,EACE,KAAK,CAAEQ,kBAAkB,CAACf,EAAD,CAAlB,CAAyB,eAAzB,CAA2C,gBADpD,CAEE,IAAI,CAAC,IAFP,CAGE,IAAI,CAAE,CAACe,kBAAkB,CAACf,EAAD,CAAlB,CAAyB,KAAzB,CAAiC,KAAlC,CAAyC,OAAzC,CAHR,CAIE,OAAO,CAAE,yBACPe,CAAAA,kBAAkB,CAACf,EAAD,CAAlB,CACIgB,sBAAsB,CAAC,CAAES,IAAI,CAAE,QAAR,CAAkBzB,EAAE,CAAFA,EAAlB,CAAD,CAD1B,CAEIgB,sBAAsB,CAAC,CAAES,IAAI,CAAE,KAAR,CAAeC,OAAO,CAAE,CAAE1B,EAAE,CAAFA,EAAF,CAAxB,CAAD,CAHnB,EAJX,CASE,SAAS,CAAC,MATZ,EADF,CAYGiB,WAAW,cACV,KAAC,UAAD,EACE,KAAK,CAAC,SADR,CAEE,IAAI,CAAC,IAFP,CAGE,IAAI,CAAC,cAHP,CAIE,aAAa,CAAC,SAJhB,CAKE,KAAK,CAAE,CAAEU,MAAM,CAAE,UAAV,CALT,CAME,QAAQ,KANV,EADU,cAUV,KAAC,UAAD,EAAY,KAAK,CAAC,SAAlB,CAA4B,IAAI,CAAC,IAAjC,CAAsC,IAAI,CAAC,WAA3C,CAAuD,OAAO,CAAER,eAAhE,EAtBJ,GALF,GAlEF,GADF,GADF,CAsGD,CAjID,CAmJApB,WAAW,CAAC6B,YAAZ,CAA2B,CAAElB,KAAK,CAAE,KAAT,CAAgBD,SAAS,CAAE,KAA3B,CAAkCR,KAAK,CAAE,EAAzC,CAA3B,CAEA,cAAeF,CAAAA,WAAf","sourcesContent":["import React, { useContext, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Badge, Col } from 'reactstrap';\nimport Flex from '../../common/Flex';\nimport { Link } from 'react-router-dom';\nimport { isIterableArray } from '../../../helpers/utils';\nimport Slider from 'react-slick/lib';\nimport StarCount from './StarCount';\nimport classNames from 'classnames';\nimport ButtonIcon from '../../common/ButtonIcon';\nimport AppContext, { ProductContext } from '../../../context/Context';\n\nconst ProductGrid = ({\n  id,\n  files,\n  title,\n  category,\n  price,\n  sale,\n  rating,\n  review,\n  shippingCost,\n  isInStock,\n  isNew,\n  sliderSettings,\n  ...rest\n}) => {\n  const { currency } = useContext(AppContext);\n  const { handleCartAction, isInFavouriteItems, favouriteItemsDispatch } = useContext(ProductContext);\n  const [cartLoading, setCartLoading] = useState(false);\n\n  const handleAddToCart = () => {\n    setCartLoading(true);\n    setTimeout(() => {\n      handleCartAction({ id });\n      setCartLoading(false);\n    }, 1000);\n  };\n\n  return (\n    <Col className=\"mb-4\" {...rest}>\n      <Flex justify=\"between\" column className=\"border rounded h-100 pb-3\">\n        <div className=\"overflow-hidden\">\n          <div className=\"position-relative rounded-top overflow-hidden\">\n            {isIterableArray(files) && files.length === 1 && (\n              <Link className=\"d-block h-100\" to={`/e-commerce/product-details/${id}`}>\n                <img\n                  className=\"img-fluid rounded-top\"\n                  src={files[0]['src'] || files[0]['base64']}\n                  alt={files[0].path}\n                />\n              </Link>\n            )}\n            {isIterableArray(files) && files.length > 1 && (\n              <Slider {...sliderSettings}>\n                {files.map(file => (\n                  <Link className=\"d-block h-100\" to={`/e-commerce/product-details/${id}`} key={file.id}>\n                    <img\n                      className=\"img-fluid fit-cover w-sm-100 h-sm-100 rounded\"\n                      src={file['src'] || file['base64']}\n                      alt={file.path}\n                    />\n                  </Link>\n                ))}\n              </Slider>\n            )}\n\n            {isNew && (\n              <Badge color=\"success\" pill className=\"position-absolute t-0 r-0 mr-2 mt-2 fs--2 z-index-2\">\n                New\n              </Badge>\n            )}\n          </div>\n          <div className=\"p-3\">\n            <h5 className=\"fs-0\">\n              <Link className=\"text-dark\" to={`/e-commerce/product-details/${id}`}>\n                {title}\n              </Link>\n            </h5>\n            <p className=\"fs--1 mb-3\">\n              <a className=\"text-500\" href=\"#!\">\n                {category}\n              </a>\n            </p>\n\n            <Flex tag=\"h5\" align=\"center\" className=\"fs-md-2 text-warning mb-0 mb-3\">\n              {currency}\n              {!!sale ? price - price * (sale / 100) : price}\n              {!!sale && (\n                <del className=\"ml-2 fs--1 text-500\">\n                  {currency}\n                  {price}\n                </del>\n              )}\n            </Flex>\n            <p className=\"fs--1 mb-1\">\n              Shipping Cost: <strong>{shippingCost === 0 ? 'Free' : `${currency}${shippingCost}`}</strong>\n            </p>\n            <p className=\"fs--1 mb-1\">\n              Stock:{' '}\n              <strong className={classNames({ 'text-success': isInStock, 'text-danger': !isInStock })}>\n                {isInStock ? 'Available' : 'Sold-Out'}\n              </strong>\n            </p>\n          </div>\n        </div>\n\n        <Flex align=\"center\" justify=\"between\" className=\"px-3\">\n          <div>\n            <StarCount stars={rating} />\n            <span className=\"ml-1\">({review})</span>\n          </div>\n          <div>\n            <ButtonIcon\n              color={isInFavouriteItems(id) ? 'falcon-danger' : 'falcon-default'}\n              size=\"sm\"\n              icon={[isInFavouriteItems(id) ? 'fas' : 'far', 'heart']}\n              onClick={() =>\n                isInFavouriteItems(id)\n                  ? favouriteItemsDispatch({ type: 'REMOVE', id })\n                  : favouriteItemsDispatch({ type: 'ADD', payload: { id } })\n              }\n              className=\"mr-2\"\n            />\n            {cartLoading ? (\n              <ButtonIcon\n                color=\"primary\"\n                size=\"sm\"\n                icon=\"circle-notch\"\n                iconClassName=\"fa-spin\"\n                style={{ cursor: 'progress' }}\n                disabled\n              />\n            ) : (\n              <ButtonIcon color=\"primary\" size=\"sm\" icon=\"cart-plus\" onClick={handleAddToCart} />\n            )}\n          </div>\n        </Flex>\n      </Flex>\n    </Col>\n  );\n};\n\nProductGrid.propTypes = {\n  title: PropTypes.string.isRequired,\n  category: PropTypes.string.isRequired,\n  rating: PropTypes.number.isRequired,\n  review: PropTypes.number.isRequired,\n  shippingCost: PropTypes.number.isRequired,\n  sliderSettings: PropTypes.object.isRequired,\n  files: PropTypes.array,\n  sale: PropTypes.number,\n  oldPrice: PropTypes.number,\n  price: PropTypes.number,\n  isInStock: PropTypes.bool,\n  isNew: PropTypes.bool,\n  features: PropTypes.array\n};\n\nProductGrid.defaultProps = { isNew: false, isInStock: false, files: [] };\n\nexport default ProductGrid;\n"]},"metadata":{},"sourceType":"module"}