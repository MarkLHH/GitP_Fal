{"ast":null,"code":"import React,{useContext}from'react';import WidgetsSectionTitle from'./WidgetsSectionTitle';import ShoppingCart from'../e-commerce/ShoppingCart';import WidgetsProducts from'./WidgetsProducts';import WidgetsBilling from'./WidgetsBilling';import{Row,Col}from'reactstrap';import CheckoutAside from'../e-commerce/checkout/CheckoutAside';import{calculateSale,getTotalPrice}from'../../helpers/utils';import{ProductContext}from'../../context/Context';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var EcommerceWidgets=function EcommerceWidgets(){var _useContext=useContext(ProductContext),products=_useContext.products,shoppingCart=_useContext.shoppingCart,appliedPromo=_useContext.appliedPromo;var calculatedShippingCost=parseFloat(shoppingCart.map(function(shoppingCartItem){return products.find(function(product){return product.id===shoppingCartItem.id;});}).filter(function(product){return product.hasOwnProperty('shippingCost')&&product.shippingCost!==0;}).reduce(function(accumulated,product){return accumulated>product.shippingCost?accumulated:product.shippingCost;},0));var subTotal=parseFloat(getTotalPrice(shoppingCart,products).toFixed(2));var payableTotal=parseFloat((parseFloat(calculateSale(subTotal,!!appliedPromo?appliedPromo.discount:0))+calculatedShippingCost).toFixed(2));return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(WidgetsSectionTitle,{icon:\"cart-plus\",title:\"E-commerce\",subtitle:\"Find more cards which are delicately made for E-commerce.\",transform:\"shrink-1\"}),/*#__PURE__*/_jsx(ShoppingCart,{}),/*#__PURE__*/_jsx(WidgetsProducts,{}),/*#__PURE__*/_jsxs(Row,{className:\"mt-3\",noGutters:true,children:[/*#__PURE__*/_jsx(Col,{lg:6,className:\"pr-lg-2 mb-3 mb-lg-0\",children:/*#__PURE__*/_jsx(WidgetsBilling,{})}),/*#__PURE__*/_jsx(Col,{lg:6,className:\"pl-lg-2\",children:/*#__PURE__*/_jsx(CheckoutAside,{calculatedShippingCost:calculatedShippingCost,subTotal:subTotal,payableTotal:payableTotal})})]})]});};export default EcommerceWidgets;","map":{"version":3,"sources":["/workspace/GitP_Fal/src/components/widgets/EcommerceWidgets.js"],"names":["React","useContext","WidgetsSectionTitle","ShoppingCart","WidgetsProducts","WidgetsBilling","Row","Col","CheckoutAside","calculateSale","getTotalPrice","ProductContext","EcommerceWidgets","products","shoppingCart","appliedPromo","calculatedShippingCost","parseFloat","map","shoppingCartItem","find","product","id","filter","hasOwnProperty","shippingCost","reduce","accumulated","subTotal","toFixed","payableTotal","discount"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,KAAkC,OAAlC,CACA,MAAOC,CAAAA,mBAAP,KAAgC,uBAAhC,CACA,MAAOC,CAAAA,YAAP,KAAyB,4BAAzB,CACA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CACA,OAASC,GAAT,CAAcC,GAAd,KAAyB,YAAzB,CACA,MAAOC,CAAAA,aAAP,KAA0B,sCAA1B,CACA,OAASC,aAAT,CAAwBC,aAAxB,KAA6C,qBAA7C,CACA,OAASC,cAAT,KAA+B,uBAA/B,C,6IAEA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,iBACoBX,UAAU,CAACU,cAAD,CAD9B,CACrBE,QADqB,aACrBA,QADqB,CACXC,YADW,aACXA,YADW,CACGC,YADH,aACGA,YADH,CAG7B,GAAMC,CAAAA,sBAAsB,CAAGC,UAAU,CACvCH,YAAY,CACTI,GADH,CACO,SAAAC,gBAAgB,QAAIN,CAAAA,QAAQ,CAACO,IAAT,CAAc,SAAAC,OAAO,QAAIA,CAAAA,OAAO,CAACC,EAAR,GAAeH,gBAAgB,CAACG,EAApC,EAArB,CAAJ,EADvB,EAEGC,MAFH,CAEU,SAAAF,OAAO,QAAIA,CAAAA,OAAO,CAACG,cAAR,CAAuB,cAAvB,GAA0CH,OAAO,CAACI,YAAR,GAAyB,CAAvE,EAFjB,EAGGC,MAHH,CAGU,SAACC,WAAD,CAAcN,OAAd,QAA2BM,CAAAA,WAAW,CAAGN,OAAO,CAACI,YAAtB,CAAqCE,WAArC,CAAmDN,OAAO,CAACI,YAAtF,EAHV,CAG+G,CAH/G,CADuC,CAAzC,CAMA,GAAMG,CAAAA,QAAQ,CAAGX,UAAU,CAACP,aAAa,CAACI,YAAD,CAAeD,QAAf,CAAb,CAAsCgB,OAAtC,CAA8C,CAA9C,CAAD,CAA3B,CACA,GAAMC,CAAAA,YAAY,CAAGb,UAAU,CAC7B,CAACA,UAAU,CAACR,aAAa,CAACmB,QAAD,CAAW,CAAC,CAACb,YAAF,CAAiBA,YAAY,CAACgB,QAA9B,CAAyC,CAApD,CAAd,CAAV,CAAkFf,sBAAnF,EAA2Ga,OAA3G,CACE,CADF,CAD6B,CAA/B,CAMA,mBACE,wCACE,KAAC,mBAAD,EACE,IAAI,CAAC,WADP,CAEE,KAAK,CAAC,YAFR,CAGE,QAAQ,CAAC,2DAHX,CAIE,SAAS,CAAC,UAJZ,EADF,cAOE,KAAC,YAAD,IAPF,cAQE,KAAC,eAAD,IARF,cASE,MAAC,GAAD,EAAK,SAAS,CAAC,MAAf,CAAsB,SAAS,KAA/B,wBACE,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,SAAS,CAAC,sBAAtB,uBACE,KAAC,cAAD,IADF,EADF,cAIE,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,SAAS,CAAC,SAAtB,uBACE,KAAC,aAAD,EACE,sBAAsB,CAAEb,sBAD1B,CAEE,QAAQ,CAAEY,QAFZ,CAGE,YAAY,CAAEE,YAHhB,EADF,EAJF,GATF,GADF,CAwBD,CAxCD,CA0CA,cAAelB,CAAAA,gBAAf","sourcesContent":["import React, { useContext } from 'react';\nimport WidgetsSectionTitle from './WidgetsSectionTitle';\nimport ShoppingCart from '../e-commerce/ShoppingCart';\nimport WidgetsProducts from './WidgetsProducts';\nimport WidgetsBilling from './WidgetsBilling';\nimport { Row, Col } from 'reactstrap';\nimport CheckoutAside from '../e-commerce/checkout/CheckoutAside';\nimport { calculateSale, getTotalPrice } from '../../helpers/utils';\nimport { ProductContext } from '../../context/Context';\n\nconst EcommerceWidgets = () => {\n  const { products, shoppingCart, appliedPromo } = useContext(ProductContext);\n\n  const calculatedShippingCost = parseFloat(\n    shoppingCart\n      .map(shoppingCartItem => products.find(product => product.id === shoppingCartItem.id))\n      .filter(product => product.hasOwnProperty('shippingCost') && product.shippingCost !== 0)\n      .reduce((accumulated, product) => (accumulated > product.shippingCost ? accumulated : product.shippingCost), 0)\n  );\n  const subTotal = parseFloat(getTotalPrice(shoppingCart, products).toFixed(2));\n  const payableTotal = parseFloat(\n    (parseFloat(calculateSale(subTotal, !!appliedPromo ? appliedPromo.discount : 0)) + calculatedShippingCost).toFixed(\n      2\n    )\n  );\n\n  return (\n    <>\n      <WidgetsSectionTitle\n        icon=\"cart-plus\"\n        title=\"E-commerce\"\n        subtitle=\"Find more cards which are delicately made for E-commerce.\"\n        transform=\"shrink-1\"\n      />\n      <ShoppingCart />\n      <WidgetsProducts />\n      <Row className=\"mt-3\" noGutters>\n        <Col lg={6} className=\"pr-lg-2 mb-3 mb-lg-0\">\n          <WidgetsBilling />\n        </Col>\n        <Col lg={6} className=\"pl-lg-2\">\n          <CheckoutAside\n            calculatedShippingCost={calculatedShippingCost}\n            subTotal={subTotal}\n            payableTotal={payableTotal}\n          />\n        </Col>\n      </Row>\n    </>\n  );\n};\n\nexport default EcommerceWidgets;\n"]},"metadata":{},"sourceType":"module"}