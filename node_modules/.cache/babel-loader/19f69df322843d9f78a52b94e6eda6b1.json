{"ast":null,"code":"import React,{Fragment,useContext}from'react';import AppContext,{ProductContext}from'../../../context/Context';import{Alert,Card,CardBody,CardFooter,Media,Table}from'reactstrap';import FalconCardHeader from'../../common/FalconCardHeader';import ButtonIcon from'../../common/ButtonIcon';import{Link}from'react-router-dom';import{calculateSale,isIterableArray}from'../../../helpers/utils';import Flex from'../../common/Flex';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CheckoutAside=function CheckoutAside(_ref){var calculatedShippingCost=_ref.calculatedShippingCost,subTotal=_ref.subTotal,payableTotal=_ref.payableTotal;var _useContext=useContext(AppContext),currency=_useContext.currency;var _useContext2=useContext(ProductContext),products=_useContext2.products,shoppingCart=_useContext2.shoppingCart,appliedPromo=_useContext2.appliedPromo;var total=(parseFloat(subTotal)+calculatedShippingCost).toFixed(2);return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(FalconCardHeader,{title:\"Order Summary\",titleTag:\"h5\",light:false,children:/*#__PURE__*/_jsx(ButtonIcon,{color:\"link\",size:\"sm\",tag:Link,icon:\"pencil-alt\",className:\"btn-reveal text-600\",to:\"/e-commerce/shopping-cart\"})}),isIterableArray(shoppingCart)?/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(CardBody,{className:\"pt-0\",children:/*#__PURE__*/_jsx(Table,{borderless:true,className:\"fs--1 mb-0\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[shoppingCart.map(function(_ref2){var id=_ref2.id,quantity=_ref2.quantity;var _products$find=products.find(function(product){return product.id===id;}),title=_products$find.title,price=_products$find.price,sale=_products$find.sale,features=_products$find.features;return/*#__PURE__*/_jsxs(\"tr\",{className:\"border-bottom\",children:[/*#__PURE__*/_jsxs(\"th\",{className:\"pl-0\",children:[title,\" x \",quantity,isIterableArray(features)&&/*#__PURE__*/_jsx(\"div\",{className:\"text-400 font-weight-normal fs--2\",children:features.map(function(feature){return\"\".concat(feature,\" \");})})]}),/*#__PURE__*/_jsxs(\"th\",{className:\"pr-0 text-right\",children:[currency,calculateSale(price,sale)*quantity]})]},id);}),/*#__PURE__*/_jsxs(\"tr\",{className:\"border-bottom\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"pl-0\",children:\"Subtotal\"}),/*#__PURE__*/_jsxs(\"th\",{className:\"pr-0 text-right\",children:[currency,subTotal]})]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"border-bottom\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"pl-0\",children:\"Shipping\"}),/*#__PURE__*/_jsxs(\"th\",{className:\"pr-0 text-right text-nowrap\",children:[\"+ \",currency,calculatedShippingCost]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"pl-0 pb-0\",children:\"Total\"}),/*#__PURE__*/_jsxs(\"th\",{className:\"pr-0 text-right pb-0 text-nowrap\",children:[currency,total]})]}),!!appliedPromo&&/*#__PURE__*/_jsxs(\"tr\",{className:\"border-bottom\",children:[/*#__PURE__*/_jsxs(\"th\",{className:\"pl-0\",children:[\"Coupon: \",/*#__PURE__*/_jsx(\"span\",{className:\"text-success\",children:appliedPromo.code}),\" (-\",appliedPromo.discount,\"%)\"]}),/*#__PURE__*/_jsxs(\"th\",{className:\"pr-0 text-right text-nowrap\",children:[\"- \",currency,calculateSale(subTotal,100-appliedPromo.discount)]})]})]})})}),/*#__PURE__*/_jsxs(CardFooter,{tag:Flex,justify:\"between\",className:\"bg-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-weight-semi-bold\",children:\"Payable Total\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"font-weight-bold\",children:[currency,payableTotal]})]})]}):/*#__PURE__*/_jsx(CardBody,{className:\"p-0\",children:/*#__PURE__*/_jsx(Alert,{color:\"warning\",className:\"mb-0 rounded-0 overflow-hidden\",children:/*#__PURE__*/_jsxs(Media,{className:\"align-items-center\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:['far','dizzy'],className:\"fs-5\"}),/*#__PURE__*/_jsx(Media,{body:true,className:\"ml-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:\"You have no items in your shopping cart. Go ahead and start shopping!\"})})]})})})]});};export default CheckoutAside;","map":{"version":3,"sources":["/workspace/GitP_Fal/src/components/e-commerce/checkout/CheckoutAside.js"],"names":["React","Fragment","useContext","AppContext","ProductContext","Alert","Card","CardBody","CardFooter","Media","Table","FalconCardHeader","ButtonIcon","Link","calculateSale","isIterableArray","Flex","FontAwesomeIcon","CheckoutAside","calculatedShippingCost","subTotal","payableTotal","currency","products","shoppingCart","appliedPromo","total","parseFloat","toFixed","map","id","quantity","find","product","title","price","sale","features","feature","code","discount"],"mappings":"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","sourcesContent":["import React, { Fragment, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport AppContext, { ProductContext } from '../../../context/Context';\nimport { Alert, Card, CardBody, CardFooter, Media, Table } from 'reactstrap';\nimport FalconCardHeader from '../../common/FalconCardHeader';\nimport ButtonIcon from '../../common/ButtonIcon';\nimport { Link } from 'react-router-dom';\nimport { calculateSale, isIterableArray } from '../../../helpers/utils';\nimport Flex from '../../common/Flex';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nconst CheckoutAside = ({ calculatedShippingCost, subTotal, payableTotal }) => {\n  const { currency } = useContext(AppContext);\n  const { products, shoppingCart, appliedPromo } = useContext(ProductContext);\n  const total = (parseFloat(subTotal) + calculatedShippingCost).toFixed(2);\n\n  return (\n    <Card>\n      <FalconCardHeader title=\"Order Summary\" titleTag=\"h5\" light={false}>\n        <ButtonIcon\n          color=\"link\"\n          size=\"sm\"\n          tag={Link}\n          icon=\"pencil-alt\"\n          className=\"btn-reveal text-600\"\n          to=\"/e-commerce/shopping-cart\"\n        />\n      </FalconCardHeader>\n      {isIterableArray(shoppingCart) ? (\n        <Fragment>\n          <CardBody className=\"pt-0\">\n            <Table borderless className=\"fs--1 mb-0\">\n              <tbody>\n                {shoppingCart.map(({ id, quantity }) => {\n                  const { title, price, sale, features } = products.find(product => product.id === id);\n                  return (\n                    <tr className=\"border-bottom\" key={id}>\n                      <th className=\"pl-0\">\n                        {title} x {quantity}\n                        {isIterableArray(features) && (\n                          <div className=\"text-400 font-weight-normal fs--2\">\n                            {features.map(feature => `${feature} `)}\n                          </div>\n                        )}\n                      </th>\n                      <th className=\"pr-0 text-right\">\n                        {currency}\n                        {calculateSale(price, sale) * quantity}\n                      </th>\n                    </tr>\n                  );\n                })}\n                <tr className=\"border-bottom\">\n                  <th className=\"pl-0\">Subtotal</th>\n                  <th className=\"pr-0 text-right\">\n                    {currency}\n                    {subTotal}\n                  </th>\n                </tr>\n\n                <tr className=\"border-bottom\">\n                  <th className=\"pl-0\">Shipping</th>\n                  <th className=\"pr-0 text-right text-nowrap\">\n                    + {currency}\n                    {calculatedShippingCost}\n                  </th>\n                </tr>\n                <tr>\n                  <th className=\"pl-0 pb-0\">Total</th>\n                  <th className=\"pr-0 text-right pb-0 text-nowrap\">\n                    {currency}\n                    {total}\n                  </th>\n                </tr>\n                {!!appliedPromo && (\n                  <tr className=\"border-bottom\">\n                    <th className=\"pl-0\">\n                      Coupon: <span className=\"text-success\">{appliedPromo.code}</span> (-{appliedPromo.discount}%)\n                    </th>\n                    <th className=\"pr-0 text-right text-nowrap\">\n                      - {currency}\n                      {calculateSale(subTotal, 100 - appliedPromo.discount)}\n                    </th>\n                  </tr>\n                )}\n              </tbody>\n            </Table>\n          </CardBody>\n          <CardFooter tag={Flex} justify=\"between\" className=\"bg-100\">\n            <div className=\"font-weight-semi-bold\">Payable Total</div>\n            <div className=\"font-weight-bold\">\n              {currency}\n              {payableTotal}\n            </div>\n          </CardFooter>\n        </Fragment>\n      ) : (\n        <CardBody className=\"p-0\">\n          <Alert color=\"warning\" className=\"mb-0 rounded-0 overflow-hidden\">\n            <Media className=\"align-items-center\">\n              <FontAwesomeIcon icon={['far', 'dizzy']} className=\"fs-5\" />\n              <Media body className=\"ml-3\">\n                <p className=\"mb-0\">You have no items in your shopping cart. Go ahead and start shopping!</p>\n              </Media>\n            </Media>\n          </Alert>\n        </CardBody>\n      )}\n    </Card>\n  );\n};\n\nCheckoutAside.propTypes = {\n  calculatedShippingCost: PropTypes.number.isRequired,\n  subTotal: PropTypes.number.isRequired,\n  payableTotal: PropTypes.number.isRequired\n};\n\nexport default CheckoutAside;\n"]},"metadata":{},"sourceType":"module"}