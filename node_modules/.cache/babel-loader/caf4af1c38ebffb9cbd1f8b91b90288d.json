{"ast":null,"code":"import _defineProperty from\"/workspace/GitP_Fal/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/workspace/GitP_Fal/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/workspace/GitP_Fal/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/workspace/GitP_Fal/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/workspace/GitP_Fal/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/workspace/GitP_Fal/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{EmailContext}from'../../../context/Context';import rawEmails from'../../../data/email/emails';import{isIterableArray}from'../../../helpers/utils';import{jsx as _jsx}from\"react/jsx-runtime\";var InboxProvider=/*#__PURE__*/function(_Component){_inherits(InboxProvider,_Component);var _super=_createSuper(InboxProvider);function InboxProvider(){var _this;_classCallCheck(this,InboxProvider);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.setEmails=function(emails){return _this.setState({emails:emails});};_this.setCurrentFilter=function(currentFilter){return _this.setState({currentFilter:currentFilter});};_this.handleAction=function(action,selectedIds){var _this$state=_this.state,emails=_this$state.emails,setEmails=_this$state.setEmails;setEmails(action==='delete'||action==='archive'?emails.filter(function(_ref){var id=_ref.id;return!selectedIds.includes(id);}):emails.map(function(email){return selectedIds.includes(email.id)?_objectSpread(_objectSpread({},email),{},_defineProperty({},action,!email[action])):email;}));};_this.handleFilter=function(filter){var _this$state2=_this.state,setEmails=_this$state2.setEmails,setCurrentFilter=_this$state2.setCurrentFilter;setCurrentFilter(filter);switch(filter){case'all':return setEmails(rawEmails);case'unread':return setEmails(rawEmails.filter(function(email){return!email.read;}));case'attachments':return setEmails(rawEmails.filter(function(email){return isIterableArray(email.attachments);}));default:return setEmails(rawEmails.filter(function(email){return email[filter];}));}};_this.state={emails:[],setEmails:_this.setEmails,filters:['all','unread','star','attachments','archive','snooze'],currentFilter:'all',setCurrentFilter:_this.setCurrentFilter,handleFilter:_this.handleFilter,handleAction:_this.handleAction};return _this;}_createClass(InboxProvider,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(EmailContext.Provider,{value:this.state,children:this.props.children});}}]);return InboxProvider;}(Component);export default InboxProvider;","map":{"version":3,"sources":["/workspace/GitP_Fal/src/components/email/inbox/InboxProvider.js"],"names":["React","Component","EmailContext","rawEmails","isIterableArray","InboxProvider","setEmails","emails","setState","setCurrentFilter","currentFilter","handleAction","action","selectedIds","state","filter","id","includes","map","email","handleFilter","read","attachments","filters","props","children"],"mappings":"qlBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,YAAT,KAA6B,0BAA7B,CACA,MAAOC,CAAAA,SAAP,KAAsB,4BAAtB,CACA,OAASC,eAAT,KAAgC,wBAAhC,C,8CAEMC,CAAAA,a,uVACJC,S,CAAY,SAAAC,MAAM,QAAI,OAAKC,QAAL,CAAc,CAAED,MAAM,CAANA,MAAF,CAAd,CAAJ,E,OAClBE,gB,CAAmB,SAAAC,aAAa,QAAI,OAAKF,QAAL,CAAc,CAAEE,aAAa,CAAbA,aAAF,CAAd,CAAJ,E,OAGhCC,Y,CAAe,SAACC,MAAD,CAASC,WAAT,CAAyB,iBACR,MAAKC,KADG,CAC9BP,MAD8B,aAC9BA,MAD8B,CACtBD,SADsB,aACtBA,SADsB,CAGtCA,SAAS,CACPM,MAAM,GAAK,QAAX,EAAuBA,MAAM,GAAK,SAAlC,CACIL,MAAM,CAACQ,MAAP,CAAc,kBAAGC,CAAAA,EAAH,MAAGA,EAAH,OAAY,CAACH,WAAW,CAACI,QAAZ,CAAqBD,EAArB,CAAb,EAAd,CADJ,CAEIT,MAAM,CAACW,GAAP,CAAW,SAAAC,KAAK,QAAKN,CAAAA,WAAW,CAACI,QAAZ,CAAqBE,KAAK,CAACH,EAA3B,iCAAsCG,KAAtC,wBAA8CP,MAA9C,CAAuD,CAACO,KAAK,CAACP,MAAD,CAA7D,GAA0EO,KAA/E,EAAhB,CAHG,CAAT,CAKD,C,OAEDC,Y,CAAe,SAAAL,MAAM,CAAI,kBACiB,MAAKD,KADtB,CACfR,SADe,cACfA,SADe,CACJG,gBADI,cACJA,gBADI,CAEvBA,gBAAgB,CAACM,MAAD,CAAhB,CAEA,OAAQA,MAAR,EACE,IAAK,KAAL,CACE,MAAOT,CAAAA,SAAS,CAACH,SAAD,CAAhB,CACF,IAAK,QAAL,CACE,MAAOG,CAAAA,SAAS,CAACH,SAAS,CAACY,MAAV,CAAiB,SAAAI,KAAK,QAAI,CAACA,KAAK,CAACE,IAAX,EAAtB,CAAD,CAAhB,CACF,IAAK,aAAL,CACE,MAAOf,CAAAA,SAAS,CAACH,SAAS,CAACY,MAAV,CAAiB,SAAAI,KAAK,QAAIf,CAAAA,eAAe,CAACe,KAAK,CAACG,WAAP,CAAnB,EAAtB,CAAD,CAAhB,CACF,QACE,MAAOhB,CAAAA,SAAS,CAACH,SAAS,CAACY,MAAV,CAAiB,SAAAI,KAAK,QAAIA,CAAAA,KAAK,CAACJ,MAAD,CAAT,EAAtB,CAAD,CAAhB,CARJ,CAUD,C,OAEDD,K,CAAQ,CACNP,MAAM,CAAE,EADF,CAEND,SAAS,CAAE,MAAKA,SAFV,CAGNiB,OAAO,CAAE,CAAC,KAAD,CAAQ,QAAR,CAAkB,MAAlB,CAA0B,aAA1B,CAAyC,SAAzC,CAAoD,QAApD,CAHH,CAINb,aAAa,CAAE,KAJT,CAKND,gBAAgB,CAAE,MAAKA,gBALjB,CAMNW,YAAY,CAAE,MAAKA,YANb,CAONT,YAAY,CAAE,MAAKA,YAPb,C,+DAUR,iBAAS,CACP,mBAAO,KAAC,YAAD,CAAc,QAAd,EAAuB,KAAK,CAAE,KAAKG,KAAnC,UAA2C,KAAKU,KAAL,CAAWC,QAAtD,EAAP,CACD,C,2BA3CyBxB,S,EA8C5B,cAAeI,CAAAA,aAAf","sourcesContent":["import React, { Component } from 'react';\nimport { EmailContext } from '../../../context/Context';\nimport rawEmails from '../../../data/email/emails';\nimport { isIterableArray } from '../../../helpers/utils';\n\nclass InboxProvider extends Component {\n  setEmails = emails => this.setState({ emails });\n  setCurrentFilter = currentFilter => this.setState({ currentFilter });\n\n  // Handlers\n  handleAction = (action, selectedIds) => {\n    const { emails, setEmails } = this.state;\n\n    setEmails(\n      action === 'delete' || action === 'archive'\n        ? emails.filter(({ id }) => !selectedIds.includes(id))\n        : emails.map(email => (selectedIds.includes(email.id) ? { ...email, [action]: !email[action] } : email))\n    );\n  };\n\n  handleFilter = filter => {\n    const { setEmails, setCurrentFilter } = this.state;\n    setCurrentFilter(filter);\n\n    switch (filter) {\n      case 'all':\n        return setEmails(rawEmails);\n      case 'unread':\n        return setEmails(rawEmails.filter(email => !email.read));\n      case 'attachments':\n        return setEmails(rawEmails.filter(email => isIterableArray(email.attachments)));\n      default:\n        return setEmails(rawEmails.filter(email => email[filter]));\n    }\n  };\n\n  state = {\n    emails: [],\n    setEmails: this.setEmails,\n    filters: ['all', 'unread', 'star', 'attachments', 'archive', 'snooze'],\n    currentFilter: 'all',\n    setCurrentFilter: this.setCurrentFilter,\n    handleFilter: this.handleFilter,\n    handleAction: this.handleAction\n  };\n\n  render() {\n    return <EmailContext.Provider value={this.state}>{this.props.children}</EmailContext.Provider>;\n  }\n}\n\nexport default InboxProvider;\n"]},"metadata":{},"sourceType":"module"}