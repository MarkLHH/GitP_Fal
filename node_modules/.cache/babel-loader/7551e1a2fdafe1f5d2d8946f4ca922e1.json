{"ast":null,"code":"import _objectSpread from\"/workspace/GitP_Fal/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/workspace/GitP_Fal/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/workspace/GitP_Fal/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/workspace/GitP_Fal/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/workspace/GitP_Fal/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/workspace/GitP_Fal/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Bar}from'react-chartjs-2';import{Link}from'react-router-dom';import range from'lodash/range';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{Card,CardHeader,CardBody,ListGroup,ListGroupItem,CardFooter}from'reactstrap';import{rgbaColor}from'../../helpers/utils';import{activeUserHistory}from'../../data/dashboard/activeUsers';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var dividerBorder='1px solid rgba(255, 255, 255, 0.15)';var listItemBorderColor='rgba(255, 255, 255, 0.05)';var chartOptions={legend:{display:false},scales:{yAxes:[{display:false,stacked:true}],xAxes:[{stacked:false,ticks:{display:false},barPercentage:0.9,categoryPercentage:1.0,gridLines:{color:rgbaColor('#fff',0.1),display:false}}]}};var ActiveUsersBarChart=/*#__PURE__*/function(_Component){_inherits(ActiveUsersBarChart,_Component);var _super=_createSuper(ActiveUsersBarChart);function ActiveUsersBarChart(){var _this;_classCallCheck(this,ActiveUsersBarChart);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this._isMounted=false;_this.state={activeUserHistory:activeUserHistory,currentActiveUser:activeUserHistory[activeUserHistory.length-1],chartData:{labels:range(1,26),datasets:[{label:'Users',backgroundColor:rgbaColor('#fff',0.3),data:[]}]}};_this.simulateActiveUsers=function(){_this.refreshInterval=setInterval(function(){var currentActiveUser=Math.floor(Math.random()*(120-60)+60);var activeUserHistory=_toConsumableArray(_this.state.activeUserHistory);activeUserHistory.shift();if(_this._isMounted){_this.setState({activeUserHistory:activeUserHistory},function(){_this.refreshTimeout=setTimeout(function(){var activeUserHistory=_toConsumableArray(_this.state.activeUserHistory);activeUserHistory.push(currentActiveUser);if(_this._isMounted){_this.setState({activeUserHistory:activeUserHistory,currentActiveUser:currentActiveUser});}},500);});}},2000);};return _this;}_createClass(ActiveUsersBarChart,[{key:\"componentDidMount\",value:function componentDidMount(){this._isMounted=true;this.simulateActiveUsers();}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this._isMounted=false;clearInterval(this.refreshInterval);clearTimeout(this.refreshTimeout);}},{key:\"render\",value:function render(){var chartData=_objectSpread(_objectSpread({},this.state.chartData),{},{datasets:[_objectSpread(_objectSpread({},this.state.chartData.datasets[0]),{},{data:this.state.activeUserHistory})]});return/*#__PURE__*/_jsxs(Card,{className:\"h-100 bg-gradient\",children:[/*#__PURE__*/_jsxs(CardHeader,{className:\"bg-transparent\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-white\",children:\"Active users right now\"}),/*#__PURE__*/_jsx(\"div\",{className:\"real-time-user display-1 font-weight-normal text-white\",children:this.state.currentActiveUser})]}),/*#__PURE__*/_jsxs(CardBody,{className:\"text-white fs--1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"pb-2\",style:{borderBottom:dividerBorder},children:\"Page views per second\"}),/*#__PURE__*/_jsx(Bar,{data:chartData,options:chartOptions,width:10,height:4}),/*#__PURE__*/_jsxs(ListGroup,{flush:true,className:\"mt-4\",children:[/*#__PURE__*/_jsxs(ListGroupItem,{className:\"bg-transparent d-flex justify-content-between px-0 py-1 font-weight-semi-bold border-top-0\",style:{borderColor:listItemBorderColor},children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:\"Top Active Pages\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:\"Active Users\"})]}),/*#__PURE__*/_jsxs(ListGroupItem,{className:\"bg-transparent d-flex justify-content-between px-0 py-1\",style:{borderColor:listItemBorderColor},children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:\"/bootstrap-themes/\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:\"3\"})]}),/*#__PURE__*/_jsxs(ListGroupItem,{className:\"bg-transparent d-flex justify-content-between px-0 py-1\",style:{borderColor:listItemBorderColor},children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:\"/tags/html5/\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:\"3\"})]}),/*#__PURE__*/_jsxs(ListGroupItem,{className:\"bg-transparent d-xxl-flex justify-content-between px-0 py-1 d-none\",style:{borderColor:listItemBorderColor},children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:\"/\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:\"2\"})]}),/*#__PURE__*/_jsxs(ListGroupItem,{className:\"bg-transparent d-xxl-flex justify-content-between px-0 py-1 d-none\",style:{borderColor:listItemBorderColor},children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:\"/preview/falcon/dashboard/\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:\"2\"})]}),/*#__PURE__*/_jsxs(ListGroupItem,{className:\"bg-transparent d-flex justify-content-between px-0 py-1\",style:{borderColor:listItemBorderColor},children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:\"/100-best-themes...all-time/\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:\"1\"})]})]})]}),/*#__PURE__*/_jsx(CardFooter,{className:\"text-right bg-transparent\",style:{borderTop:dividerBorder},children:/*#__PURE__*/_jsxs(Link,{className:\"text-white\",to:\"#!\",children:[\"Real-time report\",/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:\"chevron-right\",transform:\"down-1\",className:\"ml-1 fs--1\"})]})})]});}}]);return ActiveUsersBarChart;}(Component);export default ActiveUsersBarChart;","map":{"version":3,"sources":["/workspace/GitP_Fal/src/components/dashboard/ActiveUsersBarChart.js"],"names":["React","Component","Bar","Link","range","FontAwesomeIcon","Card","CardHeader","CardBody","ListGroup","ListGroupItem","CardFooter","rgbaColor","activeUserHistory","dividerBorder","listItemBorderColor","chartOptions","legend","display","scales","yAxes","stacked","xAxes","ticks","barPercentage","categoryPercentage","gridLines","color","ActiveUsersBarChart","_isMounted","state","currentActiveUser","length","chartData","labels","datasets","label","backgroundColor","data","simulateActiveUsers","refreshInterval","setInterval","Math","floor","random","shift","setState","refreshTimeout","setTimeout","push","clearInterval","clearTimeout","borderBottom","borderColor","borderTop"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Bar } from 'react-chartjs-2';\nimport { Link } from 'react-router-dom';\nimport range from 'lodash/range';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Card, CardHeader, CardBody, ListGroup, ListGroupItem, CardFooter } from 'reactstrap';\nimport { rgbaColor } from '../../helpers/utils';\nimport { activeUserHistory } from '../../data/dashboard/activeUsers';\n\nconst dividerBorder = '1px solid rgba(255, 255, 255, 0.15)';\nconst listItemBorderColor = 'rgba(255, 255, 255, 0.05)';\n\nconst chartOptions = {\n  legend: { display: false },\n  scales: {\n    yAxes: [\n      {\n        display: false,\n        stacked: true\n      }\n    ],\n    xAxes: [\n      {\n        stacked: false,\n        ticks: { display: false },\n        barPercentage: 0.9,\n        categoryPercentage: 1.0,\n        gridLines: {\n          color: rgbaColor('#fff', 0.1),\n          display: false\n        }\n      }\n    ]\n  }\n};\n\nclass ActiveUsersBarChart extends Component {\n  _isMounted = false;\n  refreshInterval;\n  refreshTimeout;\n  state = {\n    activeUserHistory,\n    currentActiveUser: activeUserHistory[activeUserHistory.length - 1],\n    chartData: {\n      labels: range(1, 26),\n      datasets: [\n        {\n          label: 'Users',\n          backgroundColor: rgbaColor('#fff', 0.3),\n          data: []\n        }\n      ]\n    }\n  };\n\n  simulateActiveUsers = () => {\n    this.refreshInterval = setInterval(() => {\n      const currentActiveUser = Math.floor(Math.random() * (120 - 60) + 60);\n      const activeUserHistory = [...this.state.activeUserHistory];\n      activeUserHistory.shift();\n      if (this._isMounted) {\n        this.setState({ activeUserHistory }, () => {\n          this.refreshTimeout = setTimeout(() => {\n            const activeUserHistory = [...this.state.activeUserHistory];\n            activeUserHistory.push(currentActiveUser);\n            if (this._isMounted) {\n              this.setState({ activeUserHistory, currentActiveUser });\n            }\n          }, 500);\n        });\n      }\n    }, 2000);\n  };\n\n  componentDidMount() {\n    this._isMounted = true;\n    this.simulateActiveUsers();\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n    clearInterval(this.refreshInterval);\n    clearTimeout(this.refreshTimeout);\n  }\n\n  render() {\n    const chartData = {\n      ...this.state.chartData,\n      datasets: [\n        {\n          ...this.state.chartData.datasets[0],\n          data: this.state.activeUserHistory\n        }\n      ]\n    };\n\n    return (\n      <Card className=\"h-100 bg-gradient\">\n        <CardHeader className=\"bg-transparent\">\n          <h5 className=\"text-white\">Active users right now</h5>\n          <div className=\"real-time-user display-1 font-weight-normal text-white\">{this.state.currentActiveUser}</div>\n        </CardHeader>\n        <CardBody className=\"text-white fs--1\">\n          <p className=\"pb-2\" style={{ borderBottom: dividerBorder }}>\n            Page views per second\n          </p>\n          <Bar data={chartData} options={chartOptions} width={10} height={4} />\n          <ListGroup flush className=\"mt-4\">\n            <ListGroupItem\n              className=\"bg-transparent d-flex justify-content-between px-0 py-1 font-weight-semi-bold border-top-0\"\n              style={{ borderColor: listItemBorderColor }}\n            >\n              <p className=\"mb-0\">Top Active Pages</p>\n              <p className=\"mb-0\">Active Users</p>\n            </ListGroupItem>\n            <ListGroupItem\n              className=\"bg-transparent d-flex justify-content-between px-0 py-1\"\n              style={{ borderColor: listItemBorderColor }}\n            >\n              <p className=\"mb-0\">/bootstrap-themes/</p>\n              <p className=\"mb-0\">3</p>\n            </ListGroupItem>\n            <ListGroupItem\n              className=\"bg-transparent d-flex justify-content-between px-0 py-1\"\n              style={{ borderColor: listItemBorderColor }}\n            >\n              <p className=\"mb-0\">/tags/html5/</p>\n              <p className=\"mb-0\">3</p>\n            </ListGroupItem>\n            <ListGroupItem\n              className=\"bg-transparent d-xxl-flex justify-content-between px-0 py-1 d-none\"\n              style={{ borderColor: listItemBorderColor }}\n            >\n              <p className=\"mb-0\">/</p>\n              <p className=\"mb-0\">2</p>\n            </ListGroupItem>\n            <ListGroupItem\n              className=\"bg-transparent d-xxl-flex justify-content-between px-0 py-1 d-none\"\n              style={{ borderColor: listItemBorderColor }}\n            >\n              <p className=\"mb-0\">/preview/falcon/dashboard/</p>\n              <p className=\"mb-0\">2</p>\n            </ListGroupItem>\n            <ListGroupItem\n              className=\"bg-transparent d-flex justify-content-between px-0 py-1\"\n              style={{ borderColor: listItemBorderColor }}\n            >\n              <p className=\"mb-0\">/100-best-themes...all-time/</p>\n              <p className=\"mb-0\">1</p>\n            </ListGroupItem>\n          </ListGroup>\n        </CardBody>\n        <CardFooter className=\"text-right bg-transparent\" style={{ borderTop: dividerBorder }}>\n          <Link className=\"text-white\" to=\"#!\">\n            Real-time report\n            <FontAwesomeIcon icon=\"chevron-right\" transform=\"down-1\" className=\"ml-1 fs--1\" />\n          </Link>\n        </CardFooter>\n      </Card>\n    );\n  }\n}\n\nexport default ActiveUsersBarChart;\n"]},"metadata":{},"sourceType":"module"}