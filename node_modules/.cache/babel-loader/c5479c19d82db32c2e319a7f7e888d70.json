{"ast":null,"code":"import _slicedToArray from\"/workspace/GitP_Fal/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useState}from'react';import AppContext,{ProductContext}from'../../../context/Context';import{Col,Media,Row}from'reactstrap';import{Link}from'react-router-dom';import QuantityController from'../../common/QuantityController';import{calculateSale}from'../../../helpers/utils';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ShoppingCartItem=function ShoppingCartItem(_ref){var id=_ref.id;var _useContext=useContext(AppContext),currency=_useContext.currency;var _useContext2=useContext(ProductContext),products=_useContext2.products,shoppingCart=_useContext2.shoppingCart,shoppingCartDispatch=_useContext2.shoppingCartDispatch,handleCartAction=_useContext2.handleCartAction;var _useState=useState(shoppingCart.find(function(shoppingCartItem){return shoppingCartItem.id===id;}).quantity),_useState2=_slicedToArray(_useState,2),quantity=_useState2[0],setQuantity=_useState2[1];var _products$find=products.find(function(product){return product.id===id;}),title=_products$find.title,files=_products$find.files,price=_products$find.price,sale=_products$find.sale;useEffect(function(){shoppingCartDispatch({type:'EDIT',id:id,payload:{id:id,quantity:quantity}});},[quantity,shoppingCartDispatch,id]);return/*#__PURE__*/_jsxs(Row,{noGutters:true,className:\"align-items-center px-1 border-bottom border-200\",children:[/*#__PURE__*/_jsx(Col,{xs:8,className:\"py-3 px-2 px-md-3\",children:/*#__PURE__*/_jsxs(Media,{className:\"align-items-center\",children:[/*#__PURE__*/_jsx(Link,{to:\"/e-commerce/product-details/\".concat(id),children:/*#__PURE__*/_jsx(\"img\",{className:\"rounded mr-3 d-none d-md-block\",src:files[0]['src']||files[0]['base64'],alt:\"\",width:\"60\"})}),/*#__PURE__*/_jsxs(Media,{body:true,children:[/*#__PURE__*/_jsx(\"h5\",{className:\"fs-0\",children:/*#__PURE__*/_jsx(Link,{className:\"text-900\",to:\"/e-commerce/product-details/\".concat(id),children:title})}),/*#__PURE__*/_jsx(\"div\",{className:\"fs--2 fs-md--1 text-danger cursor-pointer\",onClick:function onClick(){return handleCartAction({id:id,quantity:quantity,type:'REMOVE'});},children:\"Remove\"})]})]})}),/*#__PURE__*/_jsx(Col,{xs:4,className:\"p-3\",children:/*#__PURE__*/_jsxs(Row,{className:\"align-items-center\",children:[/*#__PURE__*/_jsx(Col,{md:8,className:\"d-flex justify-content-end justify-content-md-center px-2 px-md-3 order-1 order-md-0\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(QuantityController,{quantity:quantity,setQuantity:setQuantity})})}),/*#__PURE__*/_jsxs(Col,{md:4,className:\"text-right pl-0 pr-2 pr-md-3 order-0 order-md-1 mb-2 mb-md-0 text-600\",children:[currency,calculateSale(price,sale)*quantity]})]})})]});};export default ShoppingCartItem;","map":{"version":3,"sources":["/workspace/GitP_Fal/src/components/e-commerce/shopping-cart/ShoppingCartItem.js"],"names":["React","useContext","useEffect","useState","AppContext","ProductContext","Col","Media","Row","Link","QuantityController","calculateSale","ShoppingCartItem","id","currency","products","shoppingCart","shoppingCartDispatch","handleCartAction","find","shoppingCartItem","quantity","setQuantity","product","title","files","price","sale","type","payload"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport AppContext, { ProductContext } from '../../../context/Context';\nimport { Col, Media, Row } from 'reactstrap';\nimport { Link } from 'react-router-dom';\nimport QuantityController from '../../common/QuantityController';\nimport { calculateSale } from '../../../helpers/utils';\n\nconst ShoppingCartItem = ({ id }) => {\n  const { currency } = useContext(AppContext);\n  const { products, shoppingCart, shoppingCartDispatch, handleCartAction } = useContext(ProductContext);\n  const [quantity, setQuantity] = useState(shoppingCart.find(shoppingCartItem => shoppingCartItem.id === id).quantity);\n\n  const { title, files, price, sale } = products.find(product => product.id === id);\n\n  useEffect(() => {\n    shoppingCartDispatch({ type: 'EDIT', id, payload: { id, quantity } });\n  }, [quantity, shoppingCartDispatch, id]);\n\n  return (\n    <Row noGutters className=\"align-items-center px-1 border-bottom border-200\">\n      <Col xs={8} className=\"py-3 px-2 px-md-3\">\n        <Media className=\"align-items-center\">\n          <Link to={`/e-commerce/product-details/${id}`}>\n            <img\n              className=\"rounded mr-3 d-none d-md-block\"\n              src={files[0]['src'] || files[0]['base64']}\n              alt=\"\"\n              width=\"60\"\n            />\n          </Link>\n          <Media body>\n            <h5 className=\"fs-0\">\n              <Link className=\"text-900\" to={`/e-commerce/product-details/${id}`}>\n                {title}\n              </Link>\n            </h5>\n            <div\n              className=\"fs--2 fs-md--1 text-danger cursor-pointer\"\n              onClick={() => handleCartAction({ id, quantity, type: 'REMOVE' })}\n            >\n              Remove\n            </div>\n          </Media>\n        </Media>\n      </Col>\n      <Col xs={4} className=\"p-3\">\n        <Row className=\"align-items-center\">\n          <Col md={8} className=\"d-flex justify-content-end justify-content-md-center px-2 px-md-3 order-1 order-md-0\">\n            <div>\n              <QuantityController quantity={quantity} setQuantity={setQuantity} />\n            </div>\n          </Col>\n          <Col md={4} className=\"text-right pl-0 pr-2 pr-md-3 order-0 order-md-1 mb-2 mb-md-0 text-600\">\n            {currency}\n            {calculateSale(price, sale) * quantity}\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  );\n};\n\nShoppingCartItem.propTypes = {\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  quantity: PropTypes.number.isRequired\n};\n\nexport default ShoppingCartItem;\n"]},"metadata":{},"sourceType":"module"}