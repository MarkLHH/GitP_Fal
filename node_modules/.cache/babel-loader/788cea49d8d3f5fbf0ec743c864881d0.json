{"ast":null,"code":"import _objectSpread from\"/workspace/GitP_Fal/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{Fragment}from'react';import classNames from'classnames';import{Link}from'react-router-dom';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{Badge,Card,CardBody,CardFooter,CardHeader,Col,DropdownItem,DropdownMenu,DropdownToggle,Media,Row,UncontrolledDropdown}from'reactstrap';import Loader from'../common/Loader';import ButtonIcon from'../common/ButtonIcon';import FalconCardHeader from'../common/FalconCardHeader';import FalconCardFooterLink from'../common/FalconCardFooterLink';import useFakeFetch from'../../hooks/useFakeFetch';import{isIterableArray}from'../../helpers/utils';import createMarkup from'../../helpers/createMarkup';import rawCustomer from'../../data/customer/customer';import rawCustomerLogs from'../../data/customer/customerLogs';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{createElement as _createElement}from\"react\";var CustomerSummary=function CustomerSummary(){var _useFakeFetch=useFakeFetch(rawCustomer),loading=_useFakeFetch.loading,customer=_useFakeFetch.data;var name=customer.name,email=customer.email,createdAt=customer.createdAt;return/*#__PURE__*/_jsx(Card,{className:\"mb-3\",children:loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"mb-2\",children:[name,\" (\",/*#__PURE__*/_jsx(\"a\",{href:\"mailto:\".concat(email),children:email}),\")\"]}),/*#__PURE__*/_jsx(ButtonIcon,{color:\"falcon-default\",size:\"sm\",icon:\"plus\",iconClassName:\"fs--2\",children:\"Add note\"}),/*#__PURE__*/_jsxs(UncontrolledDropdown,{className:\"d-inline-block ml-2\",children:[/*#__PURE__*/_jsx(DropdownToggle,{color:\"falcon-default\",size:\"sm\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:\"ellipsis-h\"})}),/*#__PURE__*/_jsxs(DropdownMenu,{children:[/*#__PURE__*/_jsx(DropdownItem,{children:\"Edit\"}),/*#__PURE__*/_jsx(DropdownItem,{children:\"Report\"}),/*#__PURE__*/_jsx(DropdownItem,{children:\"Archive\"}),/*#__PURE__*/_jsx(DropdownItem,{divider:true}),/*#__PURE__*/_jsx(DropdownItem,{className:\"text-danger\",children:\"Delete user\"})]})]})]}),/*#__PURE__*/_jsx(Col,{xs:\"auto\",className:\"d-none d-sm-block\",children:/*#__PURE__*/_jsxs(\"h6\",{className:\"text-uppercase text-600\",children:[\"Customer\",/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:\"user\",className:\"ml-2\"})]})})]})}),/*#__PURE__*/_jsx(CardBody,{className:\"border-top\",children:/*#__PURE__*/_jsxs(Media,{children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:\"user\",transform:\"down-5\",className:\"text-success mr-2\"}),/*#__PURE__*/_jsxs(Media,{body:true,children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:\"Customer was created\"}),/*#__PURE__*/_jsx(\"p\",{className:\"fs--1 mb-0 text-600\",children:createdAt})]})]})})]})});};var CustomerDetailRow=function CustomerDetailRow(_ref){var title=_ref.title,isLastItem=_ref.isLastItem,children=_ref.children;return/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{xs:5,sm:4,children:/*#__PURE__*/_jsx(\"p\",{className:classNames('font-weight-semi-bold',{'mb-0':isLastItem,'mb-1':!isLastItem}),children:title})}),/*#__PURE__*/_jsx(Col,{children:children})]});};CustomerDetailRow.defaultProps={last:false};var CustomerDetail=function CustomerDetail(){var _useFakeFetch2=useFakeFetch(rawCustomer),loading=_useFakeFetch2.loading,customer=_useFakeFetch2.data;var id=customer.id,email=customer.email,createdAt=customer.createdAt,description=customer.description,vat_no=customer.vat_no,email_to=customer.email_to,address=customer.address,cell=customer.cell,invoice_prefix=customer.invoice_prefix;return/*#__PURE__*/_jsxs(Card,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(FalconCardHeader,{title:\"Details\",children:/*#__PURE__*/_jsx(ButtonIcon,{tag:Link,color:\"falcon-default\",size:\"sm\",icon:\"pencil-alt\",to:\"#!\",iconClassName:\"fs--2\",children:\"Update details\"})}),/*#__PURE__*/_jsx(CardBody,{className:\"bg-light border-top\",children:loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{lg:true,className:\"col-xxl-5\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"font-weight-semi-bold ls mb-3 text-uppercase\",children:\"Account Information\"}),/*#__PURE__*/_jsx(CustomerDetailRow,{title:\"ID\",children:id}),/*#__PURE__*/_jsx(CustomerDetailRow,{title:\"Created\",children:createdAt}),/*#__PURE__*/_jsx(CustomerDetailRow,{title:\"Email\",children:/*#__PURE__*/_jsx(\"a\",{href:\"mailto:\".concat(email),children:email})}),/*#__PURE__*/_jsx(CustomerDetailRow,{title:\"Description\",children:description?description:/*#__PURE__*/_jsx(\"p\",{className:\"font-italic text-400 mb-1\",children:\"No Description\"})}),/*#__PURE__*/_jsx(CustomerDetailRow,{title:\"VAT number\",isLastItem:true,children:vat_no?vat_no:/*#__PURE__*/_jsx(\"p\",{className:\"font-italic text-400 mb-0\",children:\"No VAT Number\"})})]}),/*#__PURE__*/_jsxs(Col,{lg:true,className:\"col-xxl-5 mt-4 mt-lg-0 offset-xxl-1\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"font-weight-semi-bold ls mb-3 text-uppercase\",children:\"Billing Information\"}),/*#__PURE__*/_jsx(CustomerDetailRow,{title:\"Send email to\",children:/*#__PURE__*/_jsx(\"a\",{href:\"mailto:\".concat(email_to),children:email_to})}),/*#__PURE__*/_jsx(CustomerDetailRow,{title:\"Address\",children:/*#__PURE__*/_jsx(\"p\",{className:\"mb-1\",dangerouslySetInnerHTML:createMarkup(address)})}),/*#__PURE__*/_jsx(CustomerDetailRow,{title:\"Phone number\",children:/*#__PURE__*/_jsx(\"a\",{href:\"tel:\".concat(cell),children:cell})}),/*#__PURE__*/_jsx(CustomerDetailRow,{title:\"Invoice prefix\",isLastItem:true,children:/*#__PURE__*/_jsx(\"p\",{className:\"font-weight-semi-bold mb-0\",children:invoice_prefix})})]})]})}),/*#__PURE__*/_jsxs(CardFooter,{className:\"border-top text-right\",children:[/*#__PURE__*/_jsx(ButtonIcon,{tag:Link,color:\"falcon-default\",size:\"sm\",icon:\"dollar-sign\",to:\"#!\",iconClassName:\"fs--2\",children:\"Refund\"}),/*#__PURE__*/_jsx(ButtonIcon,{tag:Link,color:\"falcon-default\",size:\"sm\",icon:\"check\",className:\"ml-2\",to:\"#!\",iconClassName:\"fs--2\",children:\"Save changes\"})]})]});};var CustomerLog=function CustomerLog(_ref2){var status=_ref2.status,link=_ref2.link,time=_ref2.time;var badgeColor='soft-warning';if(status===404)badgeColor='soft-danger';else if(status===200)badgeColor='soft-success';return/*#__PURE__*/_jsxs(Row,{noGutters:true,className:\"align-items-center border-bottom py-2 px-3\",children:[/*#__PURE__*/_jsx(Col,{md:\"auto\",className:\"pr-3\",children:/*#__PURE__*/_jsx(Badge,{color:badgeColor,pill:true,children:status})}),/*#__PURE__*/_jsx(Col,{md:true,className:\"mt-1 mt-md-0\",children:/*#__PURE__*/_jsxs(\"code\",{children:[\"POST \",link]})}),/*#__PURE__*/_jsx(Col,{md:\"auto\",children:/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:time})})]});};var CustomerLogs=function CustomerLogs(){var _useFakeFetch3=useFakeFetch(rawCustomerLogs),loading=_useFakeFetch3.loading,customerLogs=_useFakeFetch3.data;return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(FalconCardHeader,{title:\"Logs\"}),/*#__PURE__*/_jsx(CardBody,{className:\"border-top p-0\",children:loading?/*#__PURE__*/_jsx(Loader,{}):isIterableArray(customerLogs)&&customerLogs.map(function(log,index){return/*#__PURE__*/_createElement(CustomerLog,_objectSpread(_objectSpread({},log),{},{key:index}));})}),/*#__PURE__*/_jsx(FalconCardFooterLink,{title:\"View more logs\",to:\"#!\",borderTop:false})]});};var CustomerDetails=function CustomerDetails(){return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(CustomerSummary,{}),/*#__PURE__*/_jsx(CustomerDetail,{}),/*#__PURE__*/_jsx(CustomerLogs,{})]});};export default CustomerDetails;","map":{"version":3,"sources":["/workspace/GitP_Fal/src/components/page/CustomerDetails.js"],"names":["React","Fragment","classNames","Link","FontAwesomeIcon","Badge","Card","CardBody","CardFooter","CardHeader","Col","DropdownItem","DropdownMenu","DropdownToggle","Media","Row","UncontrolledDropdown","Loader","ButtonIcon","FalconCardHeader","FalconCardFooterLink","useFakeFetch","isIterableArray","createMarkup","rawCustomer","rawCustomerLogs","CustomerSummary","loading","customer","data","name","email","createdAt","CustomerDetailRow","title","isLastItem","children","defaultProps","last","CustomerDetail","id","description","vat_no","email_to","address","cell","invoice_prefix","CustomerLog","status","link","time","badgeColor","CustomerLogs","customerLogs","map","log","index","CustomerDetails"],"mappings":"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","sourcesContent":["import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { Link } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  Badge,\n  Card,\n  CardBody,\n  CardFooter,\n  CardHeader,\n  Col,\n  DropdownItem,\n  DropdownMenu,\n  DropdownToggle,\n  Media,\n  Row,\n  UncontrolledDropdown\n} from 'reactstrap';\nimport Loader from '../common/Loader';\nimport ButtonIcon from '../common/ButtonIcon';\nimport FalconCardHeader from '../common/FalconCardHeader';\nimport FalconCardFooterLink from '../common/FalconCardFooterLink';\nimport useFakeFetch from '../../hooks/useFakeFetch';\nimport { isIterableArray } from '../../helpers/utils';\nimport createMarkup from '../../helpers/createMarkup';\nimport rawCustomer from '../../data/customer/customer';\nimport rawCustomerLogs from '../../data/customer/customerLogs';\n\nconst CustomerSummary = () => {\n  const { loading, data: customer } = useFakeFetch(rawCustomer);\n  const { name, email, createdAt } = customer;\n\n  return (\n    <Card className=\"mb-3\">\n      {loading ? (\n        <Loader />\n      ) : (\n        <Fragment>\n          <CardHeader>\n            <Row>\n              <Col>\n                <h5 className=\"mb-2\">\n                  {name} (<a href={`mailto:${email}`}>{email}</a>)\n                </h5>\n                <ButtonIcon color=\"falcon-default\" size=\"sm\" icon=\"plus\" iconClassName=\"fs--2\">\n                  Add note\n                </ButtonIcon>\n\n                <UncontrolledDropdown className=\"d-inline-block ml-2\">\n                  <DropdownToggle color=\"falcon-default\" size=\"sm\">\n                    <FontAwesomeIcon icon=\"ellipsis-h\" />\n                  </DropdownToggle>\n                  <DropdownMenu>\n                    <DropdownItem>Edit</DropdownItem>\n                    <DropdownItem>Report</DropdownItem>\n                    <DropdownItem>Archive</DropdownItem>\n                    <DropdownItem divider />\n                    <DropdownItem className=\"text-danger\">Delete user</DropdownItem>\n                  </DropdownMenu>\n                </UncontrolledDropdown>\n              </Col>\n              <Col xs=\"auto\" className=\"d-none d-sm-block\">\n                <h6 className=\"text-uppercase text-600\">\n                  Customer\n                  <FontAwesomeIcon icon=\"user\" className=\"ml-2\" />\n                </h6>\n              </Col>\n            </Row>\n          </CardHeader>\n          <CardBody className=\"border-top\">\n            <Media>\n              <FontAwesomeIcon icon=\"user\" transform=\"down-5\" className=\"text-success mr-2\" />\n              <Media body>\n                <p className=\"mb-0\">Customer was created</p>\n                <p className=\"fs--1 mb-0 text-600\">{createdAt}</p>\n              </Media>\n            </Media>\n          </CardBody>\n        </Fragment>\n      )}\n    </Card>\n  );\n};\n\nconst CustomerDetailRow = ({ title, isLastItem, children }) => (\n  <Row>\n    <Col xs={5} sm={4}>\n      <p\n        className={classNames('font-weight-semi-bold', {\n          'mb-0': isLastItem,\n          'mb-1': !isLastItem\n        })}\n      >\n        {title}\n      </p>\n    </Col>\n    <Col>{children}</Col>\n  </Row>\n);\n\nCustomerDetailRow.propTypes = {\n  title: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired,\n  isLastItem: PropTypes.bool\n};\n\nCustomerDetailRow.defaultProps = { last: false };\n\nconst CustomerDetail = () => {\n  const { loading, data: customer } = useFakeFetch(rawCustomer);\n  const { id, email, createdAt, description, vat_no, email_to, address, cell, invoice_prefix } = customer;\n\n  return (\n    <Card className=\"mb-3\">\n      <FalconCardHeader title=\"Details\">\n        <ButtonIcon tag={Link} color=\"falcon-default\" size=\"sm\" icon=\"pencil-alt\" to=\"#!\" iconClassName=\"fs--2\">\n          Update details\n        </ButtonIcon>\n      </FalconCardHeader>\n      <CardBody className=\"bg-light border-top\">\n        {loading ? (\n          <Loader />\n        ) : (\n          <Row>\n            <Col lg className=\"col-xxl-5\">\n              <h6 className=\"font-weight-semi-bold ls mb-3 text-uppercase\">Account Information</h6>\n              <CustomerDetailRow title=\"ID\">{id}</CustomerDetailRow>\n              <CustomerDetailRow title=\"Created\">{createdAt}</CustomerDetailRow>\n              <CustomerDetailRow title=\"Email\">\n                <a href={`mailto:${email}`}>{email}</a>\n              </CustomerDetailRow>\n              <CustomerDetailRow title=\"Description\">\n                {description ? description : <p className=\"font-italic text-400 mb-1\">No Description</p>}\n              </CustomerDetailRow>\n              <CustomerDetailRow title=\"VAT number\" isLastItem>\n                {vat_no ? vat_no : <p className=\"font-italic text-400 mb-0\">No VAT Number</p>}\n              </CustomerDetailRow>\n            </Col>\n            <Col lg className=\"col-xxl-5 mt-4 mt-lg-0 offset-xxl-1\">\n              <h6 className=\"font-weight-semi-bold ls mb-3 text-uppercase\">Billing Information</h6>\n              <CustomerDetailRow title=\"Send email to\">\n                <a href={`mailto:${email_to}`}>{email_to}</a>\n              </CustomerDetailRow>\n              <CustomerDetailRow title=\"Address\">\n                <p className=\"mb-1\" dangerouslySetInnerHTML={createMarkup(address)} />\n              </CustomerDetailRow>\n              <CustomerDetailRow title=\"Phone number\">\n                <a href={`tel:${cell}`}>{cell}</a>\n              </CustomerDetailRow>\n              <CustomerDetailRow title=\"Invoice prefix\" isLastItem>\n                <p className=\"font-weight-semi-bold mb-0\">{invoice_prefix}</p>\n              </CustomerDetailRow>\n            </Col>\n          </Row>\n        )}\n      </CardBody>\n      <CardFooter className=\"border-top text-right\">\n        <ButtonIcon tag={Link} color=\"falcon-default\" size=\"sm\" icon=\"dollar-sign\" to=\"#!\" iconClassName=\"fs--2\">\n          Refund\n        </ButtonIcon>\n        <ButtonIcon\n          tag={Link}\n          color=\"falcon-default\"\n          size=\"sm\"\n          icon=\"check\"\n          className=\"ml-2\"\n          to=\"#!\"\n          iconClassName=\"fs--2\"\n        >\n          Save changes\n        </ButtonIcon>\n      </CardFooter>\n    </Card>\n  );\n};\n\nconst CustomerLog = ({ status, link, time }) => {\n  let badgeColor = 'soft-warning';\n  if (status === 404) badgeColor = 'soft-danger';\n  else if (status === 200) badgeColor = 'soft-success';\n\n  return (\n    <Row noGutters className=\"align-items-center border-bottom py-2 px-3\">\n      <Col md=\"auto\" className=\"pr-3\">\n        <Badge color={badgeColor} pill>\n          {status}\n        </Badge>\n      </Col>\n      <Col md className=\"mt-1 mt-md-0\">\n        <code>POST {link}</code>\n      </Col>\n      <Col md=\"auto\">\n        <p className=\"mb-0\">{time}</p>\n      </Col>\n    </Row>\n  );\n};\n\nCustomerLog.propTypes = {\n  status: PropTypes.number.isRequired,\n  link: PropTypes.string.isRequired,\n  time: PropTypes.string.isRequired\n};\n\nconst CustomerLogs = () => {\n  const { loading, data: customerLogs } = useFakeFetch(rawCustomerLogs);\n\n  return (\n    <Card>\n      <FalconCardHeader title=\"Logs\" />\n      <CardBody className=\"border-top p-0\">\n        {loading ? (\n          <Loader />\n        ) : (\n          isIterableArray(customerLogs) && customerLogs.map((log, index) => <CustomerLog {...log} key={index} />)\n        )}\n      </CardBody>\n      <FalconCardFooterLink title=\"View more logs\" to=\"#!\" borderTop={false} />\n    </Card>\n  );\n};\n\nconst CustomerDetails = () => (\n  <Fragment>\n    <CustomerSummary />\n    <CustomerDetail />\n    <CustomerLogs />\n  </Fragment>\n);\n\nexport default CustomerDetails;\n"]},"metadata":{},"sourceType":"module"}