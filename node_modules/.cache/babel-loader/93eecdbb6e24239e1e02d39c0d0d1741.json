{"ast":null,"code":"import _objectSpread from\"/workspace/GitP_Fal/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/workspace/GitP_Fal/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useContext,useState}from'react';import AppContext,{ProductContext}from'../../context/Context';import{Card,CardBody,Col,Media,Row}from'reactstrap';import{Link}from'react-router-dom';import{calculateSale,isIterableArray}from'../../helpers/utils';import FalconCardHeader from'../common/FalconCardHeader';import ButtonIcon from'../common/ButtonIcon';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{createElement as _createElement}from\"react\";var FavouriteItem=function FavouriteItem(_ref){var id=_ref.id;var _useContext=useContext(AppContext),currency=_useContext.currency;var _useContext2=useContext(ProductContext),products=_useContext2.products,handleCartAction=_useContext2.handleCartAction,favouriteItemsDispatch=_useContext2.favouriteItemsDispatch;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),cartLoading=_useState2[0],setCartLoading=_useState2[1];var handleAddToCart=function handleAddToCart(){setCartLoading(true);setTimeout(function(){handleCartAction({id:id});setCartLoading(false);},1000);};var _products$find=products.find(function(product){return product.id===id;}),title=_products$find.title,files=_products$find.files,price=_products$find.price,sale=_products$find.sale;return/*#__PURE__*/_jsxs(Row,{noGutters:true,className:\"align-items-center px-1 border-bottom border-200\",children:[/*#__PURE__*/_jsx(Col,{xs:8,className:\"py-3 px-2 px-md-3\",children:/*#__PURE__*/_jsxs(Media,{className:\"align-items-center\",children:[/*#__PURE__*/_jsx(Link,{to:\"/e-commerce/product-details/\".concat(id),children:/*#__PURE__*/_jsx(\"img\",{className:\"rounded mr-3 d-none d-md-block\",src:files[0]['src']||files[0]['base64'],alt:\"\",width:\"60\"})}),/*#__PURE__*/_jsxs(Media,{body:true,children:[/*#__PURE__*/_jsx(\"h5\",{className:\"fs-0\",children:/*#__PURE__*/_jsx(Link,{className:\"text-900\",to:\"/e-commerce/product-details/\".concat(id),children:title})}),/*#__PURE__*/_jsx(\"div\",{className:\"fs--2 fs-md--1 text-danger cursor-pointer\",onClick:function onClick(){return favouriteItemsDispatch({type:'REMOVE',id:id});},children:\"Remove\"})]})]})}),/*#__PURE__*/_jsx(Col,{xs:4,className:\"p-3\",children:/*#__PURE__*/_jsxs(Row,{className:\"align-items-center\",children:[/*#__PURE__*/_jsxs(Col,{md:4,className:\"d-flex justify-content-end justify-content-md-center px-2 px-md-3 order-1 order-md-0\",children:[currency,calculateSale(price,sale)]}),/*#__PURE__*/_jsx(Col,{md:8,className:\"text-right pl-0 pr-2 pr-md-3 order-0 order-md-1 mb-2 mb-md-0 text-600\",children:cartLoading?/*#__PURE__*/_jsx(ButtonIcon,{color:\"outline-primary\",size:\"sm\",icon:\"circle-notch\",iconClassName:\"fa-spin ml-2 d-none d-md-inline-block\",style:{cursor:'progress'},disabled:true,children:\"Processing\"}):/*#__PURE__*/_jsx(ButtonIcon,{color:\"outline-primary\",size:\"sm\",icon:\"cart-plus\",iconClassName:\"ml-2 d-none d-md-inline-block\",onClick:handleAddToCart,children:\"Add to Cart\"})})]})})]});};var FavouriteItems=function FavouriteItems(){var _useContext3=useContext(ProductContext),favouriteItems=_useContext3.favouriteItems;return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(FalconCardHeader,{title:\"Favourites (\".concat(favouriteItems.length,\" Item\").concat(favouriteItems.length===1?'':'s',\")\"),light:false,children:/*#__PURE__*/_jsx(ButtonIcon,{icon:\"chevron-left\",color:\"primary\",size:\"sm\",className:\"border-300\",tag:Link,to:\"/e-commerce/products/list\",children:\"Continue Shopping\"})}),/*#__PURE__*/_jsx(CardBody,{className:\"p-0\",children:isIterableArray(favouriteItems)?/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(Row,{noGutters:true,className:\"bg-200 text-900 px-1 fs--1 font-weight-semi-bold\",children:[/*#__PURE__*/_jsx(Col,{xs:9,md:8,className:\"p-2 px-md-3\",children:\"Name\"}),/*#__PURE__*/_jsx(Col,{xs:3,md:4,className:\"px-3\",children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:4,className:\"py-2 d-none d-md-block text-center\",children:\"Price\"}),/*#__PURE__*/_jsx(Col,{md:8,className:\"text-right p-2 px-md-3\",children:\"Cart\"})]})})]}),favouriteItems.map(function(favouriteItem){return/*#__PURE__*/_createElement(FavouriteItem,_objectSpread(_objectSpread({},favouriteItem),{},{key:favouriteItem.id}));})]}):/*#__PURE__*/_jsx(\"p\",{className:\"p-card mb-0 bg-light\",children:\"0 items in your Favourite list. Go ahead and add something!\"})})]});};export default FavouriteItems;","map":{"version":3,"sources":["/workspace/GitP_Fal/src/components/e-commerce/FavouriteItems.js"],"names":["React","Fragment","useContext","useState","AppContext","ProductContext","Card","CardBody","Col","Media","Row","Link","calculateSale","isIterableArray","FalconCardHeader","ButtonIcon","FavouriteItem","id","currency","products","handleCartAction","favouriteItemsDispatch","cartLoading","setCartLoading","handleAddToCart","setTimeout","find","product","title","files","price","sale","type","cursor","FavouriteItems","favouriteItems","length","map","favouriteItem"],"mappings":"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","sourcesContent":["import React, { Fragment, useContext, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport AppContext, { ProductContext } from '../../context/Context';\nimport { Card, CardBody, Col, Media, Row } from 'reactstrap';\nimport { Link } from 'react-router-dom';\nimport { calculateSale, isIterableArray } from '../../helpers/utils';\nimport FalconCardHeader from '../common/FalconCardHeader';\nimport ButtonIcon from '../common/ButtonIcon';\n\nconst FavouriteItem = ({ id }) => {\n  const { currency } = useContext(AppContext);\n  const { products, handleCartAction, favouriteItemsDispatch } = useContext(ProductContext);\n  const [cartLoading, setCartLoading] = useState(false);\n\n  const handleAddToCart = () => {\n    setCartLoading(true);\n    setTimeout(() => {\n      handleCartAction({ id });\n      setCartLoading(false);\n    }, 1000);\n  };\n\n  const { title, files, price, sale } = products.find(product => product.id === id);\n\n  return (\n    <Row noGutters className=\"align-items-center px-1 border-bottom border-200\">\n      <Col xs={8} className=\"py-3 px-2 px-md-3\">\n        <Media className=\"align-items-center\">\n          <Link to={`/e-commerce/product-details/${id}`}>\n            <img\n              className=\"rounded mr-3 d-none d-md-block\"\n              src={files[0]['src'] || files[0]['base64']}\n              alt=\"\"\n              width=\"60\"\n            />\n          </Link>\n          <Media body>\n            <h5 className=\"fs-0\">\n              <Link className=\"text-900\" to={`/e-commerce/product-details/${id}`}>\n                {title}\n              </Link>\n            </h5>\n            <div\n              className=\"fs--2 fs-md--1 text-danger cursor-pointer\"\n              onClick={() => favouriteItemsDispatch({ type: 'REMOVE', id })}\n            >\n              Remove\n            </div>\n          </Media>\n        </Media>\n      </Col>\n      <Col xs={4} className=\"p-3\">\n        <Row className=\"align-items-center\">\n          <Col md={4} className=\"d-flex justify-content-end justify-content-md-center px-2 px-md-3 order-1 order-md-0\">\n            {currency}\n            {calculateSale(price, sale)}\n          </Col>\n          <Col md={8} className=\"text-right pl-0 pr-2 pr-md-3 order-0 order-md-1 mb-2 mb-md-0 text-600\">\n            {cartLoading ? (\n              <ButtonIcon\n                color=\"outline-primary\"\n                size=\"sm\"\n                icon=\"circle-notch\"\n                iconClassName=\"fa-spin ml-2 d-none d-md-inline-block\"\n                style={{ cursor: 'progress' }}\n                disabled\n              >\n                Processing\n              </ButtonIcon>\n            ) : (\n              <ButtonIcon\n                color=\"outline-primary\"\n                size=\"sm\"\n                icon=\"cart-plus\"\n                iconClassName=\"ml-2 d-none d-md-inline-block\"\n                onClick={handleAddToCart}\n              >\n                Add to Cart\n              </ButtonIcon>\n            )}\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  );\n};\n\nFavouriteItem.propTypes = { id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired };\n\nconst FavouriteItems = () => {\n  const { favouriteItems } = useContext(ProductContext);\n\n  return (\n    <Card>\n      <FalconCardHeader\n        title={`Favourites (${favouriteItems.length} Item${favouriteItems.length === 1 ? '' : 's'})`}\n        light={false}\n      >\n        <ButtonIcon\n          icon=\"chevron-left\"\n          color=\"primary\"\n          size=\"sm\"\n          className=\"border-300\"\n          tag={Link}\n          to=\"/e-commerce/products/list\"\n        >\n          Continue Shopping\n        </ButtonIcon>\n      </FalconCardHeader>\n      <CardBody className=\"p-0\">\n        {isIterableArray(favouriteItems) ? (\n          <Fragment>\n            <Row noGutters className=\"bg-200 text-900 px-1 fs--1 font-weight-semi-bold\">\n              <Col xs={9} md={8} className=\"p-2 px-md-3\">\n                Name\n              </Col>\n              <Col xs={3} md={4} className=\"px-3\">\n                <Row>\n                  <Col md={4} className=\"py-2 d-none d-md-block text-center\">\n                    Price\n                  </Col>\n                  <Col md={8} className=\"text-right p-2 px-md-3\">\n                    Cart\n                  </Col>\n                </Row>\n              </Col>\n            </Row>\n            {favouriteItems.map(favouriteItem => (\n              <FavouriteItem {...favouriteItem} key={favouriteItem.id} />\n            ))}\n          </Fragment>\n        ) : (\n          <p className=\"p-card mb-0 bg-light\">0 items in your Favourite list. Go ahead and add something!</p>\n        )}\n      </CardBody>\n    </Card>\n  );\n};\n\nexport default FavouriteItems;\n"]},"metadata":{},"sourceType":"module"}