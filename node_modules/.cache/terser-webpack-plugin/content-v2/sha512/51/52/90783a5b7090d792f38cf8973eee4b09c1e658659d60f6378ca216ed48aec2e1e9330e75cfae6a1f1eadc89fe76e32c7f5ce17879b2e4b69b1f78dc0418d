{"code":"(this[\"webpackJsonpfalcon-react\"]=this[\"webpackJsonpfalcon-react\"]||[]).push([[0],{1028:function(t,e){var r=t.exports={version:\"2.6.11\"};\"number\"==typeof __e&&(__e=r)},1034:function(t,e,r){\"use strict\";var i=r(1172),n=r(1),s=r(1036),a=r(144),o=r(2),h=r(1299),l=r(1304).default,p=Object.freeze({YEARS:\"years\",MONTHS:\"months\",DAYS:\"days\",TIME:\"time\"}),c=n,f=s({displayName:\"DateTime\",propTypes:{onFocus:c.func,onBlur:c.func,onChange:c.func,onViewModeChange:c.func,onNavigateBack:c.func,onNavigateForward:c.func,locale:c.string,utc:c.bool,displayTimeZone:c.string,input:c.bool,inputProps:c.object,timeConstraints:c.object,viewMode:c.oneOf([p.YEARS,p.MONTHS,p.DAYS,p.TIME]),isValidDate:c.func,open:c.bool,strictParsing:c.bool,closeOnSelect:c.bool,closeOnTab:c.bool},getInitialState:function(){this.checkTZ(this.props);var t=this.getStateFromProps(this.props);return void 0===t.open&&(t.open=!this.props.input),t.currentView=this.props.dateFormat?this.props.viewMode||t.updateOn||p.DAYS:p.TIME,t},parseDate:function(t,e){var r;return t&&\"string\"===typeof t?r=this.localMoment(t,e.datetime):t&&(r=this.localMoment(t)),r&&!r.isValid()&&(r=null),r},getStateFromProps:function(t){var e,r,i,n,s=this.getFormats(t),a=t.value||t.defaultValue;return e=this.parseDate(a,s),r=this.parseDate(t.viewDate,s),r=e?e.clone().startOf(\"month\"):r?r.clone().startOf(\"month\"):this.localMoment().startOf(\"month\"),i=this.getUpdateOn(s),n=e?e.format(s.datetime):a.isValid&&!a.isValid()?\"\":a||\"\",{updateOn:i,inputFormat:s.datetime,viewDate:r,selectedDate:e,inputValue:n,open:t.open}},getUpdateOn:function(t){return t.date.match(/[lLD]/)?p.DAYS:-1!==t.date.indexOf(\"M\")?p.MONTHS:-1!==t.date.indexOf(\"Y\")?p.YEARS:p.DAYS},getFormats:function(t){var e={date:t.dateFormat||\"\",time:t.timeFormat||\"\"},r=this.localMoment(t.date,null,t).localeData();return!0===e.date?e.date=r.longDateFormat(\"L\"):this.getUpdateOn(e)!==p.DAYS&&(e.time=\"\"),!0===e.time&&(e.time=r.longDateFormat(\"LT\")),e.datetime=e.date&&e.time?e.date+\" \"+e.time:e.date||e.time,e},componentWillReceiveProps:function(t){var e=this.getFormats(t),r={};if(t.value===this.props.value&&e.datetime===this.getFormats(this.props).datetime||(r=this.getStateFromProps(t)),void 0===r.open&&(\"undefined\"!==typeof t.open?r.open=t.open:this.props.closeOnSelect&&this.state.currentView!==p.TIME?r.open=!1:r.open=this.state.open),t.viewMode!==this.props.viewMode&&(r.currentView=t.viewMode),t.locale!==this.props.locale){if(this.state.viewDate){var i=this.state.viewDate.clone().locale(t.locale);r.viewDate=i}if(this.state.selectedDate){var n=this.state.selectedDate.clone().locale(t.locale);r.selectedDate=n,r.inputValue=n.format(e.datetime)}}t.utc===this.props.utc&&t.displayTimeZone===this.props.displayTimeZone||(t.utc?(this.state.viewDate&&(r.viewDate=this.state.viewDate.clone().utc()),this.state.selectedDate&&(r.selectedDate=this.state.selectedDate.clone().utc(),r.inputValue=r.selectedDate.format(e.datetime))):t.displayTimeZone?(this.state.viewDate&&(r.viewDate=this.state.viewDate.clone().tz(t.displayTimeZone)),this.state.selectedDate&&(r.selectedDate=this.state.selectedDate.clone().tz(t.displayTimeZone),r.inputValue=r.selectedDate.tz(t.displayTimeZone).format(e.datetime))):(this.state.viewDate&&(r.viewDate=this.state.viewDate.clone().local()),this.state.selectedDate&&(r.selectedDate=this.state.selectedDate.clone().local(),r.inputValue=r.selectedDate.format(e.datetime)))),t.viewDate!==this.props.viewDate&&(r.viewDate=a(t.viewDate)),this.checkTZ(t),this.setState(r)},onInputChange:function(t){var e=null===t.target?t:t.target.value,r=this.localMoment(e,this.state.inputFormat),i={inputValue:e};return r.isValid()&&!this.props.value?(i.selectedDate=r,i.viewDate=r.clone().startOf(\"month\")):i.selectedDate=null,this.setState(i,(function(){return this.props.onChange(r.isValid()?r:this.state.inputValue)}))},onInputKey:function(t){9===t.which&&this.props.closeOnTab&&this.closeCalendar()},showView:function(t){var e=this;return function(){e.state.currentView!==t&&e.props.onViewModeChange(t),e.setState({currentView:t})}},setDate:function(t){var e=this,r={month:p.DAYS,year:p.MONTHS};return function(i){e.setState({viewDate:e.state.viewDate.clone()[t](parseInt(i.target.getAttribute(\"data-value\"),10)).startOf(t),currentView:r[t]}),e.props.onViewModeChange(r[t])}},subtractTime:function(t,e,r){var i=this;return function(){i.props.onNavigateBack(t,e),i.updateTime(\"subtract\",t,e,r)}},addTime:function(t,e,r){var i=this;return function(){i.props.onNavigateForward(t,e),i.updateTime(\"add\",t,e,r)}},updateTime:function(t,e,r,i){var n={},s=i?\"selectedDate\":\"viewDate\";n[s]=this.state[s].clone()[t](e,r),this.setState(n)},allowedSetTime:[\"hours\",\"minutes\",\"seconds\",\"milliseconds\"],setTime:function(t,e){var r,i=this.allowedSetTime.indexOf(t)+1,n=this.state,s=(n.selectedDate||n.viewDate).clone();for(s[t](e);i<this.allowedSetTime.length;i++)s[r=this.allowedSetTime[i]](s[r]());this.props.value||this.setState({selectedDate:s,inputValue:s.format(n.inputFormat)}),this.props.onChange(s)},updateSelectedDate:function(t,e){var r,i=t.currentTarget,n=0,s=this.state.viewDate,a=this.state.selectedDate||s;if(-1!==i.className.indexOf(\"rdtDay\")?(-1!==i.className.indexOf(\"rdtNew\")?n=1:-1!==i.className.indexOf(\"rdtOld\")&&(n=-1),r=s.clone().month(s.month()+n).date(parseInt(i.getAttribute(\"data-value\"),10))):-1!==i.className.indexOf(\"rdtMonth\")?r=s.clone().month(parseInt(i.getAttribute(\"data-value\"),10)).date(a.date()):-1!==i.className.indexOf(\"rdtYear\")&&(r=s.clone().month(a.month()).date(a.date()).year(parseInt(i.getAttribute(\"data-value\"),10))),r.hours(a.hours()).minutes(a.minutes()).seconds(a.seconds()).milliseconds(a.milliseconds()),this.props.value)this.props.closeOnSelect&&e&&this.closeCalendar();else{var o=!(this.props.closeOnSelect&&e);o||this.props.onBlur(r),this.setState({selectedDate:r,viewDate:r.clone().startOf(\"month\"),inputValue:r.format(this.state.inputFormat),open:o})}this.props.onChange(r)},openCalendar:function(t){this.state.open||this.setState({open:!0},(function(){this.props.onFocus(t)}))},closeCalendar:function(){this.setState({open:!1},(function(){this.props.onBlur(this.state.selectedDate||this.state.inputValue)}))},handleClickOutside:function(){this.props.input&&this.state.open&&void 0===this.props.open&&!this.props.disableCloseOnClickOutside&&this.setState({open:!1},(function(){this.props.onBlur(this.state.selectedDate||this.state.inputValue)}))},localMoment:function(t,e,r){var i=null;return i=(r=r||this.props).utc?a.utc(t,e,r.strictParsing):r.displayTimeZone?a.tz(t,e,r.displayTimeZone):a(t,e,r.strictParsing),r.locale&&i.locale(r.locale),i},checkTZ:function(t){var e=console;!t.displayTimeZone||this.tzWarning||a.tz||(this.tzWarning=!0,e&&e.error('react-datetime: displayTimeZone prop with value \"'+t.displayTimeZone+'\" is used but moment.js timezone is not loaded.'))},componentProps:{fromProps:[\"value\",\"isValidDate\",\"renderDay\",\"renderMonth\",\"renderYear\",\"timeConstraints\"],fromState:[\"viewDate\",\"selectedDate\",\"updateOn\"],fromThis:[\"setDate\",\"setTime\",\"showView\",\"addTime\",\"subtractTime\",\"updateSelectedDate\",\"localMoment\",\"handleClickOutside\"]},getComponentProps:function(){var t=this,e=this.getFormats(this.props),r={dateFormat:e.date,timeFormat:e.time};return this.componentProps.fromProps.forEach((function(e){r[e]=t.props[e]})),this.componentProps.fromState.forEach((function(e){r[e]=t.state[e]})),this.componentProps.fromThis.forEach((function(e){r[e]=t[e]})),r},overrideEvent:function(t,e){if(this.overridenEvents||(this.overridenEvents={}),!this.overridenEvents[t]){var r=this;this.overridenEvents[t]=function(i){var n;r.props.inputProps&&r.props.inputProps[t]&&(n=r.props.inputProps[t](i)),!1!==n&&e(i)}}return this.overridenEvents[t]},render:function(){var t=\"rdt\"+(this.props.className?Array.isArray(this.props.className)?\" \"+this.props.className.join(\" \"):\" \"+this.props.className:\"\"),e=[];if(this.props.input){var r=i({type:\"text\",className:\"form-control\",value:this.state.inputValue},this.props.inputProps,{onClick:this.overrideEvent(\"onClick\",this.openCalendar),onFocus:this.overrideEvent(\"onFocus\",this.openCalendar),onChange:this.overrideEvent(\"onChange\",this.onInputChange),onKeyDown:this.overrideEvent(\"onKeyDown\",this.onInputKey)});e=this.props.renderInput?[o.createElement(\"div\",{key:\"i\"},this.props.renderInput(r,this.openCalendar,this.closeCalendar))]:[o.createElement(\"input\",i({key:\"i\"},r))]}else t+=\" rdtStatic\";return(this.props.open||void 0===this.props.open&&this.state.open)&&(t+=\" rdtOpen\"),o.createElement(u,{className:t,onClickOut:this.handleClickOutside},e.concat(o.createElement(\"div\",{key:\"dt\",className:\"rdtPicker\"},o.createElement(h,{view:this.state.currentView,viewProps:this.getComponentProps()}))))}}),u=l(s({render:function(){return o.createElement(\"div\",{className:this.props.className},this.props.children)},handleClickOutside:function(t){this.props.onClickOut(t)}}));f.defaultProps={className:\"\",defaultValue:\"\",inputProps:{},input:!0,onFocus:function(){},onBlur:function(){},onChange:function(){},onViewModeChange:function(){},onNavigateBack:function(){},onNavigateForward:function(){},timeFormat:!0,timeConstraints:{},dateFormat:!0,strictParsing:!0,closeOnSelect:!1,closeOnTab:!0,utc:!1},f.moment=a,t.exports=f},1036:function(t,e,r){\"use strict\";var i=r(2),n=r(1298);if(\"undefined\"===typeof i)throw Error(\"create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.\");var s=(new i.Component).updater;t.exports=n(i.Component,i.isValidElement,s)},1037:function(t,e,r){\"use strict\";r.d(e,\"c\",(function(){return n})),r.d(e,\"a\",(function(){return s})),r.d(e,\"b\",(function(){return a})),r.d(e,\"d\",(function(){return o})),r.d(e,\"e\",(function(){return l})),r.d(e,\"f\",(function(){return p}));var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function n(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var s=function(){return(s=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};function a(t,e,r,i){return new(r||(r=Promise))((function(n,s){function a(t){try{h(i.next(t))}catch(e){s(e)}}function o(t){try{h(i.throw(t))}catch(e){s(e)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,o)}h((i=i.apply(t,e||[])).next())}))}function o(t,e){var r,i,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},\"function\"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(r)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(r=1,i&&(n=2&s[0]?i.return:s[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,s[1])).done)return n;switch(i=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(o){s=[6,o],i=0}finally{r=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}}Object.create;function h(t,e){var r=\"function\"===typeof Symbol&&t[Symbol.iterator];if(!r)return t;var i,n,s=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=s.next()).done;)a.push(i.value)}catch(o){n={error:o}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return a}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(h(arguments[e]));return t}function p(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var i=Array(t),n=0;for(e=0;e<r;e++)for(var s=arguments[e],a=0,o=s.length;a<o;a++,n++)i[n]=s[a];return i}Object.create},1038:function(t,e){var r=t.exports=\"undefined\"!=typeof window&&window.Math==Math?window:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")();\"number\"==typeof __g&&(__g=r)},1039:function(t,e,r){t.exports=!r(1055)((function(){return 7!=Object.defineProperty({},\"a\",{get:function(){return 7}}).a}))},1044:function(t,e,r){var i=r(1038),n=r(1028),s=r(1173),a=r(1053),o=r(1046),h=function t(e,r,h){var l,p,c,f=e&t.F,u=e&t.G,m=e&t.S,d=e&t.P,y=e&t.B,g=e&t.W,v=u?n:n[r]||(n[r]={}),b=v.prototype,E=u?i:m?i[r]:(i[r]||{}).prototype;for(l in u&&(h=r),h)(p=!f&&E&&void 0!==E[l])&&o(v,l)||(c=p?E[l]:h[l],v[l]=u&&\"function\"!=typeof E[l]?h[l]:y&&p?s(c,i):g&&E[l]==c?function(t){var e=function(e,r,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,i)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(c):d&&\"function\"==typeof c?s(Function.call,c):c,d&&((v.virtual||(v.virtual={}))[l]=c,e&t.R&&b&&!b[l]&&a(b,l,c)))};h.F=1,h.G=2,h.S=4,h.P=8,h.B=16,h.W=32,h.U=64,h.R=128,t.exports=h},1045:function(t,e,r){var i=r(1067),n=r(1174),s=r(1107),a=Object.defineProperty;e.f=r(1039)?Object.defineProperty:function(t,e,r){if(i(t),e=s(e,!0),i(r),n)try{return a(t,e,r)}catch(o){}if(\"get\"in r||\"set\"in r)throw TypeError(\"Accessors not supported!\");return\"value\"in r&&(t[e]=r.value),t}},1046:function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},1052:function(t,e,r){\"use strict\";var i=r(6),n=r(10),s=r(2),a=r.n(s),o=r(1),h=r.n(o),l=r(5),p=r.n(l),c=r(3),f={children:h.a.node,row:h.a.bool,check:h.a.bool,inline:h.a.bool,disabled:h.a.bool,tag:c.tagPropType,className:h.a.string,cssModule:h.a.object},u=function(t){var e=t.className,r=t.cssModule,s=t.row,o=t.disabled,h=t.check,l=t.inline,f=t.tag,u=Object(n.a)(t,[\"className\",\"cssModule\",\"row\",\"disabled\",\"check\",\"inline\",\"tag\"]),m=Object(c.mapToCssModules)(p()(e,!!s&&\"row\",h?\"form-check\":\"form-group\",!(!h||!l)&&\"form-check-inline\",!(!h||!o)&&\"disabled\"),r);return\"fieldset\"===f&&(u.disabled=o),a.a.createElement(f,Object(i.a)({},u,{className:m}))};u.propTypes=f,u.defaultProps={tag:\"div\"},e.a=u},1053:function(t,e,r){var i=r(1045),n=r(1078);t.exports=r(1039)?function(t,e,r){return i.f(t,e,n(1,r))}:function(t,e,r){return t[e]=r,t}},1054:function(t,e){t.exports=function(t){return\"object\"===typeof t?null!==t:\"function\"===typeof t}},1055:function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},1056:function(t,e,r){var i=r(1177),n=r(1108);t.exports=function(t){return i(n(t))}},1057:function(t,e,r){var i=r(1111)(\"wks\"),n=r(1081),s=r(1038).Symbol,a=\"function\"==typeof s;(t.exports=function(t){return i[t]||(i[t]=a&&s[t]||(a?s:n)(\"Symbol.\"+t))}).store=i},1067:function(t,e,r){var i=r(1054);t.exports=function(t){if(!i(t))throw TypeError(t+\" is not an object!\");return t}},1078:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},1079:function(t,e,r){var i=r(1176),n=r(1112);t.exports=Object.keys||function(t){return i(t,n)}},1080:function(t,e){t.exports=!0},1081:function(t,e){var r=0,i=Math.random();t.exports=function(t){return\"Symbol(\".concat(void 0===t?\"\":t,\")_\",(++r+i).toString(36))}},1082:function(t,e){e.f={}.propertyIsEnumerable},1083:function(t,e,r){var i=r(1108);t.exports=function(t){return Object(i(t))}},1106:function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var i=f(r(1306)),n=f(r(1315)),s=f(r(1319)),a=f(r(1320)),o=f(r(1324)),h=f(r(1346)),l=f(r(2)),p=f(r(1)),c=f(r(1354));function f(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(){var t,r,i,a;(0,s.default)(this,e);for(var h=arguments.length,l=Array(h),p=0;p<h;p++)l[p]=arguments[p];return r=i=(0,o.default)(this,(t=e.__proto__||(0,n.default)(e)).call.apply(t,[this].concat(l))),i.handleClickToPause=function(){i.anim.isPaused?i.anim.play():i.anim.pause()},a=r,(0,o.default)(i,a)}return(0,h.default)(e,t),(0,a.default)(e,[{key:\"componentDidMount\",value:function(){var t=this.props,e=t.options,r=t.eventListeners,n=e.loop,s=e.autoplay,a=e.animationData,o=e.rendererSettings,h=e.segments;this.options={container:this.el,renderer:\"svg\",loop:!1!==n,autoplay:!1!==s,segments:!1!==h,animationData:a,rendererSettings:o},this.options=(0,i.default)({},this.options,e),this.anim=c.default.loadAnimation(this.options),this.registerEvents(r)}},{key:\"componentWillUpdate\",value:function(t){this.options.animationData!==t.options.animationData&&(this.deRegisterEvents(this.props.eventListeners),this.destroy(),this.options=(0,i.default)({},this.options,t.options),this.anim=c.default.loadAnimation(this.options),this.registerEvents(t.eventListeners))}},{key:\"componentDidUpdate\",value:function(){this.props.isStopped?this.stop():this.props.segments?this.playSegments():this.play(),this.pause(),this.setSpeed(),this.setDirection()}},{key:\"componentWillUnmount\",value:function(){this.deRegisterEvents(this.props.eventListeners),this.destroy(),this.options.animationData=null,this.anim=null}},{key:\"setSpeed\",value:function(){this.anim.setSpeed(this.props.speed)}},{key:\"setDirection\",value:function(){this.anim.setDirection(this.props.direction)}},{key:\"play\",value:function(){this.anim.play()}},{key:\"playSegments\",value:function(){this.anim.playSegments(this.props.segments)}},{key:\"stop\",value:function(){this.anim.stop()}},{key:\"pause\",value:function(){(this.props.isPaused&&!this.anim.isPaused||!this.props.isPaused&&this.anim.isPaused)&&this.anim.pause()}},{key:\"destroy\",value:function(){this.anim.destroy()}},{key:\"registerEvents\",value:function(t){var e=this;t.forEach((function(t){e.anim.addEventListener(t.eventName,t.callback)}))}},{key:\"deRegisterEvents\",value:function(t){var e=this;t.forEach((function(t){e.anim.removeEventListener(t.eventName,t.callback)}))}},{key:\"render\",value:function(){var t=this,e=this.props,r=e.width,n=e.height,s=e.ariaRole,a=e.ariaLabel,o=e.isClickToPauseDisabled,h=e.title,p=function(t){return\"number\"===typeof t?t+\"px\":t||\"100%\"},c=(0,i.default)({width:p(r),height:p(n),overflow:\"hidden\",margin:\"0 auto\",outline:\"none\"},this.props.style),f=o?function(){return null}:this.handleClickToPause;return l.default.createElement(\"div\",{ref:function(e){t.el=e},style:c,onClick:f,title:h,role:s,\"aria-label\":a,tabIndex:\"0\"})}}]),e}(l.default.Component);e.default=u,u.propTypes={eventListeners:p.default.arrayOf(p.default.object),options:p.default.object.isRequired,height:p.default.oneOfType([p.default.string,p.default.number]),width:p.default.oneOfType([p.default.string,p.default.number]),isStopped:p.default.bool,isPaused:p.default.bool,speed:p.default.number,segments:p.default.arrayOf(p.default.number),direction:p.default.number,ariaRole:p.default.string,ariaLabel:p.default.string,isClickToPauseDisabled:p.default.bool,title:p.default.string},u.defaultProps={eventListeners:[],isStopped:!1,isPaused:!1,speed:1,ariaRole:\"button\",ariaLabel:\"animation\",isClickToPauseDisabled:!1,title:\"\"}},1107:function(t,e,r){var i=r(1054);t.exports=function(t,e){if(!i(t))return t;var r,n;if(e&&\"function\"==typeof(r=t.toString)&&!i(n=r.call(t)))return n;if(\"function\"==typeof(r=t.valueOf)&&!i(n=r.call(t)))return n;if(!e&&\"function\"==typeof(r=t.toString)&&!i(n=r.call(t)))return n;throw TypeError(\"Can't convert object to primitive value\")}},1108:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError(\"Can't call method on  \"+t);return t}},1109:function(t,e){var r=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:r)(t)}},1110:function(t,e,r){var i=r(1111)(\"keys\"),n=r(1081);t.exports=function(t){return i[t]||(i[t]=n(t))}},1111:function(t,e,r){var i=r(1028),n=r(1038),s=\"__core-js_shared__\",a=n[s]||(n[s]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})(\"versions\",[]).push({version:i.version,mode:r(1080)?\"pure\":\"global\",copyright:\"\\xa9 2019 Denis Pushkarev (zloirock.ru)\"})},1112:function(t,e){t.exports=\"constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf\".split(\",\")},1113:function(t,e){e.f=Object.getOwnPropertySymbols},1114:function(t,e){t.exports={}},1115:function(t,e,r){var i=r(1067),n=r(1330),s=r(1112),a=r(1110)(\"IE_PROTO\"),o=function(){},h=function(){var t,e=r(1175)(\"iframe\"),i=s.length;for(e.style.display=\"none\",r(1331).appendChild(e),e.src=\"javascript:\",(t=e.contentWindow.document).open(),t.write(\"<script>document.F=Object<\\/script>\"),t.close(),h=t.F;i--;)delete h.prototype[s[i]];return h()};t.exports=Object.create||function(t,e){var r;return null!==t?(o.prototype=i(t),r=new o,o.prototype=null,r[a]=t):r=h(),void 0===e?r:n(r,e)}},1116:function(t,e,r){var i=r(1045).f,n=r(1046),s=r(1057)(\"toStringTag\");t.exports=function(t,e,r){t&&!n(t=r?t:t.prototype,s)&&i(t,s,{configurable:!0,value:e})}},1117:function(t,e,r){e.f=r(1057)},1118:function(t,e,r){var i=r(1038),n=r(1028),s=r(1080),a=r(1117),o=r(1045).f;t.exports=function(t){var e=n.Symbol||(n.Symbol=s?{}:i.Symbol||{});\"_\"==t.charAt(0)||t in e||o(e,t,{value:a.f(t)})}},1163:function(t,e,r){\"use strict\";r.d(e,\"a\",(function(){return Nt}));var i=r(1297),n=r.n(i);function s(t,e,r,i,n,s,a){try{var o=t[s](a),h=o.value}catch(l){return void r(l)}o.done?e(h):Promise.resolve(h).then(i,n)}function a(t){return function(){var e=this,r=arguments;return new Promise((function(i,n){var a=t.apply(e,r);function o(t){s(a,i,n,o,h,\"next\",t)}function h(t){s(a,i,n,o,h,\"throw\",t)}o(void 0)}))}}var o=r(48),h=r(23),l=r(17),p=r(2),c=function(t){return void 0===t},f=function(t){return null===t||c(t)},u=function(t){return Array.isArray(t)},m=function(t){return\"object\"===typeof t},d=function(t){return!f(t)&&!u(t)&&m(t)},y=function(t){return d(t)&&t.nodeType===Node.ELEMENT_NODE},g=\"onBlur\",v=\"onChange\",b=\"onSubmit\",E=\"undefined\",x=\"blur\",S=\"change\",P=\"input\",_=\"max\",C=\"min\",D=\"maxLength\",k=\"minLength\",A=\"pattern\",w=\"required\",T=\"validate\",M=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,F=/^\\w*$/,I=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,O=/\\\\(\\\\)?/g;function V(t){var e=t.field,r=t.handleChange,i=t.isRadioOrCheckbox,n=e.ref;y(n)&&n.addEventListener&&r&&(n.addEventListener(i?S:P,r),n.addEventListener(x,r))}var R=function(t){return!u(t)&&(F.test(t)||!M.test(t))},B=function(t){var e=[];return t.replace(I,(function(t,r,i,n){e.push(i?n.replace(O,\"$1\"):r||t)})),e};function N(t,e,r){for(var i=-1,n=R(e)?[e]:B(e),s=n.length,a=s-1;++i<s;){var o=n[i],h=r;if(i!==a){var l=t[o];h=d(l)||u(l)?l:isNaN(n[i+1])?{}:[]}t[o]=h,t=t[o]}return t}var L=function(t){return Object.entries(t).reduce((function(t,e){var r=Object(l.a)(e,2),i=r[0],n=r[1];return R(i)?Object.assign(Object.assign({},t),Object(h.a)({},i,n)):(N(t,i,n),t)}),{})},j=function(t,e,r){var i=e.split(/[,[\\].]+?/).filter(Boolean).reduce((function(t,e){return f(t)?t:t[e]}),t);return c(i)||i===t?t[e]||r:i},G=function(t,e){for(var r in t)if(j(e,r)){var i=t[r];if(i){if(y(i.ref)&&i.ref.focus){i.ref.focus();break}if(i.options){i.options[0].ref.focus();break}}}},z=function(t,e){y(t)&&t.removeEventListener&&(t.removeEventListener(P,e),t.removeEventListener(S,e),t.removeEventListener(x,e))},H=function(t){return!!t&&\"radio\"===t.type},W=function(t){return!!t&&\"checkbox\"===t.type};function q(t){return!t||t instanceof HTMLElement&&t.nodeType!==Node.DOCUMENT_NODE&&q(t.parentNode)}var Y=function(t){return d(t)&&!Object.keys(t).length};function K(t){return u(t)?t:B(t)}function X(t,e){return 1==e.length?t:function(t,e){for(var r=R(e)?[e]:K(e),i=e.length,n=0;n<i;)t=c(t)?n++:t[r[n++]];return n==i?t:void 0}(t,function(t,e,r){var i=-1,n=t.length;e<0&&(e=-e>n?0:n+e),(r=r>n?n:r)<0&&(r+=n),n=e>r?0:r-e;for(var s=Array(n);++i<n;)s[i]=t[i+e];return s}(e,0,-1))}function U(t,e){return e.forEach((function(e){!function(t,e){for(var r=R(e)?[e]:K(e),i=X(t,r),n=r[r.length-1],s=!(null!=i)||delete i[n],a=void 0,o=0;o<r.slice(0,-1).length;o++){var h=-1,l=void 0,p=r.slice(0,-(o+1)),c=p.length-1;for(o>0&&(a=t);++h<p.length;){var f=p[h];l=l?l[f]:t[f],c===h&&(d(l)&&Y(l)?a?delete a[f]:delete t[f]:u(l)&&!l.filter((function(t){return d(t)&&!Y(t)})).length&&delete a[f]),a=l}}}(t,e)})),t}function Z(t,e,r,i){if(r){var n=r.ref,s=r.ref,a=s.name,o=s.type,h=r.mutationWatcher;if(o){var l=t[a];if((H(n)||W(n))&&l){var p=l.options;u(p)&&p.length?(p.forEach((function(t,r){var n=t.ref,s=t.mutationWatcher;(n&&q(n)||i)&&(z(n,e),s&&s.disconnect(),U(p,[\"[\".concat(r,\"]\")]))})),p&&!p.filter(Boolean).length&&delete t[a]):delete t[a]}else(q(n)||i)&&(z(n,e),h&&h.disconnect(),delete t[a])}else delete t[a]}}var $={isValid:!1,value:\"\"},J=function(t){return u(t)?t.reduce((function(t,e){var r=e.ref,i=r.checked,n=r.value;return i?{isValid:!0,value:n}:t}),$):$},Q=function(t){return!!t&&\"file\"===t.type},tt=function(t){return!!t&&\"select-multiple\"===t.type},et=function(t){return\"\"===t},rt={value:!1,isValid:!1},it={value:!0,isValid:!0},nt=function(t){if(u(t)){if(t.length>1){var e=t.filter((function(t){return t.ref.checked})).map((function(t){return t.ref.value}));return{value:e,isValid:!!e.length}}var r=t[0].ref,i=r.checked,n=r.value,s=r.attributes;return i?s&&!c(s.value)?c(n)||et(n)?it:{value:n,isValid:!0}:it:rt}return rt};function st(t,e){var r,i=e.name,n=e.value,s=t[i];return Q(e)?e.files:H(e)?s?J(s.options).value:\"\":tt(e)?(r=e.options,Object(o.a)(r).filter((function(t){return t.selected})).map((function(t){return t.value}))):W(e)?!!s&&nt(s.options).value:n}var at=function(t){return\"string\"===typeof t},ot=function(t,e){var r={},i=at(e),n=u(e),s=e&&e.nest,a=function(a){(c(e)||s||i&&a.startsWith(e)||n&&e.find((function(t){return a.startsWith(t)})))&&(r[a]=st(t,t[a].ref))};for(var o in t)a(o);return r},ht=function(t,e){var r=e.type,i=e.types,n=e.message;return d(t)&&t.type===r&&t.message===n&&function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.entries(t).reduce((function(t,r){var i=Object(l.a)(r,2),n=i[0],s=i[1];return!!t&&e[n]&&e[n]===s}),!0)}(t.types,i)};function lt(t){var e=t.errors,r=t.name,i=t.error,n=t.validFields,s=t.fieldsWithValidation,a=Y(i),o=Y(e),h=j(i,r),l=j(e,r);return!(a&&n.has(r)||l&&l.isManual)&&(!!(o!==a||!o&&!l||a&&s.has(r)&&!n.has(r))||h&&!ht(l,h))}var pt=function(t){return t instanceof RegExp},ct=function(t){var e=d(t)&&!pt(t);return{value:e?t.value:t,message:e?t.message:\"\"}},ft=function(t){return\"function\"===typeof t},ut=function(t){return\"boolean\"===typeof t};function mt(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"validate\",i=at(t);if(i||ut(t)&&!t){var n=i?t:\"\";return{type:r,message:n,ref:e}}}var dt=function(t,e,r,i,n){if(!e)return{};var s=r[t];return Object.assign(Object.assign({},s),{types:Object.assign(Object.assign({},s&&s.types?s.types:{}),Object(h.a)({},i,n||!0))})},yt=function(){var t=a(n.a.mark((function t(e,r,i){var s,o,h,p,c,u,m,y,g,v,b,E,x,S,P,M,F,I,O,V,R,B,N,L,j,G,z,q,K,X,U,Z,$,Q,tt,rt,it,ot,ht,lt,yt,gt,vt,bt,Et,xt,St,Pt,_t,Ct,Dt,kt;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=i.ref,o=i.ref,h=o.type,p=o.value,c=o.name,u=i.options,m=i.required,y=i.maxLength,g=i.minLength,v=i.min,b=i.max,E=i.pattern,x=i.validate,S=e.current,P={},M=H(s),F=W(s),I=M||F,O=et(p),V=dt.bind(null,c,r,P),R=function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:D,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:k,o=t?e:i;if(P[c]=Object.assign({type:t?n:a,message:o,ref:s},V(t?n:a,o)),!r)return P},!m||!(!M&&!F&&(O||f(p))||ut(p)&&!p||F&&!nt(u).isValid||M&&!J(u).isValid)){t.next=15;break}if(B=at(m)?{value:!!m,message:m}:ct(m),N=B.value,L=B.message,!N){t.next=15;break}if(P[c]=Object.assign({type:w,message:L,ref:I?S[c].options[0].ref:s},V(w,L)),r){t.next=15;break}return t.abrupt(\"return\",P);case 15:if(f(v)&&f(b)){t.next=23;break}if(z=ct(b),q=z.value,K=z.message,X=ct(v),U=X.value,Z=X.message,\"number\"===h||!h&&!isNaN(p)?($=s.valueAsNumber||parseFloat(p),f(q)||(j=$>q),f(U)||(G=$<U)):(Q=s.valueAsDate||new Date(p),at(q)&&(j=Q>new Date(q)),at(U)&&(G=Q<new Date(U))),!j&&!G){t.next=23;break}if(R(!!j,K,Z,_,C),r){t.next=23;break}return t.abrupt(\"return\",P);case 23:if(!at(p)||O||!y&&!g){t.next=33;break}if(tt=ct(y),rt=tt.value,it=tt.message,ot=ct(g),ht=ot.value,lt=ot.message,yt=p.toString().length,vt=g&&yt<ht,!(gt=y&&yt>rt)&&!vt){t.next=33;break}if(R(!!gt,it,lt),r){t.next=33;break}return t.abrupt(\"return\",P);case 33:if(!E||O){t.next=39;break}if(bt=ct(E),Et=bt.value,xt=bt.message,!pt(Et)||Et.test(p)){t.next=39;break}if(P[c]=Object.assign({type:A,message:xt,ref:s},V(A,xt)),r){t.next=39;break}return t.abrupt(\"return\",P);case 39:if(!x){t.next=62;break}if(St=st(S,s),Pt=I&&u?u[0].ref:s,!ft(x)){t.next=53;break}return t.next=45,x(St);case 45:if(_t=t.sent,!(Ct=mt(_t,Pt))){t.next=51;break}if(P[c]=Object.assign(Object.assign({},Ct),V(T,Ct.message)),r){t.next=51;break}return t.abrupt(\"return\",P);case 51:t.next=62;break;case 53:if(!d(x)){t.next=62;break}return Dt=Object.entries(x),t.next=57,new Promise((function(t){Dt.reduce(function(){var e=a(n.a.mark((function e(i,s,a){var o,h,p,f,u,m;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(l.a)(s,2),h=o[0],p=o[1],e.t2=Y,e.next=4,i;case 4:if(e.t3=e.sent,e.t1=!(0,e.t2)(e.t3),!e.t1){e.next=8;break}e.t1=!r;case 8:if(e.t0=e.t1,e.t0){e.next=11;break}e.t0=!ft(p);case 11:if(!e.t0){e.next=13;break}return e.abrupt(\"return\",t(i));case 13:return e.next=15,p(St);case 15:return u=e.sent,(m=mt(u,Pt,h))?(f=Object.assign(Object.assign({},m),V(h,m.message)),r&&(P[c]=f)):f=i,e.abrupt(\"return\",Dt.length-1===a?t(f):f);case 19:case\"end\":return e.stop()}}),e)})));return function(t,r,i){return e.apply(this,arguments)}}(),{})}));case 57:if(kt=t.sent,Y(kt)){t.next=62;break}if(P[c]=Object.assign({ref:Pt},kt),r){t.next=62;break}return t.abrupt(\"return\",P);case 62:return t.abrupt(\"return\",P);case 63:case\"end\":return t.stop()}}),t)})));return function(e,r,i){return t.apply(this,arguments)}}(),gt=function(t,e){return u(t.inner)?t.inner.reduce((function(t,r){var i=r.path,n=r.message,s=r.type;return Object.assign(Object.assign({},t),t[i]&&e?Object(h.a)({},i,dt(i,e,t,s,n)):Object(h.a)({},i,t[i]||Object.assign({message:n,type:s},e?{types:Object(h.a)({},s,n||!0)}:{})))}),{}):Object(h.a)({},t.path,{message:t.message,type:t.type})};function vt(t,e,r,i,n){return bt.apply(this,arguments)}function bt(){return(bt=a(n.a.mark((function t(e,r,i,s,a){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!s){t.next=2;break}return t.abrupt(\"return\",s(i,a));case 2:return t.prev=2,t.next=5,e.validate(i,{abortEarly:!1,context:a});case 5:return t.t0=t.sent,t.t1={},t.abrupt(\"return\",{values:t.t0,errors:t.t1});case 10:return t.prev=10,t.t2=t.catch(2),t.abrupt(\"return\",{values:{},errors:L(gt(t.t2,r))});case 13:case\"end\":return t.stop()}}),t,null,[[2,10]])})))).apply(this,arguments)}var Et=function(t,e,r){return c(t[e])?j(t,e,r):t[e]};function xt(t){return t.reduce((function(t,e){return t.concat(u(e)?xt(e):e)}),[])}var St=function(t){return f(t)||!m(t)},Pt=function t(e,r){var i=function(r,i,n){var s=n?\"\".concat(e,\".\").concat(i):\"\".concat(e,\"[\").concat(i,\"]\");return St(r)?s:t(s,r)};return u(r)?r.map((function(t,e){return i(t,e)})):Object.entries(r).map((function(t){var e=Object(l.a)(t,2),r=e[0],n=e[1];return i(n,r,!0)}))},_t=function(t,e){return xt(Pt(t,e))},Ct=function(t,e,r,i,n){var s;return r.add(e),Y(t)?s=n||void 0:c(t[e])?(s=j(L(t),e),u(n)&&u(s)&&s.length!==n.length&&(s=n),c(s)||_t(e,s).forEach((function(t){return r.add(t)}))):(s=t[e],r.add(e)),c(s)?d(i)?Et(i,e):i:s},Dt=function(t){var e=t.hasError,r=t.isBlurEvent,i=t.isOnSubmit,n=t.isReValidateOnSubmit,s=t.isOnBlur,a=t.isReValidateOnBlur,o=t.isSubmitted;return i&&n||i&&!o||s&&!r&&!e||a&&!r&&e||n&&o},kt=function(t,e){var r=L(ot(t));return e?j(r,e,r):r};function At(t,e){var r=!1;if(!u(t)||!u(e)||t.length!==e.length)return!0;for(var i=0;i<t.length&&!r;i++){var n=t[i],s=e[i];if(c(s)||Object.keys(n).length!==Object.keys(s).length){r=!0;break}for(var a in n)if(n[a]!==s[a]){r=!0;break}}return r}var wt=function(t,e){return t.startsWith(\"\".concat(e,\"[\"))},Tt=function(t,e){return Object(o.a)(t).reduce((function(t,r){return!!wt(e,r)||t}),!1)},Mt=function(t){return typeof FileList!==E&&t instanceof FileList};function Ft(t,e){var r=new MutationObserver((function(){q(t)&&(r.disconnect(),e())}));return r.observe(window.document,{childList:!0,subtree:!0}),r}var It=function(t){return{isOnSubmit:!t||t===b,isOnBlur:t===g,isOnChange:t===v}},Ot=p.useRef,Vt=p.useState,Rt=p.useCallback,Bt=p.useEffect;function Nt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.mode,r=void 0===e?b:e,i=t.reValidateMode,s=void 0===i?v:i,p=t.validationSchema,m=t.validationResolver,g=t.validationContext,S=t.defaultValues,P=void 0===S?{}:S,_=t.submitFocusError,C=void 0===_||_,D=t.validateCriteriaMode,k=Ot({}),A=\"all\"===D,w=Ot({}),T=Ot({}),M=Ot({}),F=Ot(new Set),I=Ot(new Set),O=Ot(new Set),B=Ot(new Set),z=Ot(!0),q=Ot({}),K=Ot(P),X=Ot(!1),$=Ot(!1),J=Ot(!1),rt=Ot(!1),it=Ot(0),nt=Ot(!1),pt=Ot(),ct=Ot({}),mt=Ot(g),dt=Ot(new Set),gt=Vt(),bt=Object(l.a)(gt,2),xt=bt[1],Pt=Ot(It(r)).current,_t=Pt.isOnBlur,wt=Pt.isOnSubmit,Nt=typeof window===E,Lt=!(!p&&!m),jt=typeof document!==E&&!Nt&&!c(window.HTMLElement),Gt=jt&&\"Proxy\"in window,zt=Ot({dirty:!Gt,dirtyFields:!Gt,isSubmitted:wt,submitCount:!Gt,touched:!Gt,isSubmitting:!Gt,isValid:!Gt}),Ht=Ot(It(s)).current,Wt=Ht.isOnBlur,qt=Ht.isOnSubmit,Yt=Rt((function(){X.current||xt({})}),[]),Kt=Rt((function(t,e,r,i){var n=r||lt({errors:w.current,error:e,name:t,validFields:B.current,fieldsWithValidation:O.current});if(Y(e)?((O.current.has(t)||Lt)&&(B.current.add(t),n=n||j(w.current,t)),w.current=U(w.current,[t])):(B.current.delete(t),n=n||!j(w.current,t),N(w.current,t,e[t])),n&&!i)return Yt(),!0}),[Yt,Lt]),Xt=Rt((function(t,e){var r=t.ref,i=t.options,n=r.type,s=jt&&y(r)&&f(e)?\"\":e;return H(r)&&i?i.forEach((function(t){var e=t.ref;return e.checked=e.value===s})):Q(r)?et(s)||Mt(s)?r.files=s:r.value=s:tt(r)?Object(o.a)(r.options).forEach((function(t){return t.selected=s.includes(t.value)})):W(r)&&i?i.length>1?i.forEach((function(t){var e=t.ref;return e.checked=s.includes(e.value)})):i[0].ref.checked=!!s:r.value=s,!!n}),[jt]),Ut=function(t){if(!k.current[t]||!zt.current.dirty&&!zt.current.dirtyFields)return!1;var e=Tt(dt.current,t),r=I.current.size,i=q.current[t]!==st(k.current,k.current[t].ref);if(e){var n=t.substring(0,t.indexOf(\"[\"));i=At(kt(k.current,n),j(K.current,n))}var s=(e?rt.current:I.current.has(t))!==i;return i?I.current.add(t):I.current.delete(t),rt.current=e?i:!!I.current.size,zt.current.dirty?s:r!==I.current.size},Zt=Rt((function(t){if(Ut(t)||!j(T.current,t)&&zt.current.touched)return!!N(T.current,t,!0)}),[]),$t=Rt((function(t,e,r){var i=u(e);for(var n in e){var s=\"\".concat(r||t).concat(i?\"[\".concat(n,\"]\"):\".\".concat(n));d(e[n])&&$t(t,e[n],s);var a=k.current[s];a&&(Xt(a,e[n]),Zt(s))}}),[Xt,Zt]),Jt=Rt((function(t,e){var r=k.current[t];if(r){Xt(r,e);var i=Zt(t);if(ut(i))return i}else St(e)||$t(t,e)}),[Zt,Xt,$t]),Qt=Rt(function(){var t=a(n.a.mark((function t(e,r){var i,s;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=k.current[e]){t.next=3;break}return t.abrupt(\"return\",!1);case 3:return t.next=5,yt(k,A,i);case 5:return s=t.sent,Kt(e,s,!1,r),t.abrupt(\"return\",Y(s));case 8:case\"end\":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),[Kt,A]),te=Rt(function(){var t=a(n.a.mark((function t(e){var r,i,s;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,vt(p,A,kt(k.current),m,mt.current);case 2:return r=t.sent,i=r.errors,s=z.current,z.current=Y(i),u(e)?(e.forEach((function(t){var e=j(i,t);e?N(w.current,t,e):U(w.current,[t])})),Yt()):Kt(e,j(i,e)?Object(h.a)({},e,j(i,e)):{},s!==z.current),t.abrupt(\"return\",Y(w.current));case 8:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[Yt,Kt,A,m,p]),ee=Rt(function(){var t=a(n.a.mark((function t(e){var r,i;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e||Object.keys(k.current),!Lt){t.next=3;break}return t.abrupt(\"return\",te(r));case 3:if(!u(r)){t.next=9;break}return t.next=6,Promise.all(r.map(function(){var t=a(n.a.mark((function t(e){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Qt(e,!0);case 2:return t.abrupt(\"return\",t.sent);case 3:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 6:return i=t.sent,Yt(),t.abrupt(\"return\",i.every(Boolean));case 9:return t.next=11,Qt(r);case 11:return t.abrupt(\"return\",t.sent);case 12:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[te,Qt,Yt,Lt]),re=function(t){var e=(t.match(/\\w+/)||[])[0];return $.current||F.current.has(t)||F.current.has(e)&&!R(t)&&dt.current.has(e)};function ie(t,e,r){var i=!1,n=u(t);(n?t:[t]).forEach((function(t){var r=at(t);i=!(!Jt(r?t:Object.keys(t)[0],r?e:Object.values(t)[0])&&!n)||re(t)})),(i||n)&&Yt(),(r||n&&e)&&ee(n?void 0:t)}pt.current=pt.current?pt.current:function(){var t=a(n.a.mark((function t(e){var r,i,s,a,o,l,c,f,u,d,y,g,v,b,E;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.type,i=e.target,s=i?i.name:\"\",a=k.current,o=w.current,l=a[s],c=j(o,s),l){t.next=8;break}return t.abrupt(\"return\");case 8:if(d=Dt({hasError:!!c,isBlurEvent:u=r===x,isOnSubmit:wt,isReValidateOnSubmit:qt,isOnBlur:_t,isReValidateOnBlur:Wt,isSubmitted:J.current}),y=Ut(s),g=re(s)||y,u&&!j(T.current,s)&&zt.current.touched&&(N(T.current,s,!0),g=!0),!d){t.next=15;break}return t.abrupt(\"return\",g&&Yt());case 15:if(!Lt){t.next=26;break}return t.next=18,vt(p,A,kt(a),m,mt.current);case 18:v=t.sent,b=v.errors,E=z.current,z.current=Y(b),f=j(b,s)?Object(h.a)({},s,j(b,s)):{},E!==z.current&&(g=!0),t.next=29;break;case 26:return t.next=28,yt(k,A,l);case 28:f=t.sent;case 29:!Kt(s,f)&&g&&Yt();case 30:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();var ne=Rt((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Y(K.current)?ot(k.current):K.current;vt(p,A,L(Object.assign(Object.assign({},e),t)),m,mt.current).then((function(t){var e=t.errors,r=z.current;z.current=Y(e),r!==z.current&&Yt()}))}),[Yt,A,m]),se=function(t,e){!c(pt.current)&&t&&Z(k.current,pt.current,t,e)},ae=Rt((function(t,e){if(t&&(!t||!Tt(dt.current,t.ref.name)||e)){se(t,e);var r=t.ref.name;w.current=U(w.current,[r]),T.current=U(T.current,[r]),q.current=U(q.current,[r]),[I,O,B,F].forEach((function(t){return t.current.delete(r)})),(zt.current.isValid||zt.current.touched)&&(Yt(),Lt&&ne())}}),[Yt,Lt,ne]);function oe(t){c(t)?w.current={}:U(w.current,u(t)?t:[t]),Yt()}var he=function(t){var e=t.name,r=t.type,i=t.types,n=t.message,s=t.preventRender,a=k.current[e];ht(w.current[e],{type:r,message:n,types:i})||(N(w.current,e,{type:r,types:i,message:n,ref:a?a.ref:{},isManual:!0}),s||Yt())};function le(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",r=arguments.length>2?arguments[2]:void 0;at(t)?he(Object.assign({name:t},d(e)?{types:e,type:\"\"}:{type:e,message:r})):u(t)&&(t.forEach((function(t){return he(Object.assign(Object.assign({},t),{preventRender:!0}))})),Yt())}function pe(t,e){var r=c(e)?c(K.current)?{}:K.current:e,i=ot(k.current,t),n=F.current;if(at(t))return Ct(i,t,n,r,dt.current.has(t)?M.current[t]:void 0);if(u(t))return t.reduce((function(t,e){var s;return s=Y(k.current)&&d(r)?Et(r,e):Ct(i,e,n,r),Object.assign(Object.assign({},t),Object(h.a)({},e,s))}),{});$.current=!0;var s=!Y(i)&&i||e||K.current;return t&&t.nest?L(s):s}function ce(t){Y(k.current)||(u(t)?t:[t]).forEach((function(t){return ae(k.current[t],!0)}))}function fe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t.name)return console.warn(\"Missing name @\",t);var r,i=t.name,n=t.type,s=t.value,a=Object.assign({ref:t},e),h=k.current,l=H(t)||W(t),p=h[i],f=!0,m=!1;if(l?p&&u(p.options)&&p.options.find((function(t){var e=t.ref;return s===e.value})):p)h[i]=Object.assign(Object.assign({},p),e);else{if(n){var d=Ft(t,(function(){return ae(a)}));p=l?Object.assign({options:[].concat(Object(o.a)(p&&p.options||[]),[{ref:t,mutationWatcher:d}]),ref:{type:n,name:i}},e):Object.assign(Object.assign({},a),{mutationWatcher:d})}else p=a;if(h[i]=p,Y(K.current)||(r=Et(K.current,i),f=c(r),m=Tt(dt.current,i),f||m||Xt(p,r)),Lt&&!m&&zt.current.isValid?ne():Y(e)||(O.current.add(i),!wt&&zt.current.isValid&&yt(k,A,p).then((function(t){var e=z.current;Y(t)?B.current.add(i):z.current=!1,e!==z.current&&Yt()}))),q.current[i]||m&&f||(q.current[i]=f?st(h,p.ref):r),n){var y=l&&p.options?p.options[p.options.length-1]:p;V({field:y,isRadioOrCheckbox:l,handleChange:pt.current})}}}function ue(t,e){if(!Nt)if(at(t))fe({name:t},e);else{if(!d(t)||!(\"name\"in t))return function(e){return e&&fe(e,t)};fe(t,e)}}var me=Rt((function(t){return function(){var e=a(n.a.mark((function e(r){var i,s,o,h,l,c,f,u,d;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&(r.preventDefault(),r.persist()),o=k.current,zt.current.isSubmitting&&(nt.current=!0,Yt()),e.prev=3,!Lt){e.next=16;break}return s=ot(o),e.next=8,vt(p,A,L(s),m,mt.current);case 8:h=e.sent,l=h.errors,c=h.values,w.current=l,i=l,s=c,e.next=23;break;case 16:return e.next=18,Object.values(o).reduce(function(){var t=a(n.a.mark((function t(e,r){var i,s,a,h;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt(\"return\",e);case 2:return t.next=4,e;case 4:if(i=t.sent,s=r.ref,a=r.ref.name,o[a]){t.next=8;break}return t.abrupt(\"return\",Promise.resolve(i));case 8:return t.next=10,yt(k,A,r);case 10:if(!(h=t.sent)[a]){t.next=15;break}return N(i.errors,a,h[a]),B.current.delete(a),t.abrupt(\"return\",Promise.resolve(i));case 15:return O.current.has(a)&&B.current.add(a),i.values[a]=st(o,s),t.abrupt(\"return\",Promise.resolve(i));case 18:case\"end\":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),Promise.resolve({errors:{},values:{}}));case 18:f=e.sent,u=f.errors,d=f.values,i=u,s=d;case 23:if(!Y(i)){e.next=29;break}return w.current={},e.next=27,t(L(s),r);case 27:e.next=31;break;case 29:C&&jt&&G(o,i),w.current=i;case 31:return e.prev=31,J.current=!0,nt.current=!1,it.current=it.current+1,Yt(),e.finish(31);case 37:case\"end\":return e.stop()}}),e,null,[[3,,31,37]])})));return function(t){return e.apply(this,arguments)}}()}),[jt,Yt,Lt,C,A,m,p]),de=function(){w.current={},k.current={},T.current={},B.current=new Set,O.current=new Set,q.current={},F.current=new Set,I.current=new Set,$.current=!1,J.current=!1,rt.current=!1,z.current=!0,it.current=0},ye=function(t){if(jt)for(var e=0,r=Object.values(k.current);e<r.length;e++){var i=r[e];if(i&&y(i.ref)&&i.ref.closest)try{i.ref.closest(\"form\").reset();break}catch(n){}}t&&(K.current=t),Object.values(ct.current).forEach((function(t){return ft(t)&&t()})),de(),Yt()},ge=function(t){var e=ot(k.current),r=Y(e)?K.current:e;return t&&t.nest?L(r):r};Bt((function(){return function(){X.current=!0,k.current&&Object.values(k.current).forEach((function(t){return ae(t,!0)}))}}),[ae]),Lt||(z.current=B.current.size>=O.current.size&&Y(w.current));var ve={dirty:rt.current,dirtyFields:I.current,isSubmitted:J.current,submitCount:it.current,touched:T.current,isSubmitting:nt.current,isValid:wt?J.current&&Y(w.current):z.current},be=Object.assign(Object.assign({register:ue,unregister:ce,removeFieldEventListener:se,getValues:ge,setValue:ie,reRender:Yt,triggerValidation:ee},Lt?{validateSchemaIsValid:ne}:{}),{formState:ve,mode:{isOnBlur:_t,isOnSubmit:wt},reValidateMode:{isReValidateOnBlur:Wt,isReValidateOnSubmit:qt},errorsRef:w,touchedFieldsRef:T,fieldsRef:k,resetFieldArrayFunctionRef:ct,validFieldsRef:B,fieldsWithValidationRef:O,watchFieldArrayRef:M,fieldArrayNamesRef:dt,isDirtyRef:rt,readFormStateRef:zt,defaultValuesRef:K});return{watch:pe,control:be,handleSubmit:me,setValue:Rt(ie,[Yt,Jt,ee]),triggerValidation:ee,getValues:Rt(ge,[]),reset:Rt(ye,[]),register:Rt(ue,[K.current,q.current,M.current]),unregister:Rt(ce,[]),clearError:Rt(oe,[]),setError:Rt(le,[]),errors:w.current,formState:Gt?new Proxy(ve,{get:function(t,e){return e in t?(zt.current[e]=!0,t[e]):{}}}):ve}}Object(p.createContext)(null);p.useEffect,p.useCallback,p.useRef,p.useState},1172:function(t,e,r){\"use strict\";var i=Object.prototype.propertyIsEnumerable;function n(t){if(null==t)throw new TypeError(\"Object.assign cannot be called with null or undefined\");return Object(t)}function s(t){var e=Object.getOwnPropertyNames(t);return Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(t))),e.filter((function(e){return i.call(t,e)}))}t.exports=Object.assign||function(t,e){for(var r,i,a=n(t),o=1;o<arguments.length;o++){r=arguments[o],i=s(Object(r));for(var h=0;h<i.length;h++)a[i[h]]=r[i[h]]}return a}},1173:function(t,e,r){var i=r(1310);t.exports=function(t,e,r){if(i(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,i){return t.call(e,r,i)};case 3:return function(r,i,n){return t.call(e,r,i,n)}}return function(){return t.apply(e,arguments)}}},1174:function(t,e,r){t.exports=!r(1039)&&!r(1055)((function(){return 7!=Object.defineProperty(r(1175)(\"div\"),\"a\",{get:function(){return 7}}).a}))},1175:function(t,e,r){var i=r(1054),n=r(1038).document,s=i(n)&&i(n.createElement);t.exports=function(t){return s?n.createElement(t):{}}},1176:function(t,e,r){var i=r(1046),n=r(1056),s=r(1312)(!1),a=r(1110)(\"IE_PROTO\");t.exports=function(t,e){var r,o=n(t),h=0,l=[];for(r in o)r!=a&&i(o,r)&&l.push(r);for(;e.length>h;)i(o,r=e[h++])&&(~s(l,r)||l.push(r));return l}},1177:function(t,e,r){var i=r(1178);t.exports=Object(\"z\").propertyIsEnumerable(0)?Object:function(t){return\"String\"==i(t)?t.split(\"\"):Object(t)}},1178:function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},1179:function(t,e,r){var i=r(1046),n=r(1083),s=r(1110)(\"IE_PROTO\"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=n(t),i(t,s)?t[s]:\"function\"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},1180:function(t,e,r){\"use strict\";e.__esModule=!0;var i=a(r(1325)),n=a(r(1336)),s=\"function\"===typeof n.default&&\"symbol\"===typeof i.default?function(t){return typeof t}:function(t){return t&&\"function\"===typeof n.default&&t.constructor===n.default&&t!==n.default.prototype?\"symbol\":typeof t};function a(t){return t&&t.__esModule?t:{default:t}}e.default=\"function\"===typeof n.default&&\"symbol\"===s(i.default)?function(t){return\"undefined\"===typeof t?\"undefined\":s(t)}:function(t){return t&&\"function\"===typeof n.default&&t.constructor===n.default&&t!==n.default.prototype?\"symbol\":\"undefined\"===typeof t?\"undefined\":s(t)}},1181:function(t,e,r){\"use strict\";var i=r(1080),n=r(1044),s=r(1182),a=r(1053),o=r(1114),h=r(1329),l=r(1116),p=r(1179),c=r(1057)(\"iterator\"),f=!([].keys&&\"next\"in[].keys()),u=\"keys\",m=\"values\",d=function(){return this};t.exports=function(t,e,r,y,g,v,b){h(r,e,y);var E,x,S,P=function(t){if(!f&&t in k)return k[t];switch(t){case u:case m:return function(){return new r(this,t)}}return function(){return new r(this,t)}},_=e+\" Iterator\",C=g==m,D=!1,k=t.prototype,A=k[c]||k[\"@@iterator\"]||g&&k[g],w=A||P(g),T=g?C?P(\"entries\"):w:void 0,M=\"Array\"==e&&k.entries||A;if(M&&(S=p(M.call(new t)))!==Object.prototype&&S.next&&(l(S,_,!0),i||\"function\"==typeof S[c]||a(S,c,d)),C&&A&&A.name!==m&&(D=!0,w=function(){return A.call(this)}),i&&!b||!f&&!D&&k[c]||a(k,c,w),o[e]=w,o[_]=d,g)if(E={values:C?w:P(m),keys:v?w:P(u),entries:T},b)for(x in E)x in k||s(k,x,E[x]);else n(n.P+n.F*(f||D),e,E);return E}},1182:function(t,e,r){t.exports=r(1053)},1183:function(t,e,r){var i=r(1176),n=r(1112).concat(\"length\",\"prototype\");e.f=Object.getOwnPropertyNames||function(t){return i(t,n)}},1184:function(t,e,r){var i=r(1082),n=r(1078),s=r(1056),a=r(1107),o=r(1046),h=r(1174),l=Object.getOwnPropertyDescriptor;e.f=r(1039)?l:function(t,e){if(t=s(t),e=a(e,!0),h)try{return l(t,e)}catch(r){}if(o(t,e))return n(!i.f.call(t,e),t[e])}},1271:function(t,e,r){\"use strict\";var i=r(2),n=r.n(i),s=r(1),a=r.n(s),o=r(1037),h=new Map([[\"avi\",\"video/avi\"],[\"gif\",\"image/gif\"],[\"ico\",\"image/x-icon\"],[\"jpeg\",\"image/jpeg\"],[\"jpg\",\"image/jpeg\"],[\"mkv\",\"video/x-matroska\"],[\"mov\",\"video/quicktime\"],[\"mp4\",\"video/mp4\"],[\"pdf\",\"application/pdf\"],[\"png\",\"image/png\"],[\"zip\",\"application/zip\"],[\"doc\",\"application/msword\"],[\"docx\",\"application/vnd.openxmlformats-officedocument.wordprocessingml.document\"]]);function l(t,e){var r=function(t){var e=t.name;if(e&&-1!==e.lastIndexOf(\".\")&&!t.type){var r=e.split(\".\").pop().toLowerCase(),i=h.get(r);i&&Object.defineProperty(t,\"type\",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}(t);if(\"string\"!==typeof r.path){var i=t.webkitRelativePath;Object.defineProperty(r,\"path\",{value:\"string\"===typeof e?e:\"string\"===typeof i&&i.length>0?i:t.name,writable:!1,configurable:!1,enumerable:!0})}return r}var p=[\".DS_Store\",\"Thumbs.db\"];function c(t){return Object(o.b)(this,void 0,void 0,(function(){return Object(o.d)(this,(function(e){return[2,(r=t,r.dataTransfer&&t.dataTransfer?u(t.dataTransfer,t.type):f(t))];var r}))}))}function f(t){return(null!==t.target&&t.target.files?d(t.target.files):[]).map((function(t){return l(t)}))}function u(t,e){return Object(o.b)(this,void 0,void 0,(function(){var r;return Object(o.d)(this,(function(i){switch(i.label){case 0:return t.items?(r=d(t.items).filter((function(t){return\"file\"===t.kind})),\"drop\"!==e?[2,r]:[4,Promise.all(r.map(y))]):[3,2];case 1:return[2,m(g(i.sent()))];case 2:return[2,m(d(t.files).map((function(t){return l(t)})))]}}))}))}function m(t){return t.filter((function(t){return-1===p.indexOf(t.name)}))}function d(t){for(var e=[],r=0;r<t.length;r++){var i=t[r];e.push(i)}return e}function y(t){if(\"function\"!==typeof t.webkitGetAsEntry)return v(t);var e=t.webkitGetAsEntry();return e&&e.isDirectory?E(e):v(t)}function g(t){return t.reduce((function(t,e){return Object(o.e)(t,Array.isArray(e)?g(e):[e])}),[])}function v(t){var e=t.getAsFile();if(!e)return Promise.reject(t+\" is not a File\");var r=l(e);return Promise.resolve(r)}function b(t){return Object(o.b)(this,void 0,void 0,(function(){return Object(o.d)(this,(function(e){return[2,t.isDirectory?E(t):x(t)]}))}))}function E(t){var e=t.createReader();return new Promise((function(t,r){var i=[];!function n(){var s=this;e.readEntries((function(e){return Object(o.b)(s,void 0,void 0,(function(){var s,a,h;return Object(o.d)(this,(function(o){switch(o.label){case 0:if(e.length)return[3,5];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return s=o.sent(),t(s),[3,4];case 3:return a=o.sent(),r(a),[3,4];case 4:return[3,6];case 5:h=Promise.all(e.map(b)),i.push(h),n(),o.label=6;case 6:return[2]}}))}))}),(function(t){r(t)}))}()}))}function x(t){return Object(o.b)(this,void 0,void 0,(function(){return Object(o.d)(this,(function(e){return[2,new Promise((function(e,r){t.file((function(r){var i=l(r,t.fullPath);e(i)}),(function(t){r(t)}))}))]}))}))}var S=r(1305),P=r.n(S);function _(t,e){return\"application/x-moz-file\"===t.type||P()(t,e)}function C(t,e,r){if(D(t.size)){if(D(e)&&D(r))return t.size>=e&&t.size<=r;if(D(e))return t.size>=e;if(D(r))return t.size<=r}return!0}function D(t){return void 0!==t&&null!==t}function k(t){var e=t.files,r=t.accept,i=t.minSize,n=t.maxSize;return!(!t.multiple&&e.length>1)&&e.every((function(t){return _(t,r)&&C(t,i,n)}))}function A(t){return\"function\"===typeof t.isPropagationStopped?t.isPropagationStopped():\"undefined\"!==typeof t.cancelBubble&&t.cancelBubble}function w(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,(function(t){return\"Files\"===t||\"application/x-moz-file\"===t})):!!t.target&&!!t.target.files}function T(t){t.preventDefault()}function M(t){return-1!==t.indexOf(\"MSIE\")||-1!==t.indexOf(\"Trident/\")}function F(t){return-1!==t.indexOf(\"Edge/\")}function I(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return M(t)||F(t)}function O(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];return e.some((function(e){return!A(t)&&e&&e.apply(void 0,[t].concat(i)),A(t)}))}}function V(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||\"[object Arguments]\"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}function R(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t))&&\"[object Arguments]\"!==Object.prototype.toString.call(t))return;var r=[],i=!0,n=!1,s=void 0;try{for(var a,o=t[Symbol.iterator]();!(i=(a=o.next()).done)&&(r.push(a.value),!e||r.length!==e);i=!0);}catch(h){n=!0,s=h}finally{try{i||null==o.return||o.return()}finally{if(n)throw s}}return r}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}function B(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function N(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?B(r,!0).forEach((function(e){L(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function L(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j(t,e){if(null==t)return{};var r,i,n=function(t,e){if(null==t)return{};var r,i,n={},s=Object.keys(t);for(i=0;i<s.length;i++)r=s[i],e.indexOf(r)>=0||(n[r]=t[r]);return n}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var G=Object(i.forwardRef)((function(t,e){var r=t.children,s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.accept,r=t.disabled,n=void 0!==r&&r,s=t.getFilesFromEvent,a=void 0===s?c:s,o=t.maxSize,h=void 0===o?1/0:o,l=t.minSize,p=void 0===l?0:l,f=t.multiple,u=void 0===f||f,m=t.onDragEnter,d=t.onDragLeave,y=t.onDragOver,g=t.onDrop,v=t.onDropAccepted,b=t.onDropRejected,E=t.onFileDialogCancel,x=t.preventDropOnDocument,S=void 0===x||x,P=t.noClick,D=void 0!==P&&P,M=t.noKeyboard,F=void 0!==M&&M,B=t.noDrag,G=void 0!==B&&B,W=t.noDragEventsBubbling,q=void 0!==W&&W,Y=Object(i.useRef)(null),K=Object(i.useRef)(null),X=R(Object(i.useReducer)(H,z),2),U=X[0],Z=X[1],$=U.isFocused,J=U.isFileDialogActive,Q=U.draggedFiles,tt=Object(i.useCallback)((function(){K.current&&(Z({type:\"openDialog\"}),K.current.value=null,K.current.click())}),[Z]),et=function(){J&&setTimeout((function(){K.current&&(K.current.files.length||(Z({type:\"closeDialog\"}),\"function\"===typeof E&&E()))}),300)};Object(i.useEffect)((function(){return window.addEventListener(\"focus\",et,!1),function(){window.removeEventListener(\"focus\",et,!1)}}),[K,J,E]);var rt=Object(i.useCallback)((function(t){Y.current&&Y.current.isEqualNode(t.target)&&(32!==t.keyCode&&13!==t.keyCode||(t.preventDefault(),tt()))}),[Y,K]),it=Object(i.useCallback)((function(){Z({type:\"focus\"})}),[]),nt=Object(i.useCallback)((function(){Z({type:\"blur\"})}),[]),st=Object(i.useCallback)((function(){D||(I()?setTimeout(tt,0):tt())}),[K,D]),at=Object(i.useRef)([]),ot=function(t){Y.current&&Y.current.contains(t.target)||(t.preventDefault(),at.current=[])};Object(i.useEffect)((function(){return S&&(document.addEventListener(\"dragover\",T,!1),document.addEventListener(\"drop\",ot,!1)),function(){S&&(document.removeEventListener(\"dragover\",T),document.removeEventListener(\"drop\",ot))}}),[Y,S]);var ht=Object(i.useCallback)((function(t){t.preventDefault(),t.persist(),dt(t),-1===at.current.indexOf(t.target)&&(at.current=[].concat(V(at.current),[t.target])),w(t)&&Promise.resolve(a(t)).then((function(e){A(t)&&!q||(Z({draggedFiles:e,isDragActive:!0,type:\"setDraggedFiles\"}),m&&m(t))}))}),[a,m,q]),lt=Object(i.useCallback)((function(t){if(t.preventDefault(),t.persist(),dt(t),t.dataTransfer)try{t.dataTransfer.dropEffect=\"copy\"}catch(e){}return w(t)&&y&&y(t),!1}),[y,q]),pt=Object(i.useCallback)((function(t){t.preventDefault(),t.persist(),dt(t);var e=at.current.filter((function(e){return e!==t.target&&Y.current&&Y.current.contains(e)}));at.current=e,e.length>0||(Z({isDragActive:!1,type:\"setDraggedFiles\",draggedFiles:[]}),w(t)&&d&&d(t))}),[Y,d,q]),ct=Object(i.useCallback)((function(t){t.preventDefault(),t.persist(),dt(t),at.current=[],w(t)&&Promise.resolve(a(t)).then((function(r){if(!A(t)||q){var i=[],n=[];r.forEach((function(t){_(t,e)&&C(t,p,h)?i.push(t):n.push(t)})),!u&&i.length>1&&n.push.apply(n,V(i.splice(0))),Z({acceptedFiles:i,rejectedFiles:n,type:\"setFiles\"}),g&&g(i,n,t),n.length>0&&b&&b(n,t),i.length>0&&v&&v(i,t)}})),Z({type:\"reset\"})}),[u,e,p,h,a,g,v,b,q]),ft=function(t){return n?null:t},ut=function(t){return F?null:ft(t)},mt=function(t){return G?null:ft(t)},dt=function(t){q&&t.stopPropagation()},yt=Object(i.useMemo)((function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.refKey,r=void 0===e?\"ref\":e,i=t.onKeyDown,s=t.onFocus,a=t.onBlur,o=t.onClick,h=t.onDragEnter,l=t.onDragOver,p=t.onDragLeave,c=t.onDrop,f=j(t,[\"refKey\",\"onKeyDown\",\"onFocus\",\"onBlur\",\"onClick\",\"onDragEnter\",\"onDragOver\",\"onDragLeave\",\"onDrop\"]);return N(L({onKeyDown:ut(O(i,rt)),onFocus:ut(O(s,it)),onBlur:ut(O(a,nt)),onClick:ft(O(o,st)),onDragEnter:mt(O(h,ht)),onDragOver:mt(O(l,lt)),onDragLeave:mt(O(p,pt)),onDrop:mt(O(c,ct))},r,Y),n||F?{}:{tabIndex:0},{},f)}}),[Y,rt,it,nt,st,ht,lt,pt,ct,F,G,n]),gt=Object(i.useCallback)((function(t){t.stopPropagation()}),[]),vt=Object(i.useMemo)((function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.refKey,i=void 0===r?\"ref\":r,n=t.onChange,s=t.onClick,a=j(t,[\"refKey\",\"onChange\",\"onClick\"]);return N({},L({accept:e,multiple:u,type:\"file\",style:{display:\"none\"},onChange:ft(O(n,ct)),onClick:ft(O(s,gt)),autoComplete:\"off\",tabIndex:-1},i,K),{},a)}}),[K,e,u,ct,n]),bt=Q.length,Et=bt>0&&k({files:Q,accept:e,minSize:p,maxSize:h,multiple:u});return N({},U,{isDragAccept:Et,isDragReject:bt>0&&!Et,isFocused:$&&!n,getRootProps:yt,getInputProps:vt,rootRef:Y,inputRef:K,open:ft(tt)})}(j(t,[\"children\"])),a=s.open,o=j(s,[\"open\"]);return Object(i.useImperativeHandle)(e,(function(){return{open:a}}),[a]),n.a.createElement(i.Fragment,null,r(N({},o,{open:a})))}));G.displayName=\"Dropzone\",G.propTypes={children:a.a.func,accept:a.a.oneOfType([a.a.string,a.a.arrayOf(a.a.string)]),multiple:a.a.bool,preventDropOnDocument:a.a.bool,noClick:a.a.bool,noKeyboard:a.a.bool,noDrag:a.a.bool,noDragEventsBubbling:a.a.bool,minSize:a.a.number,maxSize:a.a.number,disabled:a.a.bool,getFilesFromEvent:a.a.func,onFileDialogCancel:a.a.func,onDragEnter:a.a.func,onDragLeave:a.a.func,onDragOver:a.a.func,onDrop:a.a.func,onDropAccepted:a.a.func,onDropRejected:a.a.func};e.a=G;var z={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],rejectedFiles:[]};function H(t,e){switch(e.type){case\"focus\":return N({},t,{isFocused:!0});case\"blur\":return N({},t,{isFocused:!1});case\"openDialog\":return N({},t,{isFileDialogActive:!0});case\"closeDialog\":return N({},t,{isFileDialogActive:!1});case\"setDraggedFiles\":var r=e.isDragActive;return N({},t,{draggedFiles:e.draggedFiles,isDragActive:r});case\"setFiles\":return N({},t,{acceptedFiles:e.acceptedFiles,rejectedFiles:e.rejectedFiles});case\"reset\":return N({},t,{isFileDialogActive:!1,isDragActive:!1,draggedFiles:[],acceptedFiles:[],rejectedFiles:[]});default:return t}}},1297:function(t,e,r){t.exports=r(530)},1298:function(t,e,r){\"use strict\";var i=r(238),n={};function s(t,e,r,i,n,s,a,o){if(!t){var h;if(void 0===e)h=new Error(\"Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.\");else{var l=[r,i,n,s,a,o],p=0;(h=new Error(e.replace(/%s/g,(function(){return l[p++]})))).name=\"Invariant Violation\"}throw h.framesToPop=1,h}}var a=\"mixins\";t.exports=function(t,e,r){var o=[],h={mixins:\"DEFINE_MANY\",statics:\"DEFINE_MANY\",propTypes:\"DEFINE_MANY\",contextTypes:\"DEFINE_MANY\",childContextTypes:\"DEFINE_MANY\",getDefaultProps:\"DEFINE_MANY_MERGED\",getInitialState:\"DEFINE_MANY_MERGED\",getChildContext:\"DEFINE_MANY_MERGED\",render:\"DEFINE_ONCE\",componentWillMount:\"DEFINE_MANY\",componentDidMount:\"DEFINE_MANY\",componentWillReceiveProps:\"DEFINE_MANY\",shouldComponentUpdate:\"DEFINE_ONCE\",componentWillUpdate:\"DEFINE_MANY\",componentDidUpdate:\"DEFINE_MANY\",componentWillUnmount:\"DEFINE_MANY\",UNSAFE_componentWillMount:\"DEFINE_MANY\",UNSAFE_componentWillReceiveProps:\"DEFINE_MANY\",UNSAFE_componentWillUpdate:\"DEFINE_MANY\",updateComponent:\"OVERRIDE_BASE\"},l={getDerivedStateFromProps:\"DEFINE_MANY_MERGED\"},p={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var r=0;r<e.length;r++)f(t,e[r])},childContextTypes:function(t,e){t.childContextTypes=i({},t.childContextTypes,e)},contextTypes:function(t,e){t.contextTypes=i({},t.contextTypes,e)},getDefaultProps:function(t,e){t.getDefaultProps?t.getDefaultProps=m(t.getDefaultProps,e):t.getDefaultProps=e},propTypes:function(t,e){t.propTypes=i({},t.propTypes,e)},statics:function(t,e){!function(t,e){if(!e)return;for(var r in e){var i=e[r];if(e.hasOwnProperty(r)){if(s(!(r in p),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\\'t be on the \"statics\" key. Define it as an instance property instead; it will still be accessible on the constructor.',r),r in t)return s(\"DEFINE_MANY_MERGED\"===(l.hasOwnProperty(r)?l[r]:null),\"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.\",r),void(t[r]=m(t[r],i));t[r]=i}}}(t,e)},autobind:function(){}};function c(t,e){var r=h.hasOwnProperty(e)?h[e]:null;b.hasOwnProperty(e)&&s(\"OVERRIDE_BASE\"===r,\"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.\",e),t&&s(\"DEFINE_MANY\"===r||\"DEFINE_MANY_MERGED\"===r,\"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.\",e)}function f(t,r){if(r){s(\"function\"!==typeof r,\"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object.\"),s(!e(r),\"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.\");var i=t.prototype,n=i.__reactAutoBindPairs;for(var o in r.hasOwnProperty(a)&&p.mixins(t,r.mixins),r)if(r.hasOwnProperty(o)&&o!==a){var l=r[o],f=i.hasOwnProperty(o);if(c(f,o),p.hasOwnProperty(o))p[o](t,l);else{var u=h.hasOwnProperty(o);if(\"function\"===typeof l&&!u&&!f&&!1!==r.autobind)n.push(o,l),i[o]=l;else if(f){var y=h[o];s(u&&(\"DEFINE_MANY_MERGED\"===y||\"DEFINE_MANY\"===y),\"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.\",y,o),\"DEFINE_MANY_MERGED\"===y?i[o]=m(i[o],l):\"DEFINE_MANY\"===y&&(i[o]=d(i[o],l))}else i[o]=l}}}else;}function u(t,e){for(var r in s(t&&e&&\"object\"===typeof t&&\"object\"===typeof e,\"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.\"),e)e.hasOwnProperty(r)&&(s(void 0===t[r],\"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.\",r),t[r]=e[r]);return t}function m(t,e){return function(){var r=t.apply(this,arguments),i=e.apply(this,arguments);if(null==r)return i;if(null==i)return r;var n={};return u(n,r),u(n,i),n}}function d(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function y(t,e){return e.bind(t)}var g={componentDidMount:function(){this.__isMounted=!0}},v={componentWillUnmount:function(){this.__isMounted=!1}},b={replaceState:function(t,e){this.updater.enqueueReplaceState(this,t,e)},isMounted:function(){return!!this.__isMounted}},E=function(){};return i(E.prototype,t.prototype,b),function(t){var e=function(t,i,a){this.__reactAutoBindPairs.length&&function(t){for(var e=t.__reactAutoBindPairs,r=0;r<e.length;r+=2){var i=e[r],n=e[r+1];t[i]=y(t,n)}}(this),this.props=t,this.context=i,this.refs=n,this.updater=a||r,this.state=null;var o=this.getInitialState?this.getInitialState():null;s(\"object\"===typeof o&&!Array.isArray(o),\"%s.getInitialState(): must return an object or null\",e.displayName||\"ReactCompositeComponent\"),this.state=o};for(var i in e.prototype=new E,e.prototype.constructor=e,e.prototype.__reactAutoBindPairs=[],o.forEach(f.bind(null,e)),f(e,g),f(e,t),f(e,v),e.getDefaultProps&&(e.defaultProps=e.getDefaultProps()),s(e.prototype.render,\"createClass(...): Class specification must implement a `render` method.\"),h)e.prototype[i]||(e.prototype[i]=null);return e}}},1299:function(t,e,r){\"use strict\";var i=r(2),n=r(1036)({viewComponents:{days:r(1300),months:r(1301),years:r(1302),time:r(1303)},render:function(){return i.createElement(this.viewComponents[this.props.view],this.props.viewProps)}});t.exports=n},1300:function(t,e,r){\"use strict\";var i=r(2),n=r(1036),s=r(144),a=n({render:function(){var t,e=this.renderFooter(),r=this.props.viewDate,n=r.localeData();return t=[i.createElement(\"thead\",{key:\"th\"},[i.createElement(\"tr\",{key:\"h\"},[i.createElement(\"th\",{key:\"p\",className:\"rdtPrev\",onClick:this.props.subtractTime(1,\"months\")},i.createElement(\"span\",{},\"\\u2039\")),i.createElement(\"th\",{key:\"s\",className:\"rdtSwitch\",onClick:this.props.showView(\"months\"),colSpan:5,\"data-value\":this.props.viewDate.month()},n.months(r)+\" \"+r.year()),i.createElement(\"th\",{key:\"n\",className:\"rdtNext\",onClick:this.props.addTime(1,\"months\")},i.createElement(\"span\",{},\"\\u203a\"))]),i.createElement(\"tr\",{key:\"d\"},this.getDaysOfWeek(n).map((function(t,e){return i.createElement(\"th\",{key:t+e,className:\"dow\"},t)})))]),i.createElement(\"tbody\",{key:\"tb\"},this.renderDays())],e&&t.push(e),i.createElement(\"div\",{className:\"rdtDays\"},i.createElement(\"table\",{},t))},getDaysOfWeek:function(t){var e=t._weekdaysMin,r=t.firstDayOfWeek(),i=[],n=0;return e.forEach((function(t){i[(7+n++-r)%7]=t})),i},renderDays:function(){var t,e,r,n,a=this.props.viewDate,o=this.props.selectedDate&&this.props.selectedDate.clone(),h=a.clone().subtract(1,\"months\"),l=a.year(),p=a.month(),c=[],f=[],u=this.props.renderDay||this.renderDay,m=this.props.isValidDate||this.alwaysValidDate;h.date(h.daysInMonth()).startOf(\"week\");for(var d=h.clone().add(42,\"d\");h.isBefore(d);)t=\"rdtDay\",n=h.clone(),h.year()===l&&h.month()<p||h.year()<l?t+=\" rdtOld\":(h.year()===l&&h.month()>p||h.year()>l)&&(t+=\" rdtNew\"),o&&h.isSame(o,\"day\")&&(t+=\" rdtActive\"),h.isSame(s(),\"day\")&&(t+=\" rdtToday\"),(e=!m(n,o))&&(t+=\" rdtDisabled\"),r={key:h.format(\"M_D\"),\"data-value\":h.date(),className:t},e||(r.onClick=this.updateSelectedDate),f.push(u(r,n,o)),7===f.length&&(c.push(i.createElement(\"tr\",{key:h.format(\"M_D\")},f)),f=[]),h.add(1,\"d\");return c},updateSelectedDate:function(t){this.props.updateSelectedDate(t,!0)},renderDay:function(t,e){return i.createElement(\"td\",t,e.date())},renderFooter:function(){if(!this.props.timeFormat)return\"\";var t=this.props.selectedDate||this.props.viewDate;return i.createElement(\"tfoot\",{key:\"tf\"},i.createElement(\"tr\",{},i.createElement(\"td\",{onClick:this.props.showView(\"time\"),colSpan:7,className:\"rdtTimeToggle\"},t.format(this.props.timeFormat))))},alwaysValidDate:function(){return 1}});t.exports=a},1301:function(t,e,r){\"use strict\";var i=r(2),n=r(1036)({render:function(){return i.createElement(\"div\",{className:\"rdtMonths\"},[i.createElement(\"table\",{key:\"a\"},i.createElement(\"thead\",{},i.createElement(\"tr\",{},[i.createElement(\"th\",{key:\"prev\",className:\"rdtPrev\",onClick:this.props.subtractTime(1,\"years\")},i.createElement(\"span\",{},\"\\u2039\")),i.createElement(\"th\",{key:\"year\",className:\"rdtSwitch\",onClick:this.props.showView(\"years\"),colSpan:2,\"data-value\":this.props.viewDate.year()},this.props.viewDate.year()),i.createElement(\"th\",{key:\"next\",className:\"rdtNext\",onClick:this.props.addTime(1,\"years\")},i.createElement(\"span\",{},\"\\u203a\"))]))),i.createElement(\"table\",{key:\"months\"},i.createElement(\"tbody\",{key:\"b\"},this.renderMonths()))])},renderMonths:function(){for(var t,e,r,n,s,a=this.props.selectedDate,o=this.props.viewDate.month(),h=this.props.viewDate.year(),l=[],p=0,c=[],f=this.props.renderMonth||this.renderMonth,u=this.props.isValidDate||this.alwaysValidDate;p<12;)t=\"rdtMonth\",s=(r=this.props.viewDate.clone().set({year:h,month:p,date:1})).endOf(\"month\").format(\"D\"),(n=void 0===Array.from({length:s},(function(t,e){return e+1})).find((function(t){var e=r.clone().set(\"date\",t);return u(e)})))&&(t+=\" rdtDisabled\"),a&&p===a.month()&&h===a.year()&&(t+=\" rdtActive\"),e={key:p,\"data-value\":p,className:t},n||(e.onClick=\"months\"===this.props.updateOn?this.updateSelectedMonth:this.props.setDate(\"month\")),c.push(f(e,p,h,a&&a.clone())),4===c.length&&(l.push(i.createElement(\"tr\",{key:o+\"_\"+l.length},c)),c=[]),p++;return l},updateSelectedMonth:function(t){this.props.updateSelectedDate(t)},renderMonth:function(t,e){var r,n=this.props.viewDate,s=n.localeData().monthsShort(n.month(e)).substring(0,3);return i.createElement(\"td\",t,(r=s).charAt(0).toUpperCase()+r.slice(1))},alwaysValidDate:function(){return 1}});t.exports=n},1302:function(t,e,r){\"use strict\";var i=r(2),n=r(1036)({render:function(){var t=10*parseInt(this.props.viewDate.year()/10,10);return i.createElement(\"div\",{className:\"rdtYears\"},[i.createElement(\"table\",{key:\"a\"},i.createElement(\"thead\",{},i.createElement(\"tr\",{},[i.createElement(\"th\",{key:\"prev\",className:\"rdtPrev\",onClick:this.props.subtractTime(10,\"years\")},i.createElement(\"span\",{},\"\\u2039\")),i.createElement(\"th\",{key:\"year\",className:\"rdtSwitch\",onClick:this.props.showView(\"years\"),colSpan:2},t+\"-\"+(t+9)),i.createElement(\"th\",{key:\"next\",className:\"rdtNext\",onClick:this.props.addTime(10,\"years\")},i.createElement(\"span\",{},\"\\u203a\"))]))),i.createElement(\"table\",{key:\"years\"},i.createElement(\"tbody\",{},this.renderYears(t)))])},renderYears:function(t){var e,r,n,s,a,o=[],h=-1,l=[],p=this.props.renderYear||this.renderYear,c=this.props.selectedDate,f=this.props.isValidDate||this.alwaysValidDate;for(t--;h<11;)e=\"rdtYear\",a=(n=this.props.viewDate.clone().set({year:t,month:0,date:1})).endOf(\"year\").format(\"DDD\"),(s=void 0===Array.from({length:a},(function(t,e){return e+1})).find((function(t){var e=n.clone().dayOfYear(t);return f(e)})))&&(e+=\" rdtDisabled\"),c&&c.year()===t&&(e+=\" rdtActive\"),r={key:t,\"data-value\":t,className:e},s||(r.onClick=\"years\"===this.props.updateOn?this.updateSelectedYear:this.props.setDate(\"year\")),o.push(p(r,t,c&&c.clone())),4===o.length&&(l.push(i.createElement(\"tr\",{key:h},o)),o=[]),t++,h++;return l},updateSelectedYear:function(t){this.props.updateSelectedDate(t)},renderYear:function(t,e){return i.createElement(\"td\",t,e)},alwaysValidDate:function(){return 1}});t.exports=n},1303:function(t,e,r){\"use strict\";var i=r(2),n=r(1036),s=r(1172),a=n({getInitialState:function(){return this.calculateState(this.props)},calculateState:function(t){var e=t.selectedDate||t.viewDate,r=t.timeFormat,i=[];-1!==r.toLowerCase().indexOf(\"h\")&&(i.push(\"hours\"),-1!==r.indexOf(\"m\")&&(i.push(\"minutes\"),-1!==r.indexOf(\"s\")&&i.push(\"seconds\")));var n=e.format(\"H\"),s=!1;return null!==this.state&&-1!==this.props.timeFormat.toLowerCase().indexOf(\" a\")&&(s=-1!==this.props.timeFormat.indexOf(\" A\")?n>=12?\"PM\":\"AM\":n>=12?\"pm\":\"am\"),{hours:n,minutes:e.format(\"mm\"),seconds:e.format(\"ss\"),milliseconds:e.format(\"SSS\"),daypart:s,counters:i}},renderCounter:function(t){if(\"daypart\"!==t){var e=this.state[t];return\"hours\"===t&&-1!==this.props.timeFormat.toLowerCase().indexOf(\" a\")&&0===(e=(e-1)%12+1)&&(e=12),i.createElement(\"div\",{key:t,className:\"rdtCounter\"},[i.createElement(\"span\",{key:\"up\",className:\"rdtBtn\",onMouseDown:this.onStartClicking(\"increase\",t),onContextMenu:this.disableContextMenu},\"\\u25b2\"),i.createElement(\"div\",{key:\"c\",className:\"rdtCount\"},e),i.createElement(\"span\",{key:\"do\",className:\"rdtBtn\",onMouseDown:this.onStartClicking(\"decrease\",t),onContextMenu:this.disableContextMenu},\"\\u25bc\")])}return\"\"},renderDayPart:function(){return i.createElement(\"div\",{key:\"dayPart\",className:\"rdtCounter\"},[i.createElement(\"span\",{key:\"up\",className:\"rdtBtn\",onMouseDown:this.onStartClicking(\"toggleDayPart\",\"hours\"),onContextMenu:this.disableContextMenu},\"\\u25b2\"),i.createElement(\"div\",{key:this.state.daypart,className:\"rdtCount\"},this.state.daypart),i.createElement(\"span\",{key:\"do\",className:\"rdtBtn\",onMouseDown:this.onStartClicking(\"toggleDayPart\",\"hours\"),onContextMenu:this.disableContextMenu},\"\\u25bc\")])},render:function(){var t=this,e=[];return this.state.counters.forEach((function(r){e.length&&e.push(i.createElement(\"div\",{key:\"sep\"+e.length,className:\"rdtCounterSeparator\"},\":\")),e.push(t.renderCounter(r))})),!1!==this.state.daypart&&e.push(t.renderDayPart()),3===this.state.counters.length&&-1!==this.props.timeFormat.indexOf(\"S\")&&(e.push(i.createElement(\"div\",{className:\"rdtCounterSeparator\",key:\"sep5\"},\":\")),e.push(i.createElement(\"div\",{className:\"rdtCounter rdtMilli\",key:\"m\"},i.createElement(\"input\",{value:this.state.milliseconds,type:\"text\",onChange:this.updateMilli})))),i.createElement(\"div\",{className:\"rdtTime\"},i.createElement(\"table\",{},[this.renderHeader(),i.createElement(\"tbody\",{key:\"b\"},i.createElement(\"tr\",{},i.createElement(\"td\",{},i.createElement(\"div\",{className:\"rdtCounters\"},e))))]))},componentWillMount:function(){var t=this;t.timeConstraints={hours:{min:0,max:23,step:1},minutes:{min:0,max:59,step:1},seconds:{min:0,max:59,step:1},milliseconds:{min:0,max:999,step:1}},[\"hours\",\"minutes\",\"seconds\",\"milliseconds\"].forEach((function(e){s(t.timeConstraints[e],t.props.timeConstraints[e])})),this.setState(this.calculateState(this.props))},componentWillReceiveProps:function(t){this.setState(this.calculateState(t))},updateMilli:function(t){var e=parseInt(t.target.value,10);e===t.target.value&&e>=0&&e<1e3&&(this.props.setTime(\"milliseconds\",e),this.setState({milliseconds:e}))},renderHeader:function(){if(!this.props.dateFormat)return null;var t=this.props.selectedDate||this.props.viewDate;return i.createElement(\"thead\",{key:\"h\"},i.createElement(\"tr\",{},i.createElement(\"th\",{className:\"rdtSwitch\",colSpan:4,onClick:this.props.showView(\"days\")},t.format(this.props.dateFormat))))},onStartClicking:function(t,e){var r=this;return function(){var i={};i[e]=r[t](e),r.setState(i),r.timer=setTimeout((function(){r.increaseTimer=setInterval((function(){i[e]=r[t](e),r.setState(i)}),70)}),500),r.mouseUpListener=function(){clearTimeout(r.timer),clearInterval(r.increaseTimer),r.props.setTime(e,r.state[e]),document.body.removeEventListener(\"mouseup\",r.mouseUpListener),document.body.removeEventListener(\"touchend\",r.mouseUpListener)},document.body.addEventListener(\"mouseup\",r.mouseUpListener),document.body.addEventListener(\"touchend\",r.mouseUpListener)}},disableContextMenu:function(t){return t.preventDefault(),!1},padValues:{hours:1,minutes:2,seconds:2,milliseconds:3},toggleDayPart:function(t){var e=parseInt(this.state[t],10)+12;return e>this.timeConstraints[t].max&&(e=this.timeConstraints[t].min+(e-(this.timeConstraints[t].max+1))),this.pad(t,e)},increase:function(t){var e=parseInt(this.state[t],10)+this.timeConstraints[t].step;return e>this.timeConstraints[t].max&&(e=this.timeConstraints[t].min+(e-(this.timeConstraints[t].max+1))),this.pad(t,e)},decrease:function(t){var e=parseInt(this.state[t],10)-this.timeConstraints[t].step;return e<this.timeConstraints[t].min&&(e=this.timeConstraints[t].max+1-(this.timeConstraints[t].min-e)),this.pad(t,e)},pad:function(t,e){for(var r=e+\"\";r.length<this.padValues[t];)r=\"0\"+r;return r}});t.exports=a},1304:function(t,e,r){\"use strict\";r.r(e),r.d(e,\"IGNORE_CLASS_NAME\",(function(){return f}));var i=r(2),n=r(55);function s(t,e,r){return t===e||(t.correspondingElement?t.correspondingElement.classList.contains(r):t.classList.contains(r))}var a,o,h=(void 0===a&&(a=0),function(){return++a}),l={},p={},c=[\"touchstart\",\"touchmove\"],f=\"ignore-react-onclickoutside\";function u(t,e){var r=null;return-1!==c.indexOf(e)&&o&&(r={passive:!t.props.preventDefault}),r}e.default=function(t,e){var r,a,c=t.displayName||t.name||\"Component\";return a=r=function(r){var a,f;function m(t){var i;return(i=r.call(this,t)||this).__outsideClickHandler=function(t){if(\"function\"!==typeof i.__clickOutsideHandlerProp){var e=i.getInstance();if(\"function\"!==typeof e.props.handleClickOutside){if(\"function\"!==typeof e.handleClickOutside)throw new Error(\"WrappedComponent: \"+c+\" lacks a handleClickOutside(event) function for processing outside click events.\");e.handleClickOutside(t)}else e.props.handleClickOutside(t)}else i.__clickOutsideHandlerProp(t)},i.__getComponentNode=function(){var t=i.getInstance();return e&&\"function\"===typeof e.setClickOutsideRef?e.setClickOutsideRef()(t):\"function\"===typeof t.setClickOutsideRef?t.setClickOutsideRef():Object(n.findDOMNode)(t)},i.enableOnClickOutside=function(){if(\"undefined\"!==typeof document&&!p[i._uid]){\"undefined\"===typeof o&&(o=function(){if(\"undefined\"!==typeof window&&\"function\"===typeof window.addEventListener){var t=!1,e=Object.defineProperty({},\"passive\",{get:function(){t=!0}}),r=function(){};return window.addEventListener(\"testPassiveEventSupport\",r,e),window.removeEventListener(\"testPassiveEventSupport\",r,e),t}}()),p[i._uid]=!0;var t=i.props.eventTypes;t.forEach||(t=[t]),l[i._uid]=function(t){var e;null!==i.componentNode&&(i.props.preventDefault&&t.preventDefault(),i.props.stopPropagation&&t.stopPropagation(),i.props.excludeScrollbar&&(e=t,document.documentElement.clientWidth<=e.clientX||document.documentElement.clientHeight<=e.clientY)||function(t,e,r){if(t===e)return!0;for(;t.parentNode;){if(s(t,e,r))return!0;t=t.parentNode}return t}(t.target,i.componentNode,i.props.outsideClickIgnoreClass)===document&&i.__outsideClickHandler(t))},t.forEach((function(t){document.addEventListener(t,l[i._uid],u(i,t))}))}},i.disableOnClickOutside=function(){delete p[i._uid];var t=l[i._uid];if(t&&\"undefined\"!==typeof document){var e=i.props.eventTypes;e.forEach||(e=[e]),e.forEach((function(e){return document.removeEventListener(e,t,u(i,e))})),delete l[i._uid]}},i.getRef=function(t){return i.instanceRef=t},i._uid=h(),i}f=r,(a=m).prototype=Object.create(f.prototype),a.prototype.constructor=a,a.__proto__=f;var d=m.prototype;return d.getInstance=function(){if(!t.prototype.isReactComponent)return this;var e=this.instanceRef;return e.getInstance?e.getInstance():e},d.componentDidMount=function(){if(\"undefined\"!==typeof document&&document.createElement){var t=this.getInstance();if(e&&\"function\"===typeof e.handleClickOutside&&(this.__clickOutsideHandlerProp=e.handleClickOutside(t),\"function\"!==typeof this.__clickOutsideHandlerProp))throw new Error(\"WrappedComponent: \"+c+\" lacks a function for processing outside click events specified by the handleClickOutside config option.\");this.componentNode=this.__getComponentNode(),this.props.disableOnClickOutside||this.enableOnClickOutside()}},d.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},d.componentWillUnmount=function(){this.disableOnClickOutside()},d.render=function(){var e=this.props,r=(e.excludeScrollbar,function(t,e){if(null==t)return{};var r,i,n={},s=Object.keys(t);for(i=0;i<s.length;i++)r=s[i],e.indexOf(r)>=0||(n[r]=t[r]);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}(e,[\"excludeScrollbar\"]));return t.prototype.isReactComponent?r.ref=this.getRef:r.wrappedRef=this.getRef,r.disableOnClickOutside=this.disableOnClickOutside,r.enableOnClickOutside=this.enableOnClickOutside,Object(i.createElement)(t,r)},m}(i.Component),r.displayName=\"OnClickOutside(\"+c+\")\",r.defaultProps={eventTypes:[\"mousedown\",\"touchstart\"],excludeScrollbar:e&&e.excludeScrollbar||!1,outsideClickIgnoreClass:f,preventDefault:!1,stopPropagation:!1},r.getClass=function(){return t.getClass?t.getClass():t},a}},1305:function(t,e,r){\"use strict\";e.__esModule=!0,e.default=function(t,e){if(t&&e){var r=Array.isArray(e)?e:e.split(\",\"),i=t.name||\"\",n=(t.type||\"\").toLowerCase(),s=n.replace(/\\/.*$/,\"\");return r.some((function(t){var e=t.trim().toLowerCase();return\".\"===e.charAt(0)?i.toLowerCase().endsWith(e):e.endsWith(\"/*\")?s===e.replace(/\\/.*$/,\"\"):n===e}))}return!0}},1306:function(t,e,r){\"use strict\";e.__esModule=!0;var i,n=r(1307),s=(i=n)&&i.__esModule?i:{default:i};e.default=s.default||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}},1307:function(t,e,r){t.exports={default:r(1308),__esModule:!0}},1308:function(t,e,r){r(1309),t.exports=r(1028).Object.assign},1309:function(t,e,r){var i=r(1044);i(i.S+i.F,\"Object\",{assign:r(1311)})},1310:function(t,e){t.exports=function(t){if(\"function\"!=typeof t)throw TypeError(t+\" is not a function!\");return t}},1311:function(t,e,r){\"use strict\";var i=r(1039),n=r(1079),s=r(1113),a=r(1082),o=r(1083),h=r(1177),l=Object.assign;t.exports=!l||r(1055)((function(){var t={},e={},r=Symbol(),i=\"abcdefghijklmnopqrst\";return t[r]=7,i.split(\"\").forEach((function(t){e[t]=t})),7!=l({},t)[r]||Object.keys(l({},e)).join(\"\")!=i}))?function(t,e){for(var r=o(t),l=arguments.length,p=1,c=s.f,f=a.f;l>p;)for(var u,m=h(arguments[p++]),d=c?n(m).concat(c(m)):n(m),y=d.length,g=0;y>g;)u=d[g++],i&&!f.call(m,u)||(r[u]=m[u]);return r}:l},1312:function(t,e,r){var i=r(1056),n=r(1313),s=r(1314);t.exports=function(t){return function(e,r,a){var o,h=i(e),l=n(h.length),p=s(a,l);if(t&&r!=r){for(;l>p;)if((o=h[p++])!=o)return!0}else for(;l>p;p++)if((t||p in h)&&h[p]===r)return t||p||0;return!t&&-1}}},1313:function(t,e,r){var i=r(1109),n=Math.min;t.exports=function(t){return t>0?n(i(t),9007199254740991):0}},1314:function(t,e,r){var i=r(1109),n=Math.max,s=Math.min;t.exports=function(t,e){return(t=i(t))<0?n(t+e,0):s(t,e)}},1315:function(t,e,r){t.exports={default:r(1316),__esModule:!0}},1316:function(t,e,r){r(1317),t.exports=r(1028).Object.getPrototypeOf},1317:function(t,e,r){var i=r(1083),n=r(1179);r(1318)(\"getPrototypeOf\",(function(){return function(t){return n(i(t))}}))},1318:function(t,e,r){var i=r(1044),n=r(1028),s=r(1055);t.exports=function(t,e){var r=(n.Object||{})[t]||Object[t],a={};a[t]=e(r),i(i.S+i.F*s((function(){r(1)})),\"Object\",a)}},1319:function(t,e,r){\"use strict\";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}},1320:function(t,e,r){\"use strict\";e.__esModule=!0;var i,n=r(1321),s=(i=n)&&i.__esModule?i:{default:i};e.default=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),(0,s.default)(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}()},1321:function(t,e,r){t.exports={default:r(1322),__esModule:!0}},1322:function(t,e,r){r(1323);var i=r(1028).Object;t.exports=function(t,e,r){return i.defineProperty(t,e,r)}},1323:function(t,e,r){var i=r(1044);i(i.S+i.F*!r(1039),\"Object\",{defineProperty:r(1045).f})},1324:function(t,e,r){\"use strict\";e.__esModule=!0;var i,n=r(1180),s=(i=n)&&i.__esModule?i:{default:i};e.default=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==(\"undefined\"===typeof e?\"undefined\":(0,s.default)(e))&&\"function\"!==typeof e?t:e}},1325:function(t,e,r){t.exports={default:r(1326),__esModule:!0}},1326:function(t,e,r){r(1327),r(1332),t.exports=r(1117).f(\"iterator\")},1327:function(t,e,r){\"use strict\";var i=r(1328)(!0);r(1181)(String,\"String\",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=i(e,r),this._i+=t.length,{value:t,done:!1})}))},1328:function(t,e,r){var i=r(1109),n=r(1108);t.exports=function(t){return function(e,r){var s,a,o=String(n(e)),h=i(r),l=o.length;return h<0||h>=l?t?\"\":void 0:(s=o.charCodeAt(h))<55296||s>56319||h+1===l||(a=o.charCodeAt(h+1))<56320||a>57343?t?o.charAt(h):s:t?o.slice(h,h+2):a-56320+(s-55296<<10)+65536}}},1329:function(t,e,r){\"use strict\";var i=r(1115),n=r(1078),s=r(1116),a={};r(1053)(a,r(1057)(\"iterator\"),(function(){return this})),t.exports=function(t,e,r){t.prototype=i(a,{next:n(1,r)}),s(t,e+\" Iterator\")}},1330:function(t,e,r){var i=r(1045),n=r(1067),s=r(1079);t.exports=r(1039)?Object.defineProperties:function(t,e){n(t);for(var r,a=s(e),o=a.length,h=0;o>h;)i.f(t,r=a[h++],e[r]);return t}},1331:function(t,e,r){var i=r(1038).document;t.exports=i&&i.documentElement},1332:function(t,e,r){r(1333);for(var i=r(1038),n=r(1053),s=r(1114),a=r(1057)(\"toStringTag\"),o=\"CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList\".split(\",\"),h=0;h<o.length;h++){var l=o[h],p=i[l],c=p&&p.prototype;c&&!c[a]&&n(c,a,l),s[l]=s.Array}},1333:function(t,e,r){\"use strict\";var i=r(1334),n=r(1335),s=r(1114),a=r(1056);t.exports=r(1181)(Array,\"Array\",(function(t,e){this._t=a(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,n(1)):n(0,\"keys\"==e?r:\"values\"==e?t[r]:[r,t[r]])}),\"values\"),s.Arguments=s.Array,i(\"keys\"),i(\"values\"),i(\"entries\")},1334:function(t,e){t.exports=function(){}},1335:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},1336:function(t,e,r){t.exports={default:r(1337),__esModule:!0}},1337:function(t,e,r){r(1338),r(1343),r(1344),r(1345),t.exports=r(1028).Symbol},1338:function(t,e,r){\"use strict\";var i=r(1038),n=r(1046),s=r(1039),a=r(1044),o=r(1182),h=r(1339).KEY,l=r(1055),p=r(1111),c=r(1116),f=r(1081),u=r(1057),m=r(1117),d=r(1118),y=r(1340),g=r(1341),v=r(1067),b=r(1054),E=r(1083),x=r(1056),S=r(1107),P=r(1078),_=r(1115),C=r(1342),D=r(1184),k=r(1113),A=r(1045),w=r(1079),T=D.f,M=A.f,F=C.f,I=i.Symbol,O=i.JSON,V=O&&O.stringify,R=u(\"_hidden\"),B=u(\"toPrimitive\"),N={}.propertyIsEnumerable,L=p(\"symbol-registry\"),j=p(\"symbols\"),G=p(\"op-symbols\"),z=Object.prototype,H=\"function\"==typeof I&&!!k.f,W=i.QObject,q=!W||!W.prototype||!W.prototype.findChild,Y=s&&l((function(){return 7!=_(M({},\"a\",{get:function(){return M(this,\"a\",{value:7}).a}})).a}))?function(t,e,r){var i=T(z,e);i&&delete z[e],M(t,e,r),i&&t!==z&&M(z,e,i)}:M,K=function(t){var e=j[t]=_(I.prototype);return e._k=t,e},X=H&&\"symbol\"==typeof I.iterator?function(t){return\"symbol\"==typeof t}:function(t){return t instanceof I},U=function(t,e,r){return t===z&&U(G,e,r),v(t),e=S(e,!0),v(r),n(j,e)?(r.enumerable?(n(t,R)&&t[R][e]&&(t[R][e]=!1),r=_(r,{enumerable:P(0,!1)})):(n(t,R)||M(t,R,P(1,{})),t[R][e]=!0),Y(t,e,r)):M(t,e,r)},Z=function(t,e){v(t);for(var r,i=y(e=x(e)),n=0,s=i.length;s>n;)U(t,r=i[n++],e[r]);return t},$=function(t){var e=N.call(this,t=S(t,!0));return!(this===z&&n(j,t)&&!n(G,t))&&(!(e||!n(this,t)||!n(j,t)||n(this,R)&&this[R][t])||e)},J=function(t,e){if(t=x(t),e=S(e,!0),t!==z||!n(j,e)||n(G,e)){var r=T(t,e);return!r||!n(j,e)||n(t,R)&&t[R][e]||(r.enumerable=!0),r}},Q=function(t){for(var e,r=F(x(t)),i=[],s=0;r.length>s;)n(j,e=r[s++])||e==R||e==h||i.push(e);return i},tt=function(t){for(var e,r=t===z,i=F(r?G:x(t)),s=[],a=0;i.length>a;)!n(j,e=i[a++])||r&&!n(z,e)||s.push(j[e]);return s};H||(o((I=function(){if(this instanceof I)throw TypeError(\"Symbol is not a constructor!\");var t=f(arguments.length>0?arguments[0]:void 0),e=function e(r){this===z&&e.call(G,r),n(this,R)&&n(this[R],t)&&(this[R][t]=!1),Y(this,t,P(1,r))};return s&&q&&Y(z,t,{configurable:!0,set:e}),K(t)}).prototype,\"toString\",(function(){return this._k})),D.f=J,A.f=U,r(1183).f=C.f=Q,r(1082).f=$,k.f=tt,s&&!r(1080)&&o(z,\"propertyIsEnumerable\",$,!0),m.f=function(t){return K(u(t))}),a(a.G+a.W+a.F*!H,{Symbol:I});for(var et=\"hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables\".split(\",\"),rt=0;et.length>rt;)u(et[rt++]);for(var it=w(u.store),nt=0;it.length>nt;)d(it[nt++]);a(a.S+a.F*!H,\"Symbol\",{for:function(t){return n(L,t+=\"\")?L[t]:L[t]=I(t)},keyFor:function(t){if(!X(t))throw TypeError(t+\" is not a symbol!\");for(var e in L)if(L[e]===t)return e},useSetter:function(){q=!0},useSimple:function(){q=!1}}),a(a.S+a.F*!H,\"Object\",{create:function(t,e){return void 0===e?_(t):Z(_(t),e)},defineProperty:U,defineProperties:Z,getOwnPropertyDescriptor:J,getOwnPropertyNames:Q,getOwnPropertySymbols:tt});var st=l((function(){k.f(1)}));a(a.S+a.F*st,\"Object\",{getOwnPropertySymbols:function(t){return k.f(E(t))}}),O&&a(a.S+a.F*(!H||l((function(){var t=I();return\"[null]\"!=V([t])||\"{}\"!=V({a:t})||\"{}\"!=V(Object(t))}))),\"JSON\",{stringify:function(t){for(var e,r,i=[t],n=1;arguments.length>n;)i.push(arguments[n++]);if(r=e=i[1],(b(e)||void 0!==t)&&!X(t))return g(e)||(e=function(t,e){if(\"function\"==typeof r&&(e=r.call(this,t,e)),!X(e))return e}),i[1]=e,V.apply(O,i)}}),I.prototype[B]||r(1053)(I.prototype,B,I.prototype.valueOf),c(I,\"Symbol\"),c(Math,\"Math\",!0),c(i.JSON,\"JSON\",!0)},1339:function(t,e,r){var i=r(1081)(\"meta\"),n=r(1054),s=r(1046),a=r(1045).f,o=0,h=Object.isExtensible||function(){return!0},l=!r(1055)((function(){return h(Object.preventExtensions({}))})),p=function(t){a(t,i,{value:{i:\"O\"+ ++o,w:{}}})},c=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!n(t))return\"symbol\"==typeof t?t:(\"string\"==typeof t?\"S\":\"P\")+t;if(!s(t,i)){if(!h(t))return\"F\";if(!e)return\"E\";p(t)}return t[i].i},getWeak:function(t,e){if(!s(t,i)){if(!h(t))return!0;if(!e)return!1;p(t)}return t[i].w},onFreeze:function(t){return l&&c.NEED&&h(t)&&!s(t,i)&&p(t),t}}},1340:function(t,e,r){var i=r(1079),n=r(1113),s=r(1082);t.exports=function(t){var e=i(t),r=n.f;if(r)for(var a,o=r(t),h=s.f,l=0;o.length>l;)h.call(t,a=o[l++])&&e.push(a);return e}},1341:function(t,e,r){var i=r(1178);t.exports=Array.isArray||function(t){return\"Array\"==i(t)}},1342:function(t,e,r){var i=r(1056),n=r(1183).f,s={}.toString,a=\"object\"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&\"[object Window]\"==s.call(t)?function(t){try{return n(t)}catch(e){return a.slice()}}(t):n(i(t))}},1343:function(t,e){},1344:function(t,e,r){r(1118)(\"asyncIterator\")},1345:function(t,e,r){r(1118)(\"observable\")},1346:function(t,e,r){\"use strict\";e.__esModule=!0;var i=a(r(1347)),n=a(r(1351)),s=a(r(1180));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+(\"undefined\"===typeof e?\"undefined\":(0,s.default)(e)));t.prototype=(0,n.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(i.default?(0,i.default)(t,e):t.__proto__=e)}},1347:function(t,e,r){t.exports={default:r(1348),__esModule:!0}},1348:function(t,e,r){r(1349),t.exports=r(1028).Object.setPrototypeOf},1349:function(t,e,r){var i=r(1044);i(i.S,\"Object\",{setPrototypeOf:r(1350).set})},1350:function(t,e,r){var i=r(1054),n=r(1067),s=function(t,e){if(n(t),!i(e)&&null!==e)throw TypeError(e+\": can't set as prototype!\")};t.exports={set:Object.setPrototypeOf||(\"__proto__\"in{}?function(t,e,i){try{(i=r(1173)(Function.call,r(1184).f(Object.prototype,\"__proto__\").set,2))(t,[]),e=!(t instanceof Array)}catch(n){e=!0}return function(t,r){return s(t,r),e?t.__proto__=r:i(t,r),t}}({},!1):void 0),check:s}},1351:function(t,e,r){t.exports={default:r(1352),__esModule:!0}},1352:function(t,e,r){r(1353);var i=r(1028).Object;t.exports=function(t,e){return i.create(t,e)}},1353:function(t,e,r){var i=r(1044);i(i.S,\"Object\",{create:r(1115)})},1354:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__,root,factory;\"undefined\"!==typeof navigator&&(root=window||{},factory=function(window){\"use strict\";var svgNS=\"http://www.w3.org/2000/svg\",locationHref=\"\",initialDefaultFrame=-999999,subframeEnabled=!0,expressionsPlugin,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),cachedColors={},bm_rounder=Math.round,bm_rnd,bm_pow=Math.pow,bm_sqrt=Math.sqrt,bm_abs=Math.abs,bm_floor=Math.floor,bm_max=Math.max,bm_min=Math.min,blitter=10,BMMath={};function ProjectInterface(){return{}}!function(){var t,e=[\"abs\",\"acos\",\"acosh\",\"asin\",\"asinh\",\"atan\",\"atanh\",\"atan2\",\"ceil\",\"cbrt\",\"expm1\",\"clz32\",\"cos\",\"cosh\",\"exp\",\"floor\",\"fround\",\"hypot\",\"imul\",\"log\",\"log1p\",\"log2\",\"log10\",\"max\",\"min\",\"pow\",\"random\",\"round\",\"sign\",\"sin\",\"sinh\",\"sqrt\",\"tan\",\"tanh\",\"trunc\",\"E\",\"LN10\",\"LN2\",\"LOG10E\",\"LOG2E\",\"PI\",\"SQRT1_2\",\"SQRT2\"],r=e.length;for(t=0;t<r;t+=1)BMMath[e[t]]=Math[e[t]]}(),BMMath.random=Math.random,BMMath.abs=function(t){if(\"object\"===typeof t&&t.length){var e,r=createSizedArray(t.length),i=t.length;for(e=0;e<i;e+=1)r[e]=Math.abs(t[e]);return r}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(t){bm_rnd=t?Math.round:function(t){return t}}function styleDiv(t){t.style.position=\"absolute\",t.style.top=0,t.style.left=0,t.style.display=\"block\",t.style.transformOrigin=t.style.webkitTransformOrigin=\"0 0\",t.style.backfaceVisibility=t.style.webkitBackfaceVisibility=\"visible\",t.style.transformStyle=t.style.webkitTransformStyle=t.style.mozTransformStyle=\"preserve-3d\"}function BMEnterFrameEvent(t,e,r,i){this.type=t,this.currentTime=e,this.totalTime=r,this.direction=i<0?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=e<0?-1:1}function BMCompleteLoopEvent(t,e,r,i){this.type=t,this.currentLoop=r,this.totalLoops=e,this.direction=i<0?-1:1}function BMSegmentStartEvent(t,e,r){this.type=t,this.firstFrame=e,this.totalFrames=r}function BMDestroyEvent(t,e){this.type=t,this.target=e}function BMRenderFrameErrorEvent(t,e){this.type=\"renderFrameError\",this.nativeError=t,this.currentTime=e}function BMConfigErrorEvent(t){this.type=\"configError\",this.nativeError=t}function BMAnimationConfigErrorEvent(t,e){this.type=t,this.nativeError=e,this.currentTime=currentTime}roundValues(!1);var createElementID=function(){var t=0;return function(){return\"__lottie_element_\"+ ++t}}();function HSVtoRGB(t,e,r){var i,n,s,a,o,h,l,p;switch(h=r*(1-e),l=r*(1-(o=6*t-(a=Math.floor(6*t)))*e),p=r*(1-(1-o)*e),a%6){case 0:i=r,n=p,s=h;break;case 1:i=l,n=r,s=h;break;case 2:i=h,n=r,s=p;break;case 3:i=h,n=l,s=r;break;case 4:i=p,n=h,s=r;break;case 5:i=r,n=h,s=l}return[i,n,s]}function RGBtoHSV(t,e,r){var i,n=Math.max(t,e,r),s=Math.min(t,e,r),a=n-s,o=0===n?0:a/n,h=n/255;switch(n){case s:i=0;break;case t:i=e-r+a*(e<r?6:0),i/=6*a;break;case e:i=r-t+2*a,i/=6*a;break;case r:i=t-e+4*a,i/=6*a}return[i,o,h]}function addSaturationToRGB(t,e){var r=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return r[1]+=e,r[1]>1?r[1]=1:r[1]<=0&&(r[1]=0),HSVtoRGB(r[0],r[1],r[2])}function addBrightnessToRGB(t,e){var r=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return r[2]+=e,r[2]>1?r[2]=1:r[2]<0&&(r[2]=0),HSVtoRGB(r[0],r[1],r[2])}function addHueToRGB(t,e){var r=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return r[0]+=e/360,r[0]>1?r[0]-=1:r[0]<0&&(r[0]+=1),HSVtoRGB(r[0],r[1],r[2])}var rgbToHex=function(){var t,e,r=[];for(t=0;t<256;t+=1)e=t.toString(16),r[t]=1==e.length?\"0\"+e:e;return function(t,e,i){return t<0&&(t=0),e<0&&(e=0),i<0&&(i=0),\"#\"+r[t]+r[e]+r[i]}}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(t,e){if(this._cbs[t])for(var r=this._cbs[t].length,i=0;i<r;i++)this._cbs[t][i](e)},addEventListener:function(t,e){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(e),function(){this.removeEventListener(t,e)}.bind(this)},removeEventListener:function(t,e){if(e){if(this._cbs[t]){for(var r=0,i=this._cbs[t].length;r<i;)this._cbs[t][r]===e&&(this._cbs[t].splice(r,1),r-=1,i-=1),r+=1;this._cbs[t].length||(this._cbs[t]=null)}}else this._cbs[t]=null}};var createTypedArray=\"function\"===typeof Uint8ClampedArray&&\"function\"===typeof Float32Array?function(t,e){return\"float32\"===t?new Float32Array(e):\"int16\"===t?new Int16Array(e):\"uint8c\"===t?new Uint8ClampedArray(e):void 0}:function(t,e){var r,i=0,n=[];switch(t){case\"int16\":case\"uint8c\":r=1;break;default:r=1.1}for(i=0;i<e;i+=1)n.push(r);return n};function createSizedArray(t){return Array.apply(null,{length:t})}function createNS(t){return document.createElementNS(svgNS,t)}function createTag(t){return document.createElement(t)}function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var t,e=this.dynamicProperties.length;for(t=0;t<e;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var getBlendMode=function(){var t={0:\"source-over\",1:\"multiply\",2:\"screen\",3:\"overlay\",4:\"darken\",5:\"lighten\",6:\"color-dodge\",7:\"color-burn\",8:\"hard-light\",9:\"soft-light\",10:\"difference\",11:\"exclusion\",12:\"hue\",13:\"saturation\",14:\"color\",15:\"luminosity\"};return function(e){return t[e]||\"\"}}(),Matrix=function(){var t=Math.cos,e=Math.sin,r=Math.tan,i=Math.round;function n(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function s(r){if(0===r)return this;var i=t(r),n=e(r);return this._t(i,-n,0,0,n,i,0,0,0,0,1,0,0,0,0,1)}function a(r){if(0===r)return this;var i=t(r),n=e(r);return this._t(1,0,0,0,0,i,-n,0,0,n,i,0,0,0,0,1)}function o(r){if(0===r)return this;var i=t(r),n=e(r);return this._t(i,0,n,0,0,1,0,0,-n,0,i,0,0,0,0,1)}function h(r){if(0===r)return this;var i=t(r),n=e(r);return this._t(i,-n,0,0,n,i,0,0,0,0,1,0,0,0,0,1)}function l(t,e){return this._t(1,e,t,1,0,0)}function p(t,e){return this.shear(r(t),r(e))}function c(i,n){var s=t(n),a=e(n);return this._t(s,a,0,0,-a,s,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,r(i),1,0,0,0,0,1,0,0,0,0,1)._t(s,-a,0,0,a,s,0,0,0,0,1,0,0,0,0,1)}function f(t,e,r){return r||0===r||(r=1),1===t&&1===e&&1===r?this:this._t(t,0,0,0,0,e,0,0,0,0,r,0,0,0,0,1)}function u(t,e,r,i,n,s,a,o,h,l,p,c,f,u,m,d){return this.props[0]=t,this.props[1]=e,this.props[2]=r,this.props[3]=i,this.props[4]=n,this.props[5]=s,this.props[6]=a,this.props[7]=o,this.props[8]=h,this.props[9]=l,this.props[10]=p,this.props[11]=c,this.props[12]=f,this.props[13]=u,this.props[14]=m,this.props[15]=d,this}function m(t,e,r){return r=r||0,0!==t||0!==e||0!==r?this._t(1,0,0,0,0,1,0,0,0,0,1,0,t,e,r,1):this}function d(t,e,r,i,n,s,a,o,h,l,p,c,f,u,m,d){var y=this.props;if(1===t&&0===e&&0===r&&0===i&&0===n&&1===s&&0===a&&0===o&&0===h&&0===l&&1===p&&0===c)return y[12]=y[12]*t+y[15]*f,y[13]=y[13]*s+y[15]*u,y[14]=y[14]*p+y[15]*m,y[15]=y[15]*d,this._identityCalculated=!1,this;var g=y[0],v=y[1],b=y[2],E=y[3],x=y[4],S=y[5],P=y[6],_=y[7],C=y[8],D=y[9],k=y[10],A=y[11],w=y[12],T=y[13],M=y[14],F=y[15];return y[0]=g*t+v*n+b*h+E*f,y[1]=g*e+v*s+b*l+E*u,y[2]=g*r+v*a+b*p+E*m,y[3]=g*i+v*o+b*c+E*d,y[4]=x*t+S*n+P*h+_*f,y[5]=x*e+S*s+P*l+_*u,y[6]=x*r+S*a+P*p+_*m,y[7]=x*i+S*o+P*c+_*d,y[8]=C*t+D*n+k*h+A*f,y[9]=C*e+D*s+k*l+A*u,y[10]=C*r+D*a+k*p+A*m,y[11]=C*i+D*o+k*c+A*d,y[12]=w*t+T*n+M*h+F*f,y[13]=w*e+T*s+M*l+F*u,y[14]=w*r+T*a+M*p+F*m,y[15]=w*i+T*o+M*c+F*d,this._identityCalculated=!1,this}function y(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function g(t){for(var e=0;e<16;){if(t.props[e]!==this.props[e])return!1;e+=1}return!0}function v(t){var e;for(e=0;e<16;e+=1)t.props[e]=this.props[e]}function b(t){var e;for(e=0;e<16;e+=1)this.props[e]=t[e]}function E(t,e,r){return{x:t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12],y:t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13],z:t*this.props[2]+e*this.props[6]+r*this.props[10]+this.props[14]}}function x(t,e,r){return t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12]}function S(t,e,r){return t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13]}function P(t,e,r){return t*this.props[2]+e*this.props[6]+r*this.props[10]+this.props[14]}function _(){var t=this.props[0]*this.props[5]-this.props[1]*this.props[4],e=this.props[5]/t,r=-this.props[1]/t,i=-this.props[4]/t,n=this.props[0]/t,s=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/t,a=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/t,o=new Matrix;return o.props[0]=e,o.props[1]=r,o.props[4]=i,o.props[5]=n,o.props[12]=s,o.props[13]=a,o}function C(t){return this.getInverseMatrix().applyToPointArray(t[0],t[1],t[2]||0)}function D(t){var e,r=t.length,i=[];for(e=0;e<r;e+=1)i[e]=C(t[e]);return i}function k(t,e,r){var i=createTypedArray(\"float32\",6);if(this.isIdentity())i[0]=t[0],i[1]=t[1],i[2]=e[0],i[3]=e[1],i[4]=r[0],i[5]=r[1];else{var n=this.props[0],s=this.props[1],a=this.props[4],o=this.props[5],h=this.props[12],l=this.props[13];i[0]=t[0]*n+t[1]*a+h,i[1]=t[0]*s+t[1]*o+l,i[2]=e[0]*n+e[1]*a+h,i[3]=e[0]*s+e[1]*o+l,i[4]=r[0]*n+r[1]*a+h,i[5]=r[0]*s+r[1]*o+l}return i}function A(t,e,r){return this.isIdentity()?[t,e,r]:[t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12],t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13],t*this.props[2]+e*this.props[6]+r*this.props[10]+this.props[14]]}function w(t,e){if(this.isIdentity())return t+\",\"+e;var r=this.props;return Math.round(100*(t*r[0]+e*r[4]+r[12]))/100+\",\"+Math.round(100*(t*r[1]+e*r[5]+r[13]))/100}function T(){for(var t=0,e=this.props,r=\"matrix3d(\";t<16;)r+=i(1e4*e[t])/1e4,r+=15===t?\")\":\",\",t+=1;return r}function M(t){return t<1e-6&&t>0||t>-1e-6&&t<0?i(1e4*t)/1e4:t}function F(){var t=this.props;return\"matrix(\"+M(t[0])+\",\"+M(t[1])+\",\"+M(t[4])+\",\"+M(t[5])+\",\"+M(t[12])+\",\"+M(t[13])+\")\"}return function(){this.reset=n,this.rotate=s,this.rotateX=a,this.rotateY=o,this.rotateZ=h,this.skew=p,this.skewFromAxis=c,this.shear=l,this.scale=f,this.setTransform=u,this.translate=m,this.transform=d,this.applyToPoint=E,this.applyToX=x,this.applyToY=S,this.applyToZ=P,this.applyToPointArray=A,this.applyToTriplePoints=k,this.applyToPointStringified=w,this.toCSS=T,this.to2dCSS=F,this.clone=v,this.cloneFromProps=b,this.equals=g,this.inversePoints=D,this.inversePoint=C,this.getInverseMatrix=_,this._t=this.transform,this.isIdentity=y,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray(\"float32\",16),this.reset()}}();!function(t,e){var r=this,i=256,n=e.pow(i,6),s=e.pow(2,52),a=2*s,o=255;function h(t){var e,r=t.length,n=this,s=0,a=n.i=n.j=0,h=n.S=[];for(r||(t=[r++]);s<i;)h[s]=s++;for(s=0;s<i;s++)h[s]=h[a=o&a+t[s%r]+(e=h[s])],h[a]=e;n.g=function(t){for(var e,r=0,s=n.i,a=n.j,h=n.S;t--;)e=h[s=o&s+1],r=r*i+h[o&(h[s]=h[a=o&a+e])+(h[a]=e)];return n.i=s,n.j=a,r}}function l(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function p(t,e){var r,i=[],n=typeof t;if(e&&\"object\"==n)for(r in t)try{i.push(p(t[r],e-1))}catch(s){}return i.length?i:\"string\"==n?t:t+\"\\0\"}function c(t,e){for(var r,i=t+\"\",n=0;n<i.length;)e[o&n]=o&(r^=19*e[o&n])+i.charCodeAt(n++);return f(e)}function f(t){return String.fromCharCode.apply(0,t)}e.seedrandom=function(o,u,m){var d=[],y=c(p((u=!0===u?{entropy:!0}:u||{}).entropy?[o,f(t)]:null===o?function(){try{var e=new Uint8Array(i);return(r.crypto||r.msCrypto).getRandomValues(e),f(e)}catch(a){var n=r.navigator,s=n&&n.plugins;return[+new Date,r,s,r.screen,f(t)]}}():o,3),d),g=new h(d),v=function(){for(var t=g.g(6),e=n,r=0;t<s;)t=(t+r)*i,e*=i,r=g.g(1);for(;t>=a;)t/=2,e/=2,r>>>=1;return(t+r)/e};return v.int32=function(){return 0|g.g(4)},v.quick=function(){return g.g(4)/4294967296},v.double=v,c(f(g.S),t),(u.pass||m||function(t,r,i,n){return n&&(n.S&&l(n,g),t.state=function(){return l(g,{})}),i?(e.random=t,r):t})(v,y,\"global\"in u?u.global:this==e,u.state)},c(e.random(),t)}([],BMMath);var BezierFactory=function(){var t={getBezierEasing:function(t,r,i,n,s){var a=s||(\"bez_\"+t+\"_\"+r+\"_\"+i+\"_\"+n).replace(/\\./g,\"p\");if(e[a])return e[a];var o=new l([t,r,i,n]);return e[a]=o,o}},e={},r=.1,i=\"function\"===typeof Float32Array;function n(t,e){return 1-3*e+3*t}function s(t,e){return 3*e-6*t}function a(t){return 3*t}function o(t,e,r){return((n(e,r)*t+s(e,r))*t+a(e))*t}function h(t,e,r){return 3*n(e,r)*t*t+2*s(e,r)*t+a(e)}function l(t){this._p=t,this._mSampleValues=i?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return l.prototype={get:function(t){var e=this._p[0],r=this._p[1],i=this._p[2],n=this._p[3];return this._precomputed||this._precompute(),e===r&&i===n?t:0===t?0:1===t?1:o(this._getTForX(t),r,n)},_precompute:function(){var t=this._p[0],e=this._p[1],r=this._p[2],i=this._p[3];this._precomputed=!0,t===e&&r===i||this._calcSampleValues()},_calcSampleValues:function(){for(var t=this._p[0],e=this._p[2],i=0;i<11;++i)this._mSampleValues[i]=o(i*r,t,e)},_getTForX:function(t){for(var e=this._p[0],i=this._p[2],n=this._mSampleValues,s=0,a=1;10!==a&&n[a]<=t;++a)s+=r;var l=s+(t-n[--a])/(n[a+1]-n[a])*r,p=h(l,e,i);return p>=.001?function(t,e,r,i){for(var n=0;n<4;++n){var s=h(e,r,i);if(0===s)return e;e-=(o(e,r,i)-t)/s}return e}(t,l,e,i):0===p?l:function(t,e,r,i,n){var s,a,h=0;do{(s=o(a=e+(r-e)/2,i,n)-t)>0?r=a:e=a}while(Math.abs(s)>1e-7&&++h<10);return a}(t,s,s+r,e,i)}},t}();function extendPrototype(t,e){var r,i,n=t.length;for(r=0;r<n;r+=1)for(var s in i=t[r].prototype)i.hasOwnProperty(s)&&(e.prototype[s]=i[s])}function getDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)}function createProxyFunction(t){function e(){}return e.prototype=t,e}function bezFunction(){function t(t,e,r,i,n,s){var a=t*i+e*n+r*s-n*i-s*t-r*e;return a>-.001&&a<.001}Math;var e=function(t,e,r,i){var n,s,a,o,h,l,p=defaultCurveSegments,c=0,f=[],u=[],m=bezier_length_pool.newElement();for(a=r.length,n=0;n<p;n+=1){for(h=n/(p-1),l=0,s=0;s<a;s+=1)o=bm_pow(1-h,3)*t[s]+3*bm_pow(1-h,2)*h*r[s]+3*(1-h)*bm_pow(h,2)*i[s]+bm_pow(h,3)*e[s],f[s]=o,null!==u[s]&&(l+=bm_pow(f[s]-u[s],2)),u[s]=f[s];l&&(c+=l=bm_sqrt(l)),m.percents[n]=h,m.lengths[n]=c}return m.addedLength=c,m};function r(t){this.segmentLength=0,this.points=new Array(t)}function i(t,e){this.partialLength=t,this.point=e}var n=function(){var e={};return function(n,s,a,o){var h=(n[0]+\"_\"+n[1]+\"_\"+s[0]+\"_\"+s[1]+\"_\"+a[0]+\"_\"+a[1]+\"_\"+o[0]+\"_\"+o[1]).replace(/\\./g,\"p\");if(!e[h]){var l,p,c,f,u,m,d,y=defaultCurveSegments,g=0,v=null;2===n.length&&(n[0]!=s[0]||n[1]!=s[1])&&t(n[0],n[1],s[0],s[1],n[0]+a[0],n[1]+a[1])&&t(n[0],n[1],s[0],s[1],s[0]+o[0],s[1]+o[1])&&(y=2);var b=new r(y);for(c=a.length,l=0;l<y;l+=1){for(d=createSizedArray(c),u=l/(y-1),m=0,p=0;p<c;p+=1)f=bm_pow(1-u,3)*n[p]+3*bm_pow(1-u,2)*u*(n[p]+a[p])+3*(1-u)*bm_pow(u,2)*(s[p]+o[p])+bm_pow(u,3)*s[p],d[p]=f,null!==v&&(m+=bm_pow(d[p]-v[p],2));g+=m=bm_sqrt(m),b.points[l]=new i(m,d),v=d}b.segmentLength=g,e[h]=b}return e[h]}}();function s(t,e){var r=e.percents,i=e.lengths,n=r.length,s=bm_floor((n-1)*t),a=t*e.addedLength,o=0;if(s===n-1||0===s||a===i[s])return r[s];for(var h=i[s]>a?-1:1,l=!0;l;)if(i[s]<=a&&i[s+1]>a?(o=(a-i[s])/(i[s+1]-i[s]),l=!1):s+=h,s<0||s>=n-1){if(s===n-1)return r[s];l=!1}return r[s]+(r[s+1]-r[s])*o}var a=createTypedArray(\"float32\",8);return{getSegmentsLength:function(t){var r,i=segments_length_pool.newElement(),n=t.c,s=t.v,a=t.o,o=t.i,h=t._length,l=i.lengths,p=0;for(r=0;r<h-1;r+=1)l[r]=e(s[r],s[r+1],a[r],o[r+1]),p+=l[r].addedLength;return n&&h&&(l[r]=e(s[r],s[0],a[r],o[0]),p+=l[r].addedLength),i.totalLength=p,i},getNewSegment:function(t,e,r,i,n,o,h){var l,p=s(n=n<0?0:n>1?1:n,h),c=s(o=o>1?1:o,h),f=t.length,u=1-p,m=1-c,d=u*u*u,y=p*u*u*3,g=p*p*u*3,v=p*p*p,b=u*u*m,E=p*u*m+u*p*m+u*u*c,x=p*p*m+u*p*c+p*u*c,S=p*p*c,P=u*m*m,_=p*m*m+u*c*m+u*m*c,C=p*c*m+u*c*c+p*m*c,D=p*c*c,k=m*m*m,A=c*m*m+m*c*m+m*m*c,w=c*c*m+m*c*c+c*m*c,T=c*c*c;for(l=0;l<f;l+=1)a[4*l]=Math.round(1e3*(d*t[l]+y*r[l]+g*i[l]+v*e[l]))/1e3,a[4*l+1]=Math.round(1e3*(b*t[l]+E*r[l]+x*i[l]+S*e[l]))/1e3,a[4*l+2]=Math.round(1e3*(P*t[l]+_*r[l]+C*i[l]+D*e[l]))/1e3,a[4*l+3]=Math.round(1e3*(k*t[l]+A*r[l]+w*i[l]+T*e[l]))/1e3;return a},getPointInSegment:function(t,e,r,i,n,a){var o=s(n,a),h=1-o;return[Math.round(1e3*(h*h*h*t[0]+(o*h*h+h*o*h+h*h*o)*r[0]+(o*o*h+h*o*o+o*h*o)*i[0]+o*o*o*e[0]))/1e3,Math.round(1e3*(h*h*h*t[1]+(o*h*h+h*o*h+h*h*o)*r[1]+(o*o*h+h*o*o+o*h*o)*i[1]+o*o*o*e[1]))/1e3]},buildBezierData:n,pointOnLine2D:t,pointOnLine3D:function(e,r,i,n,s,a,o,h,l){if(0===i&&0===a&&0===l)return t(e,r,n,s,o,h);var p,c=Math.sqrt(Math.pow(n-e,2)+Math.pow(s-r,2)+Math.pow(a-i,2)),f=Math.sqrt(Math.pow(o-e,2)+Math.pow(h-r,2)+Math.pow(l-i,2)),u=Math.sqrt(Math.pow(o-n,2)+Math.pow(h-s,2)+Math.pow(l-a,2));return(p=c>f?c>u?c-f-u:u-f-c:u>f?u-f-c:f-c-u)>-1e-4&&p<1e-4}}}!function(){for(var t=0,e=[\"ms\",\"moz\",\"webkit\",\"o\"],r=0;r<e.length&&!window.requestAnimationFrame;++r)window.requestAnimationFrame=window[e[r]+\"RequestAnimationFrame\"],window.cancelAnimationFrame=window[e[r]+\"CancelAnimationFrame\"]||window[e[r]+\"CancelRequestAnimationFrame\"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,r){var i=(new Date).getTime(),n=Math.max(0,16-(i-t)),s=setTimeout((function(){e(i+n)}),n);return t=i+n,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();var bez=bezFunction();function dataFunctionManager(){function t(n,s,a){var o,h,l,p,c,f,u,m=n.length;for(h=0;h<m;h+=1)if(\"ks\"in(o=n[h])&&!o.completed){if(o.completed=!0,o.tt&&(n[h-1].td=o.tt),o.hasMask){var d=o.masksProperties;for(p=d.length,l=0;l<p;l+=1)if(d[l].pt.k.i)i(d[l].pt.k);else for(f=d[l].pt.k.length,c=0;c<f;c+=1)d[l].pt.k[c].s&&i(d[l].pt.k[c].s[0]),d[l].pt.k[c].e&&i(d[l].pt.k[c].e[0])}0===o.ty?(o.layers=e(o.refId,s),t(o.layers,s,a)):4===o.ty?r(o.shapes):5==o.ty&&(0!==(u=o).t.a.length||\"m\"in u.t.p||(u.singleShape=!0))}}function e(t,e){for(var r=0,i=e.length;r<i;){if(e[r].id===t)return e[r].layers.__used?JSON.parse(JSON.stringify(e[r].layers)):(e[r].layers.__used=!0,e[r].layers);r+=1}}function r(t){var e,n,s;for(e=t.length-1;e>=0;e-=1)if(\"sh\"==t[e].ty)if(t[e].ks.k.i)i(t[e].ks.k);else for(s=t[e].ks.k.length,n=0;n<s;n+=1)t[e].ks.k[n].s&&i(t[e].ks.k[n].s[0]),t[e].ks.k[n].e&&i(t[e].ks.k[n].e[0]);else\"gr\"==t[e].ty&&r(t[e].it)}function i(t){var e,r=t.i.length;for(e=0;e<r;e+=1)t.i[e][0]+=t.v[e][0],t.i[e][1]+=t.v[e][1],t.o[e][0]+=t.v[e][0],t.o[e][1]+=t.v[e][1]}function n(t,e){var r=e?e.split(\".\"):[100,100,100];return t[0]>r[0]||!(r[0]>t[0])&&(t[1]>r[1]||!(r[1]>t[1])&&(t[2]>r[2]||!(r[2]>t[2])&&void 0))}var s=function(){var t=[4,4,14];function e(t){var e=t.t.d;t.t.d={k:[{s:e,t:0}]}}function r(t){var r,i=t.length;for(r=0;r<i;r+=1)5===t[r].ty&&e(t[r])}return function(e){if(n(t,e.v)&&(r(e.layers),e.assets)){var i,s=e.assets.length;for(i=0;i<s;i+=1)e.assets[i].layers&&r(e.assets[i].layers)}}}(),a=function(){var t=[4,7,99];return function(e){if(e.chars&&!n(t,e.v)){var r,s,a,o,h,l=e.chars.length;for(r=0;r<l;r+=1)if(e.chars[r].data&&e.chars[r].data.shapes)for(a=(h=e.chars[r].data.shapes[0].it).length,s=0;s<a;s+=1)(o=h[s].ks.k).__converted||(i(h[s].ks.k),o.__converted=!0)}}}(),o=function(){var t=[4,1,9];function e(t){var r,i,n,s=t.length;for(r=0;r<s;r+=1)if(\"gr\"===t[r].ty)e(t[r].it);else if(\"fl\"===t[r].ty||\"st\"===t[r].ty)if(t[r].c.k&&t[r].c.k[0].i)for(n=t[r].c.k.length,i=0;i<n;i+=1)t[r].c.k[i].s&&(t[r].c.k[i].s[0]/=255,t[r].c.k[i].s[1]/=255,t[r].c.k[i].s[2]/=255,t[r].c.k[i].s[3]/=255),t[r].c.k[i].e&&(t[r].c.k[i].e[0]/=255,t[r].c.k[i].e[1]/=255,t[r].c.k[i].e[2]/=255,t[r].c.k[i].e[3]/=255);else t[r].c.k[0]/=255,t[r].c.k[1]/=255,t[r].c.k[2]/=255,t[r].c.k[3]/=255}function r(t){var r,i=t.length;for(r=0;r<i;r+=1)4===t[r].ty&&e(t[r].shapes)}return function(e){if(n(t,e.v)&&(r(e.layers),e.assets)){var i,s=e.assets.length;for(i=0;i<s;i+=1)e.assets[i].layers&&r(e.assets[i].layers)}}}(),h=function(){var t=[4,4,18];function e(t){var r,i,n;for(r=t.length-1;r>=0;r-=1)if(\"sh\"==t[r].ty)if(t[r].ks.k.i)t[r].ks.k.c=t[r].closed;else for(n=t[r].ks.k.length,i=0;i<n;i+=1)t[r].ks.k[i].s&&(t[r].ks.k[i].s[0].c=t[r].closed),t[r].ks.k[i].e&&(t[r].ks.k[i].e[0].c=t[r].closed);else\"gr\"==t[r].ty&&e(t[r].it)}function r(t){var r,i,n,s,a,o,h=t.length;for(i=0;i<h;i+=1){if((r=t[i]).hasMask){var l=r.masksProperties;for(s=l.length,n=0;n<s;n+=1)if(l[n].pt.k.i)l[n].pt.k.c=l[n].cl;else for(o=l[n].pt.k.length,a=0;a<o;a+=1)l[n].pt.k[a].s&&(l[n].pt.k[a].s[0].c=l[n].cl),l[n].pt.k[a].e&&(l[n].pt.k[a].e[0].c=l[n].cl)}4===r.ty&&e(r.shapes)}}return function(e){if(n(t,e.v)&&(r(e.layers),e.assets)){var i,s=e.assets.length;for(i=0;i<s;i+=1)e.assets[i].layers&&r(e.assets[i].layers)}}}();var l={completeData:function(e,r){e.__complete||(o(e),s(e),a(e),h(e),t(e.layers,e.assets,r),e.__complete=!0)}};return l.checkColors=o,l.checkChars=a,l.checkShapes=h,l.completeLayers=t,l}var dataManager=dataFunctionManager(),FontManager=function(){var t={w:0,size:0,shapes:[]},e=[];function r(t,e){var r=createTag(\"span\");r.style.fontFamily=e;var i=createTag(\"span\");i.innerText=\"giItT1WQy@!-/#\",r.style.position=\"absolute\",r.style.left=\"-10000px\",r.style.top=\"-10000px\",r.style.fontSize=\"300px\",r.style.fontVariant=\"normal\",r.style.fontStyle=\"normal\",r.style.fontWeight=\"normal\",r.style.letterSpacing=\"0\",r.appendChild(i),document.body.appendChild(r);var n=i.offsetWidth;return i.style.fontFamily=function(t){var e,r=t.split(\",\"),i=r.length,n=[];for(e=0;e<i;e+=1)\"sans-serif\"!==r[e]&&\"monospace\"!==r[e]&&n.push(r[e]);return n.join(\",\")}(t)+\", \"+e,{node:i,w:n,parent:r}}function i(t,e){var r=createNS(\"text\");return r.style.fontSize=\"100px\",r.setAttribute(\"font-family\",e.fFamily),r.setAttribute(\"font-style\",e.fStyle),r.setAttribute(\"font-weight\",e.fWeight),r.textContent=\"1\",e.fClass?(r.style.fontFamily=\"inherit\",r.setAttribute(\"class\",e.fClass)):r.style.fontFamily=e.fFamily,t.appendChild(r),createTag(\"canvas\").getContext(\"2d\").font=e.fWeight+\" \"+e.fStyle+\" 100px \"+e.fFamily,r}e=e.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var n=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};return n.getCombinedCharacterCodes=function(){return e},n.prototype={addChars:function(t){if(t){this.chars||(this.chars=[]);var e,r,i,n=t.length,s=this.chars.length;for(e=0;e<n;e+=1){for(r=0,i=!1;r<s;)this.chars[r].style===t[e].style&&this.chars[r].fFamily===t[e].fFamily&&this.chars[r].ch===t[e].ch&&(i=!0),r+=1;i||(this.chars.push(t[e]),s+=1)}}},addFonts:function(t,e){if(t){if(this.chars)return this.isLoaded=!0,void(this.fonts=t.list);var n,s=t.list,a=s.length,o=a;for(n=0;n<a;n+=1){var h,l,p=!0;if(s[n].loaded=!1,s[n].monoCase=r(s[n].fFamily,\"monospace\"),s[n].sansCase=r(s[n].fFamily,\"sans-serif\"),s[n].fPath){if(\"p\"===s[n].fOrigin||3===s[n].origin){if((h=document.querySelectorAll('style[f-forigin=\"p\"][f-family=\"'+s[n].fFamily+'\"], style[f-origin=\"3\"][f-family=\"'+s[n].fFamily+'\"]')).length>0&&(p=!1),p){var c=createTag(\"style\");c.setAttribute(\"f-forigin\",s[n].fOrigin),c.setAttribute(\"f-origin\",s[n].origin),c.setAttribute(\"f-family\",s[n].fFamily),c.type=\"text/css\",c.innerText=\"@font-face {font-family: \"+s[n].fFamily+\"; font-style: normal; src: url('\"+s[n].fPath+\"');}\",e.appendChild(c)}}else if(\"g\"===s[n].fOrigin||1===s[n].origin){for(h=document.querySelectorAll('link[f-forigin=\"g\"], link[f-origin=\"1\"]'),l=0;l<h.length;l++)-1!==h[l].href.indexOf(s[n].fPath)&&(p=!1);if(p){var f=createTag(\"link\");f.setAttribute(\"f-forigin\",s[n].fOrigin),f.setAttribute(\"f-origin\",s[n].origin),f.type=\"text/css\",f.rel=\"stylesheet\",f.href=s[n].fPath,document.body.appendChild(f)}}else if(\"t\"===s[n].fOrigin||2===s[n].origin){for(h=document.querySelectorAll('script[f-forigin=\"t\"], script[f-origin=\"2\"]'),l=0;l<h.length;l++)s[n].fPath===h[l].src&&(p=!1);if(p){var u=createTag(\"link\");u.setAttribute(\"f-forigin\",s[n].fOrigin),u.setAttribute(\"f-origin\",s[n].origin),u.setAttribute(\"rel\",\"stylesheet\"),u.setAttribute(\"href\",s[n].fPath),e.appendChild(u)}}}else s[n].loaded=!0,o-=1;s[n].helper=i(e,s[n]),s[n].cache={},this.fonts.push(s[n])}0===o?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(e,r,i){for(var n=0,s=this.chars.length;n<s;){if(this.chars[n].ch===e&&this.chars[n].style===r&&this.chars[n].fFamily===i)return this.chars[n];n+=1}return(\"string\"===typeof e&&13!==e.charCodeAt(0)||!e)&&console&&console.warn&&console.warn(\"Missing character from exported characters list: \",e,r,i),t},getFontByName:function(t){for(var e=0,r=this.fonts.length;e<r;){if(this.fonts[e].fName===t)return this.fonts[e];e+=1}return this.fonts[0]},measureText:function(t,e,r){var i=this.getFontByName(e),n=t.charCodeAt(0);if(!i.cache[n+1]){var s=i.helper;if(\" \"===t){s.textContent=\"|\"+t+\"|\";var a=s.getComputedTextLength();s.textContent=\"||\";var o=s.getComputedTextLength();i.cache[n+1]=(a-o)/100}else s.textContent=t,i.cache[n+1]=s.getComputedTextLength()/100}return i.cache[n+1]*r},checkLoadedFonts:function(){var t,e,r,i=this.fonts.length,n=i;for(t=0;t<i;t+=1)this.fonts[t].loaded?n-=1:\"n\"===this.fonts[t].fOrigin||0===this.fonts[t].origin?this.fonts[t].loaded=!0:(e=this.fonts[t].monoCase.node,r=this.fonts[t].monoCase.w,e.offsetWidth!==r?(n-=1,this.fonts[t].loaded=!0):(e=this.fonts[t].sansCase.node,r=this.fonts[t].sansCase.w,e.offsetWidth!==r&&(n-=1,this.fonts[t].loaded=!0)),this.fonts[t].loaded&&(this.fonts[t].sansCase.parent.parentNode.removeChild(this.fonts[t].sansCase.parent),this.fonts[t].monoCase.parent.parentNode.removeChild(this.fonts[t].monoCase.parent)));0!==n&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}},n}(),PropertyFactory=function(){var t=initialDefaultFrame,e=Math.abs;function r(t,e){var r,n=this.offsetTime;\"multidimensional\"===this.propType&&(r=createTypedArray(\"float32\",this.pv.length));for(var s,a,o,h,l,p,c,f,u=e.lastIndex,m=u,d=this.keyframes.length-1,y=!0;y;){if(s=this.keyframes[m],a=this.keyframes[m+1],m===d-1&&t>=a.t-n){s.h&&(s=a),u=0;break}if(a.t-n>t){u=m;break}m<d-1?m+=1:(u=0,y=!1)}var g,v=a.t-n,b=s.t-n;if(s.to){s.bezierData||(s.bezierData=bez.buildBezierData(s.s,a.s||s.e,s.to,s.ti));var E=s.bezierData;if(t>=v||t<b){var x=t>=v?E.points.length-1:0;for(h=E.points[x].point.length,o=0;o<h;o+=1)r[o]=E.points[x].point[o]}else{s.__fnct?f=s.__fnct:(f=BezierFactory.getBezierEasing(s.o.x,s.o.y,s.i.x,s.i.y,s.n).get,s.__fnct=f),l=f((t-b)/(v-b));var S,P=E.segmentLength*l,_=e.lastFrame<t&&e._lastKeyframeIndex===m?e._lastAddedLength:0;for(c=e.lastFrame<t&&e._lastKeyframeIndex===m?e._lastPoint:0,y=!0,p=E.points.length;y;){if(_+=E.points[c].partialLength,0===P||0===l||c===E.points.length-1){for(h=E.points[c].point.length,o=0;o<h;o+=1)r[o]=E.points[c].point[o];break}if(P>=_&&P<_+E.points[c+1].partialLength){for(S=(P-_)/E.points[c+1].partialLength,h=E.points[c].point.length,o=0;o<h;o+=1)r[o]=E.points[c].point[o]+(E.points[c+1].point[o]-E.points[c].point[o])*S;break}c<p-1?c+=1:y=!1}e._lastPoint=c,e._lastAddedLength=_-E.points[c].partialLength,e._lastKeyframeIndex=m}}else{var C,D,k,A,w;if(d=s.s.length,g=a.s||s.e,this.sh&&1!==s.h)t>=v?(r[0]=g[0],r[1]=g[1],r[2]=g[2]):t<=b?(r[0]=s.s[0],r[1]=s.s[1],r[2]=s.s[2]):function(t,e){var r=e[0],i=e[1],n=e[2],s=e[3],a=Math.atan2(2*i*s-2*r*n,1-2*i*i-2*n*n),o=Math.asin(2*r*i+2*n*s),h=Math.atan2(2*r*s-2*i*n,1-2*r*r-2*n*n);t[0]=a/degToRads,t[1]=o/degToRads,t[2]=h/degToRads}(r,function(t,e,r){var i,n,s,a,o,h=[],l=t[0],p=t[1],c=t[2],f=t[3],u=e[0],m=e[1],d=e[2],y=e[3];return(n=l*u+p*m+c*d+f*y)<0&&(n=-n,u=-u,m=-m,d=-d,y=-y),1-n>1e-6?(i=Math.acos(n),s=Math.sin(i),a=Math.sin((1-r)*i)/s,o=Math.sin(r*i)/s):(a=1-r,o=r),h[0]=a*l+o*u,h[1]=a*p+o*m,h[2]=a*c+o*d,h[3]=a*f+o*y,h}(i(s.s),i(g),(t-b)/(v-b)));else for(m=0;m<d;m+=1)1!==s.h&&(t>=v?l=1:t<b?l=0:(s.o.x.constructor===Array?(s.__fnct||(s.__fnct=[]),s.__fnct[m]?f=s.__fnct[m]:(C=\"undefined\"===typeof s.o.x[m]?s.o.x[0]:s.o.x[m],D=\"undefined\"===typeof s.o.y[m]?s.o.y[0]:s.o.y[m],k=\"undefined\"===typeof s.i.x[m]?s.i.x[0]:s.i.x[m],A=\"undefined\"===typeof s.i.y[m]?s.i.y[0]:s.i.y[m],f=BezierFactory.getBezierEasing(C,D,k,A).get,s.__fnct[m]=f)):s.__fnct?f=s.__fnct:(C=s.o.x,D=s.o.y,k=s.i.x,A=s.i.y,f=BezierFactory.getBezierEasing(C,D,k,A).get,s.__fnct=f),l=f((t-b)/(v-b)))),g=a.s||s.e,w=1===s.h?s.s[m]:s.s[m]+(g[m]-s.s[m])*l,\"multidimensional\"===this.propType?r[m]=w:r=w}return e.lastIndex=u,r}function i(t){var e=t[0]*degToRads,r=t[1]*degToRads,i=t[2]*degToRads,n=Math.cos(e/2),s=Math.cos(r/2),a=Math.cos(i/2),o=Math.sin(e/2),h=Math.sin(r/2),l=Math.sin(i/2);return[o*h*a+n*s*l,o*s*a+n*h*l,n*h*a-o*s*l,n*s*a-o*h*l]}function n(){var e=this.comp.renderedFrame-this.offsetTime,r=this.keyframes[0].t-this.offsetTime,i=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(e===this._caching.lastFrame||this._caching.lastFrame!==t&&(this._caching.lastFrame>=i&&e>=i||this._caching.lastFrame<r&&e<r))){this._caching.lastFrame>=e&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var n=this.interpolateValue(e,this._caching);this.pv=n}return this._caching.lastFrame=e,this.pv}function s(t){var r;if(\"unidimensional\"===this.propType)r=t*this.mult,e(this.v-r)>1e-5&&(this.v=r,this._mdf=!0);else for(var i=0,n=this.v.length;i<n;)r=t[i]*this.mult,e(this.v[i]-r)>1e-5&&(this.v[i]=r,this._mdf=!0),i+=1}function a(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{this.lock=!0,this._mdf=this._isFirstFrame;var t,e=this.effectsSequence.length,r=this.kf?this.pv:this.data.k;for(t=0;t<e;t+=1)r=this.effectsSequence[t](r);this.setVValue(r),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function o(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function h(t,e,r,i){this.propType=\"unidimensional\",this.mult=r||1,this.data=e,this.v=r?e.k*r:e.k,this.pv=e.k,this._mdf=!1,this.elem=t,this.container=i,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=a,this.setVValue=s,this.addEffect=o}function l(t,e,r,i){this.propType=\"multidimensional\",this.mult=r||1,this.data=e,this._mdf=!1,this.elem=t,this.container=i,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var n,h=e.k.length;for(this.v=createTypedArray(\"float32\",h),this.pv=createTypedArray(\"float32\",h),createTypedArray(\"float32\",h),this.vel=createTypedArray(\"float32\",h),n=0;n<h;n+=1)this.v[n]=e.k[n]*this.mult,this.pv[n]=e.k[n];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=a,this.setVValue=s,this.addEffect=o}function p(e,i,h,l){this.propType=\"unidimensional\",this.keyframes=i.k,this.offsetTime=e.data.st,this.frameId=-1,this._caching={lastFrame:t,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=i,this.mult=h||1,this.elem=e,this.container=l,this.comp=e.comp,this.v=t,this.pv=t,this._isFirstFrame=!0,this.getValue=a,this.setVValue=s,this.interpolateValue=r,this.effectsSequence=[n.bind(this)],this.addEffect=o}function c(e,i,h,l){this.propType=\"multidimensional\";var p,c,f,u,m,d=i.k.length;for(p=0;p<d-1;p+=1)i.k[p].to&&i.k[p].s&&i.k[p+1]&&i.k[p+1].s&&(c=i.k[p].s,f=i.k[p+1].s,u=i.k[p].to,m=i.k[p].ti,(2===c.length&&(c[0]!==f[0]||c[1]!==f[1])&&bez.pointOnLine2D(c[0],c[1],f[0],f[1],c[0]+u[0],c[1]+u[1])&&bez.pointOnLine2D(c[0],c[1],f[0],f[1],f[0]+m[0],f[1]+m[1])||3===c.length&&(c[0]!==f[0]||c[1]!==f[1]||c[2]!==f[2])&&bez.pointOnLine3D(c[0],c[1],c[2],f[0],f[1],f[2],c[0]+u[0],c[1]+u[1],c[2]+u[2])&&bez.pointOnLine3D(c[0],c[1],c[2],f[0],f[1],f[2],f[0]+m[0],f[1]+m[1],f[2]+m[2]))&&(i.k[p].to=null,i.k[p].ti=null),c[0]===f[0]&&c[1]===f[1]&&0===u[0]&&0===u[1]&&0===m[0]&&0===m[1]&&(2===c.length||c[2]===f[2]&&0===u[2]&&0===m[2])&&(i.k[p].to=null,i.k[p].ti=null));this.effectsSequence=[n.bind(this)],this.keyframes=i.k,this.offsetTime=e.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=h||1,this.elem=e,this.container=l,this.comp=e.comp,this.getValue=a,this.setVValue=s,this.interpolateValue=r,this.frameId=-1;var y=i.k[0].s.length;for(this.v=createTypedArray(\"float32\",y),this.pv=createTypedArray(\"float32\",y),p=0;p<y;p+=1)this.v[p]=t,this.pv[p]=t;this._caching={lastFrame:t,lastIndex:0,value:createTypedArray(\"float32\",y)},this.addEffect=o}return{getProp:function(t,e,r,i,n){var s;if(e.k.length)if(\"number\"===typeof e.k[0])s=new l(t,e,i,n);else switch(r){case 0:s=new p(t,e,i,n);break;case 1:s=new c(t,e,i,n)}else s=new h(t,e,i,n);return s.effectsSequence.length&&n.addDynamicProperty(s),s}}}(),TransformPropertyFactory=function(){var t=[0,0];function e(t,e,r){if(this.elem=t,this.frameId=-1,this.propType=\"transform\",this.data=e,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(r||t),e.p&&e.p.s?(this.px=PropertyFactory.getProp(t,e.p.x,0,0,this),this.py=PropertyFactory.getProp(t,e.p.y,0,0,this),e.p.z&&(this.pz=PropertyFactory.getProp(t,e.p.z,0,0,this))):this.p=PropertyFactory.getProp(t,e.p||{k:[0,0,0]},1,0,this),e.rx){if(this.rx=PropertyFactory.getProp(t,e.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(t,e.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(t,e.rz,0,degToRads,this),e.or.k[0].ti){var i,n=e.or.k.length;for(i=0;i<n;i+=1)e.or.k[i].to=e.or.k[i].ti=null}this.or=PropertyFactory.getProp(t,e.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(t,e.r||{k:0},0,degToRads,this);e.sk&&(this.sk=PropertyFactory.getProp(t,e.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(t,e.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(t,e.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(t,e.s||{k:[100,100,100]},1,.01,this),e.o?this.o=PropertyFactory.getProp(t,e.o,0,.01,t):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return e.prototype={applyToMatrix:function(t){var e=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||e,this.a&&t.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&t.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&t.skewFromAxis(-this.sk.v,this.sa.v),this.r?t.rotate(-this.r.v):t.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?t.translate(this.px.v,this.py.v,-this.pz.v):t.translate(this.px.v,this.py.v,0):t.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(e){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||e){if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var r,i,n=this.elem.globalData.frameRate;if(this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(r=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/n,0),i=this.p.getValueAtTime(this.p.keyframes[0].t/n,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(r=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/n,0),i=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/n,0)):(r=this.p.pv,i=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/n,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){r=[],i=[];var s=this.px,a=this.py;s._caching.lastFrame+s.offsetTime<=s.keyframes[0].t?(r[0]=s.getValueAtTime((s.keyframes[0].t+.01)/n,0),r[1]=a.getValueAtTime((a.keyframes[0].t+.01)/n,0),i[0]=s.getValueAtTime(s.keyframes[0].t/n,0),i[1]=a.getValueAtTime(a.keyframes[0].t/n,0)):s._caching.lastFrame+s.offsetTime>=s.keyframes[s.keyframes.length-1].t?(r[0]=s.getValueAtTime(s.keyframes[s.keyframes.length-1].t/n,0),r[1]=a.getValueAtTime(a.keyframes[a.keyframes.length-1].t/n,0),i[0]=s.getValueAtTime((s.keyframes[s.keyframes.length-1].t-.01)/n,0),i[1]=a.getValueAtTime((a.keyframes[a.keyframes.length-1].t-.01)/n,0)):(r=[s.pv,a.pv],i[0]=s.getValueAtTime((s._caching.lastFrame+s.offsetTime-.01)/n,s.offsetTime),i[1]=a.getValueAtTime((a._caching.lastFrame+a.offsetTime-.01)/n,a.offsetTime))}else r=i=t;this.v.rotate(-Math.atan2(r[1]-i[1],r[0]-i[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}if(this.r){if(this.r.effectsSequence.length)return;this.pre.rotate(-this.r.v),this.appliedTransformations=4}else this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],e),e.prototype.addDynamicProperty=function(t){this._addDynamicProperty(t),this.elem.addDynamicProperty(t),this._isDirty=!0},e.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(t,r,i){return new e(t,r,i)}}}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var r=0;r<e;)this.v[r]=point_pool.newElement(),this.o[r]=point_pool.newElement(),this.i[r]=point_pool.newElement(),r+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,e,r,i,n){var s;switch(this._length=Math.max(this._length,i+1),this._length>=this._maxLength&&this.doubleArrayLength(),r){case\"v\":s=this.v;break;case\"i\":s=this.i;break;case\"o\":s=this.o}(!s[i]||s[i]&&!n)&&(s[i]=point_pool.newElement()),s[i][0]=t,s[i][1]=e},ShapePath.prototype.setTripleAt=function(t,e,r,i,n,s,a,o){this.setXYAt(t,e,\"v\",a,o),this.setXYAt(r,i,\"o\",a,o),this.setXYAt(n,s,\"i\",a,o)},ShapePath.prototype.reverse=function(){var t=new ShapePath;t.setPathData(this.c,this._length);var e=this.v,r=this.o,i=this.i,n=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],i[0][0],i[0][1],r[0][0],r[0][1],0,!1),n=1);var s,a=this._length-1,o=this._length;for(s=n;s<o;s+=1)t.setTripleAt(e[a][0],e[a][1],i[a][0],i[a][1],r[a][0],r[a][1],s,!1),a-=1;return t};var ShapePropertyFactory=function(){var t=-999999;function e(t,e,r){var i,n,s,a,o,h,l,p,c,f=r.lastIndex,u=this.keyframes;if(t<u[0].t-this.offsetTime)i=u[0].s[0],s=!0,f=0;else if(t>=u[u.length-1].t-this.offsetTime)i=u[u.length-1].s?u[u.length-1].s[0]:u[u.length-2].e[0],s=!0;else{for(var m,d,y=f,g=u.length-1,v=!0;v&&(m=u[y],!((d=u[y+1]).t-this.offsetTime>t));)y<g-1?y+=1:v=!1;if(f=y,!(s=1===m.h)){if(t>=d.t-this.offsetTime)p=1;else if(t<m.t-this.offsetTime)p=0;else{var b;m.__fnct?b=m.__fnct:(b=BezierFactory.getBezierEasing(m.o.x,m.o.y,m.i.x,m.i.y).get,m.__fnct=b),p=b((t-(m.t-this.offsetTime))/(d.t-this.offsetTime-(m.t-this.offsetTime)))}n=d.s?d.s[0]:m.e[0]}i=m.s[0]}for(h=e._length,l=i.i[0].length,r.lastIndex=f,a=0;a<h;a+=1)for(o=0;o<l;o+=1)c=s?i.i[a][o]:i.i[a][o]+(n.i[a][o]-i.i[a][o])*p,e.i[a][o]=c,c=s?i.o[a][o]:i.o[a][o]+(n.o[a][o]-i.o[a][o])*p,e.o[a][o]=c,c=s?i.v[a][o]:i.v[a][o]+(n.v[a][o]-i.v[a][o])*p,e.v[a][o]=c}function r(){var e=this.comp.renderedFrame-this.offsetTime,r=this.keyframes[0].t-this.offsetTime,i=this.keyframes[this.keyframes.length-1].t-this.offsetTime,n=this._caching.lastFrame;return n!==t&&(n<r&&e<r||n>i&&e>i)||(this._caching.lastIndex=n<e?this._caching.lastIndex:0,this.interpolateShape(e,this.pv,this._caching)),this._caching.lastFrame=e,this.pv}function i(){this.paths=this.localShapeCollection}function n(t){(function(t,e){if(t._length!==e._length||t.c!==e.c)return!1;var r,i=t._length;for(r=0;r<i;r+=1)if(t.v[r][0]!==e.v[r][0]||t.v[r][1]!==e.v[r][1]||t.o[r][0]!==e.o[r][0]||t.o[r][1]!==e.o[r][1]||t.i[r][0]!==e.i[r][0]||t.i[r][1]!==e.i[r][1])return!1;return!0})(this.v,t)||(this.v=shape_pool.clone(t),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function s(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{this.lock=!0,this._mdf=!1;var t,e=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k,r=this.effectsSequence.length;for(t=0;t<r;t+=1)e=this.effectsSequence[t](e);this.setVValue(e),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function a(t,e,r){this.propType=\"shape\",this.comp=t.comp,this.container=t,this.elem=t,this.data=e,this.k=!1,this.kf=!1,this._mdf=!1;var n=3===r?e.pt.k:e.ks.k;this.v=shape_pool.clone(n),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=i,this.effectsSequence=[]}function o(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function h(e,n,s){this.propType=\"shape\",this.comp=e.comp,this.elem=e,this.container=e,this.offsetTime=e.data.st,this.keyframes=3===s?n.pt.k:n.ks.k,this.k=!0,this.kf=!0;var a=this.keyframes[0].s[0].i.length;this.keyframes[0].s[0].i[0].length,this.v=shape_pool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,a),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=t,this.reset=i,this._caching={lastFrame:t,lastIndex:0},this.effectsSequence=[r.bind(this)]}a.prototype.interpolateShape=e,a.prototype.getValue=s,a.prototype.setVValue=n,a.prototype.addEffect=o,h.prototype.getValue=s,h.prototype.interpolateShape=e,h.prototype.setVValue=n,h.prototype.addEffect=o;var l=function(){var t=roundCorner;function e(t,e){this.v=shape_pool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=e.d,this.elem=t,this.comp=t.comp,this.frameId=-1,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return e.prototype={reset:i,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var e=this.p.v[0],r=this.p.v[1],i=this.s.v[0]/2,n=this.s.v[1]/2,s=3!==this.d,a=this.v;a.v[0][0]=e,a.v[0][1]=r-n,a.v[1][0]=s?e+i:e-i,a.v[1][1]=r,a.v[2][0]=e,a.v[2][1]=r+n,a.v[3][0]=s?e-i:e+i,a.v[3][1]=r,a.i[0][0]=s?e-i*t:e+i*t,a.i[0][1]=r-n,a.i[1][0]=s?e+i:e-i,a.i[1][1]=r-n*t,a.i[2][0]=s?e+i*t:e-i*t,a.i[2][1]=r+n,a.i[3][0]=s?e-i:e+i,a.i[3][1]=r+n*t,a.o[0][0]=s?e+i*t:e-i*t,a.o[0][1]=r-n,a.o[1][0]=s?e+i:e-i,a.o[1][1]=r+n*t,a.o[2][0]=s?e-i*t:e+i*t,a.o[2][1]=r+n,a.o[3][0]=s?e-i:e+i,a.o[3][1]=r-n*t}},extendPrototype([DynamicPropertyContainer],e),e}(),p=function(){function t(t,e){this.v=shape_pool.newElement(),this.v.setPathData(!0,0),this.elem=t,this.comp=t.comp,this.data=e,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),1===e.sy?(this.ir=PropertyFactory.getProp(t,e.ir,0,0,this),this.is=PropertyFactory.getProp(t,e.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(t,e.pt,0,0,this),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,degToRads,this),this.or=PropertyFactory.getProp(t,e.or,0,0,this),this.os=PropertyFactory.getProp(t,e.os,0,.01,this),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return t.prototype={reset:i,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var t,e,r,i,n=2*Math.floor(this.pt.v),s=2*Math.PI/n,a=!0,o=this.or.v,h=this.ir.v,l=this.os.v,p=this.is.v,c=2*Math.PI*o/(2*n),f=2*Math.PI*h/(2*n),u=-Math.PI/2;u+=this.r.v;var m=3===this.data.d?-1:1;for(this.v._length=0,t=0;t<n;t+=1){r=a?l:p,i=a?c:f;var d=(e=a?o:h)*Math.cos(u),y=e*Math.sin(u),g=0===d&&0===y?0:y/Math.sqrt(d*d+y*y),v=0===d&&0===y?0:-d/Math.sqrt(d*d+y*y);d+=+this.p.v[0],y+=+this.p.v[1],this.v.setTripleAt(d,y,d-g*i*r*m,y-v*i*r*m,d+g*i*r*m,y+v*i*r*m,t,!0),a=!a,u+=s*m}},convertPolygonToPath:function(){var t,e=Math.floor(this.pt.v),r=2*Math.PI/e,i=this.or.v,n=this.os.v,s=2*Math.PI*i/(4*e),a=-Math.PI/2,o=3===this.data.d?-1:1;for(a+=this.r.v,this.v._length=0,t=0;t<e;t+=1){var h=i*Math.cos(a),l=i*Math.sin(a),p=0===h&&0===l?0:l/Math.sqrt(h*h+l*l),c=0===h&&0===l?0:-h/Math.sqrt(h*h+l*l);h+=+this.p.v[0],l+=+this.p.v[1],this.v.setTripleAt(h,l,h-p*s*n*o,l-c*s*n*o,h+p*s*n*o,l+c*s*n*o,t,!0),a+=r*o}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],t),t}(),c=function(){function t(t,e){this.v=shape_pool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=t,this.comp=t.comp,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return t.prototype={convertRectToPath:function(){var t=this.p.v[0],e=this.p.v[1],r=this.s.v[0]/2,i=this.s.v[1]/2,n=bm_min(r,i,this.r.v),s=n*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(t+r,e-i+n,t+r,e-i+n,t+r,e-i+s,0,!0),this.v.setTripleAt(t+r,e+i-n,t+r,e+i-s,t+r,e+i-n,1,!0),0!==n?(this.v.setTripleAt(t+r-n,e+i,t+r-n,e+i,t+r-s,e+i,2,!0),this.v.setTripleAt(t-r+n,e+i,t-r+s,e+i,t-r+n,e+i,3,!0),this.v.setTripleAt(t-r,e+i-n,t-r,e+i-n,t-r,e+i-s,4,!0),this.v.setTripleAt(t-r,e-i+n,t-r,e-i+s,t-r,e-i+n,5,!0),this.v.setTripleAt(t-r+n,e-i,t-r+n,e-i,t-r+s,e-i,6,!0),this.v.setTripleAt(t+r-n,e-i,t+r-s,e-i,t+r-n,e-i,7,!0)):(this.v.setTripleAt(t-r,e+i,t-r+s,e+i,t-r,e+i,2),this.v.setTripleAt(t-r,e-i,t-r,e-i+s,t-r,e-i,3))):(this.v.setTripleAt(t+r,e-i+n,t+r,e-i+s,t+r,e-i+n,0,!0),0!==n?(this.v.setTripleAt(t+r-n,e-i,t+r-n,e-i,t+r-s,e-i,1,!0),this.v.setTripleAt(t-r+n,e-i,t-r+s,e-i,t-r+n,e-i,2,!0),this.v.setTripleAt(t-r,e-i+n,t-r,e-i+n,t-r,e-i+s,3,!0),this.v.setTripleAt(t-r,e+i-n,t-r,e+i-s,t-r,e+i-n,4,!0),this.v.setTripleAt(t-r+n,e+i,t-r+n,e+i,t-r+s,e+i,5,!0),this.v.setTripleAt(t+r-n,e+i,t+r-s,e+i,t+r-n,e+i,6,!0),this.v.setTripleAt(t+r,e+i-n,t+r,e+i-n,t+r,e+i-s,7,!0)):(this.v.setTripleAt(t-r,e-i,t-r+s,e-i,t-r,e-i,1,!0),this.v.setTripleAt(t-r,e+i,t-r,e+i-s,t-r,e+i,2,!0),this.v.setTripleAt(t+r,e+i,t+r-s,e+i,t+r,e+i,3,!0)))},getValue:function(t){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:i},extendPrototype([DynamicPropertyContainer],t),t}(),f={getShapeProp:function(t,e,r){var i;return 3===r||4===r?i=(3===r?e.pt:e.ks).k.length?new h(t,e,r):new a(t,e,r):5===r?i=new c(t,e):6===r?i=new l(t,e):7===r&&(i=new p(t,e)),i.k&&t.addDynamicProperty(i),i},getConstructorFunction:function(){return a},getKeyframedConstructorFunction:function(){return h}};return f}(),ShapeModifiers=function(){var t={},e={};return t.registerModifier=function(t,r){e[t]||(e[t]=r)},t.getModifier=function(t,r,i){return new e[t](r,i)},t}();function ShapeModifier(){}function TrimModifier(){}function RoundCornersModifier(){}function PuckerAndBloatModifier(){}function RepeaterModifier(){}function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}function DashProperty(t,e,r,i){this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=r,this.k=!1,this.dashStr=\"\",this.dashArray=createTypedArray(\"float32\",e.length?e.length-1:0),this.dashoffset=createTypedArray(\"float32\",1),this.initDynamicPropertyContainer(i);var n,s,a=e.length||0;for(n=0;n<a;n+=1)s=PropertyFactory.getProp(t,e[n].v,0,0,this),this.k=s.k||this.k,this.dataProps[n]={n:e[n].n,p:s};this.k||this.getValue(!0),this._isAnimated=this.k}function GradientProperty(t,e,r){this.data=e,this.c=createTypedArray(\"uint8c\",4*e.p);var i=e.k.k[0].s?e.k.k[0].s.length-4*e.p:e.k.k.length-4*e.p;this.o=createTypedArray(\"float32\",i),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=i,this.initDynamicPropertyContainer(r),this.prop=PropertyFactory.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){if(!this.closed){t.sh.container.addDynamicProperty(t.sh);var e={shape:t.sh,data:t,localShapeCollection:shapeCollection_pool.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated()}},ShapeModifier.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,e){this.s=PropertyFactory.getProp(t,e.s,0,.01,this),this.e=PropertyFactory.getProp(t,e.e,0,.01,this),this.o=PropertyFactory.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,e,r,i,n){var s=[];e<=1?s.push({s:t,e:e}):t>=1?s.push({s:t-1,e:e-1}):(s.push({s:t,e:1}),s.push({s:0,e:e-1}));var a,o,h=[],l=s.length;for(a=0;a<l;a+=1){var p,c;(o=s[a]).e*n<i||o.s*n>i+r||(p=o.s*n<=i?0:(o.s*n-i)/r,c=o.e*n>=i+r?1:(o.e*n-i)/r,h.push([p,c]))}return h.length||h.push([0,0]),h},TrimModifier.prototype.releasePathsData=function(t){var e,r=t.length;for(e=0;e<r;e+=1)segments_length_pool.release(t[e]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){var e,r,i;if(this._mdf||t){var n=this.o.v%360/360;if(n<0&&(n+=1),(e=(this.s.v>1?1:this.s.v<0?0:this.s.v)+n)>(r=(this.e.v>1?1:this.e.v<0?0:this.e.v)+n)){var s=e;e=r,r=s}e=1e-4*Math.round(1e4*e),r=1e-4*Math.round(1e4*r),this.sValue=e,this.eValue=r}else e=this.sValue,r=this.eValue;var a,o,h,l,p,c,f=this.shapes.length,u=0;if(r===e)for(a=0;a<f;a+=1)this.shapes[a].localShapeCollection.releaseShapes(),this.shapes[a].shape._mdf=!0,this.shapes[a].shape.paths=this.shapes[a].localShapeCollection,this._mdf&&(this.shapes[a].pathsData.length=0);else if(1===r&&0===e||0===r&&1===e){if(this._mdf)for(a=0;a<f;a+=1)this.shapes[a].pathsData.length=0,this.shapes[a].shape._mdf=!0}else{var m,d,y=[];for(a=0;a<f;a+=1)if((m=this.shapes[a]).shape._mdf||this._mdf||t||2===this.m){if(h=(i=m.shape.paths)._length,c=0,!m.shape._mdf&&m.pathsData.length)c=m.totalShapeLength;else{for(l=this.releasePathsData(m.pathsData),o=0;o<h;o+=1)p=bez.getSegmentsLength(i.shapes[o]),l.push(p),c+=p.totalLength;m.totalShapeLength=c,m.pathsData=l}u+=c,m.shape._mdf=!0}else m.shape.paths=m.localShapeCollection;var g,v=e,b=r,E=0;for(a=f-1;a>=0;a-=1)if((m=this.shapes[a]).shape._mdf){for((d=m.localShapeCollection).releaseShapes(),2===this.m&&f>1?(g=this.calculateShapeEdges(e,r,m.totalShapeLength,E,u),E+=m.totalShapeLength):g=[[v,b]],h=g.length,o=0;o<h;o+=1){v=g[o][0],b=g[o][1],y.length=0,b<=1?y.push({s:m.totalShapeLength*v,e:m.totalShapeLength*b}):v>=1?y.push({s:m.totalShapeLength*(v-1),e:m.totalShapeLength*(b-1)}):(y.push({s:m.totalShapeLength*v,e:m.totalShapeLength}),y.push({s:0,e:m.totalShapeLength*(b-1)}));var x=this.addShapes(m,y[0]);if(y[0].s!==y[0].e){if(y.length>1)if(m.shape.paths.shapes[m.shape.paths._length-1].c){var S=x.pop();this.addPaths(x,d),x=this.addShapes(m,y[1],S)}else this.addPaths(x,d),x=this.addShapes(m,y[1]);this.addPaths(x,d)}}m.shape.paths=d}}},TrimModifier.prototype.addPaths=function(t,e){var r,i=t.length;for(r=0;r<i;r+=1)e.addShape(t[r])},TrimModifier.prototype.addSegment=function(t,e,r,i,n,s,a){n.setXYAt(e[0],e[1],\"o\",s),n.setXYAt(r[0],r[1],\"i\",s+1),a&&n.setXYAt(t[0],t[1],\"v\",s),n.setXYAt(i[0],i[1],\"v\",s+1)},TrimModifier.prototype.addSegmentFromArray=function(t,e,r,i){e.setXYAt(t[1],t[5],\"o\",r),e.setXYAt(t[2],t[6],\"i\",r+1),i&&e.setXYAt(t[0],t[4],\"v\",r),e.setXYAt(t[3],t[7],\"v\",r+1)},TrimModifier.prototype.addShapes=function(t,e,r){var i,n,s,a,o,h,l,p,c=t.pathsData,f=t.shape.paths.shapes,u=t.shape.paths._length,m=0,d=[],y=!0;for(r?(o=r._length,p=r._length):(r=shape_pool.newElement(),o=0,p=0),d.push(r),i=0;i<u;i+=1){for(h=c[i].lengths,r.c=f[i].c,s=f[i].c?h.length:h.length+1,n=1;n<s;n+=1)if(m+(a=h[n-1]).addedLength<e.s)m+=a.addedLength,r.c=!1;else{if(m>e.e){r.c=!1;break}e.s<=m&&e.e>=m+a.addedLength?(this.addSegment(f[i].v[n-1],f[i].o[n-1],f[i].i[n],f[i].v[n],r,o,y),y=!1):(l=bez.getNewSegment(f[i].v[n-1],f[i].v[n],f[i].o[n-1],f[i].i[n],(e.s-m)/a.addedLength,(e.e-m)/a.addedLength,h[n-1]),this.addSegmentFromArray(l,r,o,y),y=!1,r.c=!1),m+=a.addedLength,o+=1}if(f[i].c&&h.length){if(a=h[n-1],m<=e.e){var g=h[n-1].addedLength;e.s<=m&&e.e>=m+g?(this.addSegment(f[i].v[n-1],f[i].o[n-1],f[i].i[0],f[i].v[0],r,o,y),y=!1):(l=bez.getNewSegment(f[i].v[n-1],f[i].v[0],f[i].o[n-1],f[i].i[0],(e.s-m)/g,(e.e-m)/g,h[n-1]),this.addSegmentFromArray(l,r,o,y),y=!1,r.c=!1)}else r.c=!1;m+=a.addedLength,o+=1}if(r._length&&(r.setXYAt(r.v[p][0],r.v[p][1],\"i\",p),r.setXYAt(r.v[r._length-1][0],r.v[r._length-1][1],\"o\",r._length-1)),m>e.e)break;i<u-1&&(r=shape_pool.newElement(),y=!0,d.push(r),o=0)}return d},ShapeModifiers.registerModifier(\"tm\",TrimModifier),extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,e){var r=shape_pool.newElement();r.c=t.c;var i,n,s,a,o,h,l,p,c,f,u,m,d,y=t._length,g=0;for(i=0;i<y;i+=1)n=t.v[i],a=t.o[i],s=t.i[i],n[0]===a[0]&&n[1]===a[1]&&n[0]===s[0]&&n[1]===s[1]?0!==i&&i!==y-1||t.c?(o=0===i?t.v[y-1]:t.v[i-1],l=(h=Math.sqrt(Math.pow(n[0]-o[0],2)+Math.pow(n[1]-o[1],2)))?Math.min(h/2,e)/h:0,p=m=n[0]+(o[0]-n[0])*l,c=d=n[1]-(n[1]-o[1])*l,f=p-(p-n[0])*roundCorner,u=c-(c-n[1])*roundCorner,r.setTripleAt(p,c,f,u,m,d,g),g+=1,o=i===y-1?t.v[0]:t.v[i+1],l=(h=Math.sqrt(Math.pow(n[0]-o[0],2)+Math.pow(n[1]-o[1],2)))?Math.min(h/2,e)/h:0,p=f=n[0]+(o[0]-n[0])*l,c=u=n[1]+(o[1]-n[1])*l,m=p-(p-n[0])*roundCorner,d=c-(c-n[1])*roundCorner,r.setTripleAt(p,c,f,u,m,d,g),g+=1):(r.setTripleAt(n[0],n[1],a[0],a[1],s[0],s[1],g),g+=1):(r.setTripleAt(t.v[i][0],t.v[i][1],t.o[i][0],t.o[i][1],t.i[i][0],t.i[i][1],g),g+=1);return r},RoundCornersModifier.prototype.processShapes=function(t){var e,r,i,n,s,a,o=this.shapes.length,h=this.rd.v;if(0!==h)for(r=0;r<o;r+=1){if((s=this.shapes[r]).shape.paths,a=s.localShapeCollection,s.shape._mdf||this._mdf||t)for(a.releaseShapes(),s.shape._mdf=!0,e=s.shape.paths.shapes,n=s.shape.paths._length,i=0;i<n;i+=1)a.addShape(this.processPath(e[i],h));s.shape.paths=s.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier(\"rd\",RoundCornersModifier),extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(t,e){var r=e/100,i=[0,0],n=t._length,s=0;for(s=0;s<n;s+=1)i[0]+=t.v[s][0],i[1]+=t.v[s][1];i[0]/=n,i[1]/=n;var a,o,h,l,p,c,f=shape_pool.newElement();for(f.c=t.c,s=0;s<n;s+=1)a=t.v[s][0]+(i[0]-t.v[s][0])*r,o=t.v[s][1]+(i[1]-t.v[s][1])*r,h=t.o[s][0]+(i[0]-t.o[s][0])*-r,l=t.o[s][1]+(i[1]-t.o[s][1])*-r,p=t.i[s][0]+(i[0]-t.i[s][0])*-r,c=t.i[s][1]+(i[1]-t.i[s][1])*-r,f.setTripleAt(a,o,h,l,p,c,s);return f},PuckerAndBloatModifier.prototype.processShapes=function(t){var e,r,i,n,s,a,o=this.shapes.length,h=this.amount.v;if(0!==h)for(r=0;r<o;r+=1){if((s=this.shapes[r]).shape.paths,a=s.localShapeCollection,s.shape._mdf||this._mdf||t)for(a.releaseShapes(),s.shape._mdf=!0,e=s.shape.paths.shapes,n=s.shape.paths._length,i=0;i<n;i+=1)a.addShape(this.processPath(e[i],h));s.shape.paths=s.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier(\"pb\",PuckerAndBloatModifier),extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,e.c,0,null,this),this.o=PropertyFactory.getProp(t,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,e.tr,this),this.so=PropertyFactory.getProp(t,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(t,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,e,r,i,n,s){var a=s?-1:1,o=i.s.v[0]+(1-i.s.v[0])*(1-n),h=i.s.v[1]+(1-i.s.v[1])*(1-n);t.translate(i.p.v[0]*a*n,i.p.v[1]*a*n,i.p.v[2]),e.translate(-i.a.v[0],-i.a.v[1],i.a.v[2]),e.rotate(-i.r.v*a*n),e.translate(i.a.v[0],i.a.v[1],i.a.v[2]),r.translate(-i.a.v[0],-i.a.v[1],i.a.v[2]),r.scale(s?1/o:o,s?1/h:h),r.translate(i.a.v[0],i.a.v[1],i.a.v[2])},RepeaterModifier.prototype.init=function(t,e,r,i){for(this.elem=t,this.arr=e,this.pos=r,this.elemsData=i,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[r]);r>0;)r-=1,this._elements.unshift(e[r]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e]._processed=!1,\"gr\"===t[e].ty&&this.resetElements(t[e].it)},RepeaterModifier.prototype.cloneElements=function(t){t.length;var e=JSON.parse(JSON.stringify(t));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(t,e){var r,i=t.length;for(r=0;r<i;r+=1)t[r]._render=e,\"gr\"===t[r].ty&&this.changeGroupRender(t[r].it,e)},RepeaterModifier.prototype.processShapes=function(t){var e,r,i,n,s;if(this._mdf||t){var a,o=Math.ceil(this.c.v);if(this._groups.length<o){for(;this._groups.length<o;){var h={it:this.cloneElements(this._elements),ty:\"gr\"};h.it.push({a:{a:0,ix:1,k:[0,0]},nm:\"Transform\",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:\"tr\"}),this.arr.splice(0,0,h),this._groups.splice(0,0,h),this._currentCopies+=1}this.elem.reloadShapes()}for(s=0,i=0;i<=this._groups.length-1;i+=1)a=s<o,this._groups[i]._render=a,this.changeGroupRender(this._groups[i].it,a),s+=1;this._currentCopies=o;var l=this.o.v,p=l%1,c=l>0?Math.floor(l):Math.ceil(l),f=(this.tr.v.props,this.pMatrix.props),u=this.rMatrix.props,m=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var d,y,g=0;if(l>0){for(;g<c;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),g+=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,p,!1),g+=p)}else if(l<0){for(;g>c;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),g-=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-p,!0),g-=p)}for(i=1===this.data.m?0:this._currentCopies-1,n=1===this.data.m?1:-1,s=this._currentCopies;s;){if(y=(r=(e=this.elemsData[i].it)[e.length-1].transform.mProps.v.props).length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=this.so.v+(this.eo.v-this.so.v)*(i/(this._currentCopies-1)),0!==g){for((0!==i&&1===n||i!==this._currentCopies-1&&-1===n)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15]),this.matrix.transform(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]),this.matrix.transform(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15]),d=0;d<y;d+=1)r[d]=this.matrix.props[d];this.matrix.reset()}else for(this.matrix.reset(),d=0;d<y;d+=1)r[d]=this.matrix.props[d];g+=1,s-=1,i+=n}}else for(s=this._currentCopies,i=0,n=1;s;)r=(e=this.elemsData[i].it)[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,s-=1,i+=n},RepeaterModifier.prototype.addShape=function(){},ShapeModifiers.registerModifier(\"rp\",RepeaterModifier),ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shape_pool.release(this.shapes[t]);this._length=0},DashProperty.prototype.getValue=function(t){if((this.elem.globalData.frameId!==this.frameId||t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,r=this.dataProps.length;for(\"svg\"===this.renderer&&(this.dashStr=\"\"),e=0;e<r;e+=1)\"o\"!=this.dataProps[e].n?\"svg\"===this.renderer?this.dashStr+=\" \"+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),GradientProperty.prototype.comparePoints=function(t,e){for(var r=0,i=this.o.length/2;r<i;){if(Math.abs(t[4*r]-t[4*e+2*r])>.01)return!1;r+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,e=this.data.k.k.length;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var e,r,i,n=4*this.data.p;for(e=0;e<n;e+=1)r=e%4===0?100:255,i=Math.round(this.prop.v[e]*r),this.c[e]!==i&&(this.c[e]=i,this._cmdf=!t);if(this.o.length)for(n=this.prop.v.length,e=4*this.data.p;e<n;e+=1)r=e%2===0?100:1,i=e%2===0?Math.round(100*this.prop.v[e]):this.prop.v[e],this.o[e-4*this.data.p]!==i&&(this.o[e-4*this.data.p]=i,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty);var buildShapeString=function(t,e,r,i){if(0===e)return\"\";var n,s=t.o,a=t.i,o=t.v,h=\" M\"+i.applyToPointStringified(o[0][0],o[0][1]);for(n=1;n<e;n+=1)h+=\" C\"+i.applyToPointStringified(s[n-1][0],s[n-1][1])+\" \"+i.applyToPointStringified(a[n][0],a[n][1])+\" \"+i.applyToPointStringified(o[n][0],o[n][1]);return r&&e&&(h+=\" C\"+i.applyToPointStringified(s[n-1][0],s[n-1][1])+\" \"+i.applyToPointStringified(a[0][0],a[0][1])+\" \"+i.applyToPointStringified(o[0][0],o[0][1]),h+=\"z\"),h},audioControllerFactory=function(){function t(t){this.audios=[],this.audioFactory=t,this._volume=1,this._isMuted=!1}return t.prototype={addAudio:function(t){this.audios.push(t)},pause:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].pause()},resume:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].resume()},setRate:function(t){var e,r=this.audios.length;for(e=0;e<r;e+=1)this.audios[e].setRate(t)},createAudio:function(t){return this.audioFactory?this.audioFactory(t):Howl?new Howl({src:[t]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(t){this.audioFactory=t},setVolume:function(t){this._volume=t,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(t){return this._volume},_updateVolume:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].volume(this._volume*(this._isMuted?0:1))}},function(){return new t}}(),ImagePreloader=function(){var t=function(){var t=createTag(\"canvas\");t.width=1,t.height=1;var e=t.getContext(\"2d\");return e.fillStyle=\"rgba(0,0,0,0)\",e.fillRect(0,0,1,1),t}();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(t,e,r){var i=\"\";if(t.e)i=t.p;else if(e){var n=t.p;-1!==n.indexOf(\"images/\")&&(n=n.split(\"/\")[1]),i=e+n}else i=r,i+=t.u?t.u:\"\",i+=t.p;return i}function i(t){this._imageLoaded=e.bind(this),this.assetsPath=\"\",this.path=\"\",this.totalImages=0,this.loadedAssets=0,this.imagesLoadedCb=null,this.images=[]}return i.prototype={loadAssets:function(t,e){this.imagesLoadedCb=e;var r,i=t.length;for(r=0;r<i;r+=1)t[r].layers||(this.totalImages+=1,this.images.push(this._createImageData(t[r])))},setAssetsPath:function(t){this.assetsPath=t||\"\"},setPath:function(t){this.path=t||\"\"},loaded:function(){return this.totalImages===this.loadedAssets},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getImage:function(t){for(var e=0,r=this.images.length;e<r;){if(this.images[e].assetData===t)return this.images[e].img;e+=1}},createImgData:function(e){var i=r(e,this.assetsPath,this.path),n=createTag(\"img\");n.crossOrigin=\"anonymous\",n.addEventListener(\"load\",this._imageLoaded,!1),n.addEventListener(\"error\",function(){s.img=t,this._imageLoaded()}.bind(this),!1),n.src=i;var s={img:n,assetData:e};return s},createImageData:function(e){var i=r(e,this.assetsPath,this.path),n=createNS(\"image\");n.addEventListener(\"load\",this._imageLoaded,!1),n.addEventListener(\"error\",function(){s.img=t,this._imageLoaded()}.bind(this),!1),n.setAttributeNS(\"http://www.w3.org/1999/xlink\",\"href\",i);var s={img:n,assetData:e};return s},imageLoaded:e,setCacheType:function(t){this._createImageData=\"svg\"===t?this.createImageData.bind(this):this.createImgData.bind(this)}},i}(),featureSupport=function(){var t={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\\/\\d./i.test(navigator.userAgent))&&(t.maskType=!1),t}(),filtersFactory=function(){var t={createFilter:function(t){var e=createNS(\"filter\");return e.setAttribute(\"id\",t),e.setAttribute(\"filterUnits\",\"objectBoundingBox\"),e.setAttribute(\"x\",\"0%\"),e.setAttribute(\"y\",\"0%\"),e.setAttribute(\"width\",\"100%\"),e.setAttribute(\"height\",\"100%\"),e},createAlphaToLuminanceFilter:function(){var t=createNS(\"feColorMatrix\");return t.setAttribute(\"type\",\"matrix\"),t.setAttribute(\"color-interpolation-filters\",\"sRGB\"),t.setAttribute(\"values\",\"0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1\"),t}};return t}(),assetLoader=function(){function t(t){return t.response&&\"object\"===typeof t.response?t.response:t.response&&\"string\"===typeof t.response?JSON.parse(t.response):t.responseText?JSON.parse(t.responseText):void 0}return{load:function(e,r,i){var n,s=new XMLHttpRequest;s.open(\"GET\",e,!0);try{s.responseType=\"json\"}catch(a){}s.send(),s.onreadystatechange=function(){if(4==s.readyState)if(200==s.status)n=t(s),r(n);else try{n=t(s),r(n)}catch(a){i&&i(a)}}}}}();function TextAnimatorProperty(t,e,r){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=r,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(r)}function TextAnimatorDataProperty(t,e,r){var i={propType:!1},n=PropertyFactory.getProp,s=e.a;this.a={r:s.r?n(t,s.r,0,degToRads,r):i,rx:s.rx?n(t,s.rx,0,degToRads,r):i,ry:s.ry?n(t,s.ry,0,degToRads,r):i,sk:s.sk?n(t,s.sk,0,degToRads,r):i,sa:s.sa?n(t,s.sa,0,degToRads,r):i,s:s.s?n(t,s.s,1,.01,r):i,a:s.a?n(t,s.a,1,0,r):i,o:s.o?n(t,s.o,0,.01,r):i,p:s.p?n(t,s.p,1,0,r):i,sw:s.sw?n(t,s.sw,0,0,r):i,sc:s.sc?n(t,s.sc,1,0,r):i,fc:s.fc?n(t,s.fc,1,0,r):i,fh:s.fh?n(t,s.fh,0,0,r):i,fs:s.fs?n(t,s.fs,0,.01,r):i,fb:s.fb?n(t,s.fb,0,.01,r):i,t:s.t?n(t,s.t,0,0,r):i},this.s=TextSelectorProp.getTextSelectorProp(t,e.s,r),this.s.t=e.s.t}function LetterProps(t,e,r,i,n,s){this.o=t,this.sw=e,this.sc=r,this.fc=i,this.m=n,this.p=s,this._mdf={o:!0,sw:!!e,sc:!!r,fc:!!i,m:!0,p:!0}}function TextProperty(t,e){this._frameId=initialDefaultFrame,this.pv=\"\",this.v=\"\",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:\"\",fStyle:\"\",fWeight:\"\",fc:\"\",j:\"\",justifyOffset:\"\",l:[],lh:0,lineWidths:[],ls:\"\",of:\"\",s:\"\",sc:\"\",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextAnimatorProperty.prototype.searchProperties=function(){var t,e,r=this._textData.a.length,i=PropertyFactory.getProp;for(t=0;t<r;t+=1)e=this._textData.a[t],this._animatorsData[t]=new TextAnimatorDataProperty(this._elem,e,this);this._textData.p&&\"m\"in this._textData.p?(this._pathData={f:i(this._elem,this._textData.p.f,0,0,this),l:i(this._elem,this._textData.p.l,0,0,this),r:this._textData.p.r,m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=i(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,this._mdf||this._isFirstFrame||e||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var r,i,n,s,a,o,h,l,p,c,f,u,m,d,y,g,v,b,E,x=this._moreOptions.alignment.v,S=this._animatorsData,P=this._textData,_=this.mHelper,C=this._renderType,D=this.renderedLetters.length,k=(this.data,t.l);if(this._hasMaskedPath){if(E=this._pathData.m,!this._pathData.n||this._pathData._mdf){var A,w=E.v;for(this._pathData.r&&(w=w.reverse()),a={tLength:0,segments:[]},s=w._length-1,g=0,n=0;n<s;n+=1)A=bez.buildBezierData(w.v[n],w.v[n+1],[w.o[n][0]-w.v[n][0],w.o[n][1]-w.v[n][1]],[w.i[n+1][0]-w.v[n+1][0],w.i[n+1][1]-w.v[n+1][1]]),a.tLength+=A.segmentLength,a.segments.push(A),g+=A.segmentLength;n=s,E.v.c&&(A=bez.buildBezierData(w.v[n],w.v[0],[w.o[n][0]-w.v[n][0],w.o[n][1]-w.v[n][1]],[w.i[0][0]-w.v[0][0],w.i[0][1]-w.v[0][1]]),a.tLength+=A.segmentLength,a.segments.push(A),g+=A.segmentLength),this._pathData.pi=a}if(a=this._pathData.pi,o=this._pathData.f.v,f=0,c=1,l=0,p=!0,d=a.segments,o<0&&E.v.c)for(a.tLength<Math.abs(o)&&(o=-Math.abs(o)%a.tLength),c=(m=d[f=d.length-1].points).length-1;o<0;)o+=m[c].partialLength,(c-=1)<0&&(c=(m=d[f-=1].points).length-1);u=(m=d[f].points)[c-1],y=(h=m[c]).partialLength}s=k.length,r=0,i=0;var T,M,F,I,O=1.2*t.finalSize*.714,V=!0;F=S.length;var R,B,N,L,j,G,z,H,W,q,Y,K,X,U=-1,Z=o,$=f,J=c,Q=-1,tt=\"\",et=this.defaultPropsArray;if(2===t.j||1===t.j){var rt=0,it=0,nt=2===t.j?-.5:-1,st=0,at=!0;for(n=0;n<s;n+=1)if(k[n].n){for(rt&&(rt+=it);st<n;)k[st].animatorJustifyOffset=rt,st+=1;rt=0,at=!0}else{for(M=0;M<F;M+=1)(T=S[M].a).t.propType&&(at&&2===t.j&&(it+=T.t.v*nt),(R=S[M].s.getMult(k[n].anIndexes[M],P.a[M].s.totalChars)).length?rt+=T.t.v*R[0]*nt:rt+=T.t.v*R*nt);at=!1}for(rt&&(rt+=it);st<n;)k[st].animatorJustifyOffset=rt,st+=1}for(n=0;n<s;n+=1){if(_.reset(),j=1,k[n].n)r=0,i+=t.yOffset,i+=V?1:0,o=Z,V=!1,this._hasMaskedPath&&(c=J,u=(m=d[f=$].points)[c-1],y=(h=m[c]).partialLength,l=0),X=q=K=tt=\"\",et=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Q!==k[n].line){switch(t.j){case 1:o+=g-t.lineWidths[k[n].line];break;case 2:o+=(g-t.lineWidths[k[n].line])/2}Q=k[n].line}U!==k[n].ind&&(k[U]&&(o+=k[U].extra),o+=k[n].an/2,U=k[n].ind),o+=x[0]*k[n].an/200;var ot=0;for(M=0;M<F;M+=1)(T=S[M].a).p.propType&&((R=S[M].s.getMult(k[n].anIndexes[M],P.a[M].s.totalChars)).length?ot+=T.p.v[0]*R[0]:ot+=T.p.v[0]*R),T.a.propType&&((R=S[M].s.getMult(k[n].anIndexes[M],P.a[M].s.totalChars)).length?ot+=T.a.v[0]*R[0]:ot+=T.a.v[0]*R);for(p=!0;p;)l+y>=o+ot||!m?(v=(o+ot-l)/h.partialLength,N=u.point[0]+(h.point[0]-u.point[0])*v,L=u.point[1]+(h.point[1]-u.point[1])*v,_.translate(-x[0]*k[n].an/200,-x[1]*O/100),p=!1):m&&(l+=h.partialLength,(c+=1)>=m.length&&(c=0,d[f+=1]?m=d[f].points:E.v.c?(c=0,m=d[f=0].points):(l-=h.partialLength,m=null)),m&&(u=h,y=(h=m[c]).partialLength));B=k[n].an/2-k[n].add,_.translate(-B,0,0)}else B=k[n].an/2-k[n].add,_.translate(-B,0,0),_.translate(-x[0]*k[n].an/200,-x[1]*O/100,0);for(k[n].l,M=0;M<F;M+=1)(T=S[M].a).t.propType&&(R=S[M].s.getMult(k[n].anIndexes[M],P.a[M].s.totalChars),0===r&&0===t.j||(this._hasMaskedPath?R.length?o+=T.t.v*R[0]:o+=T.t.v*R:R.length?r+=T.t.v*R[0]:r+=T.t.v*R));for(k[n].l,t.strokeWidthAnim&&(z=t.sw||0),t.strokeColorAnim&&(G=t.sc?[t.sc[0],t.sc[1],t.sc[2]]:[0,0,0]),t.fillColorAnim&&t.fc&&(H=[t.fc[0],t.fc[1],t.fc[2]]),M=0;M<F;M+=1)(T=S[M].a).a.propType&&((R=S[M].s.getMult(k[n].anIndexes[M],P.a[M].s.totalChars)).length?_.translate(-T.a.v[0]*R[0],-T.a.v[1]*R[1],T.a.v[2]*R[2]):_.translate(-T.a.v[0]*R,-T.a.v[1]*R,T.a.v[2]*R));for(M=0;M<F;M+=1)(T=S[M].a).s.propType&&((R=S[M].s.getMult(k[n].anIndexes[M],P.a[M].s.totalChars)).length?_.scale(1+(T.s.v[0]-1)*R[0],1+(T.s.v[1]-1)*R[1],1):_.scale(1+(T.s.v[0]-1)*R,1+(T.s.v[1]-1)*R,1));for(M=0;M<F;M+=1){if(T=S[M].a,R=S[M].s.getMult(k[n].anIndexes[M],P.a[M].s.totalChars),T.sk.propType&&(R.length?_.skewFromAxis(-T.sk.v*R[0],T.sa.v*R[1]):_.skewFromAxis(-T.sk.v*R,T.sa.v*R)),T.r.propType&&(R.length?_.rotateZ(-T.r.v*R[2]):_.rotateZ(-T.r.v*R)),T.ry.propType&&(R.length?_.rotateY(T.ry.v*R[1]):_.rotateY(T.ry.v*R)),T.rx.propType&&(R.length?_.rotateX(T.rx.v*R[0]):_.rotateX(T.rx.v*R)),T.o.propType&&(R.length?j+=(T.o.v*R[0]-j)*R[0]:j+=(T.o.v*R-j)*R),t.strokeWidthAnim&&T.sw.propType&&(R.length?z+=T.sw.v*R[0]:z+=T.sw.v*R),t.strokeColorAnim&&T.sc.propType)for(W=0;W<3;W+=1)R.length?G[W]=G[W]+(T.sc.v[W]-G[W])*R[0]:G[W]=G[W]+(T.sc.v[W]-G[W])*R;if(t.fillColorAnim&&t.fc){if(T.fc.propType)for(W=0;W<3;W+=1)R.length?H[W]=H[W]+(T.fc.v[W]-H[W])*R[0]:H[W]=H[W]+(T.fc.v[W]-H[W])*R;T.fh.propType&&(H=R.length?addHueToRGB(H,T.fh.v*R[0]):addHueToRGB(H,T.fh.v*R)),T.fs.propType&&(H=R.length?addSaturationToRGB(H,T.fs.v*R[0]):addSaturationToRGB(H,T.fs.v*R)),T.fb.propType&&(H=R.length?addBrightnessToRGB(H,T.fb.v*R[0]):addBrightnessToRGB(H,T.fb.v*R))}}for(M=0;M<F;M+=1)(T=S[M].a).p.propType&&(R=S[M].s.getMult(k[n].anIndexes[M],P.a[M].s.totalChars),this._hasMaskedPath?R.length?_.translate(0,T.p.v[1]*R[0],-T.p.v[2]*R[1]):_.translate(0,T.p.v[1]*R,-T.p.v[2]*R):R.length?_.translate(T.p.v[0]*R[0],T.p.v[1]*R[1],-T.p.v[2]*R[2]):_.translate(T.p.v[0]*R,T.p.v[1]*R,-T.p.v[2]*R));if(t.strokeWidthAnim&&(q=z<0?0:z),t.strokeColorAnim&&(Y=\"rgb(\"+Math.round(255*G[0])+\",\"+Math.round(255*G[1])+\",\"+Math.round(255*G[2])+\")\"),t.fillColorAnim&&t.fc&&(K=\"rgb(\"+Math.round(255*H[0])+\",\"+Math.round(255*H[1])+\",\"+Math.round(255*H[2])+\")\"),this._hasMaskedPath){if(_.translate(0,-t.ls),_.translate(0,x[1]*O/100+i,0),P.p.p){b=(h.point[1]-u.point[1])/(h.point[0]-u.point[0]);var ht=180*Math.atan(b)/Math.PI;h.point[0]<u.point[0]&&(ht+=180),_.rotate(-ht*Math.PI/180)}_.translate(N,L,0),o-=x[0]*k[n].an/200,k[n+1]&&U!==k[n+1].ind&&(o+=k[n].an/2,o+=t.tr/1e3*t.finalSize)}else{switch(_.translate(r,i,0),t.ps&&_.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:_.translate(k[n].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[k[n].line]),0,0);break;case 2:_.translate(k[n].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[k[n].line])/2,0,0)}_.translate(0,-t.ls),_.translate(B,0,0),_.translate(x[0]*k[n].an/200,x[1]*O/100,0),r+=k[n].l+t.tr/1e3*t.finalSize}\"html\"===C?tt=_.toCSS():\"svg\"===C?tt=_.to2dCSS():et=[_.props[0],_.props[1],_.props[2],_.props[3],_.props[4],_.props[5],_.props[6],_.props[7],_.props[8],_.props[9],_.props[10],_.props[11],_.props[12],_.props[13],_.props[14],_.props[15]],X=j}D<=n?(I=new LetterProps(X,q,Y,K,tt,et),this.renderedLetters.push(I),D+=1,this.lettersChangedFlag=!0):(I=this.renderedLetters[n],this.lettersChangedFlag=I.update(X,q,Y,K,tt,et)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),LetterProps.prototype.update=function(t,e,r,i,n,s){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var a=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,a=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,a=!0),this.sc!==r&&(this.sc=r,this._mdf.sc=!0,a=!0),this.fc!==i&&(this.fc=i,this._mdf.fc=!0,a=!0),this.m!==n&&(this.m=n,this._mdf.m=!0,a=!0),!s.length||this.p[0]===s[0]&&this.p[1]===s[1]&&this.p[4]===s[4]&&this.p[5]===s[5]&&this.p[12]===s[12]&&this.p[13]===s[13]||(this.p=s,this._mdf.p=!0,a=!0),a},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||t){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,r=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{this.lock=!0,this._mdf=!1;var i,n=this.effectsSequence.length,s=t||this.data.d.k[this.keysIndex].s;for(i=0;i<n;i+=1)s=r!==this.keysIndex?this.effectsSequence[i](s,s.t):this.effectsSequence[i](this.currentData,s.t);e!==s&&this.setCurrentData(s),this.pv=this.v=this.currentData,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,e=this.elem.comp.renderedFrame,r=0,i=t.length;r<=i-1&&(t[r].s,!(r===i-1||t[r+1].t>e));)r+=1;return this.keysIndex!==r&&(this.keysIndex=r),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){for(var e,r=FontManager.getCombinedCharacterCodes(),i=[],n=0,s=t.length;n<s;)e=t.charCodeAt(n),-1!==r.indexOf(e)?i[i.length-1]+=t.charAt(n):e>=55296&&e<=56319&&(e=t.charCodeAt(n+1))>=56320&&e<=57343?(i.push(t.substr(n,2)),++n):i.push(t.charAt(n)),n+=1;return i},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var e,r,i,n,s,a,o,h=this.elem.globalData.fontManager,l=this.data,p=[],c=0,f=l.m.g,u=0,m=0,d=0,y=[],g=0,v=0,b=h.getFontByName(t.f),E=0,x=b.fStyle?b.fStyle.split(\" \"):[],S=\"normal\",P=\"normal\";for(r=x.length,e=0;e<r;e+=1)switch(x[e].toLowerCase()){case\"italic\":P=\"italic\";break;case\"bold\":S=\"700\";break;case\"black\":S=\"900\";break;case\"medium\":S=\"500\";break;case\"regular\":case\"normal\":S=\"400\";break;case\"light\":case\"thin\":S=\"200\"}t.fWeight=b.fWeight||S,t.fStyle=P,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),r=t.finalText.length,t.finalLineHeight=t.lh;var _,C=t.tr/1e3*t.finalSize;if(t.sz)for(var D,k,A=!0,w=t.sz[0],T=t.sz[1];A;){D=0,g=0,r=(k=this.buildFinalText(t.t)).length,C=t.tr/1e3*t.finalSize;var M=-1;for(e=0;e<r;e+=1)_=k[e].charCodeAt(0),i=!1,\" \"===k[e]?M=e:13!==_&&3!==_||(g=0,i=!0,D+=t.finalLineHeight||1.2*t.finalSize),h.chars?(o=h.getCharData(k[e],b.fStyle,b.fFamily),E=i?0:o.w*t.finalSize/100):E=h.measureText(k[e],t.f,t.finalSize),g+E>w&&\" \"!==k[e]?(-1===M?r+=1:e=M,D+=t.finalLineHeight||1.2*t.finalSize,k.splice(e,M===e?1:0,\"\\r\"),M=-1,g=0):(g+=E,g+=C);D+=b.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&T<D?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=k,r=t.finalText.length,A=!1)}g=-C,E=0;var F,I=0;for(e=0;e<r;e+=1)if(i=!1,13===(_=(F=t.finalText[e]).charCodeAt(0))||3===_?(I=0,y.push(g),v=g>v?g:v,g=-2*C,n=\"\",i=!0,d+=1):n=F,h.chars?(o=h.getCharData(F,b.fStyle,h.getFontByName(t.f).fFamily),E=i?0:o.w*t.finalSize/100):E=h.measureText(n,t.f,t.finalSize),\" \"===F?I+=E+C:(g+=E+C+I,I=0),p.push({l:E,an:E,add:u,n:i,anIndexes:[],val:n,line:d,animatorJustifyOffset:0}),2==f){if(u+=E,\"\"===n||\" \"===n||e===r-1){for(\"\"!==n&&\" \"!==n||(u-=E);m<=e;)p[m].an=u,p[m].ind=c,p[m].extra=E,m+=1;c+=1,u=0}}else if(3==f){if(u+=E,\"\"===n||e===r-1){for(\"\"===n&&(u-=E);m<=e;)p[m].an=u,p[m].ind=c,p[m].extra=E,m+=1;u=0,c+=1}}else p[c].ind=c,p[c].extra=0,c+=1;if(t.l=p,v=g>v?g:v,y.push(g),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=v,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=y;var O,V,R=l.a;a=R.length;var B,N,L=[];for(s=0;s<a;s+=1){for((O=R[s]).a.sc&&(t.strokeColorAnim=!0),O.a.sw&&(t.strokeWidthAnim=!0),(O.a.fc||O.a.fh||O.a.fs||O.a.fb)&&(t.fillColorAnim=!0),N=0,B=O.s.b,e=0;e<r;e+=1)(V=p[e]).anIndexes[s]=N,(1==B&&\"\"!==V.val||2==B&&\"\"!==V.val&&\" \"!==V.val||3==B&&(V.n||\" \"==V.val||e==r-1)||4==B&&(V.n||e==r-1))&&(1===O.s.rn&&L.push(N),N+=1);l.a[s].s.totalChars=N;var j,G=-1;if(1===O.s.rn)for(e=0;e<r;e+=1)G!=(V=p[e]).anIndexes[s]&&(G=V.anIndexes[s],j=L.splice(Math.floor(Math.random()*L.length),1)[0]),V.anIndexes[s]=j}t.yOffset=t.finalLineHeight||1.2*t.finalSize,t.ls=t.ls||0,t.ascent=b.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,e){e=void 0===e?this.keysIndex:e;var r=this.copyData({},this.data.d.k[e].s);r=this.copyData(r,t),this.data.d.k[e].s=r,this.recalculate(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(t){var e=this.data.d.k[t].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var t=Math.max,e=Math.min,r=Math.floor;function i(t,e){this._currentTextLength=-1,this.k=!1,this.data=e,this.elem=t,this.comp=t.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(t),this.s=PropertyFactory.getProp(t,e.s||{k:0},0,0,this),this.e=\"e\"in e?PropertyFactory.getProp(t,e.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(t,e.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(t,e.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(t,e.ne||{k:0},0,0,this),this.a=PropertyFactory.getProp(t,e.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return i.prototype={getMult:function(i){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var n=0,s=0,a=1,o=1;this.ne.v>0?n=this.ne.v/100:s=-this.ne.v/100,this.xe.v>0?a=1-this.xe.v/100:o=1+this.xe.v/100;var h=BezierFactory.getBezierEasing(n,s,a,o).get,l=0,p=this.finalS,c=this.finalE,f=this.data.sh;if(2===f)l=h(l=c===p?i>=c?1:0:t(0,e(.5/(c-p)+(i-p)/(c-p),1)));else if(3===f)l=h(l=c===p?i>=c?0:1:1-t(0,e(.5/(c-p)+(i-p)/(c-p),1)));else if(4===f)c===p?l=0:(l=t(0,e(.5/(c-p)+(i-p)/(c-p),1)))<.5?l*=2:l=1-2*(l-.5),l=h(l);else if(5===f){if(c===p)l=0;else{var u=c-p,m=-u/2+(i=e(t(0,i+.5-p),c-p)),d=u/2;l=Math.sqrt(1-m*m/(d*d))}l=h(l)}else 6===f?(c===p?l=0:(i=e(t(0,i+.5-p),c-p),l=(1+Math.cos(Math.PI+2*Math.PI*i/(c-p)))/2),l=h(l)):(i>=r(p)&&(l=t(0,e(i-p<0?e(c,1)-(p-i):c-i,1))),l=h(l));return l*this.a.v},getValue:function(t){this.iterateDynamicProperties(),this._mdf=t||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,t&&2===this.data.r&&(this.e.v=this._currentTextLength);var e=2===this.data.r?1:100/this.data.totalChars,r=this.o.v/e,i=this.s.v/e+r,n=this.e.v/e+r;if(i>n){var s=i;i=n,n=s}this.finalS=i,this.finalE=n}},extendPrototype([DynamicPropertyContainer],i),{getTextSelectorProp:function(t,e,r){return new i(t,e,r)}}}(),pool_factory=function(t,e,r,i){var n=0,s=t,a=createSizedArray(s);function o(){return n?a[n-=1]:e()}return{newElement:o,release:function(t){n===s&&(a=pooling.double(a),s*=2),r&&r(t),a[n]=t,n+=1}}},pooling={double:function(t){return t.concat(createSizedArray(t.length))}},point_pool=pool_factory(8,(function(){return createTypedArray(\"float32\",2)})),shape_pool=function(){var t=pool_factory(4,(function(){return new ShapePath}),(function(t){var e,r=t._length;for(e=0;e<r;e+=1)point_pool.release(t.v[e]),point_pool.release(t.i[e]),point_pool.release(t.o[e]),t.v[e]=null,t.i[e]=null,t.o[e]=null;t._length=0,t.c=!1}));return t.clone=function(e){var r,i=t.newElement(),n=void 0===e._length?e.v.length:e._length;for(i.setLength(n),i.c=e.c,r=0;r<n;r+=1)i.setTripleAt(e.v[r][0],e.v[r][1],e.o[r][0],e.o[r][1],e.i[r][0],e.i[r][1],r);return i},t}(),shapeCollection_pool=function(){var t={newShapeCollection:function(){return e?i[e-=1]:new ShapeCollection},release:function(t){var n,s=t._length;for(n=0;n<s;n+=1)shape_pool.release(t.shapes[n]);t._length=0,e===r&&(i=pooling.double(i),r*=2),i[e]=t,e+=1}},e=0,r=4,i=createSizedArray(r);return t}(),segments_length_pool=pool_factory(8,(function(){return{lengths:[],totalLength:0}}),(function(t){var e,r=t.lengths.length;for(e=0;e<r;e+=1)bezier_length_pool.release(t.lengths[e]);t.lengths.length=0})),bezier_length_pool=pool_factory(8,(function(){return{addedLength:0,percents:createTypedArray(\"float32\",defaultCurveSegments),lengths:createTypedArray(\"float32\",defaultCurveSegments)}}));function BaseRenderer(){}function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS(\"svg\");var r=\"\";if(e&&e.title){var i=createNS(\"title\"),n=createElementID();i.setAttribute(\"id\",n),i.textContent=e.title,this.svgElement.appendChild(i),r+=n}if(e&&e.description){var s=createNS(\"desc\"),a=createElementID();s.setAttribute(\"id\",a),s.textContent=e.description,this.svgElement.appendChild(s),r+=\" \"+a}r&&this.svgElement.setAttribute(\"aria-labelledby\",r);var o=createNS(\"defs\");this.svgElement.appendChild(o);var h=createNS(\"g\");this.svgElement.appendChild(h),this.layerElement=h,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||\"xMidYMid meet\",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||\"xMidYMid slice\",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!e||!1!==e.hideOnTransparent,viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||\"\",id:e&&e.id||\"\",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||\"100%\",height:e&&e.filterSize&&e.filterSize.height||\"100%\",x:e&&e.filterSize&&e.filterSize.x||\"0%\",y:e&&e.filterSize&&e.filterSize.y||\"0%\"}},this.globalData={_mdf:!1,frameNum:-1,defs:o,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType=\"svg\"}function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:!e||void 0===e.clearCanvas||e.clearCanvas,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||\"xMidYMid meet\",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||\"xMidYMid slice\",className:e&&e.className||\"\",id:e&&e.id||\"\"},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType=\"canvas\"}function HybridRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||\"\",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||\"xMidYMid slice\",hideOnTransparent:!e||!1!==e.hideOnTransparent,filterSize:{width:e&&e.filterSize&&e.filterSize.width||\"400%\",height:e&&e.filterSize&&e.filterSize.height||\"400%\",x:e&&e.filterSize&&e.filterSize.x||\"-100%\",y:e&&e.filterSize&&e.filterSize.y||\"-100%\"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType=\"html\"}function MaskElement(t,e,r){this.data=t,this.element=e,this.globalData=r,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var i,n=this.globalData.defs,s=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(s),this.solidPath=\"\";var a,o,h,l,p,c,f,u=this.masksProperties,m=0,d=[],y=createElementID(),g=\"clipPath\",v=\"clip-path\";for(i=0;i<s;i++)if((\"a\"!==u[i].mode&&\"n\"!==u[i].mode||u[i].inv||100!==u[i].o.k||u[i].o.x)&&(g=\"mask\",v=\"mask\"),\"s\"!=u[i].mode&&\"i\"!=u[i].mode||0!==m?l=null:((l=createNS(\"rect\")).setAttribute(\"fill\",\"#ffffff\"),l.setAttribute(\"width\",this.element.comp.data.w||0),l.setAttribute(\"height\",this.element.comp.data.h||0),d.push(l)),a=createNS(\"path\"),\"n\"!=u[i].mode){var b;if(m+=1,a.setAttribute(\"fill\",\"s\"===u[i].mode?\"#000000\":\"#ffffff\"),a.setAttribute(\"clip-rule\",\"nonzero\"),0!==u[i].x.k?(g=\"mask\",v=\"mask\",f=PropertyFactory.getProp(this.element,u[i].x,0,null,this.element),b=createElementID(),(p=createNS(\"filter\")).setAttribute(\"id\",b),(c=createNS(\"feMorphology\")).setAttribute(\"operator\",\"erode\"),c.setAttribute(\"in\",\"SourceGraphic\"),c.setAttribute(\"radius\",\"0\"),p.appendChild(c),n.appendChild(p),a.setAttribute(\"stroke\",\"s\"===u[i].mode?\"#000000\":\"#ffffff\")):(c=null,f=null),this.storedData[i]={elem:a,x:f,expan:c,lastPath:\"\",lastOperator:\"\",filterId:b,lastRadius:0},\"i\"==u[i].mode){h=d.length;var E=createNS(\"g\");for(o=0;o<h;o+=1)E.appendChild(d[o]);var x=createNS(\"mask\");x.setAttribute(\"mask-type\",\"alpha\"),x.setAttribute(\"id\",y+\"_\"+m),x.appendChild(a),n.appendChild(x),E.setAttribute(\"mask\",\"url(\"+locationHref+\"#\"+y+\"_\"+m+\")\"),d.length=0,d.push(E)}else d.push(a);u[i].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[i]={elem:a,lastPath:\"\",op:PropertyFactory.getProp(this.element,u[i].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,u[i],3),invRect:l},this.viewData[i].prop.k||this.drawPath(u[i],this.viewData[i].prop.v,this.viewData[i])}else this.viewData[i]={op:PropertyFactory.getProp(this.element,u[i].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,u[i],3),elem:a,lastPath:\"\"},n.appendChild(a);for(this.maskElement=createNS(g),s=d.length,i=0;i<s;i+=1)this.maskElement.appendChild(d[i]);m>0&&(this.maskElement.setAttribute(\"id\",y),this.element.maskedElement.setAttribute(v,\"url(\"+locationHref+\"#\"+y+\")\"),n.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}function HierarchyElement(){}function FrameElement(){}function TransformElement(){}function RenderableElement(){}function RenderableDOMElement(){}function ProcessedElement(t,e){this.elem=t,this.pos=e}function SVGStyleData(t,e){this.data=t,this.type=t.ty,this.d=\"\",this.lvl=e,this._mdf=!1,this.closed=!0===t.hd,this.pElem=createNS(\"path\"),this.msElem=null}function SVGShapeData(t,e,r){this.caches=[],this.styles=[],this.transformers=t,this.lStr=\"\",this.sh=r,this.lvl=e,this._isAnimated=!!r.k;for(var i=0,n=t.length;i<n;){if(t[i].mProps.dynamicProperties.length){this._isAnimated=!0;break}i+=1}}function SVGTransformData(t,e,r){this.transform={mProps:t,op:e,container:r},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}function SVGStrokeStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},\"svg\",this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=r,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=r}function SVGGradientFillStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,r)}function SVGGradientStrokeStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},\"svg\",this),this.initGradientData(t,e,r),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS(\"g\")}BaseRenderer.prototype.checkLayers=function(t){var e,r,i=this.layers.length;for(this.completeLayers=!0,e=i-1;e>=0;e--)this.elements[e]||(r=this.layers[e]).ip-r.st<=t-this.layers[e].st&&r.op-r.st>t-this.layers[e].st&&this.buildItem(e),this.completeLayers=!!this.elements[e]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 6:return this.createAudio(t);case 13:return this.createCamera(t)}return this.createNull(t)},BaseRenderer.prototype.createCamera=function(){throw new Error(\"You're using a 3d camera. Try the html renderer.\")},BaseRenderer.prototype.createAudio=function(t){return new AudioElement(t,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){this.completeLayers=!1;var e,r,i=t.length,n=this.layers.length;for(e=0;e<i;e+=1)for(r=0;r<n;){if(this.layers[r].id==t[e].id){this.layers[r]=t[e];break}r+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e,r){for(var i=this.elements,n=this.layers,s=0,a=n.length;s<a;)n[s].ind==e&&(i[s]&&!0!==i[s]?(r.push(i[s]),i[s].setAsParent(),void 0!==n[s].parent?this.buildElementParenting(t,n[s].parent,r):t.setHierarchy(r)):(this.buildItem(s),this.addPendingElement(t))),s+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){var e,r=t.length;for(e=0;e<r;e+=1)if(t[e].xt){var i=this.createComp(t[e]);i.initExpressions(),this.globalData.projectInterface.registerComposition(i)}},BaseRenderer.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}},extendPrototype([BaseRenderer],SVGRenderer),SVGRenderer.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},SVGRenderer.prototype.createShape=function(t){return new SVGShapeElement(t,this.globalData,this)},SVGRenderer.prototype.createText=function(t){return new SVGTextElement(t,this.globalData,this)},SVGRenderer.prototype.createImage=function(t){return new IImageElement(t,this.globalData,this)},SVGRenderer.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},SVGRenderer.prototype.createSolid=function(t){return new ISolidElement(t,this.globalData,this)},SVGRenderer.prototype.configAnimation=function(t){this.svgElement.setAttribute(\"xmlns\",\"http://www.w3.org/2000/svg\"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute(\"viewBox\",this.renderConfig.viewBoxSize):this.svgElement.setAttribute(\"viewBox\",\"0 0 \"+t.w+\" \"+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute(\"width\",t.w),this.svgElement.setAttribute(\"height\",t.h),this.svgElement.style.width=\"100%\",this.svgElement.style.height=\"100%\",this.svgElement.style.transform=\"translate3d(0,0,0)\"),this.renderConfig.className&&this.svgElement.setAttribute(\"class\",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute(\"id\",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute(\"focusable\",this.renderConfig.focusable),this.svgElement.setAttribute(\"preserveAspectRatio\",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var r=createNS(\"clipPath\"),i=createNS(\"rect\");i.setAttribute(\"width\",t.w),i.setAttribute(\"height\",t.h),i.setAttribute(\"x\",0),i.setAttribute(\"y\",0);var n=createElementID();r.setAttribute(\"id\",n),r.appendChild(i),this.layerElement.setAttribute(\"clip-path\",\"url(\"+locationHref+\"#\"+n+\")\"),e.appendChild(r),this.layers=t.layers,this.elements=createSizedArray(t.layers.length)},SVGRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerText=\"\",this.layerElement=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;t<e;t++)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRenderer.prototype.updateContainerSize=function(){},SVGRenderer.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!=this.layers[t].ty){e[t]=!0;var r=this.createItem(this.layers[t]);e[t]=r,expressionsPlugin&&(0===this.layers[t].ty&&this.globalData.projectInterface.registerComposition(r),r.initExpressions()),this.appendElementInPos(r,t),this.layers[t].tt&&(this.elements[t-1]&&!0!==this.elements[t-1]?r.setMatte(e[t-1].layerId):(this.buildItem(t-1),this.addPendingElement(r)))}},SVGRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,r=this.elements.length;e<r;){if(this.elements[e]===t){t.setMatte(this.elements[e-1].layerId);break}e+=1}}},SVGRenderer.prototype.renderFrame=function(t){if(this.renderedFrame!==t&&!this.destroyed){null===t?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var e,r=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=r-1;e>=0;e--)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<r;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRenderer.prototype.appendElementInPos=function(t,e){var r=t.getBaseElement();if(r){for(var i,n=0;n<e;)this.elements[n]&&!0!==this.elements[n]&&this.elements[n].getBaseElement()&&(i=this.elements[n].getBaseElement()),n+=1;i?this.layerElement.insertBefore(r,i):this.layerElement.appendChild(r)}},SVGRenderer.prototype.hide=function(){this.layerElement.style.display=\"none\"},SVGRenderer.prototype.show=function(){this.layerElement.style.display=\"block\"},extendPrototype([BaseRenderer],CanvasRenderer),CanvasRenderer.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRenderer.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRenderer.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},CanvasRenderer.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRenderer.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRenderer.prototype.ctxTransform=function(t){if(1!==t[0]||0!==t[1]||0!==t[4]||1!==t[5]||0!==t[12]||0!==t[13])if(this.renderConfig.clearCanvas){this.transformMat.cloneFromProps(t);var e=this.contextData.cTr.props;this.transformMat.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var r=this.contextData.cTr.props;this.canvasContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13])}else this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13])},CanvasRenderer.prototype.ctxOpacity=function(t){if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=t<0?0:t,void(this.globalData.currentGlobalAlpha=this.contextData.cO);this.contextData.cO*=t<0?0:t,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRenderer.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRenderer.prototype.save=function(t){if(this.renderConfig.clearCanvas){t&&this.canvasContext.save();var e=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var r,i=this.contextData.saved[this.contextData.cArrPos];for(r=0;r<16;r+=1)i[r]=e[r];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRenderer.prototype.restore=function(t){if(this.renderConfig.clearCanvas){t&&(this.canvasContext.restore(),this.globalData.blendMode=\"source-over\"),this.contextData.cArrPos-=1;var e,r=this.contextData.saved[this.contextData.cArrPos],i=this.contextData.cTr.props;for(e=0;e<16;e+=1)i[e]=r[e];this.canvasContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13]),r=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=r,this.globalData.currentGlobalAlpha!==r&&(this.canvasContext.globalAlpha=r,this.globalData.currentGlobalAlpha=r)}else this.canvasContext.restore()},CanvasRenderer.prototype.configAnimation=function(t){this.animationItem.wrapper?(this.animationItem.container=createTag(\"canvas\"),this.animationItem.container.style.width=\"100%\",this.animationItem.container.style.height=\"100%\",this.animationItem.container.style.transformOrigin=this.animationItem.container.style.mozTransformOrigin=this.animationItem.container.style.webkitTransformOrigin=this.animationItem.container.style[\"-webkit-transform\"]=\"0px 0px 0px\",this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext(\"2d\"),this.renderConfig.className&&this.animationItem.container.setAttribute(\"class\",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute(\"id\",this.renderConfig.id)):this.canvasContext=this.renderConfig.context,this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRenderer.prototype.updateContainerSize=function(){var t,e,r,i;if(this.reset(),this.animationItem.wrapper&&this.animationItem.container?(t=this.animationItem.wrapper.offsetWidth,e=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute(\"width\",t*this.renderConfig.dpr),this.animationItem.container.setAttribute(\"height\",e*this.renderConfig.dpr)):(t=this.canvasContext.canvas.width*this.renderConfig.dpr,e=this.canvasContext.canvas.height*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf(\"meet\")||-1!==this.renderConfig.preserveAspectRatio.indexOf(\"slice\")){var n=this.renderConfig.preserveAspectRatio.split(\" \"),s=n[1]||\"meet\",a=n[0]||\"xMidYMid\",o=a.substr(0,4),h=a.substr(4);r=t/e,(i=this.transformCanvas.w/this.transformCanvas.h)>r&&\"meet\"===s||i<r&&\"slice\"===s?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx=\"xMid\"===o&&(i<r&&\"meet\"===s||i>r&&\"slice\"===s)?(t-this.transformCanvas.w*(e/this.transformCanvas.h))/2*this.renderConfig.dpr:\"xMax\"===o&&(i<r&&\"meet\"===s||i>r&&\"slice\"===s)?(t-this.transformCanvas.w*(e/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty=\"YMid\"===h&&(i>r&&\"meet\"===s||i<r&&\"slice\"===s)?(e-this.transformCanvas.h*(t/this.transformCanvas.w))/2*this.renderConfig.dpr:\"YMax\"===h&&(i>r&&\"meet\"===s||i<r&&\"slice\"===s)?(e-this.transformCanvas.h*(t/this.transformCanvas.w))*this.renderConfig.dpr:0}else\"none\"==this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRenderer.prototype.destroy=function(){var t;for(this.renderConfig.clearCanvas&&(this.animationItem.wrapper.innerText=\"\"),t=(this.layers?this.layers.length:0)-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRenderer.prototype.renderFrame=function(t,e){if((this.renderedFrame!==t||!0!==this.renderConfig.clearCanvas||e)&&!this.destroyed&&-1!==t){this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=t;var r,i=this.layers.length;for(this.completeLayers||this.checkLayers(t),r=0;r<i;r++)(this.completeLayers||this.elements[r])&&this.elements[r].prepareFrame(t-this.layers[r].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),r=i-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRenderer.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!=this.layers[t].ty){var r=this.createItem(this.layers[t],this,this.globalData);e[t]=r,r.initExpressions()}},CanvasRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRenderer.prototype.hide=function(){this.animationItem.container.style.display=\"none\"},CanvasRenderer.prototype.show=function(){this.animationItem.container.style.display=\"block\"},extendPrototype([BaseRenderer],HybridRenderer),HybridRenderer.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRenderer.prototype.appendElementInPos=function(t,e){var r=t.getBaseElement();if(r){var i=this.layers[e];if(i.ddd&&this.supports3d)this.addTo3dContainer(r,e);else if(this.threeDElements)this.addTo3dContainer(r,e);else{for(var n,s,a=0;a<e;)this.elements[a]&&!0!==this.elements[a]&&this.elements[a].getBaseElement&&(s=this.elements[a],n=(this.layers[a].ddd?this.getThreeDContainerByPos(a):s.getBaseElement())||n),a+=1;n?i.ddd&&this.supports3d||this.layerElement.insertBefore(r,n):i.ddd&&this.supports3d||this.layerElement.appendChild(r)}}},HybridRenderer.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.globalData,this):new SVGShapeElement(t,this.globalData,this)},HybridRenderer.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.globalData,this):new SVGTextElement(t,this.globalData,this)},HybridRenderer.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.globalData,this),this.camera},HybridRenderer.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.globalData,this):new IImageElement(t,this.globalData,this)},HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)},HybridRenderer.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.globalData,this):new ISolidElement(t,this.globalData,this)},HybridRenderer.prototype.createNull=SVGRenderer.prototype.createNull,HybridRenderer.prototype.getThreeDContainerByPos=function(t){for(var e=0,r=this.threeDElements.length;e<r;){if(this.threeDElements[e].startPos<=t&&this.threeDElements[e].endPos>=t)return this.threeDElements[e].perspectiveElem;e+=1}},HybridRenderer.prototype.createThreeDContainer=function(t,e){var r=createTag(\"div\");styleDiv(r);var i=createTag(\"div\");styleDiv(i),\"3d\"===e&&(r.style.width=this.globalData.compSize.w+\"px\",r.style.height=this.globalData.compSize.h+\"px\",r.style.transformOrigin=r.style.mozTransformOrigin=r.style.webkitTransformOrigin=\"50% 50%\",i.style.transform=i.style.webkitTransform=\"matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)\"),r.appendChild(i);var n={container:i,perspectiveElem:r,startPos:t,endPos:t,type:e};return this.threeDElements.push(n),n},HybridRenderer.prototype.build3dContainers=function(){var t,e,r=this.layers.length,i=\"\";for(t=0;t<r;t+=1)this.layers[t].ddd&&3!==this.layers[t].ty?(\"3d\"!==i&&(i=\"3d\",e=this.createThreeDContainer(t,\"3d\")),e.endPos=Math.max(e.endPos,t)):(\"2d\"!==i&&(i=\"2d\",e=this.createThreeDContainer(t,\"2d\")),e.endPos=Math.max(e.endPos,t));for(t=(r=this.threeDElements.length)-1;t>=0;t--)this.resizerElem.appendChild(this.threeDElements[t].perspectiveElem)},HybridRenderer.prototype.addTo3dContainer=function(t,e){for(var r=0,i=this.threeDElements.length;r<i;){if(e<=this.threeDElements[r].endPos){for(var n,s=this.threeDElements[r].startPos;s<e;)this.elements[s]&&this.elements[s].getBaseElement&&(n=this.elements[s].getBaseElement()),s+=1;n?this.threeDElements[r].container.insertBefore(t,n):this.threeDElements[r].container.appendChild(t);break}r+=1}},HybridRenderer.prototype.configAnimation=function(t){var e=createTag(\"div\"),r=this.animationItem.wrapper;e.style.width=t.w+\"px\",e.style.height=t.h+\"px\",this.resizerElem=e,styleDiv(e),e.style.transformStyle=e.style.webkitTransformStyle=e.style.mozTransformStyle=\"flat\",this.renderConfig.className&&e.setAttribute(\"class\",this.renderConfig.className),r.appendChild(e),e.style.overflow=\"hidden\";var i=createNS(\"svg\");i.setAttribute(\"width\",\"1\"),i.setAttribute(\"height\",\"1\"),styleDiv(i),this.resizerElem.appendChild(i);var n=createNS(\"defs\");i.appendChild(n),this.data=t,this.setupGlobalData(t,i),this.globalData.defs=n,this.layers=t.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerText=\"\",this.animationItem.container=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;t<e;t++)this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRenderer.prototype.updateContainerSize=function(){var t,e,r,i,n=this.animationItem.wrapper.offsetWidth,s=this.animationItem.wrapper.offsetHeight,a=n/s;this.globalData.compSize.w/this.globalData.compSize.h>a?(t=n/this.globalData.compSize.w,e=n/this.globalData.compSize.w,r=0,i=(s-this.globalData.compSize.h*(n/this.globalData.compSize.w))/2):(t=s/this.globalData.compSize.h,e=s/this.globalData.compSize.h,r=(n-this.globalData.compSize.w*(s/this.globalData.compSize.h))/2,i=0),this.resizerElem.style.transform=this.resizerElem.style.webkitTransform=\"matrix3d(\"+t+\",0,0,0,0,\"+e+\",0,0,0,0,1,0,\"+r+\",\"+i+\",0,1)\"},HybridRenderer.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRenderer.prototype.hide=function(){this.resizerElem.style.display=\"none\"},HybridRenderer.prototype.show=function(){this.resizerElem.style.display=\"block\"},HybridRenderer.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t,e=this.globalData.compSize.w,r=this.globalData.compSize.h,i=this.threeDElements.length;for(t=0;t<i;t+=1)this.threeDElements[t].perspectiveElem.style.perspective=this.threeDElements[t].perspectiveElem.style.webkitPerspective=Math.sqrt(Math.pow(e,2)+Math.pow(r,2))+\"px\"}},HybridRenderer.prototype.searchExtraCompositions=function(t){var e,r=t.length,i=createTag(\"div\");for(e=0;e<r;e+=1)if(t[e].xt){var n=this.createComp(t[e],i,this.globalData.comp,null);n.initExpressions(),this.globalData.projectInterface.registerComposition(n)}},MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.renderFrame=function(t){var e,r=this.element.finalTransform.mat,i=this.masksProperties.length;for(e=0;e<i;e++)if((this.viewData[e].prop._mdf||t)&&this.drawPath(this.masksProperties[e],this.viewData[e].prop.v,this.viewData[e]),(this.viewData[e].op._mdf||t)&&this.viewData[e].elem.setAttribute(\"fill-opacity\",this.viewData[e].op.v),\"n\"!==this.masksProperties[e].mode&&(this.viewData[e].invRect&&(this.element.finalTransform.mProp._mdf||t)&&this.viewData[e].invRect.setAttribute(\"transform\",r.getInverseMatrix().to2dCSS()),this.storedData[e].x&&(this.storedData[e].x._mdf||t))){var n=this.storedData[e].expan;this.storedData[e].x.v<0?(\"erode\"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator=\"erode\",this.storedData[e].elem.setAttribute(\"filter\",\"url(\"+locationHref+\"#\"+this.storedData[e].filterId+\")\")),n.setAttribute(\"radius\",-this.storedData[e].x.v)):(\"dilate\"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator=\"dilate\",this.storedData[e].elem.setAttribute(\"filter\",null)),this.storedData[e].elem.setAttribute(\"stroke-width\",2*this.storedData[e].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t=\"M0,0 \";return t+=\" h\"+this.globalData.compSize.w,t+=\" v\"+this.globalData.compSize.h,t+=\" h-\"+this.globalData.compSize.w,t+=\" v-\"+this.globalData.compSize.h+\" \"},MaskElement.prototype.drawPath=function(t,e,r){var i,n,s=\" M\"+e.v[0][0]+\",\"+e.v[0][1];for(n=e._length,i=1;i<n;i+=1)s+=\" C\"+e.o[i-1][0]+\",\"+e.o[i-1][1]+\" \"+e.i[i][0]+\",\"+e.i[i][1]+\" \"+e.v[i][0]+\",\"+e.v[i][1];if(e.c&&n>1&&(s+=\" C\"+e.o[i-1][0]+\",\"+e.o[i-1][1]+\" \"+e.i[0][0]+\",\"+e.i[0][1]+\" \"+e.v[0][0]+\",\"+e.v[0][1]),r.lastPath!==s){var a=\"\";r.elem&&(e.c&&(a=t.inv?this.solidPath+s:s),r.elem.setAttribute(\"d\",a)),r.lastPath=s}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,e){var r,i=this.dynamicProperties.length;for(r=0;r<i;r+=1)(e||this._isParent&&\"transform\"===this.dynamicProperties[r].propType)&&(this.dynamicProperties[r].getValue(),this.dynamicProperties[r]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&this.dynamicProperties.push(t)}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,e=this.finalTransform.mat,r=0,i=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;r<i;){if(this.hierarchy[r].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}r+=1}if(this.finalTransform._matMdf)for(t=this.finalTransform.mProp.v.props,e.cloneFromProps(t),r=0;r<i;r+=1)t=this.hierarchy[r].finalTransform.mProp.v.props,e.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}},globalToLocal:function(t){var e=[];e.push(this.finalTransform);for(var r=!0,i=this.comp;r;)i.finalTransform?(i.data.hasMask&&e.splice(0,0,i.finalTransform),i=i.comp):r=!1;var n,s,a=e.length;for(n=0;n<a;n+=1)s=e[n].mat.applyToPointArray(0,0,0),t=[t[0]-s[0],t[1]-s[1],0];return t},mHelper:new Matrix},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){-1===this.renderableComponents.indexOf(t)&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){-1!==this.renderableComponents.indexOf(t)&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var t,e=this.renderableComponents.length;for(t=0;t<e;t+=1)this.renderableComponents[t].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initTransform(t,e,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display=\"none\",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display=\"block\"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),SVGStyleData.prototype.reset=function(){this.d=\"\",this._mdf=!1},SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),SVGGradientFillStyleData.prototype.initGradientData=function(t,e,r){this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.s=PropertyFactory.getProp(t,e.s,1,null,this),this.e=PropertyFactory.getProp(t,e.e,1,null,this),this.h=PropertyFactory.getProp(t,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(t,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(t,e.g,this),this.style=r,this.stops=[],this.setGradientData(r.pElem,e),this.setGradientOpacity(e,r),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(t,e){var r=createElementID(),i=createNS(1===e.t?\"linearGradient\":\"radialGradient\");i.setAttribute(\"id\",r),i.setAttribute(\"spreadMethod\",\"pad\"),i.setAttribute(\"gradientUnits\",\"userSpaceOnUse\");var n,s,a,o=[];for(a=4*e.g.p,s=0;s<a;s+=4)n=createNS(\"stop\"),i.appendChild(n),o.push(n);t.setAttribute(\"gf\"===e.ty?\"fill\":\"stroke\",\"url(\"+locationHref+\"#\"+r+\")\"),this.gf=i,this.cst=o},SVGGradientFillStyleData.prototype.setGradientOpacity=function(t,e){if(this.g._hasOpacity&&!this.g._collapsable){var r,i,n,s=createNS(\"mask\"),a=createNS(\"path\");s.appendChild(a);var o=createElementID(),h=createElementID();s.setAttribute(\"id\",h);var l=createNS(1===t.t?\"linearGradient\":\"radialGradient\");l.setAttribute(\"id\",o),l.setAttribute(\"spreadMethod\",\"pad\"),l.setAttribute(\"gradientUnits\",\"userSpaceOnUse\"),n=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var p=this.stops;for(i=4*t.g.p;i<n;i+=2)(r=createNS(\"stop\")).setAttribute(\"stop-color\",\"rgb(255,255,255)\"),l.appendChild(r),p.push(r);a.setAttribute(\"gf\"===t.ty?\"fill\":\"stroke\",\"url(\"+locationHref+\"#\"+o+\")\"),this.of=l,this.ms=s,this.ost=p,this.maskId=h,e.msElem=a}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var SVGElementsRenderer=function(){var t=new Matrix,e=new Matrix;function r(t,e,r){(r||e.transform.op._mdf)&&e.transform.container.setAttribute(\"opacity\",e.transform.op.v),(r||e.transform.mProps._mdf)&&e.transform.container.setAttribute(\"transform\",e.transform.mProps.v.to2dCSS())}function i(r,i,n){var s,a,o,h,l,p,c,f,u,m,d,y=i.styles.length,g=i.lvl;for(p=0;p<y;p+=1){if(h=i.sh._mdf||n,i.styles[p].lvl<g){for(f=e.reset(),m=g-i.styles[p].lvl,d=i.transformers.length-1;!h&&m>0;)h=i.transformers[d].mProps._mdf||h,m--,d--;if(h)for(m=g-i.styles[p].lvl,d=i.transformers.length-1;m>0;)u=i.transformers[d].mProps.v.props,f.transform(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15]),m--,d--}else f=t;if(a=(c=i.sh.paths)._length,h){for(o=\"\",s=0;s<a;s+=1)(l=c.shapes[s])&&l._length&&(o+=buildShapeString(l,l._length,l.c,f));i.caches[p]=o}else o=i.caches[p];i.styles[p].d+=!0===r.hd?\"\":o,i.styles[p]._mdf=h||i.styles[p]._mdf}}function n(t,e,r){var i=e.style;(e.c._mdf||r)&&i.pElem.setAttribute(\"fill\",\"rgb(\"+bm_floor(e.c.v[0])+\",\"+bm_floor(e.c.v[1])+\",\"+bm_floor(e.c.v[2])+\")\"),(e.o._mdf||r)&&i.pElem.setAttribute(\"fill-opacity\",e.o.v)}function s(t,e,r){a(t,e,r),o(0,e,r)}function a(t,e,r){var i,n,s,a,o,h=e.gf,l=e.g._hasOpacity,p=e.s.v,c=e.e.v;if(e.o._mdf||r){var f=\"gf\"===t.ty?\"fill-opacity\":\"stroke-opacity\";e.style.pElem.setAttribute(f,e.o.v)}if(e.s._mdf||r){var u=1===t.t?\"x1\":\"cx\",m=\"x1\"===u?\"y1\":\"cy\";h.setAttribute(u,p[0]),h.setAttribute(m,p[1]),l&&!e.g._collapsable&&(e.of.setAttribute(u,p[0]),e.of.setAttribute(m,p[1]))}if(e.g._cmdf||r){i=e.cst;var d=e.g.c;for(s=i.length,n=0;n<s;n+=1)(a=i[n]).setAttribute(\"offset\",d[4*n]+\"%\"),a.setAttribute(\"stop-color\",\"rgb(\"+d[4*n+1]+\",\"+d[4*n+2]+\",\"+d[4*n+3]+\")\")}if(l&&(e.g._omdf||r)){var y=e.g.o;for(s=(i=e.g._collapsable?e.cst:e.ost).length,n=0;n<s;n+=1)a=i[n],e.g._collapsable||a.setAttribute(\"offset\",y[2*n]+\"%\"),a.setAttribute(\"stop-opacity\",y[2*n+1])}if(1===t.t)(e.e._mdf||r)&&(h.setAttribute(\"x2\",c[0]),h.setAttribute(\"y2\",c[1]),l&&!e.g._collapsable&&(e.of.setAttribute(\"x2\",c[0]),e.of.setAttribute(\"y2\",c[1])));else if((e.s._mdf||e.e._mdf||r)&&(o=Math.sqrt(Math.pow(p[0]-c[0],2)+Math.pow(p[1]-c[1],2)),h.setAttribute(\"r\",o),l&&!e.g._collapsable&&e.of.setAttribute(\"r\",o)),e.e._mdf||e.h._mdf||e.a._mdf||r){o||(o=Math.sqrt(Math.pow(p[0]-c[0],2)+Math.pow(p[1]-c[1],2)));var g=Math.atan2(c[1]-p[1],c[0]-p[0]),v=o*(e.h.v>=1?.99:e.h.v<=-1?-.99:e.h.v),b=Math.cos(g+e.a.v)*v+p[0],E=Math.sin(g+e.a.v)*v+p[1];h.setAttribute(\"fx\",b),h.setAttribute(\"fy\",E),l&&!e.g._collapsable&&(e.of.setAttribute(\"fx\",b),e.of.setAttribute(\"fy\",E))}}function o(t,e,r){var i=e.style,n=e.d;n&&(n._mdf||r)&&n.dashStr&&(i.pElem.setAttribute(\"stroke-dasharray\",n.dashStr),i.pElem.setAttribute(\"stroke-dashoffset\",n.dashoffset[0])),e.c&&(e.c._mdf||r)&&i.pElem.setAttribute(\"stroke\",\"rgb(\"+bm_floor(e.c.v[0])+\",\"+bm_floor(e.c.v[1])+\",\"+bm_floor(e.c.v[2])+\")\"),(e.o._mdf||r)&&i.pElem.setAttribute(\"stroke-opacity\",e.o.v),(e.w._mdf||r)&&(i.pElem.setAttribute(\"stroke-width\",e.w.v),i.msElem&&i.msElem.setAttribute(\"stroke-width\",e.w.v))}return{createRenderFunction:function(t){switch(t.ty,t.ty){case\"fl\":return n;case\"gf\":return a;case\"gs\":return s;case\"st\":return o;case\"sh\":case\"el\":case\"rc\":case\"sr\":return i;case\"tr\":return r}}}}();function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function CVShapeData(t,e,r,i){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var n=4;\"rc\"==e.ty?n=5:\"el\"==e.ty?n=6:\"sr\"==e.ty&&(n=7),this.sh=ShapePropertyFactory.getShapeProp(t,e,n,t);var s,a,o=r.length;for(s=0;s<o;s+=1)r[s].closed||(a={transforms:i.addTransformSequence(r[s].transforms),trNodes:[]},this.styledShapes.push(a),r[s].elements.push(a))}function BaseElement(){}function NullElement(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initFrame(),this.initTransform(t,e,r),this.initHierarchy()}function SVGBaseElement(){}function IShapeElement(){}function ITextElement(){}function ICompElement(){}function IImageElement(t,e,r){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,r),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ISolidElement(t,e,r){this.initElement(t,e,r)}function AudioElement(t,e,r){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.initBaseData(t,e,r),this._isPlaying=!1,this._canPlay=!1;var i=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(i),this._currentTime=0,this.globalData.audioController.addAudio(this),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function SVGCompElement(t,e,r){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function SVGTextElement(t,e,r){this.textSpans=[],this.renderType=\"svg\",this.initElement(t,e,r)}function SVGShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,r),this.prevViewData=[]}function SVGTintFilter(t,e){this.filterManager=e;var r=createNS(\"feColorMatrix\");if(r.setAttribute(\"type\",\"matrix\"),r.setAttribute(\"color-interpolation-filters\",\"linearRGB\"),r.setAttribute(\"values\",\"0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0\"),r.setAttribute(\"result\",\"f1\"),t.appendChild(r),(r=createNS(\"feColorMatrix\")).setAttribute(\"type\",\"matrix\"),r.setAttribute(\"color-interpolation-filters\",\"sRGB\"),r.setAttribute(\"values\",\"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0\"),r.setAttribute(\"result\",\"f2\"),t.appendChild(r),this.matrixFilter=r,100!==e.effectElements[2].p.v||e.effectElements[2].p.k){var i,n=createNS(\"feMerge\");t.appendChild(n),(i=createNS(\"feMergeNode\")).setAttribute(\"in\",\"SourceGraphic\"),n.appendChild(i),(i=createNS(\"feMergeNode\")).setAttribute(\"in\",\"f2\"),n.appendChild(i)}}function SVGFillFilter(t,e){this.filterManager=e;var r=createNS(\"feColorMatrix\");r.setAttribute(\"type\",\"matrix\"),r.setAttribute(\"color-interpolation-filters\",\"sRGB\"),r.setAttribute(\"values\",\"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0\"),t.appendChild(r),this.matrixFilter=r}function SVGGaussianBlurEffect(t,e){t.setAttribute(\"x\",\"-100%\"),t.setAttribute(\"y\",\"-100%\"),t.setAttribute(\"width\",\"300%\"),t.setAttribute(\"height\",\"300%\"),this.filterManager=e;var r=createNS(\"feGaussianBlur\");t.appendChild(r),this.feGaussianBlur=r}function SVGStrokeEffect(t,e){this.initialized=!1,this.filterManager=e,this.elem=t,this.paths=[]}function SVGTritoneFilter(t,e){this.filterManager=e;var r=createNS(\"feColorMatrix\");r.setAttribute(\"type\",\"matrix\"),r.setAttribute(\"color-interpolation-filters\",\"linearRGB\"),r.setAttribute(\"values\",\"0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0\"),r.setAttribute(\"result\",\"f1\"),t.appendChild(r);var i=createNS(\"feComponentTransfer\");i.setAttribute(\"color-interpolation-filters\",\"sRGB\"),t.appendChild(i),this.matrixFilter=i;var n=createNS(\"feFuncR\");n.setAttribute(\"type\",\"table\"),i.appendChild(n),this.feFuncR=n;var s=createNS(\"feFuncG\");s.setAttribute(\"type\",\"table\"),i.appendChild(s),this.feFuncG=s;var a=createNS(\"feFuncB\");a.setAttribute(\"type\",\"table\"),i.appendChild(a),this.feFuncB=a}function SVGProLevelsFilter(t,e){this.filterManager=e;var r=this.filterManager.effectElements,i=createNS(\"feComponentTransfer\");(r[10].p.k||0!==r[10].p.v||r[11].p.k||1!==r[11].p.v||r[12].p.k||1!==r[12].p.v||r[13].p.k||0!==r[13].p.v||r[14].p.k||1!==r[14].p.v)&&(this.feFuncR=this.createFeFunc(\"feFuncR\",i)),(r[17].p.k||0!==r[17].p.v||r[18].p.k||1!==r[18].p.v||r[19].p.k||1!==r[19].p.v||r[20].p.k||0!==r[20].p.v||r[21].p.k||1!==r[21].p.v)&&(this.feFuncG=this.createFeFunc(\"feFuncG\",i)),(r[24].p.k||0!==r[24].p.v||r[25].p.k||1!==r[25].p.v||r[26].p.k||1!==r[26].p.v||r[27].p.k||0!==r[27].p.v||r[28].p.k||1!==r[28].p.v)&&(this.feFuncB=this.createFeFunc(\"feFuncB\",i)),(r[31].p.k||0!==r[31].p.v||r[32].p.k||1!==r[32].p.v||r[33].p.k||1!==r[33].p.v||r[34].p.k||0!==r[34].p.v||r[35].p.k||1!==r[35].p.v)&&(this.feFuncA=this.createFeFunc(\"feFuncA\",i)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(i.setAttribute(\"color-interpolation-filters\",\"sRGB\"),t.appendChild(i),i=createNS(\"feComponentTransfer\")),(r[3].p.k||0!==r[3].p.v||r[4].p.k||1!==r[4].p.v||r[5].p.k||1!==r[5].p.v||r[6].p.k||0!==r[6].p.v||r[7].p.k||1!==r[7].p.v)&&(i.setAttribute(\"color-interpolation-filters\",\"sRGB\"),t.appendChild(i),this.feFuncRComposed=this.createFeFunc(\"feFuncR\",i),this.feFuncGComposed=this.createFeFunc(\"feFuncG\",i),this.feFuncBComposed=this.createFeFunc(\"feFuncB\",i))}function SVGDropShadowEffect(t,e){var r=e.container.globalData.renderConfig.filterSize;t.setAttribute(\"x\",r.x),t.setAttribute(\"y\",r.y),t.setAttribute(\"width\",r.width),t.setAttribute(\"height\",r.height),this.filterManager=e;var i=createNS(\"feGaussianBlur\");i.setAttribute(\"in\",\"SourceAlpha\"),i.setAttribute(\"result\",\"drop_shadow_1\"),i.setAttribute(\"stdDeviation\",\"0\"),this.feGaussianBlur=i,t.appendChild(i);var n=createNS(\"feOffset\");n.setAttribute(\"dx\",\"25\"),n.setAttribute(\"dy\",\"0\"),n.setAttribute(\"in\",\"drop_shadow_1\"),n.setAttribute(\"result\",\"drop_shadow_2\"),this.feOffset=n,t.appendChild(n);var s=createNS(\"feFlood\");s.setAttribute(\"flood-color\",\"#00ff00\"),s.setAttribute(\"flood-opacity\",\"1\"),s.setAttribute(\"result\",\"drop_shadow_3\"),this.feFlood=s,t.appendChild(s);var a=createNS(\"feComposite\");a.setAttribute(\"in\",\"drop_shadow_3\"),a.setAttribute(\"in2\",\"drop_shadow_2\"),a.setAttribute(\"operator\",\"in\"),a.setAttribute(\"result\",\"drop_shadow_4\"),t.appendChild(a);var o,h=createNS(\"feMerge\");t.appendChild(h),o=createNS(\"feMergeNode\"),h.appendChild(o),(o=createNS(\"feMergeNode\")).setAttribute(\"in\",\"SourceGraphic\"),this.feMergeNode=o,this.feMerge=h,this.originalNodeAdded=!1,h.appendChild(o)}ShapeTransformManager.prototype={addTransformSequence:function(t){var e,r=t.length,i=\"_\";for(e=0;e<r;e+=1)i+=t[e].transform.key+\"_\";var n=this.sequences[i];return n||(n={transforms:[].concat(t),finalTransform:new Matrix,_mdf:!1},this.sequences[i]=n,this.sequenceList.push(n)),n},processSequence:function(t,e){for(var r,i=0,n=t.transforms.length,s=e;i<n&&!e;){if(t.transforms[i].transform.mProps._mdf){s=!0;break}i+=1}if(s)for(t.finalTransform.reset(),i=n-1;i>=0;i-=1)r=t.transforms[i].transform.mProps.v.props,t.finalTransform.transform(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15]);t._mdf=s},processSequences:function(t){var e,r=this.sequenceList.length;for(e=0;e<r;e+=1)this.processSequence(this.sequenceList[e],t)},getNewKey:function(){return\"_\"+this.transform_key_count++}},CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var t=0,e=this.data.masksProperties.length;t<e;){if(\"n\"!==this.data.masksProperties[t].mode&&!1!==this.data.masksProperties[t].cl)return!0;t+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var t=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(t),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var t=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style[\"mix-blend-mode\"]=t},initBaseData:function(t,e,r){this.globalData=e,this.comp=r,this.data=t,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS(\"g\")},createContainerElements:function(){this.matteElement=createNS(\"g\"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t,e,r,i=null;if(this.data.td){if(3==this.data.td||1==this.data.td){var n=createNS(\"mask\");n.setAttribute(\"id\",this.layerId),n.setAttribute(\"mask-type\",3==this.data.td?\"luminance\":\"alpha\"),n.appendChild(this.layerElement),i=n,this.globalData.defs.appendChild(n),featureSupport.maskType||1!=this.data.td||(n.setAttribute(\"mask-type\",\"luminance\"),t=createElementID(),e=filtersFactory.createFilter(t),this.globalData.defs.appendChild(e),e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(r=createNS(\"g\")).appendChild(this.layerElement),i=r,n.appendChild(r),r.setAttribute(\"filter\",\"url(\"+locationHref+\"#\"+t+\")\"))}else if(2==this.data.td){var s=createNS(\"mask\");s.setAttribute(\"id\",this.layerId),s.setAttribute(\"mask-type\",\"alpha\");var a=createNS(\"g\");s.appendChild(a),t=createElementID(),e=filtersFactory.createFilter(t);var o=createNS(\"feComponentTransfer\");o.setAttribute(\"in\",\"SourceGraphic\"),e.appendChild(o);var h=createNS(\"feFuncA\");h.setAttribute(\"type\",\"table\"),h.setAttribute(\"tableValues\",\"1.0 0.0\"),o.appendChild(h),this.globalData.defs.appendChild(e);var l=createNS(\"rect\");l.setAttribute(\"width\",this.comp.data.w),l.setAttribute(\"height\",this.comp.data.h),l.setAttribute(\"x\",\"0\"),l.setAttribute(\"y\",\"0\"),l.setAttribute(\"fill\",\"#ffffff\"),l.setAttribute(\"opacity\",\"0\"),a.setAttribute(\"filter\",\"url(\"+locationHref+\"#\"+t+\")\"),a.appendChild(l),a.appendChild(this.layerElement),i=a,featureSupport.maskType||(s.setAttribute(\"mask-type\",\"luminance\"),e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),r=createNS(\"g\"),a.appendChild(l),r.appendChild(this.layerElement),i=r,a.appendChild(r)),this.globalData.defs.appendChild(s)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),i=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute(\"id\",this.data.ln),this.data.cl&&this.layerElement.setAttribute(\"class\",this.data.cl),0===this.data.ty&&!this.data.hd){var p=createNS(\"clipPath\"),c=createNS(\"path\");c.setAttribute(\"d\",\"M0,0 L\"+this.data.w+\",0 L\"+this.data.w+\",\"+this.data.h+\" L0,\"+this.data.h+\"z\");var f=createElementID();if(p.setAttribute(\"id\",f),p.appendChild(c),this.globalData.defs.appendChild(p),this.checkMasks()){var u=createNS(\"g\");u.setAttribute(\"clip-path\",\"url(\"+locationHref+\"#\"+f+\")\"),u.appendChild(this.layerElement),this.transformedElement=u,i?i.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute(\"clip-path\",\"url(\"+locationHref+\"#\"+f+\")\")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute(\"transform\",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute(\"opacity\",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(t){this.matteElement&&this.matteElement.setAttribute(\"mask\",\"url(\"+locationHref+\"#\"+t+\")\")}},IShapeElement.prototype={addShapeToModifiers:function(t){var e,r=this.shapeModifiers.length;for(e=0;e<r;e+=1)this.shapeModifiers[e].addShape(t)},isShapeInAnimatedModifiers:function(t){for(var e=this.shapeModifiers.length;0<e;)if(this.shapeModifiers[0].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var t,e=this.shapes.length;for(t=0;t<e;t+=1)this.shapes[t].sh.reset();for(t=(e=this.shapeModifiers.length)-1;t>=0;t-=1)this.shapeModifiers[t].processShapes(this._isFirstFrame)}},lcEnum:{1:\"butt\",2:\"round\",3:\"square\"},ljEnum:{1:\"miter\",2:\"round\",3:\"bevel\"},searchProcessedElement:function(t){for(var e=this.processedElements,r=0,i=e.length;r<i;){if(e[r].elem===t)return e[r].pos;r+=1}return 0},addProcessedElement:function(t,e){for(var r=this.processedElements,i=r.length;i;)if(r[i-=1].elem===t)return void(r[i].pos=e);r.push(new ProcessedElement(t,e))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}},ITextElement.prototype.initElement=function(t,e,r){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,r),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,e,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(t,e){var r,i,n=e.length,s=\"\";for(r=0;r<n;r+=1)i=e[r].ks.k,s+=buildShapeString(i,i.i.length,!0,t);return s},ITextElement.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,e,r,i,n){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[r]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[r])/2,0,0)}e.translate(i,n,0)},ITextElement.prototype.buildColor=function(t){return\"rgb(\"+Math.round(255*t[0])+\",\"+Math.round(255*t[1])+\",\"+Math.round(255*t[2])+\")\"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initTransform(t,e,r),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&e.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var r,i=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),r=i-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&(this.elements[r].prepareFrame(this.renderedFrame-this.layers[r].st),this.elements[r]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS(\"image\"),this.innerElem.setAttribute(\"width\",this.assetData.w+\"px\"),this.innerElem.setAttribute(\"height\",this.assetData.h+\"px\"),this.innerElem.setAttribute(\"preserveAspectRatio\",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS(\"http://www.w3.org/1999/xlink\",\"href\",t),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS(\"rect\");t.setAttribute(\"width\",this.data.sw),t.setAttribute(\"height\",this.data.sh),t.setAttribute(\"fill\",this.data.sc),this.layerElement.appendChild(t)},AudioElement.prototype.prepareFrame=function(t){if(this.prepareRenderableFrame(t,!0),this.prepareProperties(t,!0),this.tm._placeholder)this._currentTime=t/this.data.sr;else{var e=this.tm.v;this._currentTime=e}},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(t){this.audio.rate(t)},AudioElement.prototype.volume=function(t){this.audio.volume(t)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},extendPrototype([SVGRenderer,ICompElement,SVGBaseElement],SVGCompElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextElement),SVGTextElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS(\"text\"))},SVGTextElement.prototype.buildTextContents=function(t){for(var e=0,r=t.length,i=[],n=\"\";e<r;)t[e]===String.fromCharCode(13)||t[e]===String.fromCharCode(3)?(i.push(n),n=\"\"):n+=t[e],e+=1;return i.push(n),i},SVGTextElement.prototype.buildNewText=function(){var t,e,r=this.textProperty.currentData;this.renderedLetters=createSizedArray(r?r.l.length:0),r.fc?this.layerElement.setAttribute(\"fill\",this.buildColor(r.fc)):this.layerElement.setAttribute(\"fill\",\"rgba(0,0,0,0)\"),r.sc&&(this.layerElement.setAttribute(\"stroke\",this.buildColor(r.sc)),this.layerElement.setAttribute(\"stroke-width\",r.sw)),this.layerElement.setAttribute(\"font-size\",r.finalSize);var i=this.globalData.fontManager.getFontByName(r.f);if(i.fClass)this.layerElement.setAttribute(\"class\",i.fClass);else{this.layerElement.setAttribute(\"font-family\",i.fFamily);var n=r.fWeight,s=r.fStyle;this.layerElement.setAttribute(\"font-style\",s),this.layerElement.setAttribute(\"font-weight\",n)}this.layerElement.setAttribute(\"aria-label\",r.t);var a,o=r.l||[],h=!!this.globalData.fontManager.chars;e=o.length;var l,p=this.mHelper,c=\"\",f=this.data.singleShape,u=0,m=0,d=!0,y=r.tr/1e3*r.finalSize;if(!f||h||r.sz){var g,v,b=this.textSpans.length;for(t=0;t<e;t+=1)h&&f&&0!==t||(a=b>t?this.textSpans[t]:createNS(h?\"path\":\"text\"),b<=t&&(a.setAttribute(\"stroke-linecap\",\"butt\"),a.setAttribute(\"stroke-linejoin\",\"round\"),a.setAttribute(\"stroke-miterlimit\",\"4\"),this.textSpans[t]=a,this.layerElement.appendChild(a)),a.style.display=\"inherit\"),p.reset(),p.scale(r.finalSize/100,r.finalSize/100),f&&(o[t].n&&(u=-y,m+=r.yOffset,m+=d?1:0,d=!1),this.applyTextPropertiesToMatrix(r,p,o[t].line,u,m),u+=o[t].l||0,u+=y),h?(l=(g=(v=this.globalData.fontManager.getCharData(r.finalText[t],i.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily))&&v.data||{}).shapes?g.shapes[0].it:[],f?c+=this.createPathShape(p,l):a.setAttribute(\"d\",this.createPathShape(p,l))):(f&&a.setAttribute(\"transform\",\"translate(\"+p.props[12]+\",\"+p.props[13]+\")\"),a.textContent=o[t].val,a.setAttributeNS(\"http://www.w3.org/XML/1998/namespace\",\"xml:space\",\"preserve\"));f&&a&&a.setAttribute(\"d\",c)}else{var E=this.textContainer,x=\"start\";switch(r.j){case 1:x=\"end\";break;case 2:x=\"middle\"}E.setAttribute(\"text-anchor\",x),E.setAttribute(\"letter-spacing\",y);var S=this.buildTextContents(r.finalText);for(e=S.length,m=r.ps?r.ps[1]+r.ascent:0,t=0;t<e;t+=1)(a=this.textSpans[t]||createNS(\"tspan\")).textContent=S[t],a.setAttribute(\"x\",0),a.setAttribute(\"y\",m),a.style.display=\"inherit\",E.appendChild(a),this.textSpans[t]=a,m+=r.finalLineHeight;this.layerElement.appendChild(E)}for(;t<this.textSpans.length;)this.textSpans[t].style.display=\"none\",t+=1;this._sizeChanged=!0},SVGTextElement.prototype.sourceRectAtTime=function(t){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var e=this.layerElement.getBBox();this.bbox={top:e.y,left:e.x,width:e.width,height:e.height}}return this.bbox},SVGTextElement.prototype.renderInnerContent=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var t,e;this._sizeChanged=!0;var r,i,n=this.textAnimator.renderedLetters,s=this.textProperty.currentData.l;for(e=s.length,t=0;t<e;t+=1)s[t].n||(r=n[t],i=this.textSpans[t],r._mdf.m&&i.setAttribute(\"transform\",r.m),r._mdf.o&&i.setAttribute(\"opacity\",r.o),r._mdf.sw&&i.setAttribute(\"stroke-width\",r.sw),r._mdf.sc&&i.setAttribute(\"stroke\",r.sc),r._mdf.fc&&i.setAttribute(\"fill\",r.fc))}},extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var t,e,r,i,n=this.shapes.length,s=this.stylesList.length,a=[],o=!1;for(r=0;r<s;r+=1){for(i=this.stylesList[r],o=!1,a.length=0,t=0;t<n;t+=1)-1!==(e=this.shapes[t]).styles.indexOf(i)&&(a.push(e),o=e._isAnimated||o);a.length>1&&o&&this.setShapesAsAnimated(a)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,e){var r,i=new SVGStyleData(t,e),n=i.pElem;return\"st\"===t.ty?r=new SVGStrokeStyleData(this,t,i):\"fl\"===t.ty?r=new SVGFillStyleData(this,t,i):\"gf\"!==t.ty&&\"gs\"!==t.ty||(r=new(\"gf\"===t.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,t,i),this.globalData.defs.appendChild(r.gf),r.maskId&&(this.globalData.defs.appendChild(r.ms),this.globalData.defs.appendChild(r.of),n.setAttribute(\"mask\",\"url(\"+locationHref+\"#\"+r.maskId+\")\"))),\"st\"!==t.ty&&\"gs\"!==t.ty||(n.setAttribute(\"stroke-linecap\",this.lcEnum[t.lc]||\"round\"),n.setAttribute(\"stroke-linejoin\",this.ljEnum[t.lj]||\"round\"),n.setAttribute(\"fill-opacity\",\"0\"),1===t.lj&&n.setAttribute(\"stroke-miterlimit\",t.ml)),2===t.r&&n.setAttribute(\"fill-rule\",\"evenodd\"),t.ln&&n.setAttribute(\"id\",t.ln),t.cl&&n.setAttribute(\"class\",t.cl),t.bm&&(n.style[\"mix-blend-mode\"]=getBlendMode(t.bm)),this.stylesList.push(i),this.addToAnimatedContents(t,r),r},SVGShapeElement.prototype.createGroupElement=function(t){var e=new ShapeGroupData;return t.ln&&e.gr.setAttribute(\"id\",t.ln),t.cl&&e.gr.setAttribute(\"class\",t.cl),t.bm&&(e.gr.style[\"mix-blend-mode\"]=getBlendMode(t.bm)),e},SVGShapeElement.prototype.createTransformElement=function(t,e){var r=TransformPropertyFactory.getTransformProperty(this,t,this),i=new SVGTransformData(r,r.o,e);return this.addToAnimatedContents(t,i),i},SVGShapeElement.prototype.createShapeElement=function(t,e,r){var i=4;\"rc\"===t.ty?i=5:\"el\"===t.ty?i=6:\"sr\"===t.ty&&(i=7);var n=new SVGShapeData(e,r,ShapePropertyFactory.getShapeProp(this,t,i,this));return this.shapes.push(n),this.addShapeToModifiers(n),this.addToAnimatedContents(t,n),n},SVGShapeElement.prototype.addToAnimatedContents=function(t,e){for(var r=0,i=this.animatedContents.length;r<i;){if(this.animatedContents[r].element===e)return;r+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:e,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){var e,r=t.styles,i=this.stylesList.length;for(e=0;e<i;e+=1)this.stylesList[e].closed||r.push(this.stylesList[e])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,e,r,i,n,s,a){var o,h,l,p,c,f,u=[].concat(s),m=t.length-1,d=[],y=[];for(o=m;o>=0;o-=1){if((f=this.searchProcessedElement(t[o]))?e[o]=r[f-1]:t[o]._render=a,\"fl\"==t[o].ty||\"st\"==t[o].ty||\"gf\"==t[o].ty||\"gs\"==t[o].ty)f?e[o].style.closed=!1:e[o]=this.createStyleElement(t[o],n),t[o]._render&&i.appendChild(e[o].style.pElem),d.push(e[o].style);else if(\"gr\"==t[o].ty){if(f)for(l=e[o].it.length,h=0;h<l;h+=1)e[o].prevViewData[h]=e[o].it[h];else e[o]=this.createGroupElement(t[o]);this.searchShapes(t[o].it,e[o].it,e[o].prevViewData,e[o].gr,n+1,u,a),t[o]._render&&i.appendChild(e[o].gr)}else\"tr\"==t[o].ty?(f||(e[o]=this.createTransformElement(t[o],i)),p=e[o].transform,u.push(p)):\"sh\"==t[o].ty||\"rc\"==t[o].ty||\"el\"==t[o].ty||\"sr\"==t[o].ty?(f||(e[o]=this.createShapeElement(t[o],u,n)),this.setElementStyles(e[o])):\"tm\"==t[o].ty||\"rd\"==t[o].ty||\"ms\"==t[o].ty||\"pb\"==t[o].ty?(f?(c=e[o]).closed=!1:((c=ShapeModifiers.getModifier(t[o].ty)).init(this,t[o]),e[o]=c,this.shapeModifiers.push(c)),y.push(c)):\"rp\"==t[o].ty&&(f?(c=e[o]).closed=!0:(c=ShapeModifiers.getModifier(t[o].ty),e[o]=c,c.init(this,t,o,e),this.shapeModifiers.push(c),a=!1),y.push(c));this.addProcessedElement(t[o],o+1)}for(m=d.length,o=0;o<m;o+=1)d[o].closed=!0;for(m=y.length,o=0;o<m;o+=1)y[o].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<e;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute(\"d\",this.stylesList[t].d),this.stylesList[t].d=\"M0 0\"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute(\"d\",this.stylesList[t].d||\"M0 0\"))},SVGShapeElement.prototype.renderShape=function(){var t,e,r=this.animatedContents.length;for(t=0;t<r;t+=1)e=this.animatedContents[t],(this._isFirstFrame||e.element._isAnimated)&&!0!==e.data&&e.fn(e.data,e.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,i=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute(\"values\",r[0]-e[0]+\" 0 0 0 \"+e[0]+\" \"+(r[1]-e[1])+\" 0 0 0 \"+e[1]+\" \"+(r[2]-e[2])+\" 0 0 0 \"+e[2]+\" 0 0 0 \"+i+\" 0\")}},SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v,r=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute(\"values\",\"0 0 0 0 \"+e[0]+\" 0 0 0 0 \"+e[1]+\" 0 0 0 0 \"+e[2]+\" 0 0 0 \"+r+\" 0\")}},SVGGaussianBlurEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=.3*this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,i=3==r?0:e,n=2==r?0:e;this.feGaussianBlur.setAttribute(\"stdDeviation\",i+\" \"+n);var s=1==this.filterManager.effectElements[2].p.v?\"wrap\":\"duplicate\";this.feGaussianBlur.setAttribute(\"edgeMode\",s)}},SVGStrokeEffect.prototype.initialize=function(){var t,e,r,i,n=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(i=this.elem.maskManager.masksProperties.length,r=0):i=1+(r=this.filterManager.effectElements[0].p.v-1),(e=createNS(\"g\")).setAttribute(\"fill\",\"none\"),e.setAttribute(\"stroke-linecap\",\"round\"),e.setAttribute(\"stroke-dashoffset\",1);r<i;r+=1)t=createNS(\"path\"),e.appendChild(t),this.paths.push({p:t,m:r});if(3===this.filterManager.effectElements[10].p.v){var s=createNS(\"mask\"),a=createElementID();s.setAttribute(\"id\",a),s.setAttribute(\"mask-type\",\"alpha\"),s.appendChild(e),this.elem.globalData.defs.appendChild(s);var o=createNS(\"g\");for(o.setAttribute(\"mask\",\"url(\"+locationHref+\"#\"+a+\")\");n[0];)o.appendChild(n[0]);this.elem.layerElement.appendChild(o),this.masker=s,e.setAttribute(\"stroke\",\"#fff\")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(n=this.elem.layerElement.children||this.elem.layerElement.childNodes;n.length;)this.elem.layerElement.removeChild(n[0]);this.elem.layerElement.appendChild(e),this.elem.layerElement.removeAttribute(\"mask\"),e.setAttribute(\"stroke\",\"#fff\")}this.initialized=!0,this.pathMasker=e},SVGStrokeEffect.prototype.renderFrame=function(t){this.initialized||this.initialize();var e,r,i,n=this.paths.length;for(e=0;e<n;e+=1)if(-1!==this.paths[e].m&&(r=this.elem.maskManager.viewData[this.paths[e].m],i=this.paths[e].p,(t||this.filterManager._mdf||r.prop._mdf)&&i.setAttribute(\"d\",r.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||r.prop._mdf)){var s;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var a=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,o=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,h=i.getTotalLength();s=\"0 0 0 \"+h*a+\" \";var l,p=h*(o-a),c=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100,f=Math.floor(p/c);for(l=0;l<f;l+=1)s+=\"1 \"+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100+\" \";s+=\"0 \"+10*h+\" 0 0\"}else s=\"1 \"+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100;i.setAttribute(\"stroke-dasharray\",s)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute(\"stroke-width\",2*this.filterManager.effectElements[4].p.v),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute(\"opacity\",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(t||this.filterManager.effectElements[3].p._mdf)){var u=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute(\"stroke\",\"rgb(\"+bm_floor(255*u[0])+\",\"+bm_floor(255*u[1])+\",\"+bm_floor(255*u[2])+\")\")}},SVGTritoneFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,i=this.filterManager.effectElements[2].p.v,n=i[0]+\" \"+r[0]+\" \"+e[0],s=i[1]+\" \"+r[1]+\" \"+e[1],a=i[2]+\" \"+r[2]+\" \"+e[2];this.feFuncR.setAttribute(\"tableValues\",n),this.feFuncG.setAttribute(\"tableValues\",s),this.feFuncB.setAttribute(\"tableValues\",a)}},SVGProLevelsFilter.prototype.createFeFunc=function(t,e){var r=createNS(t);return r.setAttribute(\"type\",\"table\"),e.appendChild(r),r},SVGProLevelsFilter.prototype.getTableValue=function(t,e,r,i,n){for(var s,a,o=0,h=Math.min(t,e),l=Math.max(t,e),p=Array.call(null,{length:256}),c=0,f=n-i,u=e-t;o<=256;)a=(s=o/256)<=h?u<0?n:i:s>=l?u<0?i:n:i+f*Math.pow((s-t)/u,1/r),p[c++]=a,o+=256/255;return p.join(\" \")},SVGProLevelsFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e,r=this.filterManager.effectElements;this.feFuncRComposed&&(t||r[3].p._mdf||r[4].p._mdf||r[5].p._mdf||r[6].p._mdf||r[7].p._mdf)&&(e=this.getTableValue(r[3].p.v,r[4].p.v,r[5].p.v,r[6].p.v,r[7].p.v),this.feFuncRComposed.setAttribute(\"tableValues\",e),this.feFuncGComposed.setAttribute(\"tableValues\",e),this.feFuncBComposed.setAttribute(\"tableValues\",e)),this.feFuncR&&(t||r[10].p._mdf||r[11].p._mdf||r[12].p._mdf||r[13].p._mdf||r[14].p._mdf)&&(e=this.getTableValue(r[10].p.v,r[11].p.v,r[12].p.v,r[13].p.v,r[14].p.v),this.feFuncR.setAttribute(\"tableValues\",e)),this.feFuncG&&(t||r[17].p._mdf||r[18].p._mdf||r[19].p._mdf||r[20].p._mdf||r[21].p._mdf)&&(e=this.getTableValue(r[17].p.v,r[18].p.v,r[19].p.v,r[20].p.v,r[21].p.v),this.feFuncG.setAttribute(\"tableValues\",e)),this.feFuncB&&(t||r[24].p._mdf||r[25].p._mdf||r[26].p._mdf||r[27].p._mdf||r[28].p._mdf)&&(e=this.getTableValue(r[24].p.v,r[25].p.v,r[26].p.v,r[27].p.v,r[28].p.v),this.feFuncB.setAttribute(\"tableValues\",e)),this.feFuncA&&(t||r[31].p._mdf||r[32].p._mdf||r[33].p._mdf||r[34].p._mdf||r[35].p._mdf)&&(e=this.getTableValue(r[31].p.v,r[32].p.v,r[33].p.v,r[34].p.v,r[35].p.v),this.feFuncA.setAttribute(\"tableValues\",e))}},SVGDropShadowEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){if((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute(\"stdDeviation\",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute(\"flood-color\",rgbToHex(Math.round(255*e[0]),Math.round(255*e[1]),Math.round(255*e[2])))}if((t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute(\"flood-opacity\",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var r=this.filterManager.effectElements[3].p.v,i=(this.filterManager.effectElements[2].p.v-90)*degToRads,n=r*Math.cos(i),s=r*Math.sin(i);this.feOffset.setAttribute(\"dx\",n),this.feOffset.setAttribute(\"dy\",s)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(t,e,r){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=r,r.matteElement=createNS(\"g\"),r.matteElement.appendChild(r.layerElement),r.matteElement.appendChild(r.transformedElement),r.baseElement=r.matteElement}function SVGEffects(t){var e,r,i=t.data.ef?t.data.ef.length:0,n=createElementID(),s=filtersFactory.createFilter(n),a=0;for(this.filters=[],e=0;e<i;e+=1)r=null,20===t.data.ef[e].ty?(a+=1,r=new SVGTintFilter(s,t.effectsManager.effectElements[e])):21===t.data.ef[e].ty?(a+=1,r=new SVGFillFilter(s,t.effectsManager.effectElements[e])):22===t.data.ef[e].ty?r=new SVGStrokeEffect(t,t.effectsManager.effectElements[e]):23===t.data.ef[e].ty?(a+=1,r=new SVGTritoneFilter(s,t.effectsManager.effectElements[e])):24===t.data.ef[e].ty?(a+=1,r=new SVGProLevelsFilter(s,t.effectsManager.effectElements[e])):25===t.data.ef[e].ty?(a+=1,r=new SVGDropShadowEffect(s,t.effectsManager.effectElements[e])):28===t.data.ef[e].ty?r=new SVGMatte3Effect(s,t.effectsManager.effectElements[e],t):29===t.data.ef[e].ty&&(a+=1,r=new SVGGaussianBlurEffect(s,t.effectsManager.effectElements[e])),r&&this.filters.push(r);a&&(t.globalData.defs.appendChild(s),t.layerElement.setAttribute(\"filter\",\"url(\"+locationHref+\"#\"+n+\")\")),this.filters.length&&t.addRenderableComponent(this)}function CVContextData(){var t;for(this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1,this.savedOp=createTypedArray(\"float32\",15),t=0;t<15;t+=1)this.saved[t]=createTypedArray(\"float32\",16);this._length=15}function CVBaseElement(){}function CVImageElement(t,e,r){this.assetData=e.getAssetData(t.refId),this.img=e.imageLoader.getImage(this.assetData),this.initElement(t,e,r)}function CVCompElement(t,e,r){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function CVMaskElement(t,e){this.data=t,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var r,i=this.masksProperties.length,n=!1;for(r=0;r<i;r++)\"n\"!==this.masksProperties[r].mode&&(n=!0),this.viewData[r]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[r],3);this.hasMasks=n,n&&this.element.addRenderableComponent(this)}function CVShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,e,r)}function CVSolidElement(t,e,r){this.initElement(t,e,r)}function CVTextElement(t,e,r){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType=\"canvas\",this.values={fill:\"rgba(0,0,0,0)\",stroke:\"rgba(0,0,0,0)\",sWidth:0,fValue:\"\"},this.initElement(t,e,r)}function CVEffects(){}function HBaseElement(t,e,r){}function HSolidElement(t,e,r){this.initElement(t,e,r)}function HCompElement(t,e,r){this.layers=t.layers,this.supports3d=!t.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function HShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS(\"g\"),this.initElement(t,e,r),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(t,e,r){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType=\"svg\",this.isMasked=!1,this.initElement(t,e,r)}function HImageElement(t,e,r){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,r)}function HCameraElement(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initHierarchy();var i=PropertyFactory.getProp;if(this.pe=i(this,t.pe,0,0,this),t.ks.p.s?(this.px=i(this,t.ks.p.x,1,0,this),this.py=i(this,t.ks.p.y,1,0,this),this.pz=i(this,t.ks.p.z,1,0,this)):this.p=i(this,t.ks.p,1,0,this),t.ks.a&&(this.a=i(this,t.ks.a,1,0,this)),t.ks.or.k.length&&t.ks.or.k[0].to){var n,s=t.ks.or.k.length;for(n=0;n<s;n+=1)t.ks.or.k[n].to=null,t.ks.or.k[n].ti=null}this.or=i(this,t.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=i(this,t.ks.rx,0,degToRads,this),this.ry=i(this,t.ks.ry,0,degToRads,this),this.rz=i(this,t.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HEffects(){}SVGMatte3Effect.prototype.findSymbol=function(t){for(var e=0,r=_svgMatteSymbols.length;e<r;){if(_svgMatteSymbols[e]===t)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(t,e){var r=t.layerElement.parentNode;if(r){for(var i,n=r.children,s=0,a=n.length;s<a&&n[s]!==t.layerElement;)s+=1;s<=a-2&&(i=n[s+1]);var o=createNS(\"use\");o.setAttribute(\"href\",\"#\"+e),i?r.insertBefore(o,i):r.appendChild(o)}},SVGMatte3Effect.prototype.setElementAsMask=function(t,e){if(!this.findSymbol(e)){var r=createElementID(),i=createNS(\"mask\");i.setAttribute(\"id\",e.layerId),i.setAttribute(\"mask-type\",\"alpha\"),_svgMatteSymbols.push(e);var n=t.globalData.defs;n.appendChild(i);var s=createNS(\"symbol\");s.setAttribute(\"id\",r),this.replaceInParent(e,r),s.appendChild(e.layerElement),n.appendChild(s);var a=createNS(\"use\");a.setAttribute(\"href\",\"#\"+r),i.appendChild(a),e.data.hd=!1,e.show()}t.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,r=0,i=e.length;r<i;)e[r]&&e[r].data.ind===t&&this.setElementAsMask(this.elem,e[r]),r+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGEffects.prototype.renderFrame=function(t){var e,r=this.filters.length;for(e=0;e<r;e+=1)this.filters[e].renderFrame(t)},CVContextData.prototype.duplicate=function(){var t=2*this._length,e=this.savedOp;this.savedOp=createTypedArray(\"float32\",t),this.savedOp.set(e);var r=0;for(r=this._length;r<t;r+=1)this.saved[r]=createTypedArray(\"float32\",16);this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var t=this.globalData;if(t.blendMode!==this.data.bm){t.blendMode=this.data.bm;var e=getBlendMode(this.data.bm);t.canvasContext.globalCompositeOperation=e}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){if(!this.hidden&&!this.data.hd){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var t=0===this.data.ty;this.globalData.renderer.save(t),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(t),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var t=createTag(\"canvas\");t.width=this.assetData.w,t.height=this.assetData.h;var e,r,i=t.getContext(\"2d\"),n=this.img.width,s=this.img.height,a=n/s,o=this.assetData.w/this.assetData.h,h=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;a>o&&\"xMidYMid slice\"===h||a<o&&\"xMidYMid slice\"!==h?e=(r=s)*o:r=(e=n)/o,i.drawImage(this.img,(n-e)/2,(s-r)/2,e,r,0,0,this.assetData.w,this.assetData.h),this.img=t}},CVImageElement.prototype.renderInnerContent=function(t){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([CanvasRenderer,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t,e=this.canvasContext;for(e.beginPath(),e.moveTo(0,0),e.lineTo(this.data.w,0),e.lineTo(this.data.w,this.data.h),e.lineTo(0,this.data.h),e.lineTo(0,0),e.clip(),t=this.layers.length-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},CVCompElement.prototype.destroy=function(){var t;for(t=this.layers.length-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var t,e,r,i,n=this.element.finalTransform.mat,s=this.element.canvasContext,a=this.masksProperties.length;for(s.beginPath(),t=0;t<a;t++)if(\"n\"!==this.masksProperties[t].mode){this.masksProperties[t].inv&&(s.moveTo(0,0),s.lineTo(this.element.globalData.compSize.w,0),s.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),s.lineTo(0,this.element.globalData.compSize.h),s.lineTo(0,0)),i=this.viewData[t].v,e=n.applyToPointArray(i.v[0][0],i.v[0][1],0),s.moveTo(e[0],e[1]);var o,h=i._length;for(o=1;o<h;o++)r=n.applyToTriplePoints(i.o[o-1],i.i[o],i.v[o]),s.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);r=n.applyToTriplePoints(i.o[o-1],i.i[0],i.v[0]),s.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5])}this.element.globalData.renderer.save(!0),s.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(t,e){var r={data:t,type:t.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:!0===t.hd},i={};if(\"fl\"==t.ty||\"st\"==t.ty?(i.c=PropertyFactory.getProp(this,t.c,1,255,this),i.c.k||(r.co=\"rgb(\"+bm_floor(i.c.v[0])+\",\"+bm_floor(i.c.v[1])+\",\"+bm_floor(i.c.v[2])+\")\")):\"gf\"!==t.ty&&\"gs\"!==t.ty||(i.s=PropertyFactory.getProp(this,t.s,1,null,this),i.e=PropertyFactory.getProp(this,t.e,1,null,this),i.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),i.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),i.g=new GradientProperty(this,t.g,this)),i.o=PropertyFactory.getProp(this,t.o,0,.01,this),\"st\"==t.ty||\"gs\"==t.ty){if(r.lc=this.lcEnum[t.lc]||\"round\",r.lj=this.ljEnum[t.lj]||\"round\",1==t.lj&&(r.ml=t.ml),i.w=PropertyFactory.getProp(this,t.w,0,null,this),i.w.k||(r.wi=i.w.v),t.d){var n=new DashProperty(this,t.d,\"canvas\",this);i.d=n,i.d.k||(r.da=i.d.dashArray,r.do=i.d.dashoffset[0])}}else r.r=2===t.r?\"evenodd\":\"nonzero\";return this.stylesList.push(r),i.style=r,i},CVShapeElement.prototype.createGroupElement=function(t){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(t){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)}}},CVShapeElement.prototype.createShapeElement=function(t){var e=new CVShapeData(this,t,this.stylesList,this.transformsManager);return this.shapes.push(e),this.addShapeToModifiers(e),e},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(t){var e,r=this.stylesList.length;for(e=0;e<r;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.push(t)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.pop()},CVShapeElement.prototype.closeStyles=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e].closed=!0},CVShapeElement.prototype.searchShapes=function(t,e,r,i,n){var s,a,o,h,l,p,c=t.length-1,f=[],u=[],m=[].concat(n);for(s=c;s>=0;s-=1){if((h=this.searchProcessedElement(t[s]))?e[s]=r[h-1]:t[s]._shouldRender=i,\"fl\"==t[s].ty||\"st\"==t[s].ty||\"gf\"==t[s].ty||\"gs\"==t[s].ty)h?e[s].style.closed=!1:e[s]=this.createStyleElement(t[s],m),f.push(e[s].style);else if(\"gr\"==t[s].ty){if(h)for(o=e[s].it.length,a=0;a<o;a+=1)e[s].prevViewData[a]=e[s].it[a];else e[s]=this.createGroupElement(t[s]);this.searchShapes(t[s].it,e[s].it,e[s].prevViewData,i,m)}else\"tr\"==t[s].ty?(h||(p=this.createTransformElement(t[s]),e[s]=p),m.push(e[s]),this.addTransformToStyleList(e[s])):\"sh\"==t[s].ty||\"rc\"==t[s].ty||\"el\"==t[s].ty||\"sr\"==t[s].ty?h||(e[s]=this.createShapeElement(t[s])):\"tm\"==t[s].ty||\"rd\"==t[s].ty||\"pb\"==t[s].ty?(h?(l=e[s]).closed=!1:((l=ShapeModifiers.getModifier(t[s].ty)).init(this,t[s]),e[s]=l,this.shapeModifiers.push(l)),u.push(l)):\"rp\"==t[s].ty&&(h?(l=e[s]).closed=!0:(l=ShapeModifiers.getModifier(t[s].ty),e[s]=l,l.init(this,t,s,e),this.shapeModifiers.push(l),i=!1),u.push(l));this.addProcessedElement(t[s],s+1)}for(this.removeTransformFromStyleList(),this.closeStyles(f),c=u.length,s=0;s<c;s+=1)u[s].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,e){(t._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=t.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var t,e,r,i,n,s,a,o,h,l=this.stylesList.length,p=this.globalData.renderer,c=this.globalData.canvasContext;for(t=0;t<l;t+=1)if((\"st\"!==(o=(h=this.stylesList[t]).type)&&\"gs\"!==o||0!==h.wi)&&h.data._shouldRender&&0!==h.coOp&&0!==this.globalData.currentGlobalAlpha){for(p.save(),s=h.elements,\"st\"===o||\"gs\"===o?(c.strokeStyle=\"st\"===o?h.co:h.grd,c.lineWidth=h.wi,c.lineCap=h.lc,c.lineJoin=h.lj,c.miterLimit=h.ml||0):c.fillStyle=\"fl\"===o?h.co:h.grd,p.ctxOpacity(h.coOp),\"st\"!==o&&\"gs\"!==o&&c.beginPath(),p.ctxTransform(h.preTransforms.finalTransform.props),r=s.length,e=0;e<r;e+=1){for(\"st\"!==o&&\"gs\"!==o||(c.beginPath(),h.da&&(c.setLineDash(h.da),c.lineDashOffset=h.do)),n=(a=s[e].trNodes).length,i=0;i<n;i+=1)\"m\"==a[i].t?c.moveTo(a[i].p[0],a[i].p[1]):\"c\"==a[i].t?c.bezierCurveTo(a[i].pts[0],a[i].pts[1],a[i].pts[2],a[i].pts[3],a[i].pts[4],a[i].pts[5]):c.closePath();\"st\"!==o&&\"gs\"!==o||(c.stroke(),h.da&&c.setLineDash(this.dashResetter))}\"st\"!==o&&\"gs\"!==o&&c.fill(h.r),p.restore()}},CVShapeElement.prototype.renderShape=function(t,e,r,i){var n,s;for(s=t,n=e.length-1;n>=0;n-=1)\"tr\"==e[n].ty?(s=r[n].transform,this.renderShapeTransform(t,s)):\"sh\"==e[n].ty||\"el\"==e[n].ty||\"rc\"==e[n].ty||\"sr\"==e[n].ty?this.renderPath(e[n],r[n]):\"fl\"==e[n].ty?this.renderFill(e[n],r[n],s):\"st\"==e[n].ty?this.renderStroke(e[n],r[n],s):\"gf\"==e[n].ty||\"gs\"==e[n].ty?this.renderGradientFill(e[n],r[n],s):\"gr\"==e[n].ty?this.renderShape(s,e[n].it,r[n].it):e[n].ty;i&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(t,e){if(this._isFirstFrame||e._mdf||t.transforms._mdf){var r,i,n,s=t.trNodes,a=e.paths,o=a._length;s.length=0;var h=t.transforms.finalTransform;for(n=0;n<o;n+=1){var l=a.shapes[n];if(l&&l.v){for(i=l._length,r=1;r<i;r+=1)1===r&&s.push({t:\"m\",p:h.applyToPointArray(l.v[0][0],l.v[0][1],0)}),s.push({t:\"c\",pts:h.applyToTriplePoints(l.o[r-1],l.i[r],l.v[r])});1===i&&s.push({t:\"m\",p:h.applyToPointArray(l.v[0][0],l.v[0][1],0)}),l.c&&i&&(s.push({t:\"c\",pts:h.applyToTriplePoints(l.o[r-1],l.i[0],l.v[0])}),s.push({t:\"z\"}))}}t.trNodes=s}},CVShapeElement.prototype.renderPath=function(t,e){if(!0!==t.hd&&t._shouldRender){var r,i=e.styledShapes.length;for(r=0;r<i;r+=1)this.renderStyledShape(e.styledShapes[r],e.sh)}},CVShapeElement.prototype.renderFill=function(t,e,r){var i=e.style;(e.c._mdf||this._isFirstFrame)&&(i.co=\"rgb(\"+bm_floor(e.c.v[0])+\",\"+bm_floor(e.c.v[1])+\",\"+bm_floor(e.c.v[2])+\")\"),(e.o._mdf||r._opMdf||this._isFirstFrame)&&(i.coOp=e.o.v*r.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,e,r){var i=e.style;if(!i.grd||e.g._mdf||e.s._mdf||e.e._mdf||1!==t.t&&(e.h._mdf||e.a._mdf)){var n=this.globalData.canvasContext,s=e.s.v,a=e.e.v;if(1===t.t)f=n.createLinearGradient(s[0],s[1],a[0],a[1]);else var o=Math.sqrt(Math.pow(s[0]-a[0],2)+Math.pow(s[1]-a[1],2)),h=Math.atan2(a[1]-s[1],a[0]-s[0]),l=o*(e.h.v>=1?.99:e.h.v<=-1?-.99:e.h.v),p=Math.cos(h+e.a.v)*l+s[0],c=Math.sin(h+e.a.v)*l+s[1],f=n.createRadialGradient(p,c,0,s[0],s[1],o);var u,m=t.g.p,d=e.g.c,y=1;for(u=0;u<m;u+=1)e.g._hasOpacity&&e.g._collapsable&&(y=e.g.o[2*u+1]),f.addColorStop(d[4*u]/100,\"rgba(\"+d[4*u+1]+\",\"+d[4*u+2]+\",\"+d[4*u+3]+\",\"+y+\")\");i.grd=f}i.coOp=e.o.v*r.opacity},CVShapeElement.prototype.renderStroke=function(t,e,r){var i=e.style,n=e.d;n&&(n._mdf||this._isFirstFrame)&&(i.da=n.dashArray,i.do=n.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(i.co=\"rgb(\"+bm_floor(e.c.v[0])+\",\"+bm_floor(e.c.v[1])+\",\"+bm_floor(e.c.v[2])+\")\"),(e.o._mdf||r._opMdf||this._isFirstFrame)&&(i.coOp=e.o.v*r.opacity),(e.w._mdf||this._isFirstFrame)&&(i.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var t=this.canvasContext;t.fillStyle=this.data.sc,t.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag(\"canvas\").getContext(\"2d\"),CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=!1;t.fc?(e=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill=\"rgba(0,0,0,0)\",this.fill=e;var r=!1;t.sc&&(r=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var i,n,s=this.globalData.fontManager.getFontByName(t.f),a=t.l,o=this.mHelper;this.stroke=r,this.values.fValue=t.finalSize+\"px \"+this.globalData.fontManager.getFontByName(t.f).fFamily,n=t.finalText.length;var h,l,p,c,f,u,m,d,y,g,v=this.data.singleShape,b=t.tr/1e3*t.finalSize,E=0,x=0,S=!0,P=0;for(i=0;i<n;i+=1){for(l=(h=this.globalData.fontManager.getCharData(t.finalText[i],s.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily))&&h.data||{},o.reset(),v&&a[i].n&&(E=-b,x+=t.yOffset,x+=S?1:0,S=!1),m=(f=l.shapes?l.shapes[0].it:[]).length,o.scale(t.finalSize/100,t.finalSize/100),v&&this.applyTextPropertiesToMatrix(t,o,a[i].line,E,x),y=createSizedArray(m),u=0;u<m;u+=1){for(c=f[u].ks.k.i.length,d=f[u].ks.k,g=[],p=1;p<c;p+=1)1==p&&g.push(o.applyToX(d.v[0][0],d.v[0][1],0),o.applyToY(d.v[0][0],d.v[0][1],0)),g.push(o.applyToX(d.o[p-1][0],d.o[p-1][1],0),o.applyToY(d.o[p-1][0],d.o[p-1][1],0),o.applyToX(d.i[p][0],d.i[p][1],0),o.applyToY(d.i[p][0],d.i[p][1],0),o.applyToX(d.v[p][0],d.v[p][1],0),o.applyToY(d.v[p][0],d.v[p][1],0));g.push(o.applyToX(d.o[p-1][0],d.o[p-1][1],0),o.applyToY(d.o[p-1][0],d.o[p-1][1],0),o.applyToX(d.i[0][0],d.i[0][1],0),o.applyToY(d.i[0][0],d.i[0][1],0),o.applyToX(d.v[0][0],d.v[0][1],0),o.applyToY(d.v[0][0],d.v[0][1],0)),y[u]=g}v&&(E+=a[i].l,E+=b),this.textSpans[P]?this.textSpans[P].elem=y:this.textSpans[P]={elem:y},P+=1}},CVTextElement.prototype.renderInnerContent=function(){var t,e,r,i,n,s,a=this.canvasContext;this.finalTransform.mat.props,a.font=this.values.fValue,a.lineCap=\"butt\",a.lineJoin=\"miter\",a.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var o,h=this.textAnimator.renderedLetters,l=this.textProperty.currentData.l;e=l.length;var p,c,f=null,u=null,m=null;for(t=0;t<e;t+=1)if(!l[t].n){if((o=h[t])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(o.p),this.globalData.renderer.ctxOpacity(o.o)),this.fill){for(o&&o.fc?f!==o.fc&&(f=o.fc,a.fillStyle=o.fc):f!==this.values.fill&&(f=this.values.fill,a.fillStyle=this.values.fill),i=(p=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<i;r+=1)for(s=(c=p[r]).length,this.globalData.canvasContext.moveTo(c[0],c[1]),n=2;n<s;n+=6)this.globalData.canvasContext.bezierCurveTo(c[n],c[n+1],c[n+2],c[n+3],c[n+4],c[n+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(o&&o.sw?m!==o.sw&&(m=o.sw,a.lineWidth=o.sw):m!==this.values.sWidth&&(m=this.values.sWidth,a.lineWidth=this.values.sWidth),o&&o.sc?u!==o.sc&&(u=o.sc,a.strokeStyle=o.sc):u!==this.values.stroke&&(u=this.values.stroke,a.strokeStyle=this.values.stroke),i=(p=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<i;r+=1)for(s=(c=p[r]).length,this.globalData.canvasContext.moveTo(c[0],c[1]),n=2;n<s;n+=6)this.globalData.canvasContext.bezierCurveTo(c[n],c[n+1],c[n+2],c[n+3],c[n+4],c[n+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}o&&this.globalData.renderer.restore()}},CVEffects.prototype.renderFrame=function(){},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||\"div\"),this.data.hasMask?(this.svgElement=createNS(\"svg\"),this.layerElement=createNS(\"g\"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute(\"id\",this.data.ln),this.data.cl&&this.layerElement.setAttribute(\"class\",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&(this.transformedElement.style.transform=this.transformedElement.style.webkitTransform=this.finalTransform.mat.toCSS()),this.finalTransform._opMdf&&(this.transformedElement.style.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var t;this.data.hasMask?((t=createNS(\"rect\")).setAttribute(\"width\",this.data.sw),t.setAttribute(\"height\",this.data.sh),t.setAttribute(\"fill\",this.data.sc),this.svgElement.setAttribute(\"width\",this.data.sw),this.svgElement.setAttribute(\"height\",this.data.sh)):((t=createTag(\"div\")).style.width=this.data.sw+\"px\",t.style.height=this.data.sh+\"px\",t.style.backgroundColor=this.data.sc),this.layerElement.appendChild(t)},extendPrototype([HybridRenderer,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute(\"width\",this.data.w),this.svgElement.setAttribute(\"height\",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(t,e){for(var r,i=0;i<e;)this.elements[i]&&this.elements[i].getBaseElement&&(r=this.elements[i].getBaseElement()),i+=1;r?this.layerElement.insertBefore(t,r):this.layerElement.appendChild(t)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var t;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),t=this.svgElement;else{t=createNS(\"svg\");var e=this.comp.data?this.comp.data:this.globalData.compSize;t.setAttribute(\"width\",e.w),t.setAttribute(\"height\",e.h),t.appendChild(this.shapesContainer),this.layerElement.appendChild(t)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=t},HShapeElement.prototype.getTransformedPoint=function(t,e){var r,i=t.length;for(r=0;r<i;r+=1)e=t[r].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(t,e){var r,i,n,s,a,o=t.sh.v,h=t.transformers,l=o._length;if(!(l<=1)){for(r=0;r<l-1;r+=1)i=this.getTransformedPoint(h,o.v[r]),n=this.getTransformedPoint(h,o.o[r]),s=this.getTransformedPoint(h,o.i[r+1]),a=this.getTransformedPoint(h,o.v[r+1]),this.checkBounds(i,n,s,a,e);o.c&&(i=this.getTransformedPoint(h,o.v[r]),n=this.getTransformedPoint(h,o.o[r]),s=this.getTransformedPoint(h,o.i[0]),a=this.getTransformedPoint(h,o.v[0]),this.checkBounds(i,n,s,a,e))}},HShapeElement.prototype.checkBounds=function(t,e,r,i,n){this.getBoundsOfCurve(t,e,r,i);var s=this.shapeBoundingBox;n.x=bm_min(s.left,n.x),n.xMax=bm_max(s.right,n.xMax),n.y=bm_min(s.top,n.y),n.yMax=bm_max(s.bottom,n.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(t,e,r,i){for(var n,s,a,o,h,l,p,c=[[t[0],i[0]],[t[1],i[1]]],f=0;f<2;++f)if(s=6*t[f]-12*e[f]+6*r[f],n=-3*t[f]+9*e[f]-9*r[f]+3*i[f],a=3*e[f]-3*t[f],s|=0,a|=0,0!==(n|=0))(h=s*s-4*a*n)<0||(0<(l=(-s+bm_sqrt(h))/(2*n))&&l<1&&c[f].push(this.calculateF(l,t,e,r,i,f)),0<(p=(-s-bm_sqrt(h))/(2*n))&&p<1&&c[f].push(this.calculateF(p,t,e,r,i,f)));else{if(0===s)continue;0<(o=-a/s)&&o<1&&c[f].push(this.calculateF(o,t,e,r,i,f))}this.shapeBoundingBox.left=bm_min.apply(null,c[0]),this.shapeBoundingBox.top=bm_min.apply(null,c[1]),this.shapeBoundingBox.right=bm_max.apply(null,c[0]),this.shapeBoundingBox.bottom=bm_max.apply(null,c[1])},HShapeElement.prototype.calculateF=function(t,e,r,i,n,s){return bm_pow(1-t,3)*e[s]+3*bm_pow(1-t,2)*t*r[s]+3*(1-t)*bm_pow(t,2)*i[s]+bm_pow(t,3)*n[s]},HShapeElement.prototype.calculateBoundingBox=function(t,e){var r,i=t.length;for(r=0;r<i;r+=1)t[r]&&t[r].sh?this.calculateShapeBoundingBox(t[r],e):t[r]&&t[r].it&&this.calculateBoundingBox(t[r].it,e)},HShapeElement.prototype.currentBoxContains=function(t){return this.currentBBox.x<=t.x&&this.currentBBox.y<=t.y&&this.currentBBox.width+this.currentBBox.x>=t.x+t.width&&this.currentBBox.height+this.currentBBox.y>=t.y+t.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var t=this.tempBoundingBox,e=999999;if(t.x=e,t.xMax=-e,t.y=e,t.yMax=-e,this.calculateBoundingBox(this.itemsData,t),t.width=t.xMax<t.x?0:t.xMax-t.x,t.height=t.yMax<t.y?0:t.yMax-t.y,this.currentBoxContains(t))return;var r=!1;this.currentBBox.w!==t.width&&(this.currentBBox.w=t.width,this.shapeCont.setAttribute(\"width\",t.width),r=!0),this.currentBBox.h!==t.height&&(this.currentBBox.h=t.height,this.shapeCont.setAttribute(\"height\",t.height),r=!0),(r||this.currentBBox.x!==t.x||this.currentBBox.y!==t.y)&&(this.currentBBox.w=t.width,this.currentBBox.h=t.height,this.currentBBox.x=t.x,this.currentBBox.y=t.y,this.shapeCont.setAttribute(\"viewBox\",this.currentBBox.x+\" \"+this.currentBBox.y+\" \"+this.currentBBox.w+\" \"+this.currentBBox.h),this.shapeCont.style.transform=this.shapeCont.style.webkitTransform=\"translate(\"+this.currentBBox.x+\"px,\"+this.currentBBox.y+\"px)\")}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType=\"svg\",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute(\"width\",this.compW),this.svgElement.setAttribute(\"height\",this.compH);var t=createNS(\"g\");this.maskedElement.appendChild(t),this.innerElem=t}else this.renderType=\"html\",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=this.innerElem.style;e.color=e.fill=t.fc?this.buildColor(t.fc):\"rgba(0,0,0,0)\",t.sc&&(e.stroke=this.buildColor(t.sc),e.strokeWidth=t.sw+\"px\");var r,i,n=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(e.fontSize=t.finalSize+\"px\",e.lineHeight=t.finalSize+\"px\",n.fClass)this.innerElem.className=n.fClass;else{e.fontFamily=n.fFamily;var s=t.fWeight,a=t.fStyle;e.fontStyle=a,e.fontWeight=s}var o,h,l,p=t.l;i=p.length;var c,f=this.mHelper,u=\"\",m=0;for(r=0;r<i;r+=1){if(this.globalData.fontManager.chars?(this.textPaths[m]?o=this.textPaths[m]:((o=createNS(\"path\")).setAttribute(\"stroke-linecap\",\"butt\"),o.setAttribute(\"stroke-linejoin\",\"round\"),o.setAttribute(\"stroke-miterlimit\",\"4\")),this.isMasked||(this.textSpans[m]?l=(h=this.textSpans[m]).children[0]:((h=createTag(\"div\")).style.lineHeight=0,(l=createNS(\"svg\")).appendChild(o),styleDiv(h)))):this.isMasked?o=this.textPaths[m]?this.textPaths[m]:createNS(\"text\"):this.textSpans[m]?(h=this.textSpans[m],o=this.textPaths[m]):(styleDiv(h=createTag(\"span\")),styleDiv(o=createTag(\"span\")),h.appendChild(o)),this.globalData.fontManager.chars){var d,y=this.globalData.fontManager.getCharData(t.finalText[r],n.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily);if(d=y?y.data:null,f.reset(),d&&d.shapes&&(c=d.shapes[0].it,f.scale(t.finalSize/100,t.finalSize/100),u=this.createPathShape(f,c),o.setAttribute(\"d\",u)),this.isMasked)this.innerElem.appendChild(o);else{if(this.innerElem.appendChild(h),d&&d.shapes){document.body.appendChild(l);var g=l.getBBox();l.setAttribute(\"width\",g.width+2),l.setAttribute(\"height\",g.height+2),l.setAttribute(\"viewBox\",g.x-1+\" \"+(g.y-1)+\" \"+(g.width+2)+\" \"+(g.height+2)),l.style.transform=l.style.webkitTransform=\"translate(\"+(g.x-1)+\"px,\"+(g.y-1)+\"px)\",p[r].yOffset=g.y-1}else l.setAttribute(\"width\",1),l.setAttribute(\"height\",1);h.appendChild(l)}}else o.textContent=p[r].val,o.setAttributeNS(\"http://www.w3.org/XML/1998/namespace\",\"xml:space\",\"preserve\"),this.isMasked?this.innerElem.appendChild(o):(this.innerElem.appendChild(h),o.style.transform=o.style.webkitTransform=\"translate3d(0,\"+-t.finalSize/1.2+\"px,0)\");this.isMasked?this.textSpans[m]=o:this.textSpans[m]=h,this.textSpans[m].style.display=\"block\",this.textPaths[m]=o,m+=1}for(;m<this.textSpans.length;)this.textSpans[m].style.display=\"none\",m+=1},HTextElement.prototype.renderInnerContent=function(){if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;this.isMasked&&this.finalTransform._matMdf&&(this.svgElement.setAttribute(\"viewBox\",-this.finalTransform.mProp.p.v[0]+\" \"+-this.finalTransform.mProp.p.v[1]+\" \"+this.compW+\" \"+this.compH),this.svgElement.style.transform=this.svgElement.style.webkitTransform=\"translate(\"+-this.finalTransform.mProp.p.v[0]+\"px,\"+-this.finalTransform.mProp.p.v[1]+\"px)\")}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var t,e,r,i,n,s=0,a=this.textAnimator.renderedLetters,o=this.textProperty.currentData.l;for(e=o.length,t=0;t<e;t+=1)o[t].n?s+=1:(i=this.textSpans[t],n=this.textPaths[t],r=a[s],s+=1,r._mdf.m&&(this.isMasked?i.setAttribute(\"transform\",r.m):i.style.transform=i.style.webkitTransform=r.m),i.style.opacity=r.o,r.sw&&r._mdf.sw&&n.setAttribute(\"stroke-width\",r.sw),r.sc&&r._mdf.sc&&n.setAttribute(\"stroke\",r.sc),r.fc&&r._mdf.fc&&(n.setAttribute(\"fill\",r.fc),n.style.color=r.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var h=this.innerElem.getBBox();this.currentBBox.w!==h.width&&(this.currentBBox.w=h.width,this.svgElement.setAttribute(\"width\",h.width)),this.currentBBox.h!==h.height&&(this.currentBBox.h=h.height,this.svgElement.setAttribute(\"height\",h.height)),this.currentBBox.w===h.width+2&&this.currentBBox.h===h.height+2&&this.currentBBox.x===h.x-1&&this.currentBBox.y===h.y-1||(this.currentBBox.w=h.width+2,this.currentBBox.h=h.height+2,this.currentBBox.x=h.x-1,this.currentBBox.y=h.y-1,this.svgElement.setAttribute(\"viewBox\",this.currentBBox.x+\" \"+this.currentBBox.y+\" \"+this.currentBBox.w+\" \"+this.currentBBox.h),this.svgElement.style.transform=this.svgElement.style.webkitTransform=\"translate(\"+this.currentBBox.x+\"px,\"+this.currentBBox.y+\"px)\")}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS(\"image\"),this.imageElem.setAttribute(\"width\",this.assetData.w+\"px\"),this.imageElem.setAttribute(\"height\",this.assetData.h+\"px\"),this.imageElem.setAttributeNS(\"http://www.w3.org/1999/xlink\",\"href\",t),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute(\"width\",this.assetData.w),this.baseElement.setAttribute(\"height\",this.assetData.h)):this.layerElement.appendChild(e),e.src=t,this.data.ln&&this.baseElement.setAttribute(\"id\",this.data.ln)},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var t,e,r=this.comp.threeDElements.length;for(t=0;t<r;t+=1)\"3d\"===(e=this.comp.threeDElements[t]).type&&(e.perspectiveElem.style.perspective=e.perspectiveElem.style.webkitPerspective=this.pe.v+\"px\",e.container.style.transformOrigin=e.container.style.mozTransformOrigin=e.container.style.webkitTransformOrigin=\"0px 0px 0px\",e.perspectiveElem.style.transform=e.perspectiveElem.style.webkitTransform=\"matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)\")},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t,e,r=this._isFirstFrame;if(this.hierarchy)for(e=this.hierarchy.length,t=0;t<e;t+=1)r=this.hierarchy[t].finalTransform.mProp._mdf||r;if(r||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(t=e=this.hierarchy.length-1;t>=0;t-=1){var i=this.hierarchy[t].finalTransform.mProp;this.mat.translate(-i.p.v[0],-i.p.v[1],i.p.v[2]),this.mat.rotateX(-i.or.v[0]).rotateY(-i.or.v[1]).rotateZ(i.or.v[2]),this.mat.rotateX(-i.rx.v).rotateY(-i.ry.v).rotateZ(i.rz.v),this.mat.scale(1/i.s.v[0],1/i.s.v[1],1/i.s.v[2]),this.mat.translate(i.a.v[0],i.a.v[1],i.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var n;n=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var s=Math.sqrt(Math.pow(n[0],2)+Math.pow(n[1],2)+Math.pow(n[2],2)),a=[n[0]/s,n[1]/s,n[2]/s],o=Math.sqrt(a[2]*a[2]+a[0]*a[0]),h=Math.atan2(a[1],o),l=Math.atan2(a[0],-a[2]);this.mat.rotateY(l).rotateX(-h)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var p=!this._prevMat.equals(this.mat);if((p||this.pe._mdf)&&this.comp.threeDElements){var c;for(e=this.comp.threeDElements.length,t=0;t<e;t+=1)\"3d\"===(c=this.comp.threeDElements[t]).type&&(p&&(c.container.style.transform=c.container.style.webkitTransform=this.mat.toCSS()),this.pe._mdf&&(c.perspectiveElem.style.perspective=c.perspectiveElem.style.webkitPerspective=this.pe.v+\"px\"));this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},HEffects.prototype.renderFrame=function(){};var animationManager=function(){var t={},e=[],r=0,i=0,n=0,s=!0,a=!1;function o(t){for(var r=0,n=t.target;r<i;)e[r].animation===n&&(e.splice(r,1),r-=1,i-=1,n.isPaused||p()),r+=1}function h(t,r){if(!t)return null;for(var n=0;n<i;){if(e[n].elem==t&&null!==e[n].elem)return e[n].animation;n+=1}var s=new AnimationItem;return c(s,t),s.setData(t,r),s}function l(){n+=1,m()}function p(){n-=1}function c(t,r){t.addEventListener(\"destroy\",o),t.addEventListener(\"_active\",l),t.addEventListener(\"_idle\",p),e.push({elem:r,animation:t}),i+=1}function f(t){var o,h=t-r;for(o=0;o<i;o+=1)e[o].animation.advanceTime(h);r=t,n&&!a?window.requestAnimationFrame(f):s=!0}function u(t){r=t,window.requestAnimationFrame(f)}function m(){!a&&n&&s&&(window.requestAnimationFrame(u),s=!1)}return t.registerAnimation=h,t.loadAnimation=function(t){var e=new AnimationItem;return c(e,null),e.setParams(t),e},t.setSpeed=function(t,r){var n;for(n=0;n<i;n+=1)e[n].animation.setSpeed(t,r)},t.setDirection=function(t,r){var n;for(n=0;n<i;n+=1)e[n].animation.setDirection(t,r)},t.play=function(t){var r;for(r=0;r<i;r+=1)e[r].animation.play(t)},t.pause=function(t){var r;for(r=0;r<i;r+=1)e[r].animation.pause(t)},t.stop=function(t){var r;for(r=0;r<i;r+=1)e[r].animation.stop(t)},t.togglePause=function(t){var r;for(r=0;r<i;r+=1)e[r].animation.togglePause(t)},t.searchAnimations=function(t,e,r){var i,n=[].concat([].slice.call(document.getElementsByClassName(\"lottie\")),[].slice.call(document.getElementsByClassName(\"bodymovin\"))),s=n.length;for(i=0;i<s;i+=1)r&&n[i].setAttribute(\"data-bm-type\",r),h(n[i],t);if(e&&0===s){r||(r=\"svg\");var a=document.getElementsByTagName(\"body\")[0];a.innerText=\"\";var o=createTag(\"div\");o.style.width=\"100%\",o.style.height=\"100%\",o.setAttribute(\"data-bm-type\",r),a.appendChild(o),h(o,t)}},t.resize=function(){var t;for(t=0;t<i;t+=1)e[t].animation.resize()},t.goToAndStop=function(t,r,n){var s;for(s=0;s<i;s+=1)e[s].animation.goToAndStop(t,r,n)},t.destroy=function(t){var r;for(r=i-1;r>=0;r-=1)e[r].animation.destroy(t)},t.freeze=function(){a=!0},t.unfreeze=function(){a=!1,m()},t.setVolume=function(t,r){var n;for(n=0;n<i;n+=1)e[n].animation.setVolume(t,r)},t.mute=function(t){var r;for(r=0;r<i;r+=1)e[r].animation.mute(t)},t.unmute=function(t){var r;for(r=0;r<i;r+=1)e[r].animation.unmute(t)},t.getRegisteredAnimations=function(){var t,r=e.length,i=[];for(t=0;t<r;t+=1)i.push(e[t].animation);return i},t}(),AnimationItem=function(){this._cbs=[],this.name=\"\",this.path=\"\",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath=\"\",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=subframeEnabled,this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var e=t.animType?t.animType:t.renderer?t.renderer:\"svg\";switch(e){case\"canvas\":this.renderer=new CanvasRenderer(this,t.rendererSettings);break;case\"svg\":this.renderer=new SVGRenderer(this,t.rendererSettings);break;default:this.renderer=new HybridRenderer(this,t.rendererSettings)}this.imagePreloader.setCacheType(e),this.renderer.setProjectInterface(this.projectInterface),this.animType=e,\"\"===t.loop||null===t.loop||void 0===t.loop||!0===t.loop?this.loop=!0:!1===t.loop?this.loop=!1:this.loop=parseInt(t.loop),this.autoplay=!(\"autoplay\"in t)||t.autoplay,this.name=t.name?t.name:\"\",this.autoloadSegments=!t.hasOwnProperty(\"autoloadSegments\")||t.autoloadSegments,this.assetsPath=t.assetsPath,this.initialSegment=t.initialSegment,t.audioFactory&&this.audioController.setAudioFactory(t.audioFactory),t.animationData?this.configAnimation(t.animationData):t.path&&(-1!==t.path.lastIndexOf(\"\\\\\")?this.path=t.path.substr(0,t.path.lastIndexOf(\"\\\\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf(\"/\")+1),this.fileName=t.path.substr(t.path.lastIndexOf(\"/\")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(\".json\")),assetLoader.load(t.path,this.configAnimation.bind(this),function(){this.trigger(\"data_failed\")}.bind(this)))},AnimationItem.prototype.setData=function(t,e){var r={wrapper:t,animationData:e?\"object\"===typeof e?e:JSON.parse(e):null},i=t.attributes;r.path=i.getNamedItem(\"data-animation-path\")?i.getNamedItem(\"data-animation-path\").value:i.getNamedItem(\"data-bm-path\")?i.getNamedItem(\"data-bm-path\").value:i.getNamedItem(\"bm-path\")?i.getNamedItem(\"bm-path\").value:\"\",r.animType=i.getNamedItem(\"data-anim-type\")?i.getNamedItem(\"data-anim-type\").value:i.getNamedItem(\"data-bm-type\")?i.getNamedItem(\"data-bm-type\").value:i.getNamedItem(\"bm-type\")?i.getNamedItem(\"bm-type\").value:i.getNamedItem(\"data-bm-renderer\")?i.getNamedItem(\"data-bm-renderer\").value:i.getNamedItem(\"bm-renderer\")?i.getNamedItem(\"bm-renderer\").value:\"canvas\";var n=i.getNamedItem(\"data-anim-loop\")?i.getNamedItem(\"data-anim-loop\").value:i.getNamedItem(\"data-bm-loop\")?i.getNamedItem(\"data-bm-loop\").value:i.getNamedItem(\"bm-loop\")?i.getNamedItem(\"bm-loop\").value:\"\";\"\"===n||(r.loop=\"false\"!==n&&(\"true\"===n||parseInt(n)));var s=i.getNamedItem(\"data-anim-autoplay\")?i.getNamedItem(\"data-anim-autoplay\").value:i.getNamedItem(\"data-bm-autoplay\")?i.getNamedItem(\"data-bm-autoplay\").value:!i.getNamedItem(\"bm-autoplay\")||i.getNamedItem(\"bm-autoplay\").value;r.autoplay=\"false\"!==s,r.name=i.getNamedItem(\"data-name\")?i.getNamedItem(\"data-name\").value:i.getNamedItem(\"data-bm-name\")?i.getNamedItem(\"data-bm-name\").value:i.getNamedItem(\"bm-name\")?i.getNamedItem(\"bm-name\").value:\"\",\"false\"===(i.getNamedItem(\"data-anim-prerender\")?i.getNamedItem(\"data-anim-prerender\").value:i.getNamedItem(\"data-bm-prerender\")?i.getNamedItem(\"data-bm-prerender\").value:i.getNamedItem(\"bm-prerender\")?i.getNamedItem(\"bm-prerender\").value:\"\")&&(r.prerender=!1),this.setParams(r)},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var e,r,i=this.animationData.layers,n=i.length,s=t.layers,a=s.length;for(r=0;r<a;r+=1)for(e=0;e<n;){if(i[e].id==s[r].id){i[e]=s[r];break}e+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(n=t.assets.length,e=0;e<n;e+=1)this.animationData.assets.push(t.assets[e]);this.animationData.__complete=!1,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.renderer.includeLayers(t.layers),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||0===t.length||!this.autoloadSegments)return this.trigger(\"data_ready\"),void(this.timeCompleted=this.totalFrames);var e=t.shift();this.timeCompleted=e.time*this.frameRate;var r=this.path+this.fileName+\"_\"+this.segmentPos+\".json\";this.segmentPos+=1,assetLoader.load(r,this.includeLayers.bind(this),function(){this.trigger(\"data_failed\")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger(\"loaded_images\"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(t){if(this.renderer)try{this.animationData=t,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(t.assets),this.trigger(\"config_ready\"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(e){this.triggerConfigError(e)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){this.isLoaded||!this.renderer.globalData.fontManager.isLoaded||!this.imagePreloader.loaded()&&\"canvas\"===this.renderer.rendererType||(this.isLoaded=!0,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger(\"DOMLoaded\")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play())},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(t){this.isSubframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger(\"enterFrame\"),this.renderFrame()},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}},AnimationItem.prototype.play=function(t){t&&this.name!=t||!0===this.isPaused&&(this.isPaused=!1,this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger(\"_active\")))},AnimationItem.prototype.pause=function(t){t&&this.name!=t||!1===this.isPaused&&(this.isPaused=!0,this._idle=!0,this.trigger(\"_idle\"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(t){t&&this.name!=t||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!=t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.goToAndStop=function(t,e,r){r&&this.name!=r||(e?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier),this.pause())},AnimationItem.prototype.goToAndPlay=function(t,e,r){this.goToAndStop(t,e,r),this.play()},AnimationItem.prototype.advanceTime=function(t){if(!0!==this.isPaused&&!1!==this.isLoaded){var e=this.currentRawFrame+t*this.frameModifier,r=!1;e>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger(\"loopComplete\"))):this.setCurrentRawFrameValue(e):this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(r=!0,e=this.totalFrames-1):e<0?this.checkSegments(e%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(r=!0,e=0):(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger(\"loopComplete\"):this._completedLoop=!0)):this.setCurrentRawFrameValue(e),r&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger(\"complete\"))}},AnimationItem.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.timeCompleted=this.totalFrames=t[0]-t[1],this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.timeCompleted=this.totalFrames=t[1]-t[0],this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger(\"segmentStart\")},AnimationItem.prototype.setSegment=function(t,e){var r=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?r=t:this.currentRawFrame+this.firstFrame>e&&(r=e-t)),this.firstFrame=t,this.timeCompleted=this.totalFrames=e-t,-1!==r&&this.goToAndStop(r,!0)},AnimationItem.prototype.playSegments=function(t,e){if(e&&(this.segments.length=0),\"object\"===typeof t[0]){var r,i=t.length;for(r=0;r<i;r+=1)this.segments.push(t[r])}else this.segments.push(t);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),t),!0)},AnimationItem.prototype.destroy=function(t){t&&this.name!=t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger(\"destroy\"),this._cbs=null,this.onEnterFrame=this.onLoopComplete=this.onComplete=this.onSegmentStart=this.onDestroy=null,this.renderer=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setVolume=function(t,e){e&&this.name!==e||this.audioController.setVolume(t)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(t){t&&this.name!==t||this.audioController.mute()},AnimationItem.prototype.unmute=function(t){t&&this.name!==t||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e=\"\";if(t.e)e=t.p;else if(this.assetsPath){var r=t.p;-1!==r.indexOf(\"images/\")&&(r=r.split(\"/\")[1]),e=this.assetsPath+r}else e=this.path,e+=t.u?t.u:\"\",e+=t.p;return e},AnimationItem.prototype.getAssetData=function(t){for(var e=0,r=this.assets.length;e<r;){if(t==this.assets[e].id)return this.assets[e];e+=1}},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case\"enterFrame\":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case\"loopComplete\":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case\"complete\":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case\"segmentStart\":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case\"destroy\":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}\"enterFrame\"===t&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),\"loopComplete\"===t&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),\"complete\"===t&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),\"segmentStart\"===t&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),\"destroy\"===t&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.triggerRenderFrameError=function(t){var e=new BMRenderFrameErrorEvent(t,this.currentFrame);this.triggerEvent(\"error\",e),this.onError&&this.onError.call(this,e)},AnimationItem.prototype.triggerConfigError=function(t){var e=new BMConfigErrorEvent(t,this.currentFrame);this.triggerEvent(\"error\",e),this.onError&&this.onError.call(this,e)};var Expressions=function(){var t={initExpressions:function(t){var e=0,r=[];t.renderer.compInterface=CompExpressionInterface(t.renderer),t.renderer.globalData.projectInterface.registerComposition(t.renderer),t.renderer.globalData.pushExpression=function(){e+=1},t.renderer.globalData.popExpression=function(){0===(e-=1)&&function(){var t,e=r.length;for(t=0;t<e;t+=1)r[t].release();r.length=0}()},t.renderer.globalData.registerExpressionProperty=function(t){-1===r.indexOf(t)&&r.push(t)}}};return t}();expressionsPlugin=Expressions;var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null;function $bm_isInstanceOfArray(t){return t.constructor===Array||t.constructor===Float32Array}function isNumerable(t,e){return\"number\"===t||\"boolean\"===t||\"string\"===t||e instanceof Number}function $bm_neg(t){var e=typeof t;if(\"number\"===e||\"boolean\"===e||t instanceof Number)return-t;if($bm_isInstanceOfArray(t)){var r,i=t.length,n=[];for(r=0;r<i;r+=1)n[r]=-t[r];return n}return t.propType?t.v:void 0}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,\"easeIn\").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,\"easeOut\").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,\"easeInOut\").get;function sum(t,e){var r=typeof t,i=typeof e;if(\"string\"===r||\"string\"===i)return t+e;if(isNumerable(r,t)&&isNumerable(i,e))return t+e;if($bm_isInstanceOfArray(t)&&isNumerable(i,e))return(t=t.slice(0))[0]=t[0]+e,t;if(isNumerable(r,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t+e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var n=0,s=t.length,a=e.length,o=[];n<s||n<a;)(\"number\"===typeof t[n]||t[n]instanceof Number)&&(\"number\"===typeof e[n]||e[n]instanceof Number)?o[n]=t[n]+e[n]:o[n]=void 0===e[n]?t[n]:t[n]||e[n],n+=1;return o}return 0}var add=sum;function sub(t,e){var r=typeof t,i=typeof e;if(isNumerable(r,t)&&isNumerable(i,e))return\"string\"===r&&(t=parseInt(t)),\"string\"===i&&(e=parseInt(e)),t-e;if($bm_isInstanceOfArray(t)&&isNumerable(i,e))return(t=t.slice(0))[0]=t[0]-e,t;if(isNumerable(r,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t-e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var n=0,s=t.length,a=e.length,o=[];n<s||n<a;)(\"number\"===typeof t[n]||t[n]instanceof Number)&&(\"number\"===typeof e[n]||e[n]instanceof Number)?o[n]=t[n]-e[n]:o[n]=void 0===e[n]?t[n]:t[n]||e[n],n+=1;return o}return 0}function mul(t,e){var r,i,n,s=typeof t,a=typeof e;if(isNumerable(s,t)&&isNumerable(a,e))return t*e;if($bm_isInstanceOfArray(t)&&isNumerable(a,e)){for(n=t.length,r=createTypedArray(\"float32\",n),i=0;i<n;i+=1)r[i]=t[i]*e;return r}if(isNumerable(s,t)&&$bm_isInstanceOfArray(e)){for(n=e.length,r=createTypedArray(\"float32\",n),i=0;i<n;i+=1)r[i]=t*e[i];return r}return 0}function div(t,e){var r,i,n,s=typeof t,a=typeof e;if(isNumerable(s,t)&&isNumerable(a,e))return t/e;if($bm_isInstanceOfArray(t)&&isNumerable(a,e)){for(n=t.length,r=createTypedArray(\"float32\",n),i=0;i<n;i+=1)r[i]=t[i]/e;return r}if(isNumerable(s,t)&&$bm_isInstanceOfArray(e)){for(n=e.length,r=createTypedArray(\"float32\",n),i=0;i<n;i+=1)r[i]=t/e[i];return r}return 0}function mod(t,e){return\"string\"===typeof t&&(t=parseInt(t)),\"string\"===typeof e&&(e=parseInt(e)),t%e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(t,e,r){if(e>r){var i=r;r=e,e=i}return Math.min(Math.max(t,e),r)}function radiansToDegrees(t){return t/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(t){return t*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(t,e){if(\"number\"===typeof t||t instanceof Number)return e=e||0,Math.abs(t-e);e||(e=helperLengthArray);var r,i=Math.min(t.length,e.length),n=0;for(r=0;r<i;r+=1)n+=Math.pow(e[r]-t[r],2);return Math.sqrt(n)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var e,r,i=t[0],n=t[1],s=t[2],a=Math.max(i,n,s),o=Math.min(i,n,s),h=(a+o)/2;if(a==o)e=r=0;else{var l=a-o;switch(r=h>.5?l/(2-a-o):l/(a+o),a){case i:e=(n-s)/l+(n<s?6:0);break;case n:e=(s-i)/l+2;break;case s:e=(i-n)/l+4}e/=6}return[e,r,h,t[3]]}function hue2rgb(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function hslToRgb(t){var e,r,i,n=t[0],s=t[1],a=t[2];if(0===s)e=r=i=a;else{var o=a<.5?a*(1+s):a+s-a*s,h=2*a-o;e=hue2rgb(h,o,n+1/3),r=hue2rgb(h,o,n),i=hue2rgb(h,o,n-1/3)}return[e,r,i,t[3]]}function linear(t,e,r,i,n){if(void 0!==i&&void 0!==n||(i=e,n=r,e=0,r=1),r<e){var s=r;r=e,e=s}if(t<=e)return i;if(t>=r)return n;var a=r===e?0:(t-e)/(r-e);if(!i.length)return i+(n-i)*a;var o,h=i.length,l=createTypedArray(\"float32\",h);for(o=0;o<h;o+=1)l[o]=i[o]+(n[o]-i[o])*a;return l}function random(t,e){if(void 0===e&&(void 0===t?(t=0,e=1):(e=t,t=void 0)),e.length){var r,i=e.length;t||(t=createTypedArray(\"float32\",i));var n=createTypedArray(\"float32\",i),s=BMMath.random();for(r=0;r<i;r+=1)n[r]=t[r]+s*(e[r]-t[r]);return n}return void 0===t&&(t=0),t+BMMath.random()*(e-t)}function createPath(t,e,r,i){var n,s=t.length,a=shape_pool.newElement();a.setPathData(!!i,s);var o,h,l=[0,0];for(n=0;n<s;n+=1)o=e&&e[n]?e[n]:l,h=r&&r[n]?r[n]:l,a.setTripleAt(t[n][0],t[n][1],h[0]+t[n][0],h[1]+t[n][1],o[0]+t[n][0],o[1]+t[n][1],n,!0);return a}function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\\w\\d])/.test(val),_needsRandom=-1!==val.indexOf(\"random\"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,\"value\",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,__expression_functions=[],scoped_bm_rt;if(data.xf){var i,len=data.xf.length;for(i=0;i<len;i+=1)__expression_functions[i]=eval(\"(function(){ return \"+data.xf[i]+\"}())\")}var expression_function=eval(\"[function _expression_function(){\"+val+\";scoped_bm_rt=$bm_rt}]\")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(t,e){var r,i,n=this.pv.length?this.pv.length:1,s=createTypedArray(\"float32\",n),a=Math.floor(5*time);for(r=0,i=0;r<a;){for(i=0;i<n;i+=1)s[i]+=-e+2*e*BMMath.random();r+=1}var o=5*time,h=o-Math.floor(o),l=createTypedArray(\"float32\",n);if(n>1){for(i=0;i<n;i+=1)l[i]=this.pv[i]+s[i]+(-e+2*e*BMMath.random())*h;return l}return this.pv+s[0]+(-e+2*e*BMMath.random())*h}.bind(this);function loopInDuration(t,e){return loopIn(t,e,!0)}function loopOutDuration(t,e){return loopOut(t,e,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(t,e){var r=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],i=Math.atan2(r[0],Math.sqrt(r[1]*r[1]+r[2]*r[2]))/degToRads;return[-Math.atan2(r[1],r[2])/degToRads,i,0]}function easeOut(t,e,r,i,n){return applyEase(easeOutBez,t,e,r,i,n)}function easeIn(t,e,r,i,n){return applyEase(easeInBez,t,e,r,i,n)}function ease(t,e,r,i,n){return applyEase(easeInOutBez,t,e,r,i,n)}function applyEase(t,e,r,i,n,s){void 0===n?(n=r,s=i):e=(e-r)/(i-r);var a=t(e=e>1?1:e<0?0:e);if($bm_isInstanceOfArray(n)){var o,h=n.length,l=createTypedArray(\"float32\",h);for(o=0;o<h;o+=1)l[o]=(s[o]-n[o])*a+n[o];return l}return(s-n)*a+n}function nearestKey(t){var e,r,i,n=data.k.length;if(data.k.length&&\"number\"!==typeof data.k[0])if(r=-1,(t*=elem.comp.globalData.frameRate)<data.k[0].t)r=1,i=data.k[0].t;else{for(e=0;e<n-1;e+=1){if(t===data.k[e].t){r=e+1,i=data.k[e].t;break}if(t>data.k[e].t&&t<data.k[e+1].t){t-data.k[e].t>data.k[e+1].t-t?(r=e+2,i=data.k[e+1].t):(r=e+1,i=data.k[e].t);break}}-1===r&&(r=e+1,i=data.k[e].t)}else r=0,i=0;var s={};return s.index=r,s.time=i/elem.comp.globalData.frameRate,s}function key(t){var e,r,i;if(!data.k.length||\"number\"===typeof data.k[0])throw new Error(\"The property has no keyframe at index \"+t);t-=1,e={time:data.k[t].t/elem.comp.globalData.frameRate,value:[]};var n=data.k[t].hasOwnProperty(\"s\")?data.k[t].s:data.k[t-1].e;for(i=n.length,r=0;r<i;r+=1)e[r]=n[r],e.value[r]=n[r];return e}function framesToTime(t,e){return e||(e=elem.comp.globalData.frameRate),t/e}function timeToFrames(t,e){return t||0===t||(t=time),e||(e=elem.comp.globalData.frameRate),t*e}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(t,e){return\"string\"===typeof value?void 0===e?value.substring(t):value.substring(t,e):\"\"}function substr(t,e){return\"string\"===typeof value?void 0===e?value.substr(t):value.substr(t,e):\"\"}function posterizeTime(t){time=0===t?0:Math.floor(time*t)/t,value=valueAtTime(time)}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(t){return value=t,_needsRandom&&seedRandom(randSeed),this.frameExpressionId===elem.globalData.frameId&&\"textSelector\"!==this.propType?value:(\"textSelector\"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface(\"ADBE Transform Group\"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer(\"ADBE Root Vectors Group\")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,\"shape\"===scoped_bm_rt.propType&&(scoped_bm_rt=scoped_bm_rt.v),scoped_bm_rt)}return executeExpression}return ob.initiateExpression=initiateExpression,ob}(),expressionHelpers={searchExpressions:function(t,e,r){e.x&&(r.k=!0,r.x=!0,r.initiateExpression=ExpressionManager.initiateExpression,r.effectsSequence.push(r.initiateExpression(t,e,r).bind(r)))},getSpeedAtTime:function(t){var e=this.getValueAtTime(t),r=this.getValueAtTime(t+-.01),i=0;if(e.length){var n;for(n=0;n<e.length;n+=1)i+=Math.pow(r[n]-e[n],2);i=100*Math.sqrt(i)}else i=0;return i},getVelocityAtTime:function(t){if(void 0!==this.vel)return this.vel;var e,r,i=-.001,n=this.getValueAtTime(t),s=this.getValueAtTime(t+i);if(n.length)for(e=createTypedArray(\"float32\",n.length),r=0;r<n.length;r+=1)e[r]=(s[r]-n[r])/i;else e=(s-n)/i;return e},getValueAtTime:function(t){return t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<t?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(t,this._cachingAtTime),this._cachingAtTime.lastFrame=t),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(t){this.propertyGroup=t}};!function(){function t(t,e,r){if(!this.k||!this.keyframes)return this.pv;t=t?t.toLowerCase():\"\";var i,n,s,a,o,h=this.comp.renderedFrame,l=this.keyframes,p=l[l.length-1].t;if(h<=p)return this.pv;if(r?n=p-(i=e?Math.abs(p-elem.comp.globalData.frameRate*e):Math.max(0,p-this.elem.data.ip)):((!e||e>l.length-1)&&(e=l.length-1),i=p-(n=l[l.length-1-e].t)),\"pingpong\"===t){if(Math.floor((h-n)/i)%2!==0)return this.getValueAtTime((i-(h-n)%i+n)/this.comp.globalData.frameRate,0)}else{if(\"offset\"===t){var c=this.getValueAtTime(n/this.comp.globalData.frameRate,0),f=this.getValueAtTime(p/this.comp.globalData.frameRate,0),u=this.getValueAtTime(((h-n)%i+n)/this.comp.globalData.frameRate,0),m=Math.floor((h-n)/i);if(this.pv.length){for(a=(o=new Array(c.length)).length,s=0;s<a;s+=1)o[s]=(f[s]-c[s])*m+u[s];return o}return(f-c)*m+u}if(\"continue\"===t){var d=this.getValueAtTime(p/this.comp.globalData.frameRate,0),y=this.getValueAtTime((p-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(a=(o=new Array(d.length)).length,s=0;s<a;s+=1)o[s]=d[s]+(d[s]-y[s])*((h-p)/this.comp.globalData.frameRate)/5e-4;return o}return d+(h-p)/.001*(d-y)}}return this.getValueAtTime(((h-n)%i+n)/this.comp.globalData.frameRate,0)}function e(t,e,r){if(!this.k)return this.pv;t=t?t.toLowerCase():\"\";var i,n,s,a,o,h=this.comp.renderedFrame,l=this.keyframes,p=l[0].t;if(h>=p)return this.pv;if(r?n=p+(i=e?Math.abs(elem.comp.globalData.frameRate*e):Math.max(0,this.elem.data.op-p)):((!e||e>l.length-1)&&(e=l.length-1),i=(n=l[e].t)-p),\"pingpong\"===t){if(Math.floor((p-h)/i)%2===0)return this.getValueAtTime(((p-h)%i+p)/this.comp.globalData.frameRate,0)}else{if(\"offset\"===t){var c=this.getValueAtTime(p/this.comp.globalData.frameRate,0),f=this.getValueAtTime(n/this.comp.globalData.frameRate,0),u=this.getValueAtTime((i-(p-h)%i+p)/this.comp.globalData.frameRate,0),m=Math.floor((p-h)/i)+1;if(this.pv.length){for(a=(o=new Array(c.length)).length,s=0;s<a;s+=1)o[s]=u[s]-(f[s]-c[s])*m;return o}return u-(f-c)*m}if(\"continue\"===t){var d=this.getValueAtTime(p/this.comp.globalData.frameRate,0),y=this.getValueAtTime((p+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(a=(o=new Array(d.length)).length,s=0;s<a;s+=1)o[s]=d[s]+(d[s]-y[s])*(p-h)/.001;return o}return d+(d-y)*(p-h)/.001}}return this.getValueAtTime((i-(p-h)%i+p)/this.comp.globalData.frameRate,0)}function r(t,e){if(!this.k)return this.pv;if(t=.5*(t||.4),(e=Math.floor(e||5))<=1)return this.pv;var r,i,n=this.comp.renderedFrame/this.comp.globalData.frameRate,s=n-t,a=e>1?(n+t-s)/(e-1):1,o=0,h=0;for(r=this.pv.length?createTypedArray(\"float32\",this.pv.length):0;o<e;){if(i=this.getValueAtTime(s+o*a),this.pv.length)for(h=0;h<this.pv.length;h+=1)r[h]+=i[h];else r+=i;o+=1}if(this.pv.length)for(h=0;h<this.pv.length;h+=1)r[h]/=e;else r/=e;return r}function i(t){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var e=this._transformCachingAtTime.v;if(e.cloneFromProps(this.pre.props),this.appliedTransformations<1){var r=this.a.getValueAtTime(t);e.translate(-r[0],-r[1],r[2])}if(this.appliedTransformations<2){var i=this.s.getValueAtTime(t);e.scale(i[0],i[1],i[2])}if(this.sk&&this.appliedTransformations<3){var n=this.sk.getValueAtTime(t),s=this.sa.getValueAtTime(t);e.skewFromAxis(-n,s)}if(this.r&&this.appliedTransformations<4){var a=this.r.getValueAtTime(t);e.rotate(-a)}else if(!this.r&&this.appliedTransformations<4){var o=this.rz.getValueAtTime(t),h=this.ry.getValueAtTime(t),l=this.rx.getValueAtTime(t),p=this.or.getValueAtTime(t);e.rotateZ(-o.v).rotateY(h.v).rotateX(l.v).rotateZ(-p[2]).rotateY(p[1]).rotateX(p[0])}if(this.data.p&&this.data.p.s){var c=this.px.getValueAtTime(t),f=this.py.getValueAtTime(t);if(this.data.p.z){var u=this.pz.getValueAtTime(t);e.translate(c,f,-u)}else e.translate(c,f,0)}else{var m=this.p.getValueAtTime(t);e.translate(m[0],m[1],-m[2])}return e}function n(t){}var s=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(t,e,r){var a=s(t,e,r);return a.dynamicProperties.length?a.getValueAtTime=i.bind(a):a.getValueAtTime=n.bind(a),a.setGroupProperty=expressionHelpers.setGroupProperty,a};var a=PropertyFactory.getProp;PropertyFactory.getProp=function(i,n,s,o,h){var l=a(i,n,s,o,h);l.kf?l.getValueAtTime=expressionHelpers.getValueAtTime.bind(l):l.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(l),l.setGroupProperty=expressionHelpers.setGroupProperty,l.loopOut=t,l.loopIn=e,l.smooth=r,l.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(l),l.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(l),l.numKeys=1===n.a?n.k.length:0,l.propertyIndex=n.ix;var p=0;return 0!==s&&(p=createTypedArray(\"float32\",1===n.a?n.k[0].s.length:n.k.length)),l._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:p},expressionHelpers.searchExpressions(i,n,l),l.k&&h.addDynamicProperty(l),l};var o=ShapePropertyFactory.getConstructorFunction(),h=ShapePropertyFactory.getKeyframedConstructorFunction();function l(){}l.prototype={vertices:function(t,e){this.k&&this.getValue();var r=this.v;void 0!==e&&(r=this.getValueAtTime(e,0));var i,n=r._length,s=r[t],a=r.v,o=createSizedArray(n);for(i=0;i<n;i+=1)o[i]=\"i\"===t||\"o\"===t?[s[i][0]-a[i][0],s[i][1]-a[i][1]]:[s[i][0],s[i][1]];return o},points:function(t){return this.vertices(\"v\",t)},inTangents:function(t){return this.vertices(\"i\",t)},outTangents:function(t){return this.vertices(\"o\",t)},isClosed:function(){return this.v.c},pointOnPath:function(t,e){var r=this.v;void 0!==e&&(r=this.getValueAtTime(e,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(r));for(var i,n=this._segmentsLength,s=n.lengths,a=n.totalLength*t,o=0,h=s.length,l=0;o<h;){if(l+s[o].addedLength>a){var p=o,c=r.c&&o===h-1?0:o+1,f=(a-l)/s[o].addedLength;i=bez.getPointInSegment(r.v[p],r.v[c],r.o[p],r.i[c],f,s[o]);break}l+=s[o].addedLength,o+=1}return i||(i=r.c?[r.v[0][0],r.v[0][1]]:[r.v[r._length-1][0],r.v[r._length-1][1]]),i},vectorOnPath:function(t,e,r){t=1==t?this.v.c?0:.999:t;var i=this.pointOnPath(t,e),n=this.pointOnPath(t+.001,e),s=n[0]-i[0],a=n[1]-i[1],o=Math.sqrt(Math.pow(s,2)+Math.pow(a,2));return 0===o?[0,0]:\"tangent\"===r?[s/o,a/o]:[-a/o,s/o]},tangentOnPath:function(t,e){return this.vectorOnPath(t,e,\"tangent\")},normalOnPath:function(t,e){return this.vectorOnPath(t,e,\"normal\")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([l],o),extendPrototype([l],h),h.prototype.getValueAtTime=function(t){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shape_pool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<t?this._caching.lastIndex:0,this._cachingAtTime.lastTime=t,this.interpolateShape(t,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},h.prototype.initiateExpression=ExpressionManager.initiateExpression;var p=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(t,e,r,i,n){var s=p(t,e,r,i,n);return s.propertyIndex=e.ix,s.lock=!1,3===r?expressionHelpers.searchExpressions(t,e.pt,s):4===r&&expressionHelpers.searchExpressions(t,e.ks,s),s.k&&t.addDynamicProperty(s),s}}(),TextProperty.prototype.getExpressionValue=function(t,e){var r=this.calculateExpression(e);if(t.t!==r){var i={};return this.copyData(i,t),i.t=r.toString(),i.__complete=!1,i}return t},TextProperty.prototype.searchProperty=function(){var t=this.searchKeyframes(),e=this.searchExpressions();return this.kf=t||e,this.kf},TextProperty.prototype.searchExpressions=function(){if(this.data.d.x)return this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0};var ShapePathInterface=function(t,e,r){var i=e.sh;function n(t){if(\"Shape\"===t||\"shape\"===t||\"Path\"===t||\"path\"===t||\"ADBE Vector Shape\"===t||2===t)return n.path}var s=propertyGroupFactory(n,r);return i.setGroupProperty(PropertyInterface(\"Path\",s)),Object.defineProperties(n,{path:{get:function(){return i.k&&i.getValue(),i}},shape:{get:function(){return i.k&&i.getValue(),i}},_name:{value:t.nm},ix:{value:t.ix},propertyIndex:{value:t.ix},mn:{value:t.mn},propertyGroup:{value:r}}),n},propertyGroupFactory=function(t,e){return function(r){return(r=void 0===r?1:r)<=0?t:e(r-1)}},PropertyInterface=function(t,e){var r={_name:t};return function(t){return(t=void 0===t?1:t)<=0?r:e(--t)}},ShapeExpressionInterface=function(){function t(t,s,c){var f,u=[],m=t?t.length:0;for(f=0;f<m;f+=1)\"gr\"==t[f].ty?u.push(e(t[f],s[f],c)):\"fl\"==t[f].ty?u.push(r(t[f],s[f],c)):\"st\"==t[f].ty?u.push(i(t[f],s[f],c)):\"tm\"==t[f].ty?u.push(n(t[f],s[f],c)):\"tr\"==t[f].ty||(\"el\"==t[f].ty?u.push(a(t[f],s[f],c)):\"sr\"==t[f].ty?u.push(o(t[f],s[f],c)):\"sh\"==t[f].ty?u.push(ShapePathInterface(t[f],s[f],c)):\"rc\"==t[f].ty?u.push(h(t[f],s[f],c)):\"rd\"==t[f].ty?u.push(l(t[f],s[f],c)):\"rp\"==t[f].ty&&u.push(p(t[f],s[f],c)));return u}function e(e,r,i){var n=function(t){switch(t){case\"ADBE Vectors Group\":case\"Contents\":case 2:return n.content;default:return n.transform}};n.propertyGroup=propertyGroupFactory(n,i);var a=function(e,r,i){var n,a=function(t){for(var e=0,r=n.length;e<r;){if(n[e]._name===t||n[e].mn===t||n[e].propertyIndex===t||n[e].ix===t||n[e].ind===t)return n[e];e+=1}if(\"number\"===typeof t)return n[t-1]};a.propertyGroup=propertyGroupFactory(a,i),n=t(e.it,r.it,a.propertyGroup),a.numProperties=n.length;var o=s(e.it[e.it.length-1],r.it[r.it.length-1],a.propertyGroup);return a.transform=o,a.propertyIndex=e.cix,a._name=e.nm,a}(e,r,n.propertyGroup),o=s(e.it[e.it.length-1],r.it[r.it.length-1],n.propertyGroup);return n.content=a,n.transform=o,Object.defineProperty(n,\"_name\",{get:function(){return e.nm}}),n.numProperties=e.np,n.propertyIndex=e.ix,n.nm=e.nm,n.mn=e.mn,n}function r(t,e,r){function i(t){return\"Color\"===t||\"color\"===t?i.color:\"Opacity\"===t||\"opacity\"===t?i.opacity:void 0}return Object.defineProperties(i,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(PropertyInterface(\"Color\",r)),e.o.setGroupProperty(PropertyInterface(\"Opacity\",r)),i}function i(t,e,r){var i=propertyGroupFactory(l,r),n=propertyGroupFactory(h,i);function s(r){Object.defineProperty(h,t.d[r].nm,{get:ExpressionPropertyInterface(e.d.dataProps[r].p)})}var a,o=t.d?t.d.length:0,h={};for(a=0;a<o;a+=1)s(a),e.d.dataProps[a].p.setGroupProperty(n);function l(t){return\"Color\"===t||\"color\"===t?l.color:\"Opacity\"===t||\"opacity\"===t?l.opacity:\"Stroke Width\"===t||\"stroke width\"===t?l.strokeWidth:void 0}return Object.defineProperties(l,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},strokeWidth:{get:ExpressionPropertyInterface(e.w)},dash:{get:function(){return h}},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(PropertyInterface(\"Color\",i)),e.o.setGroupProperty(PropertyInterface(\"Opacity\",i)),e.w.setGroupProperty(PropertyInterface(\"Stroke Width\",i)),l}function n(t,e,r){function i(e){return e===t.e.ix||\"End\"===e||\"end\"===e?i.end:e===t.s.ix?i.start:e===t.o.ix?i.offset:void 0}var n=propertyGroupFactory(i,r);return i.propertyIndex=t.ix,e.s.setGroupProperty(PropertyInterface(\"Start\",n)),e.e.setGroupProperty(PropertyInterface(\"End\",n)),e.o.setGroupProperty(PropertyInterface(\"Offset\",n)),i.propertyIndex=t.ix,i.propertyGroup=r,Object.defineProperties(i,{start:{get:ExpressionPropertyInterface(e.s)},end:{get:ExpressionPropertyInterface(e.e)},offset:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm}}),i.mn=t.mn,i}function s(t,e,r){function i(e){return t.a.ix===e||\"Anchor Point\"===e?i.anchorPoint:t.o.ix===e||\"Opacity\"===e?i.opacity:t.p.ix===e||\"Position\"===e?i.position:t.r.ix===e||\"Rotation\"===e||\"ADBE Vector Rotation\"===e?i.rotation:t.s.ix===e||\"Scale\"===e?i.scale:t.sk&&t.sk.ix===e||\"Skew\"===e?i.skew:t.sa&&t.sa.ix===e||\"Skew Axis\"===e?i.skewAxis:void 0}var n=propertyGroupFactory(i,r);return e.transform.mProps.o.setGroupProperty(PropertyInterface(\"Opacity\",n)),e.transform.mProps.p.setGroupProperty(PropertyInterface(\"Position\",n)),e.transform.mProps.a.setGroupProperty(PropertyInterface(\"Anchor Point\",n)),e.transform.mProps.s.setGroupProperty(PropertyInterface(\"Scale\",n)),e.transform.mProps.r.setGroupProperty(PropertyInterface(\"Rotation\",n)),e.transform.mProps.sk&&(e.transform.mProps.sk.setGroupProperty(PropertyInterface(\"Skew\",n)),e.transform.mProps.sa.setGroupProperty(PropertyInterface(\"Skew Angle\",n))),e.transform.op.setGroupProperty(PropertyInterface(\"Opacity\",n)),Object.defineProperties(i,{opacity:{get:ExpressionPropertyInterface(e.transform.mProps.o)},position:{get:ExpressionPropertyInterface(e.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(e.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(e.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(e.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(e.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(e.transform.mProps.sa)},_name:{value:t.nm}}),i.ty=\"tr\",i.mn=t.mn,i.propertyGroup=r,i}function a(t,e,r){function i(e){return t.p.ix===e?i.position:t.s.ix===e?i.size:void 0}var n=propertyGroupFactory(i,r);i.propertyIndex=t.ix;var s=\"tm\"===e.sh.ty?e.sh.prop:e.sh;return s.s.setGroupProperty(PropertyInterface(\"Size\",n)),s.p.setGroupProperty(PropertyInterface(\"Position\",n)),Object.defineProperties(i,{size:{get:ExpressionPropertyInterface(s.s)},position:{get:ExpressionPropertyInterface(s.p)},_name:{value:t.nm}}),i.mn=t.mn,i}function o(t,e,r){function i(e){return t.p.ix===e?i.position:t.r.ix===e?i.rotation:t.pt.ix===e?i.points:t.or.ix===e||\"ADBE Vector Star Outer Radius\"===e?i.outerRadius:t.os.ix===e?i.outerRoundness:!t.ir||t.ir.ix!==e&&\"ADBE Vector Star Inner Radius\"!==e?t.is&&t.is.ix===e?i.innerRoundness:void 0:i.innerRadius}var n=propertyGroupFactory(i,r),s=\"tm\"===e.sh.ty?e.sh.prop:e.sh;return i.propertyIndex=t.ix,s.or.setGroupProperty(PropertyInterface(\"Outer Radius\",n)),s.os.setGroupProperty(PropertyInterface(\"Outer Roundness\",n)),s.pt.setGroupProperty(PropertyInterface(\"Points\",n)),s.p.setGroupProperty(PropertyInterface(\"Position\",n)),s.r.setGroupProperty(PropertyInterface(\"Rotation\",n)),t.ir&&(s.ir.setGroupProperty(PropertyInterface(\"Inner Radius\",n)),s.is.setGroupProperty(PropertyInterface(\"Inner Roundness\",n))),Object.defineProperties(i,{position:{get:ExpressionPropertyInterface(s.p)},rotation:{get:ExpressionPropertyInterface(s.r)},points:{get:ExpressionPropertyInterface(s.pt)},outerRadius:{get:ExpressionPropertyInterface(s.or)},outerRoundness:{get:ExpressionPropertyInterface(s.os)},innerRadius:{get:ExpressionPropertyInterface(s.ir)},innerRoundness:{get:ExpressionPropertyInterface(s.is)},_name:{value:t.nm}}),i.mn=t.mn,i}function h(t,e,r){function i(e){return t.p.ix===e?i.position:t.r.ix===e?i.roundness:t.s.ix===e||\"Size\"===e||\"ADBE Vector Rect Size\"===e?i.size:void 0}var n=propertyGroupFactory(i,r),s=\"tm\"===e.sh.ty?e.sh.prop:e.sh;return i.propertyIndex=t.ix,s.p.setGroupProperty(PropertyInterface(\"Position\",n)),s.s.setGroupProperty(PropertyInterface(\"Size\",n)),s.r.setGroupProperty(PropertyInterface(\"Rotation\",n)),Object.defineProperties(i,{position:{get:ExpressionPropertyInterface(s.p)},roundness:{get:ExpressionPropertyInterface(s.r)},size:{get:ExpressionPropertyInterface(s.s)},_name:{value:t.nm}}),i.mn=t.mn,i}function l(t,e,r){function i(e){if(t.r.ix===e||\"Round Corners 1\"===e)return i.radius}var n=propertyGroupFactory(i,r),s=e;return i.propertyIndex=t.ix,s.rd.setGroupProperty(PropertyInterface(\"Radius\",n)),Object.defineProperties(i,{radius:{get:ExpressionPropertyInterface(s.rd)},_name:{value:t.nm}}),i.mn=t.mn,i}function p(t,e,r){function i(e){return t.c.ix===e||\"Copies\"===e?i.copies:t.o.ix===e||\"Offset\"===e?i.offset:void 0}var n=propertyGroupFactory(i,r),s=e;return i.propertyIndex=t.ix,s.c.setGroupProperty(PropertyInterface(\"Copies\",n)),s.o.setGroupProperty(PropertyInterface(\"Offset\",n)),Object.defineProperties(i,{copies:{get:ExpressionPropertyInterface(s.c)},offset:{get:ExpressionPropertyInterface(s.o)},_name:{value:t.nm}}),i.mn=t.mn,i}return function(e,r,i){var n;function s(t){if(\"number\"===typeof t)return 0===(t=void 0===t?1:t)?i:n[t-1];for(var e=0,r=n.length;e<r;){if(n[e]._name===t)return n[e];e+=1}}return s.propertyGroup=i,n=t(e,r,s),s.numProperties=n.length,s}}(),TextExpressionInterface=function(t){var e,r;function i(t){switch(t){case\"ADBE Text Document\":return i.sourceText}}return Object.defineProperty(i,\"sourceText\",{get:function(){t.textProperty.getValue();var i=t.textProperty.currentData.t;return i!==e&&(t.textProperty.currentData.t=e,(r=new String(i)).value=i||new String(i)),r}}),i},LayerExpressionInterface=function(){function t(t,e){var r=new Matrix;if(r.reset(),void 0!==e?r=this._elem.finalTransform.mProp.getValueAtTime(e):this._elem.finalTransform.mProp.applyToMatrix(r),this._elem.hierarchy&&this._elem.hierarchy.length){var i,n=this._elem.hierarchy.length;for(i=0;i<n;i+=1)this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(r);return r.applyToPointArray(t[0],t[1],t[2]||0)}return r.applyToPointArray(t[0],t[1],t[2]||0)}function e(t,e){var r=new Matrix;if(r.reset(),void 0!==e?r=this._elem.finalTransform.mProp.getValueAtTime(e):this._elem.finalTransform.mProp.applyToMatrix(r),this._elem.hierarchy&&this._elem.hierarchy.length){var i,n=this._elem.hierarchy.length;for(i=0;i<n;i+=1)this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(r);return r.inversePoint(t)}return r.inversePoint(t)}function r(t){var e=new Matrix;if(e.reset(),this._elem.finalTransform.mProp.applyToMatrix(e),this._elem.hierarchy&&this._elem.hierarchy.length){var r,i=this._elem.hierarchy.length;for(r=0;r<i;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(e);return e.inversePoint(t)}return e.inversePoint(t)}function i(){return[1,1,1,1]}return function(n){var s;function a(t){switch(t){case\"ADBE Root Vectors Group\":case\"Contents\":case 2:return a.shapeInterface;case 1:case 6:case\"Transform\":case\"transform\":case\"ADBE Transform Group\":return s;case 4:case\"ADBE Effect Parade\":case\"effects\":case\"Effects\":return a.effect;case\"ADBE Text Properties\":return a.textInterface}}a.toWorld=t,a.fromWorld=e,a.toComp=t,a.fromComp=r,a.sampleImage=i,a.sourceRectAtTime=n.sourceRectAtTime.bind(n),a._elem=n;var o=getDescriptor(s=TransformExpressionInterface(n.finalTransform.mProp),\"anchorPoint\");return Object.defineProperties(a,{hasParent:{get:function(){return n.hierarchy.length}},parent:{get:function(){return n.hierarchy[0].layerInterface}},rotation:getDescriptor(s,\"rotation\"),scale:getDescriptor(s,\"scale\"),position:getDescriptor(s,\"position\"),opacity:getDescriptor(s,\"opacity\"),anchorPoint:o,anchor_point:o,transform:{get:function(){return s}},active:{get:function(){return n.isInRange}}}),a.startTime=n.data.st,a.index=n.data.ind,a.source=n.data.refId,a.height=0===n.data.ty?n.data.h:100,a.width=0===n.data.ty?n.data.w:100,a.inPoint=n.data.ip/n.comp.globalData.frameRate,a.outPoint=n.data.op/n.comp.globalData.frameRate,a._name=n.data.nm,a.registerMaskInterface=function(t){a.mask=new MaskManagerInterface(t,n)},a.registerEffectsInterface=function(t){a.effect=t},a}}(),CompExpressionInterface=function(t){function e(e){for(var r=0,i=t.layers.length;r<i;){if(t.layers[r].nm===e||t.layers[r].ind===e)return t.elements[r].layerInterface;r+=1}return null}return Object.defineProperty(e,\"_name\",{value:t.data.nm}),e.layer=e,e.pixelAspect=1,e.height=t.data.h||t.globalData.compSize.h,e.width=t.data.w||t.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/t.globalData.frameRate,e.displayStartTime=0,e.numLayers=t.layers.length,e},TransformExpressionInterface=function(t){function e(t){switch(t){case\"scale\":case\"Scale\":case\"ADBE Scale\":case 6:return e.scale;case\"rotation\":case\"Rotation\":case\"ADBE Rotation\":case\"ADBE Rotate Z\":case 10:return e.rotation;case\"ADBE Rotate X\":return e.xRotation;case\"ADBE Rotate Y\":return e.yRotation;case\"position\":case\"Position\":case\"ADBE Position\":case 2:return e.position;case\"ADBE Position_0\":return e.xPosition;case\"ADBE Position_1\":return e.yPosition;case\"ADBE Position_2\":return e.zPosition;case\"anchorPoint\":case\"AnchorPoint\":case\"Anchor Point\":case\"ADBE AnchorPoint\":case 1:return e.anchorPoint;case\"opacity\":case\"Opacity\":case 11:return e.opacity}}if(Object.defineProperty(e,\"rotation\",{get:ExpressionPropertyInterface(t.r||t.rz)}),Object.defineProperty(e,\"zRotation\",{get:ExpressionPropertyInterface(t.rz||t.r)}),Object.defineProperty(e,\"xRotation\",{get:ExpressionPropertyInterface(t.rx)}),Object.defineProperty(e,\"yRotation\",{get:ExpressionPropertyInterface(t.ry)}),Object.defineProperty(e,\"scale\",{get:ExpressionPropertyInterface(t.s)}),t.p)var r=ExpressionPropertyInterface(t.p);else{var i,n=ExpressionPropertyInterface(t.px),s=ExpressionPropertyInterface(t.py);t.pz&&(i=ExpressionPropertyInterface(t.pz))}return Object.defineProperty(e,\"position\",{get:function(){return t.p?r():[n(),s(),i?i():0]}}),Object.defineProperty(e,\"xPosition\",{get:ExpressionPropertyInterface(t.px)}),Object.defineProperty(e,\"yPosition\",{get:ExpressionPropertyInterface(t.py)}),Object.defineProperty(e,\"zPosition\",{get:ExpressionPropertyInterface(t.pz)}),Object.defineProperty(e,\"anchorPoint\",{get:ExpressionPropertyInterface(t.a)}),Object.defineProperty(e,\"opacity\",{get:ExpressionPropertyInterface(t.o)}),Object.defineProperty(e,\"skew\",{get:ExpressionPropertyInterface(t.sk)}),Object.defineProperty(e,\"skewAxis\",{get:ExpressionPropertyInterface(t.sa)}),Object.defineProperty(e,\"orientation\",{get:ExpressionPropertyInterface(t.or)}),e},ProjectInterface=function(){function t(t){this.compositions.push(t)}return function(){function e(t){for(var e=0,r=this.compositions.length;e<r;){if(this.compositions[e].data&&this.compositions[e].data.nm===t)return this.compositions[e].prepareFrame&&this.compositions[e].data.xt&&this.compositions[e].prepareFrame(this.currentFrame),this.compositions[e].compInterface;e+=1}}return e.compositions=[],e.currentFrame=0,e.registerComposition=t,e}}(),EffectsExpressionInterface=function(){function t(r,i,n,s){function a(t){for(var e=r.ef,i=0,n=e.length;i<n;){if(t===e[i].nm||t===e[i].mn||t===e[i].ix)return 5===e[i].ty?l[i]:l[i]();i+=1}throw new Error}var o,h=propertyGroupFactory(a,n),l=[],p=r.ef.length;for(o=0;o<p;o+=1)5===r.ef[o].ty?l.push(t(r.ef[o],i.effectElements[o],i.effectElements[o].propertyGroup,s)):l.push(e(i.effectElements[o],r.ef[o].ty,s,h));return\"ADBE Color Control\"===r.mn&&Object.defineProperty(a,\"color\",{get:function(){return l[0]()}}),Object.defineProperties(a,{numProperties:{get:function(){return r.np}},_name:{value:r.nm},propertyGroup:{value:h}}),a.active=a.enabled=0!==r.en,a}function e(t,e,r,i){var n=ExpressionPropertyInterface(t.p);return t.p.setGroupProperty&&t.p.setGroupProperty(PropertyInterface(\"\",i)),function(){return 10===e?r.comp.compInterface(t.p.v):n()}}return{createEffectsInterface:function(e,r){if(e.effectsManager){var i,n=[],s=e.data.ef,a=e.effectsManager.effectElements.length;for(i=0;i<a;i+=1)n.push(t(s[i],e.effectsManager.effectElements[i],r,e));var o=e.data.ef||[],h=function(t){for(i=0,a=o.length;i<a;){if(t===o[i].nm||t===o[i].mn||t===o[i].ix)return n[i];i+=1}};return Object.defineProperty(h,\"numProperties\",{get:function(){return o.length}}),h}}}}(),MaskManagerInterface=function(){function t(t,e){this._mask=t,this._data=e}return Object.defineProperty(t.prototype,\"maskPath\",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(t.prototype,\"maskOpacity\",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(e,r){var i,n=createSizedArray(e.viewData.length),s=e.viewData.length;for(i=0;i<s;i+=1)n[i]=new t(e.viewData[i],e.masksProperties[i]);return function(t){for(i=0;i<s;){if(e.masksProperties[i].nm===t)return n[i];i+=1}}}}(),ExpressionPropertyInterface=function(){var t={pv:0,v:0,mult:1},e={pv:[0,0,0],v:[0,0,0],mult:1};function r(t,e,r){Object.defineProperty(t,\"velocity\",{get:function(){return e.getVelocityAtTime(e.comp.currentFrame)}}),t.numKeys=e.keyframes?e.keyframes.length:0,t.key=function(i){if(t.numKeys){var n=\"\";n=\"s\"in e.keyframes[i-1]?e.keyframes[i-1].s:\"e\"in e.keyframes[i-2]?e.keyframes[i-2].e:e.keyframes[i-2].s;var s=\"unidimensional\"===r?new Number(n):Object.assign({},n);return s.time=e.keyframes[i-1].t/e.elem.comp.globalData.frameRate,s.value=\"unidimensional\"===r?n[0]:n,s}return 0},t.valueAtTime=e.getValueAtTime,t.speedAtTime=e.getSpeedAtTime,t.velocityAtTime=e.getVelocityAtTime,t.propertyGroup=e.propertyGroup}function i(){return t}return function(n){return n?\"unidimensional\"===n.propType?function(e){e&&\"pv\"in e||(e=t);var i=1/e.mult,n=e.pv*i,s=new Number(n);return s.value=n,r(s,e,\"unidimensional\"),function(){return e.k&&e.getValue(),n=e.v*i,s.value!==n&&((s=new Number(n)).value=n,r(s,e,\"unidimensional\")),s}}(n):function(t){t&&\"pv\"in t||(t=e);var i=1/t.mult,n=t.pv.length,s=createTypedArray(\"float32\",n),a=createTypedArray(\"float32\",n);return s.value=a,r(s,t,\"multidimensional\"),function(){t.k&&t.getValue();for(var e=0;e<n;e+=1)s[e]=a[e]=t.v[e]*i;return s}}(n):i}}();function SliderEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function AngleEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function ColorEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,1,0,r)}function PointEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,1,0,r)}function LayerIndexEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function MaskIndexEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function CheckboxEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function NoValueEffect(){this.p={}}function EffectsManager(){}function EffectsManager(t,e){var r=t.ef||[];this.effectElements=[];var i,n,s=r.length;for(i=0;i<s;i++)n=new GroupEffect(r[i],e),this.effectElements.push(n)}function GroupEffect(t,e){this.init(t,e)}!function(){var t=function(){function t(t,e){return this.textIndex=t+1,this.textTotal=e,this.v=this.getValue()*this.mult,this.v}return function(e,r){this.pv=1,this.comp=e.comp,this.elem=e,this.mult=.01,this.propType=\"textSelector\",this.textTotal=r.totalChars,this.selectorValue=100,this.lastValue=[1,1,1],this.k=!0,this.x=!0,this.getValue=ExpressionManager.initiateExpression.bind(this)(e,r,this),this.getMult=t,this.getVelocityAtTime=expressionHelpers.getVelocityAtTime,this.kf?this.getValueAtTime=expressionHelpers.getValueAtTime.bind(this):this.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(this),this.setGroupProperty=expressionHelpers.setGroupProperty}}(),e=TextSelectorProp.getTextSelectorProp;TextSelectorProp.getTextSelectorProp=function(r,i,n){return 1===i.t?new t(r,i,n):e(r,i,n)}}(),extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,e){this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(e);var r,i,n=this.data.ef.length,s=this.data.ef;for(r=0;r<n;r+=1){switch(i=null,s[r].ty){case 0:i=new SliderEffect(s[r],e,this);break;case 1:i=new AngleEffect(s[r],e,this);break;case 2:i=new ColorEffect(s[r],e,this);break;case 3:i=new PointEffect(s[r],e,this);break;case 4:case 7:i=new CheckboxEffect(s[r],e,this);break;case 10:i=new LayerIndexEffect(s[r],e,this);break;case 11:i=new MaskIndexEffect(s[r],e,this);break;case 5:i=new EffectsManager(s[r],e,this);break;default:i=new NoValueEffect(s[r],e,this)}i&&this.effectElements.push(i)}};var lottie={},_isFrozen=!1;function setLocationHref(t){locationHref=t}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(t){subframeEnabled=t}function loadAnimation(t){return!0===standalone&&(t.animationData=JSON.parse(animationData)),animationManager.loadAnimation(t)}function setQuality(t){if(\"string\"===typeof t)switch(t){case\"high\":defaultCurveSegments=200;break;case\"medium\":defaultCurveSegments=50;break;case\"low\":defaultCurveSegments=10}else!isNaN(t)&&t>1&&(defaultCurveSegments=t);roundValues(!(defaultCurveSegments>=50))}function inBrowser(){return\"undefined\"!==typeof navigator}function installPlugin(t,e){\"expressions\"===t&&(expressionsPlugin=e)}function getFactory(t){switch(t){case\"propertyFactory\":return PropertyFactory;case\"shapePropertyFactory\":return ShapePropertyFactory;case\"matrix\":return Matrix}}function checkReady(){\"complete\"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var e=queryString.split(\"&\"),r=0;r<e.length;r++){var i=e[r].split(\"=\");if(decodeURIComponent(i[0])==t)return decodeURIComponent(i[1])}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocationHref,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.__getFactory=getFactory,lottie.version=\"5.7.3\";var standalone=\"__[STANDALONE]__\",animationData=\"__[ANIMATIONDATA]__\",renderer=\"\";if(standalone){var scripts=document.getElementsByTagName(\"script\"),index=scripts.length-1,myScript=scripts[index]||{src:\"\"},queryString=myScript.src.replace(/^[^\\?]+\\??/,\"\");renderer=getQueryVariable(\"renderer\")}var readyStateCheckInterval=setInterval(checkReady,100);return lottie},void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return factory(root)}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}}]);","name":"static/js/0.1df30860.chunk.js","map":{"version":3,"sources":["static/js/0.1df30860.chunk.js"],"names":["this","push","1028","module","exports","core","version","__e","1034","__webpack_require__","assign","PropTypes","createClass","moment","React","CalendarContainer","onClickOutside","default","viewModes","Object","freeze","YEARS","MONTHS","DAYS","TIME","TYPES","Datetime","displayName","propTypes","onFocus","func","onBlur","onChange","onViewModeChange","onNavigateBack","onNavigateForward","locale","string","utc","bool","displayTimeZone","input","inputProps","object","timeConstraints","viewMode","oneOf","isValidDate","open","strictParsing","closeOnSelect","closeOnTab","getInitialState","checkTZ","props","state","getStateFromProps","undefined","currentView","dateFormat","updateOn","parseDate","date","formats","parsedDate","localMoment","datetime","isValid","selectedDate","viewDate","inputValue","getFormats","value","defaultValue","clone","startOf","getUpdateOn","format","inputFormat","match","indexOf","time","timeFormat","localeData","longDateFormat","componentWillReceiveProps","nextProps","updatedState","updatedViewDate","updatedSelectedDate","tz","local","setState","onInputChange","e","target","update","onInputKey","which","closeCalendar","showView","view","me","setDate","type","nextViews","month","year","parseInt","getAttribute","subtractTime","amount","toSelected","updateTime","addTime","op","allowedSetTime","setTime","nextType","index","length","updateSelectedDate","close","currentTarget","modifier","currentDate","className","hours","minutes","seconds","milliseconds","openCalendar","handleClickOutside","disableCloseOnClickOutside","m","con","console","tzWarning","error","componentProps","fromProps","fromState","fromThis","getComponentProps","forEach","name","overrideEvent","handler","action","overridenEvents","result","render","Array","isArray","join","children","finalInputProps","onClick","onKeyDown","renderInput","createElement","key","ClickableWrapper","onClickOut","concat","viewProps","defaultProps","1036","factory","Error","ReactNoopUpdateQueue","Component","updater","isValidElement","1037","__webpack_exports__","d","__extends","_assign","__awaiter","__generator","__spread","__spreadArrays","_extendStatics","b","setPrototypeOf","__proto__","p","prototype","hasOwnProperty","call","__","constructor","create","t","s","i","n","arguments","apply","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","done","then","body","f","y","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","v","TypeError","pop","__read","o","r","ar","il","k","a","j","jl","1038","global","window","Math","self","Function","__g","1039","defineProperty","get","1044","ctx","hide","has","$export","source","own","out","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","S","IS_PROTO","IS_BIND","B","IS_WRAP","W","expProto","C","c","virtual","R","U","1045","anObject","IE8_DOM_DEFINE","toPrimitive","dP","O","Attributes","1046","it","1052","_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__","_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_2___default","prop_types__WEBPACK_IMPORTED_MODULE_3__","prop_types__WEBPACK_IMPORTED_MODULE_3___default","classnames__WEBPACK_IMPORTED_MODULE_4__","classnames__WEBPACK_IMPORTED_MODULE_4___default","_utils__WEBPACK_IMPORTED_MODULE_5__","node","row","check","inline","disabled","tag","cssModule","FormGroup","Tag","attributes","classes","1053","createDesc","1054","1055","exec","1056","IObject","defined","1057","store","uid","USE_SYMBOL","1067","isObject","1078","bitmap","enumerable","configurable","writable","1079","$keys","enumBugKeys","keys","1080","1081","id","px","random","toString","1082","propertyIsEnumerable","1083","1106","_extends3","_interopRequireDefault","_getPrototypeOf2","_classCallCheck3","_createClass3","_possibleConstructorReturn3","_inherits3","_react2","_propTypes2","_lottieWeb2","obj","__esModule","Lottie","_React$Component","_ref","_temp","_this","_ret","_len","args","_key","handleClickToPause","anim","isPaused","play","pause","_props","options","eventListeners","loop","autoplay","animationData","rendererSettings","segments","container","el","renderer","loadAnimation","registerEvents","deRegisterEvents","destroy","isStopped","stop","playSegments","setSpeed","setDirection","speed","direction","_this2","eventListener","addEventListener","eventName","callback","_this3","removeEventListener","_this4","_props2","width","height","ariaRole","ariaLabel","isClickToPauseDisabled","title","getSize","initial","lottieStyles","overflow","margin","outline","style","onClickHandler","ref","role","aria-label","tabIndex","arrayOf","isRequired","oneOfType","number","1107","fn","val","valueOf","1108","1109","ceil","floor","isNaN","1110","shared","1111","SHARED","mode","copyright","1112","split","1113","getOwnPropertySymbols","1114","1115","dPs","IE_PROTO","Empty","_createDict","iframeDocument","iframe","display","appendChild","src","contentWindow","document","write","lt","Properties","1116","def","TAG","stat","1117","1118","LIBRARY","wksExt","$Symbol","charAt","1163","useForm","regenerator","regenerator_default","asyncGeneratorStep","gen","_next","_throw","arg","info","_asyncToGenerator","err","toConsumableArray","slicedToArray","react","isUndefined","isNullOrUndefined","isObjectType","isHTMLElement","nodeType","Node","ELEMENT_NODE","VALIDATION_MODE","UNDEFINED","EVENTS","INPUT_VALIDATION_RULES","REGEX_IS_DEEP_PROP","REGEX_IS_PLAIN_PROP","REGEX_PROP_NAME","REGEX_ESCAPE_CHAR","attachEventListeners","field","handleChange","isRadioOrCheckbox","isKey","test","stringToPath","replace","quote","set","path","tempPath","lastIndex","newValue","objValue","react_hook_form_es_transformToNestObject","data","entries","reduce","previous","_ref2","_ref3","filter","Boolean","focusErrorField","fields","fieldErrors","focus","removeAllEventListeners","validateWithStateUpdate","isRadioInput","element","isCheckBoxInput","isDetached","HTMLElement","DOCUMENT_NODE","parentNode","isEmptyObject","castPath","react_hook_form_es_parent","updatePath","baseGet","array","start","end","baseSlice","unset","paths","childObject","previousObjRef","slice","objectRef","currentPaths","currentPathsLength","item","baseUnset","findRemovedFieldAndRemoveListener","forceDelete","_field$ref","mutationWatcher","fieldValue","_ref4","disconnect","defaultReturn","getRadioValue","_ref5","_ref5$ref","checked","isFileInput","isMultipleSelect","isEmptyString","defaultResult","validResult","getCheckboxValue","values","_ref8","map","_ref9","_options$0$ref","getFieldValue","files","_ref6","selected","_ref7","isString","getFieldsValues","search","output","isSearchString","isSearchArray","isNest","nest","_loop","startsWith","find","isSameError","_ref12","types","message","objectA","objectB","_ref10","_ref11","react_hook_form_es_compareObject","shouldUpdateWithError","_ref13","errors","validFields","fieldsWithValidation","isFieldValid","isFormValid","currentFieldError","existFieldError","isManual","isRegex","RegExp","getValueAndMessage","validationData","isPureObject","isFunction","isBoolean","getValidateError","isStringValue","react_hook_form_es_appendErrors","validateAllFieldCriteria","validateField","_ref15","mark","_callee2","fieldsRef","_ref14","_ref14$ref","required","maxLength","minLength","min","max","pattern","validate","isRadio","isCheckBox","isEmpty","appendErrorsCurry","getMinMaxMessage","_ref16","requiredValue","requiredMessage","exceedMax","exceedMin","_getValueAndMessage","maxValue","maxMessage","_getValueAndMessage2","minValue","minMessage","valueNumber","valueDate","_getValueAndMessage3","maxLengthValue","maxLengthMessage","_getValueAndMessage4","minLengthValue","minLengthMessage","inputLength","_exceedMax","_exceedMin","_getValueAndMessage5","patternValue","patternMessage","validateRef","validateError","validateFunctions","validationResult","wrap","_context2","prev","current","bind","maxType","minType","abrupt","valueAsNumber","parseFloat","valueAsDate","Date","_ref18","_callee","_ref17","_ref19","validateResult","_context","t2","t3","t1","t0","_x4","_x5","_x6","_x","_x2","_x3","react_hook_form_es_parseErrorSchema","inner","_ref20","validateWithSchema","_x7","_x8","_x9","_x10","_x11","_validateWithSchema","_callee10","validationSchema","validationResolver","context","_context10","abortEarly","getDefaultValue","defaultValues","flatArray","list","isPrimitive","react_hook_form_es_getPath","getPath","getInnerPath","pathWithIndex","_ref24","_ref25","getPath$1","parentPath","assignWatchFields","fieldValues","fieldName","watchFields","combinedDefaultValues","watchFieldArray","add","skipValidation","_ref26","hasError","isBlurEvent","isOnSubmit","isReValidateOnSubmit","isOnBlur","isReValidateOnBlur","isSubmitted","getFieldValueByName","results","getIsFieldsDifferent","referenceArray","differenceArray","isMatch","dataA","dataB","isMatchFieldArrayName","searchName","react_hook_form_es_isNameInFieldArray","names","isFileListObject","FileList","onDomRemove","onDetachCallback","observer","MutationObserver","observe","childList","subtree","modeChecker","isOnChange","useRef","useState","useCallback","useEffect","_ref27","_ref27$mode","_ref27$reValidateMode","reValidateMode","validationContext","_ref27$defaultValues","_ref27$submitFocusErr","submitFocusError","validateCriteriaMode","errorsRef","touchedFieldsRef","watchFieldArrayRef","watchFieldsRef","Set","dirtyFieldsRef","fieldsWithValidationRef","validFieldsRef","isValidRef","defaultRenderValuesRef","defaultValuesRef","isUnMount","isWatchAllRef","isSubmittedRef","isDirtyRef","submitCountRef","isSubmittingRef","handleChangeRef","resetFieldArrayFunctionRef","validationContextRef","fieldArrayNamesRef","_useState","_useState2","_useRef$current","isWindowUndefined","shouldValidateCallback","isWeb","isProxyEnabled","readFormStateRef","dirty","dirtyFields","submitCount","touched","isSubmitting","_useRef$current2","reRender","shouldRenderBaseOnError","shouldRender","skipReRender","shouldReRender","delete","setFieldValue","rawValue","_ref28","radioRef","selectRef","includes","_ref29","checkboxRef","setDirty","isFieldArray","previousDirtyFieldsLength","size","isDirty","fieldArrayName","substring","isDirtyChanged","setDirtyAndTouchedFields","setInternalValueBatch","parentFieldName","isValueArray","setInternalValue","executeValidation","_ref30","_callee3","_context3","_x12","_x13","executeSchemaValidation","_ref31","_callee4","payload","_yield$validateWithSc","previousFormIsValid","_context4","_x14","triggerValidation","_ref33","_callee6","_context6","all","_ref34","_callee5","_context5","_x16","every","_x15","isFieldWatched","preFixName","setValue","valueOrShouldValidate","shouldValidate","isMultiple","isStringFieldName","_ref36","_callee7","_ref35","currentError","shouldSkipValidation","shouldUpdateDirty","shouldUpdateState","_yield$validateWithSc2","_errors","_context7","_x17","validateSchemaIsValid","_ref38","removeFieldEventListener","removeFieldEventListenerAndRef","clearError","setInternalError","_ref39","preventRender","setError","watch","fieldNames","unregister","registerFieldsRef","validateOptions","warn","fieldAttributes","currentField","isEmptyDefaultValue","_ref40","fieldToAttachListener","register","refOrValidationOptions","validationOptions","handleSubmit","_ref41","_callee9","_yield$validateWithSc3","_yield$Object$values$","_errors2","_values","_context9","preventDefault","persist","_ref42","_callee8","resolvedPrevious","fieldError","_context8","_x19","_x20","finish","_x18","resetRefs","reset","_i","_Object$values","closest","_a","resetFieldArray","getValues","outputValues","formState","control","Proxy","prop","1172","propIsEnumerable","ToObject","ownEnumerableKeys","getOwnPropertyNames","from","to","1173","aFunction","that","1174","1175","is","1176","toIObject","arrayIndexOf","1177","cof","1178","1179","toObject","ObjectProto","getPrototypeOf","1180","_iterator2","_symbol2","_typeof","1181","redefine","Iterators","$iterCreate","setToStringTag","ITERATOR","BUGGY","KEYS","VALUES","returnThis","Base","NAME","Constructor","DEFAULT","IS_SET","FORCED","methods","IteratorPrototype","getMethod","kind","proto","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","1182","1183","hiddenKeys","1184","pIE","gOPD","getOwnPropertyDescriptor","1271","react_default","prop_types","prop_types_default","tslib_es6","COMMON_MIME_TYPES","Map","toFileWithPath","file","lastIndexOf","ext","toLowerCase","withMimeType","webkitRelativePath","FILES_TO_IGNORE","fromEvent","evt","dataTransfer","getDataTransferFiles","getInputFiles","fromList","dt","items","toFilePromises","noIgnoredFiles","flatten","webkitGetAsEntry","fromDataTransferItem","entry","isDirectory","fromDirEntry","acc","getAsFile","fwp","fromEntry","fromFileEntry","reader","createReader","readEntries","batch","err_1","fullPath","es","es_default","fileAccepted","accept","fileMatchSize","minSize","maxSize","isDefined","allFilesAccepted","multiple","isPropagationStopped","event","cancelBubble","isEvtWithFiles","some","onDocumentDragOver","isIe","userAgent","isEdge","isIeOrEdge","navigator","composeEventHandlers","fns","_len2","_key2","_toConsumableArray","arr","arr2","_arrayWithoutHoles","iter","_iterableToArray","_nonIterableSpread","_slicedToArray","_arrayWithHoles","_arr","_n","_d","_e","_s","_iterableToArrayLimit","_nonIterableRest","ownKeys","enumerableOnly","symbols","sym","_objectSpread","_defineProperty","getOwnPropertyDescriptors","defineProperties","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","Dropzone","_useDropzone","_ref2$disabled","_ref2$getFilesFromEve","getFilesFromEvent","_ref2$maxSize","Infinity","_ref2$minSize","_ref2$multiple","onDragEnter","onDragLeave","onDragOver","onDrop","onDropAccepted","onDropRejected","onFileDialogCancel","_ref2$preventDropOnDo","preventDropOnDocument","_ref2$noClick","noClick","_ref2$noKeyboard","noKeyboard","_ref2$noDrag","noDrag","_ref2$noDragEventsBub","noDragEventsBubbling","rootRef","inputRef","_useReducer2","reducer","initialState","dispatch","isFocused","isFileDialogActive","draggedFiles","openFileDialog","click","onWindowFocus","setTimeout","onKeyDownCb","isEqualNode","keyCode","onFocusCb","onBlurCb","onClickCb","dragTargetsRef","onDocumentDrop","contains","onDragEnterCb","stopPropagation","isDragActive","onDragOverCb","dropEffect","_unused","onDragLeaveCb","targets","onDropCb","acceptedFiles","rejectedFiles","splice","composeHandler","composeKeyboardHandler","composeDragHandler","getRootProps","_ref3$refKey","refKey","rest","onInputElementClick","getInputProps","_ref4$refKey","autoComplete","fileCount","isDragAccept","isDragReject","useDropzone","1297","1298","emptyObject","_invariant","condition","argIndex","framesToPop","MIXINS_KEY","ReactComponent","injectedMixins","ReactClassInterface","mixins","statics","contextTypes","childContextTypes","getDefaultProps","getChildContext","componentWillMount","componentDidMount","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","componentWillUnmount","UNSAFE_componentWillMount","UNSAFE_componentWillReceiveProps","UNSAFE_componentWillUpdate","updateComponent","ReactClassStaticInterface","getDerivedStateFromProps","RESERVED_SPEC_KEYS","_displayName","_mixins","mixSpecIntoComponent","_childContextTypes","_contextTypes","_getDefaultProps","createMergedResultFunction","_propTypes","_statics","property","mixStaticSpecIntoComponent","autobind","validateMethodOverride","isAlreadyDefined","specPolicy","ReactClassMixin","spec","autoBindPairs","__reactAutoBindPairs","isReactClassMethod","createChainedFunction","mergeIntoWithNoDuplicateKeys","one","two","bindAutoBindMethod","component","method","IsMountedPreMixin","__isMounted","IsMountedPostMixin","replaceState","newState","enqueueReplaceState","isMounted","ReactClassComponent","pairs","autoBindKey","bindAutoBindMethods","refs","methodName","1299","viewComponents","days","months","years","1300","DateTimePickerDays","tableChildren","footer","renderFooter","colSpan","data-value","getDaysOfWeek","day","renderDays","_weekdaysMin","first","firstDayOfWeek","dow","isDisabled","dayProps","prevMonth","subtract","currentYear","currentMonth","weeks","renderDay","alwaysValidDate","daysInMonth","lastDay","isBefore","isSame","1301","DateTimePickerMonths","renderMonths","noOfDaysInMonth","rows","renderMonth","endOf","updateSelectedMonth","str","monthStrFixedLength","monthsShort","toUpperCase","1302","DateTimePickerYears","renderYears","noOfDaysInYear","renderYear","dayOfYear","updateSelectedYear","1303","DateTimePickerTime","calculateState","counters","daypart","renderCounter","onMouseDown","onStartClicking","onContextMenu","disableContextMenu","renderDayPart","updateMilli","renderHeader","milli","timer","increaseTimer","setInterval","mouseUpListener","clearTimeout","clearInterval","padValues","toggleDayPart","pad","increase","decrease","1304","IGNORE_CLASS_NAME","react__WEBPACK_IMPORTED_MODULE_0__","react_dom__WEBPACK_IMPORTED_MODULE_1__","isNodeFound","componentNode","ignoreClass","correspondingElement","classList","seed","passiveEventSupport","handlersMap","enabledInstances","touchEvents","getEventHandlerOptions","instance","handlerOptions","passive","WrappedComponent","config","_class","componentName","_Component","subClass","superClass","__outsideClickHandler","__clickOutsideHandlerProp","getInstance","__getComponentNode","setClickOutsideRef","enableOnClickOutside","_uid","noop","testPassiveEventSupport","events","eventTypes","excludeScrollbar","documentElement","clientWidth","clientX","clientHeight","clientY","findHighest","outsideClickIgnoreClass","disableOnClickOutside","getRef","instanceRef","_proto","isReactComponent","wrappedRef","getClass","1305","acceptedFilesArray","fileName","mimeType","baseMimeType","validType","trim","endsWith","1306","_assign2","1307","1308","1309","1310","1311","DESCRIPTORS","getKeys","gOPS","$assign","A","K","T","aLen","getSymbols","isEnum","1312","toLength","toAbsoluteIndex","IS_INCLUDES","$this","fromIndex","1313","toInteger","1314","1315","1316","1317","$getPrototypeOf","1318","fails","KEY","exp","1319","1320","_defineProperty2","descriptor","protoProps","staticProps","1321","1322","$Object","desc","1323","1324","_typeof2","_typeof3","ReferenceError","1325","1326","1327","$at","String","iterated","_t","point","1328","TO_STRING","pos","l","charCodeAt","1329","1330","1331","1332","TO_STRING_TAG","DOMIterables","Collection","1333","addToUnscopables","_k","Arguments","1334","1335","1336","1337","1338","META","$fails","wks","wksDefine","enumKeys","_create","gOPNExt","$GOPD","$GOPS","$DP","gOPN","$JSON","JSON","_stringify","stringify","HIDDEN","TO_PRIMITIVE","SymbolRegistry","AllSymbols","OPSymbols","USE_NATIVE","QObject","setter","findChild","setSymbolDesc","D","protoDesc","isSymbol","$defineProperty","$defineProperties","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","$getOwnPropertyNames","$getOwnPropertySymbols","IS_OP","$set","es6Symbols","wellKnownSymbols","for","keyFor","useSetter","useSimple","FAILS_ON_PRIMITIVES","replacer","$replacer","1339","setDesc","isExtensible","FREEZE","preventExtensions","setMeta","w","meta","NEED","fastKey","getWeak","onFreeze","1340","1341","1342","windowNames","getWindowNames","1343","1344","1345","1346","_setPrototypeOf2","_create2","1347","1348","1349","1350","buggy","1351","1352","1353","1354","__WEBPACK_AMD_DEFINE_RESULT__","root","svgNS","locationHref","initialDefaultFrame","subframeEnabled","expressionsPlugin","isSafari","cachedColors","bm_rounder","round","bm_rnd","bm_pow","pow","bm_sqrt","sqrt","bm_abs","abs","bm_floor","bm_max","bm_min","blitter","BMMath","ProjectInterface","propertyNames","len","absArr","createSizedArray","defaultCurveSegments","degToRads","PI","roundCorner","roundValues","flag","styleDiv","position","top","left","transformOrigin","webkitTransformOrigin","backfaceVisibility","webkitBackfaceVisibility","transformStyle","webkitTransformStyle","mozTransformStyle","BMEnterFrameEvent","currentTime","totalTime","frameMultiplier","BMCompleteEvent","BMCompleteLoopEvent","totalLoops","currentLoop","BMSegmentStartEvent","firstFrame","totalFrames","BMDestroyEvent","BMRenderFrameErrorEvent","nativeError","BMConfigErrorEvent","BMAnimationConfigErrorEvent","createElementID","_count","HSVtoRGB","h","q","RGBtoHSV","addSaturationToRGB","color","offset","hsv","addBrightnessToRGB","addHueToRGB","rgbToHex","hex","colorMap","BaseEvent","triggerEvent","_cbs","createTypedArray","Uint8ClampedArray","Float32Array","Int16Array","createNS","createElementNS","createTag","DynamicPropertyContainer","addDynamicProperty","dynamicProperties","_isAnimated","iterateDynamicProperties","_mdf","getValue","initDynamicPropertyContainer","getBlendMode","blendModeEnums","0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","Matrix","_cos","cos","_sin","sin","_tan","tan","_rnd","rotate","angle","mCos","mSin","rotateX","rotateY","rotateZ","shear","sx","sy","skew","ax","ay","skewFromAxis","scale","sz","setTransform","translate","tx","ty","transform","a2","b2","c2","d2","e2","f2","g2","h2","i2","j2","k2","l2","m2","n2","o2","p2","_p","_identityCalculated","a1","b1","c1","d1","e1","f1","g1","h1","i1","j1","k1","l1","m1","n1","o1","p1","isIdentity","_identity","equals","matr","cloneFromProps","applyToPoint","x","z","applyToX","applyToY","applyToZ","getInverseMatrix","determinant","inverseMatrix","inversePoint","pt","applyToPointArray","inversePoints","pts","retPts","applyToTriplePoints","pt1","pt2","pt3","p0","p4","p5","p12","p13","applyToPointStringified","toCSS","cssValue","roundMatrixProperty","to2dCSS","pool","math","startdenom","significance","mask","ARC4","keylen","count","copy","depth","typ","mixkey","smear","stringseed","tostring","fromCharCode","shortseed","entropy","Uint8Array","crypto","msCrypto","getRandomValues","browser","plugins","screen","autoseed","arc4","prng","int32","quick","double","pass","is_math_call","BezierFactory","ob","getBezierEasing","nm","beziers","bezEasing","BezierEasing","kSampleStepSize","float32ArraySupported","aA1","aA2","calcBezier","aT","getSlope","points","_mSampleValues","_precomputed","mX1","mY1","mX2","mY2","_precompute","_getTForX","_calcSampleValues","aX","mSampleValues","intervalStart","currentSample","kSplineTableSize","guessForT","initialSlope","aGuessT","currentSlope","newtonRaphsonIterate","aA","aB","currentX","currentT","binarySubdivide","extendPrototype","sources","destination","sourcePrototype","attr","getDescriptor","createProxyFunction","ProxyFunction","bezFunction","pointOnLine2D","x1","y1","x2","y2","x3","y3","det1","getBezierLength","pt4","ptCoord","perc","ptDistance","curveSegments","addedLength","lastPoint","lengthData","bezier_length_pool","newElement","percents","lengths","BezierData","segmentLength","PointData","partial","partialLength","buildBezierData","storedData","bezierName","bezierData","getDistancePerc","initPos","lengthPos","lPerc","dir","bezier_segment_points","getSegmentsLength","shapeData","segmentsLength","segments_length_pool","closed","pathV","pathO","pathI","_length","totalLength","getNewSegment","startPerc","endPerc","u0","u1","u0u0u0","t0u0u0_3","t0t0u0_3","t0t0t0","u0u0u1","t0u0u1_3","t0t0u1_3","t0t0t1","u0u1u1","t0u1u1_3","t0t1u1_3","t0t1t1","u1u1u1","t1u1u1_3","t1t1u1_3","t1t1t1","getPointInSegment","percent","pointOnLine3D","z1","z2","z3","diffDist","dist1","dist2","dist3","lastTime","vendors","requestAnimationFrame","cancelAnimationFrame","currTime","getTime","timeToCall","bez","dataFunctionManager","completeLayers","layers","comps","fontManager","layerData","jLen","kLen","completed","tt","td","hasMask","maskProps","masksProperties","convertPathsToAbsoluteValues","findCompLayers","refId","completeShapes","shapes","singleShape","__used","parse","ks","checkVersion","minimum","animVersionString","animVersion","checkText","minimumVersion","updateTextLayer","textLayer","documentData","iterateLayers","assets","checkChars","chars","pathData","__converted","checkColors","iterateShapes","checkShapes","cl","moduleOb","completeData","__complete","dataManager","FontManager","emptyChar","combinedCharacters","setUpNode","font","family","fontFamily","innerText","fontSize","fontVariant","fontStyle","fontWeight","letterSpacing","offsetWidth","familyArray","enabledFamilies","trimFontOptions","parent","createHelper","fontData","tHelper","setAttribute","fFamily","fStyle","fWeight","textContent","fClass","getContext","Font","fonts","typekitLoaded","isLoaded","initTime","now","setIsLoadedBinded","setIsLoaded","checkLoadedFontsBinded","checkLoadedFonts","getCombinedCharacterCodes","addChars","found","ch","addFonts","defs","fontArr","_pendingFonts","loadedSelector","shouldLoadFont","loaded","monoCase","sansCase","fPath","fOrigin","origin","querySelectorAll","href","rel","sc","helper","cache","getCharData","char","getFontByName","fName","measureText","fontName","doubleSize","getComputedTextLength","singleSize","loadedCount","removeChild","PropertyFactory","initFrame","math_abs","interpolateValue","frameNum","caching","offsetTime","propType","pv","keyData","nextKeyData","fnc","iterationIndex","keyframes","endValue","nextKeyTime","keyTime","ti","ind","__fnct","segmentPerc","distanceInLine","lastFrame","_lastKeyframeIndex","_lastAddedLength","_lastPoint","outX","outY","inX","inY","keyValue","sh","quat","qx","qy","qz","qw","heading","atan2","attitude","asin","bank","quaternionToEuler","omega","cosom","sinom","scale0","scale1","az","aw","bx","by","bz","bw","acos","slerp","createQuaternion","c3","s1","s2","s3","getValueAtCurrentTime","comp","renderedFrame","endTime","_caching","renderResult","setVValue","multipliedValue","mult","processEffectsSequence","elem","globalData","frameId","effectsSequence","lock","_isFirstFrame","finalValue","kf","addEffect","effectFunction","ValueProperty","vel","MultiDimensionalProperty","KeyframedValueProperty","st","KeyframedMultidimensionalProperty","arrLen","getProp","TransformPropertyFactory","defaultVector","TransformProperty","pre","appliedTransformations","py","pz","rx","ry","rz","or","sk","sa","_isDirty","applyToMatrix","mat","forceRender","precalculateMatrix","autoOriented","v1","v2","frameRate","getValueAtTime","autoOrient","_addDynamicProperty","getTransformProperty","ShapePath","_maxLength","setPathData","setLength","point_pool","doubleArrayLength","setXYAt","setTripleAt","vX","vY","oX","oY","iX","iY","reverse","newPath","vertices","outPoints","inPoints","init","cnt","ShapePropertyFactory","interpolateShape","previousValue","keyPropS","keyPropE","isHold","vertexValue","interpolateShapeCurrentTime","resetShape","localShapeCollection","shape1","shape2","shapesEqual","shape_pool","releaseShapes","addShape","ShapeProperty","shapeCollection_pool","newShapeCollection","KeyframedShapeProperty","EllShapeProperty","cPoint","convertEllToPath","s0","_cw","_v","StarShapeProperty","ir","convertToPath","convertStarToPath","convertPolygonToPath","os","rad","roundness","perimSegment","numPts","longFlag","longRad","shortRad","longRound","shortRound","longPerimSegment","shortPerimSegment","currentAng","ox","oy","RectShapeProperty","convertRectToPath","v0","getShapeProp","getConstructorFunction","getKeyframedConstructorFunction","ShapeModifiers","modifiers","registerModifier","getModifier","ShapeModifier","TrimModifier","RoundCornersModifier","PuckerAndBloatModifier","RepeaterModifier","ShapeCollection","DashProperty","dataProps","dashStr","dashArray","dashoffset","GradientProperty","cLength","_cmdf","_omdf","_collapsable","checkCollapsable","_hasOpacity","initModifierProperties","addShapeToModifier","shape","setAsAnimated","processKeys","sValue","eValue","pathsData","calculateShapeEdges","shapeLength","totalModifierLength","segmentOb","shapeSegments","shapeS","shapeE","releasePathsData","release","processShapes","shapePaths","totalShapeLength","edges","newShapesData","addShapes","lastShape","addPaths","newPaths","addSegment","shapePath","newShape","addSegmentFromArray","shapeSegment","currentLengthData","segmentCount","segment","rd","processPath","cloned_path","currentV","currentI","currentO","closerV","distance","newPosPerc","centerPoint","pathLength","tr","so","eo","pMatrix","rMatrix","sMatrix","tMatrix","matrix","applyTransforms","inv","scaleX","scaleY","elemsData","_currentCopies","_elements","_groups","unshift","resetElements","elements","_processed","cloneElements","newElements","changeGroupRender","renderFlag","_render","itemsTransform","cont","copies","group","ix","reloadShapes","offsetModulo","roundOffset","pProps","rProps","sProps","iteration","mProps","comparePoints","buildShapeString","pathNodes","_o","shapeString","audioControllerFactory","AudioController","audioFactory","audios","_volume","_isMuted","addAudio","audio","resume","setRate","rateValue","createAudio","assetPath","Howl","isPlaying","seek","playing","rate","setVolume","setAudioFactory","_updateVolume","mute","unmute","getVolume","volume","ImagePreloader","proxyImage","canvas","fillStyle","fillRect","imageLoaded","loadedAssets","totalImages","imagesLoadedCb","getAssetsPath","assetData","assetsPath","original_path","imagePath","u","_imageLoaded","images","loadAssets","cb","_createImageData","setAssetsPath","setPath","getImage","img","createImgData","crossOrigin","createImageData","setAttributeNS","setCacheType","featureSupport","maskType","filtersFactory","createFilter","filId","fil","createAlphaToLuminanceFilter","feColorMatrix","assetLoader","formatResponse","xhr","response","responseText","load","errorCallback","XMLHttpRequest","responseType","send","onreadystatechange","readyState","status","TextAnimatorProperty","textData","renderType","_hasMaskedPath","_frameId","_textData","_renderType","_elem","_animatorsData","_pathData","_moreOptions","alignment","renderedLetters","lettersChangedFlag","TextAnimatorDataProperty","animatorProps","defaultData","textAnimator_animatables","sw","fc","fh","fs","fb","TextSelectorProp","getTextSelectorProp","LetterProps","TextProperty","keysIndex","canResize","minimumFontSize","currentData","ascent","boxWidth","defaultBoxWidth","justifyOffset","lh","lineWidths","ls","of","ps","fillColorAnim","strokeColorAnim","strokeWidthAnim","yOffset","finalSize","finalText","finalLineHeight","copyData","searchProperty","completeTextData","searchProperties","maskManager","getMaskProperty","getMeasures","xPos","yPos","pathInfo","currentLength","currentPoint","pointInd","segmentInd","prevPoint","tanAngle","animators","matrixHelper","mHelper","renderedLettersCount","letters","tLength","pi","letterValue","yOff","firstLine","offf","xPathPos","yPathPos","elemOpacity","letterSw","letterSc","letterFc","letterO","initPathPos","initSegmentInd","initPointInd","currentLine","letterM","letterP","defaultPropsArray","animatorJustifyOffset","animatorFirstCharOffset","justifyOffsetMult","isNewLine","getMult","anIndexes","totalChars","line","extra","an","animatorOffset","rot","atan","updated","setCurrentData","searchKeyframes","getKeyframeValue","_finalValue","currentValue","currentIndex","textKeys","buildFinalText","text","charCode","charactersArray","substr","newLineFlag","charData","anchorGrouping","currentSize","currentPos","lineWidth","maxLineWidth","styles","trackingOffset","currentHeight","boxHeight","lastSpaceIndex","currentChar","uncollapsedSpaces","animatorData","letterData","based","indexes","rn","newInd","currentInd","updateDocumentData","newData","dData","recalculate","canResizeFont","_canResize","setMinimumFontSize","_fontValue","_currentTextLength","finalS","finalE","xe","ne","textProperty","easer","tot","newCharsFlag","divisor","pool_factory","initialLength","_release","_clone","pooling","cloned","shapeCollection","BaseRenderer","SVGRenderer","animationItem","svgElement","titleElement","titleId","description","descElement","descId","maskElement","layerElement","renderConfig","preserveAspectRatio","imagePreserveAspectRatio","progressiveLoad","hideOnTransparent","viewBoxOnly","viewBoxSize","focusable","filterSize","pendingElements","destroyed","rendererType","CanvasRenderer","clearCanvas","dpr","wrapper","devicePixelRatio","currentGlobalAlpha","contextData","CVContextData","transformMat","HybridRenderer","threeDElements","camera","supports3d","MaskElement","viewData","solidPath","rect","expansor","feMorph","properties","currentMasks","layerId","maskRef","filterID","expan","lastPath","lastOperator","filterId","lastRadius","createLayerSolidPath","invRect","drawPath","maskedElement","addRenderableComponent","HierarchyElement","FrameElement","TransformElement","RenderableElement","RenderableDOMElement","ProcessedElement","SVGStyleData","level","lvl","hd","pElem","msElem","SVGShapeData","transformers","caches","lStr","SVGTransformData","SVGStrokeStyleData","styleOb","SVGFillStyleData","SVGGradientFillStyleData","initGradientData","SVGGradientStrokeStyleData","ShapeGroupData","prevViewData","gr","checkLayers","num","ip","buildItem","checkPendingElements","createItem","layer","createImage","createComp","createSolid","createNull","createShape","createText","createCamera","AudioElement","buildAllItems","includeLayers","newLayers","setProjectInterface","pInterface","projectInterface","initItems","buildElementParenting","parentName","hierarchy","setAsParent","setHierarchy","addPendingElement","searchExtraCompositions","xt","initExpressions","registerComposition","setupGlobalData","animData","fontsContainer","getAssetData","imageLoader","imagePreloader","audioController","fr","compSize","NullElement","SVGShapeElement","SVGTextElement","IImageElement","SVGCompElement","ISolidElement","configAnimation","maskId","updateContainerSize","appendElementInPos","setMatte","checkParenting","renderFrame","currentFrame","prepareFrame","getBaseElement","nextElement","insertBefore","show","CVShapeElement","CVTextElement","CVImageElement","CVCompElement","CVSolidElement","ctxTransform","cProps","cTr","trProps","canvasContext","ctxOpacity","globalAlpha","cO","restore","save","actionFlag","cArrPos","duplicate","saved","savedOp","blendMode","popped","mozTransformOrigin","transformCanvas","isDashed","elementWidth","elementHeight","elementRel","animationRel","offsetHeight","par","fillType","beginPath","closePath","clip","clearRect","newDOMElement","ddd","addTo3dContainer","nextDOMElement","nextLayer","getThreeDContainerByPos","HShapeElement","HTextElement","HCameraElement","HImageElement","HCompElement","HSolidElement","startPos","endPos","perspectiveElem","createThreeDContainer","webkitTransform","threeDContainerData","build3dContainers","lastThreeDContainerData","currentContainer","resizerElem","svg","setup","cWidth","cHeight","perspective","webkitPerspective","floatingContainer","isFirstFrame","finalMat","finalTransform","mProp","getMaskelement","pathString","pathShapeValue","initHierarchy","_isParent","prepareProperties","isVisible","initTransform","_matMdf","_opMdf","ao","renderTransform","globalToLocal","transforms","ptNew","initRenderable","isInRange","hidden","isTransparent","renderableComponents","removeRenderableComponent","prepareRenderableFrame","checkLayerLimits","checkTransparency","renderRenderable","sourceRectAtTime","getLayerSize","initElement","initBaseData","initRendererElement","createContainerElements","createRenderableComponents","createContent","baseElement","renderElement","renderInnerContent","innerElem","destroyBaseElement","stops","setGradientData","setGradientOpacity","pathElement","gradientId","gfill","gf","cst","opacityId","opFill","ms","ost","SVGElementsRenderer","_identityMatrix","_matrixHelper","renderContentTransform","styleData","itemData","renderPath","pathStringTransformed","redraw","iterations","lLen","renderFill","styleElem","renderGradientStroke","renderGradient","renderStroke","hasOpacity","attr1","attr2","cValues","oValues","ang","dist","createRenderFunction","ShapeTransformManager","sequences","sequenceList","transform_key_count","CVShapeData","transformsManager","styledShapes","styledShape","addTransformSequence","trNodes","BaseElement","SVGBaseElement","IShapeElement","ITextElement","ICompElement","sourceRect","_isPlaying","_canPlay","_currentTime","tm","_placeholder","textSpans","shapesData","stylesList","shapeModifiers","itemsData","processedElements","animatedContents","SVGTintFilter","filterManager","matrixFilter","effectElements","feMergeNode","feMerge","SVGFillFilter","SVGGaussianBlurEffect","feGaussianBlur","SVGStrokeEffect","initialized","SVGTritoneFilter","feComponentTransfer","feFuncR","feFuncG","feFuncB","SVGProLevelsFilter","createFeFunc","feFuncA","feFuncRComposed","feFuncGComposed","feFuncBComposed","SVGDropShadowEffect","feOffset","feFlood","feComposite","originalNodeAdded","sequence","processSequence","processSequences","getNewKey","checkMasks","layerInterface","LayerExpressionInterface","registerMaskInterface","effectsInterface","EffectsExpressionInterface","createEffectsInterface","registerEffectsInterface","compInterface","CompExpressionInterface","shapeInterface","ShapeExpressionInterface","content","textInterface","TextExpressionInterface","setBlendMode","blendModeValue","bm","sr","effectsManager","EffectsManager","getType","matteElement","transformedElement","_sizeChanged","gg","layerElementParent","masker","maskGroup","maskGrouper","feCTr","feFunc","alphaRect","ln","cp","clipId","cpGroup","renderableEffectsManager","SVGEffects","addShapeToModifiers","isShapeInAnimatedModifiers","isAnimatedWithShape","renderModifiers","lcEnum","ljEnum","searchProcessedElement","addProcessedElement","textAnimator","buildNewText","createPathShape","shapeStr","_fontSize","applyTextPropertiesToMatrix","lineNumber","buildColor","colorData","emptyProp","timeRemapped","setElements","elems","getElements","destroyElements","pr","volumeValue","textContainer","buildTextContents","textArray","textContents","currentTextContent","tSpan","usesGlyphs","cachedSpansLength","tElement","justify","textBox","getBBox","bbox","renderedLetter","textSpan","initSecondaryElement","identityMatrix","buildExpressionInterface","searchShapes","filterUniqueShapes","tempShapes","areAnimated","setShapesAsAnimated","createStyleElement","elementData","lc","lj","ml","addToAnimatedContents","createGroupElement","createTransformElement","transformProperty","createShapeElement","ownTransformers","setElementStyles","currentTransform","processedPos","ownStyles","ownModifiers","renderShape","animatedContent","colorBlack","colorWhite","opacity","sigma","dimensions","sigmaX","sigmaY","edgeMode","initialize","groupPath","elemChildren","childNodes","removeAttribute","pathMasker","dasharrayValue","getTotalLength","lineLength","units","color1","color2","color3","tableR","tableG","tableB","getTableValue","inputBlack","inputWhite","gamma","outputBlack","outputWhite","colorValue","table","outputDelta","inputDelta","col","_svgMatteSymbols","SVGMatte3Effect","filterElem","ef","filters","CVBaseElement","CVMaskElement","hasMasks","stroke","fill","currentRender","sWidth","fValue","CVEffects","HBaseElement","shapesContainer","currentBBox","textPaths","isMasked","pe","_prevMat","HEffects","findSymbol","replaceInParent","symbolId","nextChild","useElem","setElementAsMask","symbol","newLength","currentSavedOp","createElements","globalCompositeOperation","hideElement","showElement","forceRealStack","widthCrop","heightCrop","imgW","imgH","imgRel","canvasRel","drawImage","parentMatrix","moveTo","lineTo","bezierCurveTo","transformHelper","dashResetter","preTransforms","co","wi","da","do","addTransformToStyleList","removeTransformFromStyleList","closeStyles","ownTransforms","_shouldRender","renderShapeTransform","parentTransform","groupTransform","drawLayer","nodes","currentStyle","coOp","strokeStyle","grd","lineCap","lineJoin","miterLimit","setLineDash","lineDashOffset","isMain","renderGradientFill","renderStyledShape","shapeNodes","groupTransformMat","createLinearGradient","createRadialGradient","addColorStop","hasFill","hasStroke","commands","pathArr","lastFill","lastStroke","lastStrokeW","checkBlendMode","tg","addEffects","backgroundColor","_createBaseContainerElements","_renderShapeFrame","shapeCont","getTransformedPoint","calculateShapeBoundingBox","boundingBox","vPoint","oPoint","nextIPoint","nextVPoint","checkBounds","getBoundsOfCurve","bounds","shapeBoundingBox","xMax","right","yMax","bottom","tempBoundingBox","p3","b2ac","calculateF","calculateBoundingBox","currentBoxContains","box","changed","compW","compH","innerElemStyle","strokeWidth","lineHeight","tParent","tCont","textPath","Image","imageElem","mTransf","diffVector","mag","lookDir","lookLengthOnXZ","m_rotationX","m_rotationY","hasMatrixChanged","animationManager","registeredAnimations","playingAnimationsNum","_stopped","_isFrozen","removeElement","ev","animItem","animation","subtractPlayingCount","registerAnimation","AnimationItem","setupAnimation","setData","addPlayingCount","activate","nowTime","elapsedTime","advanceTime","params","setParams","togglePause","searchAnimations","standalone","animElements","getElementsByClassName","getElementsByTagName","div","resize","goToAndStop","isFrame","unfreeze","getRegisteredAnimations","animations","currentRawFrame","frameMult","playSpeed","playDirection","playCount","animationID","timeCompleted","segmentPos","isSubframeEnabled","_idle","_completedLoop","animType","autoloadSegments","initialSegment","trigger","wrapperAttributes","getNamedItem","prerender","loadNextSegment","shift","segmentPath","loadSegments","imagesLoaded","checkLoaded","preloadImages","updaFrameModifier","waitForFontsLoaded","triggerConfigError","gotoFrame","setSubframe","triggerRenderFrameError","setCurrentRawFrameValue","frameModifier","goToAndPlay","nextValue","_isComplete","checkSegments","adjustSegment","setSegment","pendingFrame","forceFlag","resetSegments","onEnterFrame","onLoopComplete","onComplete","onSegmentStart","onDestroy","getDuration","onError","Expressions","stackCount","registers","pushExpression","popExpression","releaseInstances","registerExpressionProperty","expression","ExpressionManager","$bm_isInstanceOfArray","isNumerable","tOfV","Number","$bm_neg","tOfA","lenA","retArr","easeInBez","easeOutBez","easeInOutBez","sum","tOfB","lenB","sub","mul","mod","$bm_sum","$bm_sub","$bm_mul","$bm_div","$bm_mod","clamp","mm","radiansToDegrees","radians_to_degrees","degreesToRadians","degrees_to_radians","helperLengthArray","arr1","normalize","vec","rgbToHsl","hue2rgb","hslToRgb","linear","tMin","tMax","value1","value2","_tMin","rnd","createPath","inTangents","outTangents","inVertexPoint","outVertexPoint","arrPlaceholder","initiateExpression","needsVelocity","_needsRandom","elemType","$bm_transform","effect","thisProperty","valueAtTime","frameDuration","displayStartTime","inPoint","outPoint","loopIn","loop_in","loopOut","loop_out","smooth","toWorld","fromWorld","fromComp","toComp","fromCompToSurface","rotation","anchorPoint","thisLayer","thisComp","velocityAtTime","__expression_functions","scoped_bm_rt","xf","eval","expression_function","numKeys","active","wiggle","freq","amp","addedAmps","periods","loopInDuration","duration","loopOutDuration","getVelocityAtTime","velocity","textIndex","textTotal","selectorValue","lookAt","elem1","elem2","fVec","pitch","easeOut","val1","val2","applyEase","easeIn","ease","nearestKey","framesToTime","frames","fps","timeToFrames","seedRandom","seedrandom","randSeed","posterizeTime","framesPerSecond","hasParent","executeExpression","_value","frameExpressionId","expressionHelpers","searchExpressions","getSpeedAtTime","delta","_cachingAtTime","getStaticValueAtTime","setGroupProperty","propertyGroup","durationFlag","cycleDuration","firstKeyFrame","ret","lastKeyFrame","initV","endV","repeats","lastValue","nextLastValue","firstValue","nextFirstValue","samples","sampleValue","sampleFrequency","getTransformValueAtTime","_transformCachingAtTime","anchor","skewAxis","rotationZ","rotationY","rotationX","orientation","positionX","positionY","positionZ","getTransformStaticValueAtTime","propertyGetProp","propertyIndex","ShapePropertyConstructorFunction","KeyframedShapePropertyConstructorFunction","ShapeExpressions","isClosed","pointOnPath","_segmentsLength","accumulatedLength","initIndex","endIndex","vectorOnPath","vectorType","xLength","yLength","magnitude","tangentOnPath","normalOnPath","shapeValue","propertyGetShapeProp","trims","getExpressionValue","calculateExpression","isKeyframed","hasExpressions","ShapePathInterface","interfaceFunction","_propertyGroup","propertyGroupFactory","PropertyInterface","_name","mn","parentPropertyGroup","propertyName","iterateElements","groupInterfaceFactory","fillInterfaceFactory","strokeInterfaceFactory","trimInterfaceFactory","ellipseInterfaceFactory","starInterfaceFactory","rectInterfaceFactory","roundedInterfaceFactory","repeaterInterfaceFactory","interfaces","numProperties","transformInterface","transformInterfaceFactory","cix","contentsInterfaceFactory","np","ExpressionPropertyInterface","_dashPropertyGroup","dashOb","addPropertyToDashOb","dash","outerRadius","outerRoundness","innerRoundness","innerRadius","radius","_interfaceFunction","_prevValue","_sourceText","_thisLayerFunction","sourceText","stringValue","toWorldMat","sampleImage","anchorPointDescriptor","TransformExpressionInterface","anchor_point","startTime","MaskManagerInterface","effects","pixelAspect","numLayers","_thisFunction","xRotation","yRotation","xPosition","yPosition","zPosition","_transformFactory","_pz","_px","_py","compositions","_thisProjectFunction","createGroupInterface","groupInterface","createValueInterface","enabled","en","expressionProperty","effectsData","MaskInterface","_mask","_data","_masksInterfaces","defaultUnidimensionalValue","defaultMultidimensionalValue","completeProperty","expressionValue","valueProp","speedAtTime","defaultGetter","UnidimensionalPropertyInterface","arrValue","MultidimensionalPropertyInterface","SliderEffect","AngleEffect","ColorEffect","PointEffect","LayerIndexEffect","MaskIndexEffect","CheckboxEffect","NoValueEffect","effectItem","GroupEffect","TextExpressionSelectorProp","getValueProxy","total","propertyGetTextProp","eff","lottie","setLocationHref","setSubframeRendering","setQuality","inBrowser","installPlugin","plugin","getFactory","checkReady","readyStateCheckInterval","getQueryVariable","variable","vars","queryString","pair","decodeURIComponent","__getFactory","scripts","myScript"],"mappings":"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"},"input":"(this[\"webpackJsonpfalcon-react\"] = this[\"webpackJsonpfalcon-react\"] || []).push([[0],{\n\n/***/ 1028:\n/***/ (function(module, exports) {\n\nvar core = module.exports = {\n  version: '2.6.11'\n};\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n\n/***/ }),\n\n/***/ 1034:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar assign = __webpack_require__(1172),\n    PropTypes = __webpack_require__(1),\n    createClass = __webpack_require__(1036),\n    moment = __webpack_require__(144),\n    React = __webpack_require__(2),\n    CalendarContainer = __webpack_require__(1299),\n    onClickOutside = __webpack_require__(1304).default;\n\nvar viewModes = Object.freeze({\n  YEARS: 'years',\n  MONTHS: 'months',\n  DAYS: 'days',\n  TIME: 'time'\n});\nvar TYPES = PropTypes;\nvar Datetime = createClass({\n  displayName: 'DateTime',\n  propTypes: {\n    // value: TYPES.object | TYPES.string,\n    // defaultValue: TYPES.object | TYPES.string,\n    // viewDate: TYPES.object | TYPES.string,\n    onFocus: TYPES.func,\n    onBlur: TYPES.func,\n    onChange: TYPES.func,\n    onViewModeChange: TYPES.func,\n    onNavigateBack: TYPES.func,\n    onNavigateForward: TYPES.func,\n    locale: TYPES.string,\n    utc: TYPES.bool,\n    displayTimeZone: TYPES.string,\n    input: TYPES.bool,\n    // dateFormat: TYPES.string | TYPES.bool,\n    // timeFormat: TYPES.string | TYPES.bool,\n    inputProps: TYPES.object,\n    timeConstraints: TYPES.object,\n    viewMode: TYPES.oneOf([viewModes.YEARS, viewModes.MONTHS, viewModes.DAYS, viewModes.TIME]),\n    isValidDate: TYPES.func,\n    open: TYPES.bool,\n    strictParsing: TYPES.bool,\n    closeOnSelect: TYPES.bool,\n    closeOnTab: TYPES.bool\n  },\n  getInitialState: function getInitialState() {\n    this.checkTZ(this.props);\n    var state = this.getStateFromProps(this.props);\n    if (state.open === undefined) state.open = !this.props.input;\n    state.currentView = this.props.dateFormat ? this.props.viewMode || state.updateOn || viewModes.DAYS : viewModes.TIME;\n    return state;\n  },\n  parseDate: function parseDate(date, formats) {\n    var parsedDate;\n    if (date && typeof date === 'string') parsedDate = this.localMoment(date, formats.datetime);else if (date) parsedDate = this.localMoment(date);\n    if (parsedDate && !parsedDate.isValid()) parsedDate = null;\n    return parsedDate;\n  },\n  getStateFromProps: function getStateFromProps(props) {\n    var formats = this.getFormats(props),\n        date = props.value || props.defaultValue,\n        selectedDate,\n        viewDate,\n        updateOn,\n        inputValue;\n    selectedDate = this.parseDate(date, formats);\n    viewDate = this.parseDate(props.viewDate, formats);\n    viewDate = selectedDate ? selectedDate.clone().startOf('month') : viewDate ? viewDate.clone().startOf('month') : this.localMoment().startOf('month');\n    updateOn = this.getUpdateOn(formats);\n    if (selectedDate) inputValue = selectedDate.format(formats.datetime);else if (date.isValid && !date.isValid()) inputValue = '';else inputValue = date || '';\n    return {\n      updateOn: updateOn,\n      inputFormat: formats.datetime,\n      viewDate: viewDate,\n      selectedDate: selectedDate,\n      inputValue: inputValue,\n      open: props.open\n    };\n  },\n  getUpdateOn: function getUpdateOn(formats) {\n    if (formats.date.match(/[lLD]/)) {\n      return viewModes.DAYS;\n    } else if (formats.date.indexOf('M') !== -1) {\n      return viewModes.MONTHS;\n    } else if (formats.date.indexOf('Y') !== -1) {\n      return viewModes.YEARS;\n    }\n\n    return viewModes.DAYS;\n  },\n  getFormats: function getFormats(props) {\n    var formats = {\n      date: props.dateFormat || '',\n      time: props.timeFormat || ''\n    },\n        locale = this.localMoment(props.date, null, props).localeData();\n\n    if (formats.date === true) {\n      formats.date = locale.longDateFormat('L');\n    } else if (this.getUpdateOn(formats) !== viewModes.DAYS) {\n      formats.time = '';\n    }\n\n    if (formats.time === true) {\n      formats.time = locale.longDateFormat('LT');\n    }\n\n    formats.datetime = formats.date && formats.time ? formats.date + ' ' + formats.time : formats.date || formats.time;\n    return formats;\n  },\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    var formats = this.getFormats(nextProps),\n        updatedState = {};\n\n    if (nextProps.value !== this.props.value || formats.datetime !== this.getFormats(this.props).datetime) {\n      updatedState = this.getStateFromProps(nextProps);\n    }\n\n    if (updatedState.open === undefined) {\n      if (typeof nextProps.open !== 'undefined') {\n        updatedState.open = nextProps.open;\n      } else if (this.props.closeOnSelect && this.state.currentView !== viewModes.TIME) {\n        updatedState.open = false;\n      } else {\n        updatedState.open = this.state.open;\n      }\n    }\n\n    if (nextProps.viewMode !== this.props.viewMode) {\n      updatedState.currentView = nextProps.viewMode;\n    }\n\n    if (nextProps.locale !== this.props.locale) {\n      if (this.state.viewDate) {\n        var updatedViewDate = this.state.viewDate.clone().locale(nextProps.locale);\n        updatedState.viewDate = updatedViewDate;\n      }\n\n      if (this.state.selectedDate) {\n        var updatedSelectedDate = this.state.selectedDate.clone().locale(nextProps.locale);\n        updatedState.selectedDate = updatedSelectedDate;\n        updatedState.inputValue = updatedSelectedDate.format(formats.datetime);\n      }\n    }\n\n    if (nextProps.utc !== this.props.utc || nextProps.displayTimeZone !== this.props.displayTimeZone) {\n      if (nextProps.utc) {\n        if (this.state.viewDate) updatedState.viewDate = this.state.viewDate.clone().utc();\n\n        if (this.state.selectedDate) {\n          updatedState.selectedDate = this.state.selectedDate.clone().utc();\n          updatedState.inputValue = updatedState.selectedDate.format(formats.datetime);\n        }\n      } else if (nextProps.displayTimeZone) {\n        if (this.state.viewDate) updatedState.viewDate = this.state.viewDate.clone().tz(nextProps.displayTimeZone);\n\n        if (this.state.selectedDate) {\n          updatedState.selectedDate = this.state.selectedDate.clone().tz(nextProps.displayTimeZone);\n          updatedState.inputValue = updatedState.selectedDate.tz(nextProps.displayTimeZone).format(formats.datetime);\n        }\n      } else {\n        if (this.state.viewDate) updatedState.viewDate = this.state.viewDate.clone().local();\n\n        if (this.state.selectedDate) {\n          updatedState.selectedDate = this.state.selectedDate.clone().local();\n          updatedState.inputValue = updatedState.selectedDate.format(formats.datetime);\n        }\n      }\n    }\n\n    if (nextProps.viewDate !== this.props.viewDate) {\n      updatedState.viewDate = moment(nextProps.viewDate);\n    }\n\n    this.checkTZ(nextProps);\n    this.setState(updatedState);\n  },\n  onInputChange: function onInputChange(e) {\n    var value = e.target === null ? e : e.target.value,\n        localMoment = this.localMoment(value, this.state.inputFormat),\n        update = {\n      inputValue: value\n    };\n\n    if (localMoment.isValid() && !this.props.value) {\n      update.selectedDate = localMoment;\n      update.viewDate = localMoment.clone().startOf('month');\n    } else {\n      update.selectedDate = null;\n    }\n\n    return this.setState(update, function () {\n      return this.props.onChange(localMoment.isValid() ? localMoment : this.state.inputValue);\n    });\n  },\n  onInputKey: function onInputKey(e) {\n    if (e.which === 9 && this.props.closeOnTab) {\n      this.closeCalendar();\n    }\n  },\n  showView: function showView(view) {\n    var me = this;\n    return function () {\n      me.state.currentView !== view && me.props.onViewModeChange(view);\n      me.setState({\n        currentView: view\n      });\n    };\n  },\n  setDate: function setDate(type) {\n    var me = this,\n        nextViews = {\n      month: viewModes.DAYS,\n      year: viewModes.MONTHS\n    };\n    return function (e) {\n      me.setState({\n        viewDate: me.state.viewDate.clone()[type](parseInt(e.target.getAttribute('data-value'), 10)).startOf(type),\n        currentView: nextViews[type]\n      });\n      me.props.onViewModeChange(nextViews[type]);\n    };\n  },\n  subtractTime: function subtractTime(amount, type, toSelected) {\n    var me = this;\n    return function () {\n      me.props.onNavigateBack(amount, type);\n      me.updateTime('subtract', amount, type, toSelected);\n    };\n  },\n  addTime: function addTime(amount, type, toSelected) {\n    var me = this;\n    return function () {\n      me.props.onNavigateForward(amount, type);\n      me.updateTime('add', amount, type, toSelected);\n    };\n  },\n  updateTime: function updateTime(op, amount, type, toSelected) {\n    var update = {},\n        date = toSelected ? 'selectedDate' : 'viewDate';\n    update[date] = this.state[date].clone()[op](amount, type);\n    this.setState(update);\n  },\n  allowedSetTime: ['hours', 'minutes', 'seconds', 'milliseconds'],\n  setTime: function setTime(type, value) {\n    var index = this.allowedSetTime.indexOf(type) + 1,\n        state = this.state,\n        date = (state.selectedDate || state.viewDate).clone(),\n        nextType; // It is needed to set all the time properties\n    // to not to reset the time\n\n    date[type](value);\n\n    for (; index < this.allowedSetTime.length; index++) {\n      nextType = this.allowedSetTime[index];\n      date[nextType](date[nextType]());\n    }\n\n    if (!this.props.value) {\n      this.setState({\n        selectedDate: date,\n        inputValue: date.format(state.inputFormat)\n      });\n    }\n\n    this.props.onChange(date);\n  },\n  updateSelectedDate: function updateSelectedDate(e, close) {\n    var target = e.currentTarget,\n        modifier = 0,\n        viewDate = this.state.viewDate,\n        currentDate = this.state.selectedDate || viewDate,\n        date;\n\n    if (target.className.indexOf('rdtDay') !== -1) {\n      if (target.className.indexOf('rdtNew') !== -1) modifier = 1;else if (target.className.indexOf('rdtOld') !== -1) modifier = -1;\n      date = viewDate.clone().month(viewDate.month() + modifier).date(parseInt(target.getAttribute('data-value'), 10));\n    } else if (target.className.indexOf('rdtMonth') !== -1) {\n      date = viewDate.clone().month(parseInt(target.getAttribute('data-value'), 10)).date(currentDate.date());\n    } else if (target.className.indexOf('rdtYear') !== -1) {\n      date = viewDate.clone().month(currentDate.month()).date(currentDate.date()).year(parseInt(target.getAttribute('data-value'), 10));\n    }\n\n    date.hours(currentDate.hours()).minutes(currentDate.minutes()).seconds(currentDate.seconds()).milliseconds(currentDate.milliseconds());\n\n    if (!this.props.value) {\n      var open = !(this.props.closeOnSelect && close);\n\n      if (!open) {\n        this.props.onBlur(date);\n      }\n\n      this.setState({\n        selectedDate: date,\n        viewDate: date.clone().startOf('month'),\n        inputValue: date.format(this.state.inputFormat),\n        open: open\n      });\n    } else {\n      if (this.props.closeOnSelect && close) {\n        this.closeCalendar();\n      }\n    }\n\n    this.props.onChange(date);\n  },\n  openCalendar: function openCalendar(e) {\n    if (!this.state.open) {\n      this.setState({\n        open: true\n      }, function () {\n        this.props.onFocus(e);\n      });\n    }\n  },\n  closeCalendar: function closeCalendar() {\n    this.setState({\n      open: false\n    }, function () {\n      this.props.onBlur(this.state.selectedDate || this.state.inputValue);\n    });\n  },\n  handleClickOutside: function handleClickOutside() {\n    if (this.props.input && this.state.open && this.props.open === undefined && !this.props.disableCloseOnClickOutside) {\n      this.setState({\n        open: false\n      }, function () {\n        this.props.onBlur(this.state.selectedDate || this.state.inputValue);\n      });\n    }\n  },\n  localMoment: function localMoment(date, format, props) {\n    props = props || this.props;\n    var m = null;\n\n    if (props.utc) {\n      m = moment.utc(date, format, props.strictParsing);\n    } else if (props.displayTimeZone) {\n      m = moment.tz(date, format, props.displayTimeZone);\n    } else {\n      m = moment(date, format, props.strictParsing);\n    }\n\n    if (props.locale) m.locale(props.locale);\n    return m;\n  },\n  checkTZ: function checkTZ(props) {\n    var con = console;\n\n    if (props.displayTimeZone && !this.tzWarning && !moment.tz) {\n      this.tzWarning = true;\n      con && con.error('react-datetime: displayTimeZone prop with value \"' + props.displayTimeZone + '\" is used but moment.js timezone is not loaded.');\n    }\n  },\n  componentProps: {\n    fromProps: ['value', 'isValidDate', 'renderDay', 'renderMonth', 'renderYear', 'timeConstraints'],\n    fromState: ['viewDate', 'selectedDate', 'updateOn'],\n    fromThis: ['setDate', 'setTime', 'showView', 'addTime', 'subtractTime', 'updateSelectedDate', 'localMoment', 'handleClickOutside']\n  },\n  getComponentProps: function getComponentProps() {\n    var me = this,\n        formats = this.getFormats(this.props),\n        props = {\n      dateFormat: formats.date,\n      timeFormat: formats.time\n    };\n    this.componentProps.fromProps.forEach(function (name) {\n      props[name] = me.props[name];\n    });\n    this.componentProps.fromState.forEach(function (name) {\n      props[name] = me.state[name];\n    });\n    this.componentProps.fromThis.forEach(function (name) {\n      props[name] = me[name];\n    });\n    return props;\n  },\n  overrideEvent: function overrideEvent(handler, action) {\n    if (!this.overridenEvents) {\n      this.overridenEvents = {};\n    }\n\n    if (!this.overridenEvents[handler]) {\n      var me = this;\n\n      this.overridenEvents[handler] = function (e) {\n        var result;\n\n        if (me.props.inputProps && me.props.inputProps[handler]) {\n          result = me.props.inputProps[handler](e);\n        }\n\n        if (result !== false) {\n          action(e);\n        }\n      };\n    }\n\n    return this.overridenEvents[handler];\n  },\n  render: function render() {\n    // TODO: Make a function or clean up this code,\n    // logic right now is really hard to follow\n    var className = 'rdt' + (this.props.className ? Array.isArray(this.props.className) ? ' ' + this.props.className.join(' ') : ' ' + this.props.className : ''),\n        children = [];\n\n    if (this.props.input) {\n      var finalInputProps = assign({\n        type: 'text',\n        className: 'form-control',\n        value: this.state.inputValue\n      }, this.props.inputProps, {\n        onClick: this.overrideEvent('onClick', this.openCalendar),\n        onFocus: this.overrideEvent('onFocus', this.openCalendar),\n        onChange: this.overrideEvent('onChange', this.onInputChange),\n        onKeyDown: this.overrideEvent('onKeyDown', this.onInputKey)\n      });\n\n      if (this.props.renderInput) {\n        children = [React.createElement('div', {\n          key: 'i'\n        }, this.props.renderInput(finalInputProps, this.openCalendar, this.closeCalendar))];\n      } else {\n        children = [React.createElement('input', assign({\n          key: 'i'\n        }, finalInputProps))];\n      }\n    } else {\n      className += ' rdtStatic';\n    }\n\n    if (this.props.open || this.props.open === undefined && this.state.open) className += ' rdtOpen';\n    return React.createElement(ClickableWrapper, {\n      className: className,\n      onClickOut: this.handleClickOutside\n    }, children.concat(React.createElement('div', {\n      key: 'dt',\n      className: 'rdtPicker'\n    }, React.createElement(CalendarContainer, {\n      view: this.state.currentView,\n      viewProps: this.getComponentProps()\n    }))));\n  }\n});\nvar ClickableWrapper = onClickOutside(createClass({\n  render: function render() {\n    return React.createElement('div', {\n      className: this.props.className\n    }, this.props.children);\n  },\n  handleClickOutside: function handleClickOutside(e) {\n    this.props.onClickOut(e);\n  }\n}));\nDatetime.defaultProps = {\n  className: '',\n  defaultValue: '',\n  inputProps: {},\n  input: true,\n  onFocus: function onFocus() {},\n  onBlur: function onBlur() {},\n  onChange: function onChange() {},\n  onViewModeChange: function onViewModeChange() {},\n  onNavigateBack: function onNavigateBack() {},\n  onNavigateForward: function onNavigateForward() {},\n  timeFormat: true,\n  timeConstraints: {},\n  dateFormat: true,\n  strictParsing: true,\n  closeOnSelect: false,\n  closeOnTab: true,\n  utc: false\n}; // Make moment accessible through the Datetime class\n\nDatetime.moment = moment;\nmodule.exports = Datetime;\n\n/***/ }),\n\n/***/ 1036:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n\nvar React = __webpack_require__(2);\n\nvar factory = __webpack_require__(1298);\n\nif (typeof React === 'undefined') {\n  throw Error('create-react-class could not find the React object. If you are using script tags, ' + 'make sure that React is being loaded before create-react-class.');\n} // Hack to grab NoopUpdateQueue from isomorphic React\n\n\nvar ReactNoopUpdateQueue = new React.Component().updater;\nmodule.exports = factory(React.Component, React.isValidElement, ReactNoopUpdateQueue);\n\n/***/ }),\n\n/***/ 1037:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return __extends; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return _assign; });\n/* unused harmony export __rest */\n/* unused harmony export __decorate */\n/* unused harmony export __param */\n/* unused harmony export __metadata */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return __awaiter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return __generator; });\n/* unused harmony export __createBinding */\n/* unused harmony export __exportStar */\n/* unused harmony export __values */\n/* unused harmony export __read */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return __spread; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return __spreadArrays; });\n/* unused harmony export __await */\n/* unused harmony export __asyncGenerator */\n/* unused harmony export __asyncDelegator */\n/* unused harmony export __asyncValues */\n/* unused harmony export __makeTemplateObject */\n/* unused harmony export __importStar */\n/* unused harmony export __importDefault */\n/* unused harmony export __classPrivateFieldGet */\n/* unused harmony export __classPrivateFieldSet */\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\nvar _extendStatics = function extendStatics(d, b) {\n  _extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    }\n  };\n\n  return _extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  _extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\n\nfunction __rest(s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\nfunction __decorate(decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\nfunction __param(paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n}\nfunction __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\nfunction __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\nfunction __generator(thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n}\nvar __createBinding = Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n};\nfunction __exportStar(m, o) {\n  for (var p in m) {\n    if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n  }\n}\nfunction __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n      m = s && o[s],\n      i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function next() {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\nfunction __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n}\nfunction __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++) {\n    ar = ar.concat(__read(arguments[i]));\n  }\n\n  return ar;\n}\nfunction __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n}\n;\nfunction __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\nfunction __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []),\n      i,\n      q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n    return this;\n  }, i;\n\n  function verb(n) {\n    if (g[n]) i[n] = function (v) {\n      return new Promise(function (a, b) {\n        q.push([n, v, a, b]) > 1 || resume(n, v);\n      });\n    };\n  }\n\n  function resume(n, v) {\n    try {\n      step(g[n](v));\n    } catch (e) {\n      settle(q[0][3], e);\n    }\n  }\n\n  function step(r) {\n    r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);\n  }\n\n  function fulfill(value) {\n    resume(\"next\", value);\n  }\n\n  function reject(value) {\n    resume(\"throw\", value);\n  }\n\n  function settle(f, v) {\n    if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]);\n  }\n}\nfunction __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) {\n    throw e;\n  }), verb(\"return\"), i[Symbol.iterator] = function () {\n    return this;\n  }, i;\n\n  function verb(n, f) {\n    i[n] = o[n] ? function (v) {\n      return (p = !p) ? {\n        value: __await(o[n](v)),\n        done: n === \"return\"\n      } : f ? f(v) : v;\n    } : f;\n  }\n}\nfunction __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator],\n      i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n    return this;\n  }, i);\n\n  function verb(n) {\n    i[n] = o[n] && function (v) {\n      return new Promise(function (resolve, reject) {\n        v = o[n](v), settle(resolve, reject, v.done, v.value);\n      });\n    };\n  }\n\n  function settle(resolve, reject, d, v) {\n    Promise.resolve(v).then(function (v) {\n      resolve({\n        value: v,\n        done: d\n      });\n    }, reject);\n  }\n}\nfunction __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n}\n;\n\nvar __setModuleDefault = Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n};\n\nfunction __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n}\nfunction __importDefault(mod) {\n  return mod && mod.__esModule ? mod : {\n    default: mod\n  };\n}\nfunction __classPrivateFieldGet(receiver, privateMap) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to get private field on non-instance\");\n  }\n\n  return privateMap.get(receiver);\n}\nfunction __classPrivateFieldSet(receiver, privateMap, value) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to set private field on non-instance\");\n  }\n\n  privateMap.set(receiver, value);\n  return value;\n}\n\n/***/ }),\n\n/***/ 1038:\n/***/ (function(module, exports) {\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self // eslint-disable-next-line no-new-func\n: Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n\n/***/ }),\n\n/***/ 1039:\n/***/ (function(module, exports, __webpack_require__) {\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !__webpack_require__(1055)(function () {\n  return Object.defineProperty({}, 'a', {\n    get: function get() {\n      return 7;\n    }\n  }).a != 7;\n});\n\n/***/ }),\n\n/***/ 1044:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(1038);\n\nvar core = __webpack_require__(1028);\n\nvar ctx = __webpack_require__(1173);\n\nvar hide = __webpack_require__(1053);\n\nvar has = __webpack_require__(1046);\n\nvar PROTOTYPE = 'prototype';\n\nvar $export = function $export(type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && has(exports, key)) continue; // export native or passed\n\n    out = own ? target[key] : source[key]; // prevent global pollution for namespaces\n\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key] // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global) // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? function (C) {\n      var F = function F(a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0:\n              return new C();\n\n            case 1:\n              return new C(a);\n\n            case 2:\n              return new C(a, b);\n          }\n\n          return new C(a, b, c);\n        }\n\n        return C.apply(this, arguments);\n      };\n\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F; // make static versions for prototype methods\n    }(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out; // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out; // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n}; // type bitmap\n\n\n$export.F = 1; // forced\n\n$export.G = 2; // global\n\n$export.S = 4; // static\n\n$export.P = 8; // proto\n\n$export.B = 16; // bind\n\n$export.W = 32; // wrap\n\n$export.U = 64; // safe\n\n$export.R = 128; // real proto method for `library`\n\nmodule.exports = $export;\n\n/***/ }),\n\n/***/ 1045:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar anObject = __webpack_require__(1067);\n\nvar IE8_DOM_DEFINE = __webpack_require__(1174);\n\nvar toPrimitive = __webpack_require__(1107);\n\nvar dP = Object.defineProperty;\nexports.f = __webpack_require__(1039) ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) {\n    /* empty */\n  }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n\n/***/ }),\n\n/***/ 1046:\n/***/ (function(module, exports) {\n\nvar hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n\n/***/ }),\n\n/***/ 1052:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(6);\n/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(2);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(1);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(5);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(3);\n\n\n\n\n\n\nvar propTypes = {\n  children: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.node,\n  row: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.bool,\n  check: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.bool,\n  inline: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.bool,\n  disabled: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.bool,\n  tag: _utils__WEBPACK_IMPORTED_MODULE_5__[\"tagPropType\"],\n  className: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string,\n  cssModule: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar FormGroup = function FormGroup(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      row = props.row,\n      disabled = props.disabled,\n      check = props.check,\n      inline = props.inline,\n      Tag = props.tag,\n      attributes = Object(_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(props, [\"className\", \"cssModule\", \"row\", \"disabled\", \"check\", \"inline\", \"tag\"]);\n\n  var classes = Object(_utils__WEBPACK_IMPORTED_MODULE_5__[\"mapToCssModules\"])(classnames__WEBPACK_IMPORTED_MODULE_4___default()(className, row ? 'row' : false, check ? 'form-check' : 'form-group', check && inline ? 'form-check-inline' : false, check && disabled ? 'disabled' : false), cssModule);\n\n  if (Tag === 'fieldset') {\n    attributes.disabled = disabled;\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Tag, Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({}, attributes, {\n    className: classes\n  }));\n};\n\nFormGroup.propTypes = propTypes;\nFormGroup.defaultProps = defaultProps;\n/* harmony default export */ __webpack_exports__[\"a\"] = (FormGroup);\n\n/***/ }),\n\n/***/ 1053:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar dP = __webpack_require__(1045);\n\nvar createDesc = __webpack_require__(1078);\n\nmodule.exports = __webpack_require__(1039) ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n\n/***/ }),\n\n/***/ 1054:\n/***/ (function(module, exports) {\n\nmodule.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n/***/ }),\n\n/***/ 1055:\n/***/ (function(module, exports) {\n\nmodule.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n\n/***/ }),\n\n/***/ 1056:\n/***/ (function(module, exports, __webpack_require__) {\n\n// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = __webpack_require__(1177);\n\nvar defined = __webpack_require__(1108);\n\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n\n/***/ }),\n\n/***/ 1057:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar store = __webpack_require__(1111)('wks');\n\nvar uid = __webpack_require__(1081);\n\nvar Symbol = __webpack_require__(1038).Symbol;\n\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] = USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n\n/***/ }),\n\n/***/ 1067:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isObject = __webpack_require__(1054);\n\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n\n/***/ }),\n\n/***/ 1078:\n/***/ (function(module, exports) {\n\nmodule.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n\n/***/ }),\n\n/***/ 1079:\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = __webpack_require__(1176);\n\nvar enumBugKeys = __webpack_require__(1112);\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n\n/***/ }),\n\n/***/ 1080:\n/***/ (function(module, exports) {\n\nmodule.exports = true;\n\n/***/ }),\n\n/***/ 1081:\n/***/ (function(module, exports) {\n\nvar id = 0;\nvar px = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n\n/***/ }),\n\n/***/ 1082:\n/***/ (function(module, exports) {\n\nexports.f = {}.propertyIsEnumerable;\n\n/***/ }),\n\n/***/ 1083:\n/***/ (function(module, exports, __webpack_require__) {\n\n// 7.1.13 ToObject(argument)\nvar defined = __webpack_require__(1108);\n\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n\n/***/ }),\n\n/***/ 1106:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = __webpack_require__(1306);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _getPrototypeOf = __webpack_require__(1315);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(1319);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(1320);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(1324);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(1346);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(2);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(1);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _lottieWeb = __webpack_require__(1354);\n\nvar _lottieWeb2 = _interopRequireDefault(_lottieWeb);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar Lottie = function (_React$Component) {\n  (0, _inherits3.default)(Lottie, _React$Component);\n\n  function Lottie() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, Lottie);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Lottie.__proto__ || (0, _getPrototypeOf2.default)(Lottie)).call.apply(_ref, [this].concat(args))), _this), _this.handleClickToPause = function () {\n      // The pause() method is for handling pausing by passing a prop isPaused\n      // This method is for handling the ability to pause by clicking on the animation\n      if (_this.anim.isPaused) {\n        _this.anim.play();\n      } else {\n        _this.anim.pause();\n      }\n    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  (0, _createClass3.default)(Lottie, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props = this.props,\n          options = _props.options,\n          eventListeners = _props.eventListeners;\n      var loop = options.loop,\n          autoplay = options.autoplay,\n          animationData = options.animationData,\n          rendererSettings = options.rendererSettings,\n          segments = options.segments;\n      this.options = {\n        container: this.el,\n        renderer: 'svg',\n        loop: loop !== false,\n        autoplay: autoplay !== false,\n        segments: segments !== false,\n        animationData: animationData,\n        rendererSettings: rendererSettings\n      };\n      this.options = (0, _extends3.default)({}, this.options, options);\n      this.anim = _lottieWeb2.default.loadAnimation(this.options);\n      this.registerEvents(eventListeners);\n    }\n  }, {\n    key: 'componentWillUpdate',\n    value: function componentWillUpdate(nextProps\n    /* , nextState */\n    ) {\n      /* Recreate the animation handle if the data is changed */\n      if (this.options.animationData !== nextProps.options.animationData) {\n        this.deRegisterEvents(this.props.eventListeners);\n        this.destroy();\n        this.options = (0, _extends3.default)({}, this.options, nextProps.options);\n        this.anim = _lottieWeb2.default.loadAnimation(this.options);\n        this.registerEvents(nextProps.eventListeners);\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      if (this.props.isStopped) {\n        this.stop();\n      } else if (this.props.segments) {\n        this.playSegments();\n      } else {\n        this.play();\n      }\n\n      this.pause();\n      this.setSpeed();\n      this.setDirection();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.deRegisterEvents(this.props.eventListeners);\n      this.destroy();\n      this.options.animationData = null;\n      this.anim = null;\n    }\n  }, {\n    key: 'setSpeed',\n    value: function setSpeed() {\n      this.anim.setSpeed(this.props.speed);\n    }\n  }, {\n    key: 'setDirection',\n    value: function setDirection() {\n      this.anim.setDirection(this.props.direction);\n    }\n  }, {\n    key: 'play',\n    value: function play() {\n      this.anim.play();\n    }\n  }, {\n    key: 'playSegments',\n    value: function playSegments() {\n      this.anim.playSegments(this.props.segments);\n    }\n  }, {\n    key: 'stop',\n    value: function stop() {\n      this.anim.stop();\n    }\n  }, {\n    key: 'pause',\n    value: function pause() {\n      if (this.props.isPaused && !this.anim.isPaused) {\n        this.anim.pause();\n      } else if (!this.props.isPaused && this.anim.isPaused) {\n        this.anim.pause();\n      }\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      this.anim.destroy();\n    }\n  }, {\n    key: 'registerEvents',\n    value: function registerEvents(eventListeners) {\n      var _this2 = this;\n\n      eventListeners.forEach(function (eventListener) {\n        _this2.anim.addEventListener(eventListener.eventName, eventListener.callback);\n      });\n    }\n  }, {\n    key: 'deRegisterEvents',\n    value: function deRegisterEvents(eventListeners) {\n      var _this3 = this;\n\n      eventListeners.forEach(function (eventListener) {\n        _this3.anim.removeEventListener(eventListener.eventName, eventListener.callback);\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var _props2 = this.props,\n          width = _props2.width,\n          height = _props2.height,\n          ariaRole = _props2.ariaRole,\n          ariaLabel = _props2.ariaLabel,\n          isClickToPauseDisabled = _props2.isClickToPauseDisabled,\n          title = _props2.title;\n\n      var getSize = function getSize(initial) {\n        var size = void 0;\n\n        if (typeof initial === 'number') {\n          size = initial + 'px';\n        } else {\n          size = initial || '100%';\n        }\n\n        return size;\n      };\n\n      var lottieStyles = (0, _extends3.default)({\n        width: getSize(width),\n        height: getSize(height),\n        overflow: 'hidden',\n        margin: '0 auto',\n        outline: 'none'\n      }, this.props.style);\n      var onClickHandler = isClickToPauseDisabled ? function () {\n        return null;\n      } : this.handleClickToPause;\n      return (// Bug with eslint rules https://github.com/airbnb/javascript/issues/1374\n        // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n        _react2.default.createElement('div', {\n          ref: function ref(c) {\n            _this4.el = c;\n          },\n          style: lottieStyles,\n          onClick: onClickHandler,\n          title: title,\n          role: ariaRole,\n          'aria-label': ariaLabel,\n          tabIndex: '0'\n        })\n      );\n    }\n  }]);\n  return Lottie;\n}(_react2.default.Component);\n\nexports.default = Lottie;\nLottie.propTypes = {\n  eventListeners: _propTypes2.default.arrayOf(_propTypes2.default.object),\n  options: _propTypes2.default.object.isRequired,\n  height: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]),\n  width: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]),\n  isStopped: _propTypes2.default.bool,\n  isPaused: _propTypes2.default.bool,\n  speed: _propTypes2.default.number,\n  segments: _propTypes2.default.arrayOf(_propTypes2.default.number),\n  direction: _propTypes2.default.number,\n  ariaRole: _propTypes2.default.string,\n  ariaLabel: _propTypes2.default.string,\n  isClickToPauseDisabled: _propTypes2.default.bool,\n  title: _propTypes2.default.string\n};\nLottie.defaultProps = {\n  eventListeners: [],\n  isStopped: false,\n  isPaused: false,\n  speed: 1,\n  ariaRole: 'button',\n  ariaLabel: 'animation',\n  isClickToPauseDisabled: false,\n  title: ''\n};\n\n/***/ }),\n\n/***/ 1107:\n/***/ (function(module, exports, __webpack_require__) {\n\n// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = __webpack_require__(1054); // instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\n\n\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\n/***/ }),\n\n/***/ 1108:\n/***/ (function(module, exports) {\n\n// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n\n/***/ }),\n\n/***/ 1109:\n/***/ (function(module, exports) {\n\n// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\n\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n\n/***/ }),\n\n/***/ 1110:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar shared = __webpack_require__(1111)('keys');\n\nvar uid = __webpack_require__(1081);\n\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n\n/***/ }),\n\n/***/ 1111:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar core = __webpack_require__(1028);\n\nvar global = __webpack_require__(1038);\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: __webpack_require__(1080) ? 'pure' : 'global',\n  copyright: '© 2019 Denis Pushkarev (zloirock.ru)'\n});\n\n/***/ }),\n\n/***/ 1112:\n/***/ (function(module, exports) {\n\n// IE 8- don't enum bug keys\nmodule.exports = 'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'.split(',');\n\n/***/ }),\n\n/***/ 1113:\n/***/ (function(module, exports) {\n\nexports.f = Object.getOwnPropertySymbols;\n\n/***/ }),\n\n/***/ 1114:\n/***/ (function(module, exports) {\n\nmodule.exports = {};\n\n/***/ }),\n\n/***/ 1115:\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = __webpack_require__(1067);\n\nvar dPs = __webpack_require__(1330);\n\nvar enumBugKeys = __webpack_require__(1112);\n\nvar IE_PROTO = __webpack_require__(1110)('IE_PROTO');\n\nvar Empty = function Empty() {\n  /* empty */\n};\n\nvar PROTOTYPE = 'prototype'; // Create object with fake `null` prototype: use iframe Object with cleared prototype\n\nvar _createDict = function createDict() {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = __webpack_require__(1175)('iframe');\n\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n\n  __webpack_require__(1331).appendChild(iframe);\n\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  _createDict = iframeDocument.F;\n\n  while (i--) {\n    delete _createDict[PROTOTYPE][enumBugKeys[i]];\n  }\n\n  return _createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null; // add \"__proto__\" for Object.getPrototypeOf polyfill\n\n    result[IE_PROTO] = O;\n  } else result = _createDict();\n\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n\n/***/ }),\n\n/***/ 1116:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar def = __webpack_require__(1045).f;\n\nvar has = __webpack_require__(1046);\n\nvar TAG = __webpack_require__(1057)('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, {\n    configurable: true,\n    value: tag\n  });\n};\n\n/***/ }),\n\n/***/ 1117:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports.f = __webpack_require__(1057);\n\n/***/ }),\n\n/***/ 1118:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(1038);\n\nvar core = __webpack_require__(1028);\n\nvar LIBRARY = __webpack_require__(1080);\n\nvar wksExt = __webpack_require__(1117);\n\nvar defineProperty = __webpack_require__(1045).f;\n\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, {\n    value: wksExt.f(name)\n  });\n};\n\n/***/ }),\n\n/***/ 1163:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* binding */ useForm; });\n\n// UNUSED EXPORTS: Controller, ErrorMessage, FormContext, useFieldArray, useFormContext\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(1297);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(48);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(23);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(17);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./node_modules/react-hook-form/dist/react-hook-form.es.js\n\n\n\n\n\n\n\n\nvar isUndefined = function isUndefined(val) {\n  return val === undefined;\n};\n\nvar isNullOrUndefined = function isNullOrUndefined(value) {\n  return value === null || isUndefined(value);\n};\n\nvar isArray = function isArray(value) {\n  return Array.isArray(value);\n};\n\nvar isObjectType = function isObjectType(value) {\n  return typeof value === 'object';\n};\n\nvar isObject = function isObject(value) {\n  return !isNullOrUndefined(value) && !isArray(value) && isObjectType(value);\n};\n\nvar isHTMLElement = function isHTMLElement(value) {\n  return isObject(value) && value.nodeType === Node.ELEMENT_NODE;\n};\n\nvar VALIDATION_MODE = {\n  onBlur: 'onBlur',\n  onChange: 'onChange',\n  onSubmit: 'onSubmit'\n};\nvar VALUE = 'value';\nvar UNDEFINED = 'undefined';\nvar EVENTS = {\n  BLUR: 'blur',\n  CHANGE: 'change',\n  INPUT: 'input'\n};\nvar INPUT_VALIDATION_RULES = {\n  max: 'max',\n  min: 'min',\n  maxLength: 'maxLength',\n  minLength: 'minLength',\n  pattern: 'pattern',\n  required: 'required',\n  validate: 'validate'\n};\nvar REGEX_IS_DEEP_PROP = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/;\nvar REGEX_IS_PLAIN_PROP = /^\\w*$/;\nvar REGEX_PROP_NAME = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\nvar REGEX_ESCAPE_CHAR = /\\\\(\\\\)?/g;\n\nfunction attachEventListeners(_ref) {\n  var field = _ref.field,\n      handleChange = _ref.handleChange,\n      isRadioOrCheckbox = _ref.isRadioOrCheckbox;\n  var ref = field.ref;\n\n  if (isHTMLElement(ref) && ref.addEventListener && handleChange) {\n    ref.addEventListener(isRadioOrCheckbox ? EVENTS.CHANGE : EVENTS.INPUT, handleChange);\n    ref.addEventListener(EVENTS.BLUR, handleChange);\n  }\n}\n\nvar isKey = function isKey(value) {\n  return !isArray(value) && (REGEX_IS_PLAIN_PROP.test(value) || !REGEX_IS_DEEP_PROP.test(value));\n};\n\nvar stringToPath = function stringToPath(string) {\n  var result = [];\n  string.replace(REGEX_PROP_NAME, function (match, number, quote, string) {\n    result.push(quote ? string.replace(REGEX_ESCAPE_CHAR, '$1') : number || match);\n  });\n  return result;\n};\n\nfunction set(object, path, value) {\n  var index = -1;\n  var tempPath = isKey(path) ? [path] : stringToPath(path);\n  var length = tempPath.length;\n  var lastIndex = length - 1;\n\n  while (++index < length) {\n    var key = tempPath[index];\n    var newValue = value;\n\n    if (index !== lastIndex) {\n      var objValue = object[key];\n      newValue = isObject(objValue) || isArray(objValue) ? objValue : !isNaN(tempPath[index + 1]) ? [] : {};\n    }\n\n    object[key] = newValue;\n    object = object[key];\n  }\n\n  return object;\n}\n\nvar react_hook_form_es_transformToNestObject = function transformToNestObject(data) {\n  return Object.entries(data).reduce(function (previous, _ref2) {\n    var _ref3 = Object(slicedToArray[\"a\" /* default */])(_ref2, 2),\n        key = _ref3[0],\n        value = _ref3[1];\n\n    if (!isKey(key)) {\n      set(previous, key, value);\n      return previous;\n    }\n\n    return Object.assign(Object.assign({}, previous), Object(defineProperty[\"a\" /* default */])({}, key, value));\n  }, {});\n};\n\nvar get = function get(obj, path, defaultValue) {\n  var result = path.split(/[,[\\].]+?/).filter(Boolean).reduce(function (result, key) {\n    return isNullOrUndefined(result) ? result : result[key];\n  }, obj);\n  return isUndefined(result) || result === obj ? obj[path] || defaultValue : result;\n};\n\nvar focusErrorField = function focusErrorField(fields, fieldErrors) {\n  for (var key in fields) {\n    if (get(fieldErrors, key)) {\n      var field = fields[key];\n\n      if (field) {\n        if (isHTMLElement(field.ref) && field.ref.focus) {\n          field.ref.focus();\n          break;\n        } else if (field.options) {\n          field.options[0].ref.focus();\n          break;\n        }\n      }\n    }\n  }\n};\n\nvar removeAllEventListeners = function removeAllEventListeners(ref, validateWithStateUpdate) {\n  if (isHTMLElement(ref) && ref.removeEventListener) {\n    ref.removeEventListener(EVENTS.INPUT, validateWithStateUpdate);\n    ref.removeEventListener(EVENTS.CHANGE, validateWithStateUpdate);\n    ref.removeEventListener(EVENTS.BLUR, validateWithStateUpdate);\n  }\n};\n\nvar isRadioInput = function isRadioInput(element) {\n  return !!element && element.type === 'radio';\n};\n\nvar isCheckBoxInput = function isCheckBoxInput(element) {\n  return !!element && element.type === 'checkbox';\n};\n\nfunction isDetached(element) {\n  if (!element) {\n    return true;\n  }\n\n  if (!(element instanceof HTMLElement) || element.nodeType === Node.DOCUMENT_NODE) {\n    return false;\n  }\n\n  return isDetached(element.parentNode);\n}\n\nvar isEmptyObject = function isEmptyObject(value) {\n  return isObject(value) && !Object.keys(value).length;\n};\n\nfunction castPath(value) {\n  return isArray(value) ? value : stringToPath(value);\n}\n\nfunction baseGet(object, path) {\n  var updatePath = isKey(path) ? [path] : castPath(path);\n  var length = path.length;\n  var index = 0;\n\n  while (index < length) {\n    object = isUndefined(object) ? index++ : object[updatePath[index++]];\n  }\n\n  return index == length ? object : undefined;\n}\n\nfunction baseSlice(array, start, end) {\n  var index = -1;\n  var length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : length + start;\n  }\n\n  end = end > length ? length : end;\n\n  if (end < 0) {\n    end += length;\n  }\n\n  length = start > end ? 0 : end - start;\n  var result = Array(length);\n\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n\n  return result;\n}\n\nfunction react_hook_form_es_parent(object, path) {\n  return path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n}\n\nfunction baseUnset(object, path) {\n  var updatePath = isKey(path) ? [path] : castPath(path);\n  var childObject = react_hook_form_es_parent(object, updatePath);\n  var key = updatePath[updatePath.length - 1];\n  var result = !(childObject != null) || delete childObject[key];\n  var previousObjRef = undefined;\n\n  for (var k = 0; k < updatePath.slice(0, -1).length; k++) {\n    var index = -1;\n    var objectRef = undefined;\n    var currentPaths = updatePath.slice(0, -(k + 1));\n    var currentPathsLength = currentPaths.length - 1;\n\n    if (k > 0) {\n      previousObjRef = object;\n    }\n\n    while (++index < currentPaths.length) {\n      var item = currentPaths[index];\n      objectRef = objectRef ? objectRef[item] : object[item];\n\n      if (currentPathsLength === index) {\n        if (isObject(objectRef) && isEmptyObject(objectRef)) {\n          previousObjRef ? delete previousObjRef[item] : delete object[item];\n        } else if (isArray(objectRef) && !objectRef.filter(function (data) {\n          return isObject(data) && !isEmptyObject(data);\n        }).length) {\n          delete previousObjRef[item];\n        }\n      }\n\n      previousObjRef = objectRef;\n    }\n  }\n\n  return result;\n}\n\nfunction unset(object, paths) {\n  paths.forEach(function (path) {\n    baseUnset(object, path);\n  });\n  return object;\n}\n\nfunction findRemovedFieldAndRemoveListener(fields, handleChange, field, forceDelete) {\n  if (!field) {\n    return;\n  }\n\n  var ref = field.ref,\n      _field$ref = field.ref,\n      name = _field$ref.name,\n      type = _field$ref.type,\n      mutationWatcher = field.mutationWatcher;\n\n  if (!type) {\n    delete fields[name];\n    return;\n  }\n\n  var fieldValue = fields[name];\n\n  if ((isRadioInput(ref) || isCheckBoxInput(ref)) && fieldValue) {\n    var options = fieldValue.options;\n\n    if (isArray(options) && options.length) {\n      options.forEach(function (_ref4, index) {\n        var ref = _ref4.ref,\n            mutationWatcher = _ref4.mutationWatcher;\n\n        if (ref && isDetached(ref) || forceDelete) {\n          removeAllEventListeners(ref, handleChange);\n\n          if (mutationWatcher) {\n            mutationWatcher.disconnect();\n          }\n\n          unset(options, [\"[\".concat(index, \"]\")]);\n        }\n      });\n\n      if (options && !options.filter(Boolean).length) {\n        delete fields[name];\n      }\n    } else {\n      delete fields[name];\n    }\n  } else if (isDetached(ref) || forceDelete) {\n    removeAllEventListeners(ref, handleChange);\n\n    if (mutationWatcher) {\n      mutationWatcher.disconnect();\n    }\n\n    delete fields[name];\n  }\n}\n\nvar defaultReturn = {\n  isValid: false,\n  value: ''\n};\n\nvar getRadioValue = function getRadioValue(options) {\n  return isArray(options) ? options.reduce(function (previous, _ref5) {\n    var _ref5$ref = _ref5.ref,\n        checked = _ref5$ref.checked,\n        value = _ref5$ref.value;\n    return checked ? {\n      isValid: true,\n      value: value\n    } : previous;\n  }, defaultReturn) : defaultReturn;\n};\n\nvar react_hook_form_es_getMultipleSelectValue = function getMultipleSelectValue(options) {\n  return Object(toConsumableArray[\"a\" /* default */])(options).filter(function (_ref6) {\n    var selected = _ref6.selected;\n    return selected;\n  }).map(function (_ref7) {\n    var value = _ref7.value;\n    return value;\n  });\n};\n\nvar isFileInput = function isFileInput(element) {\n  return !!element && element.type === 'file';\n};\n\nvar isMultipleSelect = function isMultipleSelect(element) {\n  return !!element && element.type === 'select-multiple';\n};\n\nvar isEmptyString = function isEmptyString(value) {\n  return value === '';\n};\n\nvar defaultResult = {\n  value: false,\n  isValid: false\n};\nvar validResult = {\n  value: true,\n  isValid: true\n};\n\nvar getCheckboxValue = function getCheckboxValue(options) {\n  if (isArray(options)) {\n    if (options.length > 1) {\n      var values = options.filter(function (_ref8) {\n        var checked = _ref8.ref.checked;\n        return checked;\n      }).map(function (_ref9) {\n        var value = _ref9.ref.value;\n        return value;\n      });\n      return {\n        value: values,\n        isValid: !!values.length\n      };\n    }\n\n    var _options$0$ref = options[0].ref,\n        checked = _options$0$ref.checked,\n        value = _options$0$ref.value,\n        attributes = _options$0$ref.attributes;\n    return checked ? attributes && !isUndefined(attributes.value) ? isUndefined(value) || isEmptyString(value) ? validResult : {\n      value: value,\n      isValid: true\n    } : validResult : defaultResult;\n  }\n\n  return defaultResult;\n};\n\nfunction getFieldValue(fields, ref) {\n  var name = ref.name,\n      value = ref.value;\n  var field = fields[name];\n\n  if (isFileInput(ref)) {\n    return ref.files;\n  }\n\n  if (isRadioInput(ref)) {\n    return field ? getRadioValue(field.options).value : '';\n  }\n\n  if (isMultipleSelect(ref)) {\n    return react_hook_form_es_getMultipleSelectValue(ref.options);\n  }\n\n  if (isCheckBoxInput(ref)) {\n    return field ? getCheckboxValue(field.options).value : false;\n  }\n\n  return value;\n}\n\nvar isString = function isString(value) {\n  return typeof value === 'string';\n};\n\nvar getFieldsValues = function getFieldsValues(fields, search) {\n  var output = {};\n  var isSearchString = isString(search);\n  var isSearchArray = isArray(search);\n  var isNest = search && search.nest;\n\n  var _loop = function _loop(name) {\n    if (isUndefined(search) || isNest || isSearchString && name.startsWith(search) || isSearchArray && search.find(function (data) {\n      return name.startsWith(data);\n    })) {\n      output[name] = getFieldValue(fields, fields[name].ref);\n    }\n  };\n\n  for (var name in fields) {\n    _loop(name);\n  }\n\n  return output;\n};\n\nvar react_hook_form_es_compareObject = function compareObject() {\n  var objectA = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var objectB = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return Object.entries(objectA).reduce(function (previous, _ref10) {\n    var _ref11 = Object(slicedToArray[\"a\" /* default */])(_ref10, 2),\n        key = _ref11[0],\n        value = _ref11[1];\n\n    return previous ? objectB[key] && objectB[key] === value : false;\n  }, true);\n};\n\nvar isSameError = function isSameError(error, _ref12) {\n  var type = _ref12.type,\n      types = _ref12.types,\n      message = _ref12.message;\n  return isObject(error) && error.type === type && error.message === message && react_hook_form_es_compareObject(error.types, types);\n};\n\nfunction shouldUpdateWithError(_ref13) {\n  var errors = _ref13.errors,\n      name = _ref13.name,\n      error = _ref13.error,\n      validFields = _ref13.validFields,\n      fieldsWithValidation = _ref13.fieldsWithValidation;\n  var isFieldValid = isEmptyObject(error);\n  var isFormValid = isEmptyObject(errors);\n  var currentFieldError = get(error, name);\n  var existFieldError = get(errors, name);\n\n  if (isFieldValid && validFields.has(name) || existFieldError && existFieldError.isManual) {\n    return false;\n  }\n\n  if (isFormValid !== isFieldValid || !isFormValid && !existFieldError || isFieldValid && fieldsWithValidation.has(name) && !validFields.has(name)) {\n    return true;\n  }\n\n  return currentFieldError && !isSameError(existFieldError, currentFieldError);\n}\n\nvar isRegex = function isRegex(value) {\n  return value instanceof RegExp;\n};\n\nvar getValueAndMessage = function getValueAndMessage(validationData) {\n  var isPureObject = isObject(validationData) && !isRegex(validationData);\n  return {\n    value: isPureObject ? validationData.value : validationData,\n    message: isPureObject ? validationData.message : ''\n  };\n};\n\nvar isFunction = function isFunction(value) {\n  return typeof value === 'function';\n};\n\nvar isBoolean = function isBoolean(value) {\n  return typeof value === 'boolean';\n};\n\nfunction getValidateError(result, ref) {\n  var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'validate';\n  var isStringValue = isString(result);\n\n  if (isStringValue || isBoolean(result) && !result) {\n    var message = isStringValue ? result : '';\n    return {\n      type: type,\n      message: message,\n      ref: ref\n    };\n  }\n}\n\nvar react_hook_form_es_appendErrors = function appendErrors(name, validateAllFieldCriteria, errors, type, message) {\n  if (!validateAllFieldCriteria) {\n    return {};\n  }\n\n  var error = errors[name];\n  return Object.assign(Object.assign({}, error), {\n    types: Object.assign(Object.assign({}, error && error.types ? error.types : {}), Object(defineProperty[\"a\" /* default */])({}, type, message || true))\n  });\n};\n\nvar validateField = /*#__PURE__*/function () {\n  var _ref15 = _asyncToGenerator( /*#__PURE__*/regenerator_default.a.mark(function _callee2(fieldsRef, validateAllFieldCriteria, _ref14) {\n    var ref, _ref14$ref, type, value, name, options, required, maxLength, minLength, min, max, pattern, validate, fields, error, isRadio, isCheckBox, isRadioOrCheckbox, isEmpty, appendErrorsCurry, getMinMaxMessage, _ref16, requiredValue, requiredMessage, exceedMax, exceedMin, _getValueAndMessage, maxValue, maxMessage, _getValueAndMessage2, minValue, minMessage, valueNumber, valueDate, _getValueAndMessage3, maxLengthValue, maxLengthMessage, _getValueAndMessage4, minLengthValue, minLengthMessage, inputLength, _exceedMax, _exceedMin, _getValueAndMessage5, patternValue, patternMessage, fieldValue, validateRef, result, validateError, validateFunctions, validationResult;\n\n    return regenerator_default.a.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            ref = _ref14.ref, _ref14$ref = _ref14.ref, type = _ref14$ref.type, value = _ref14$ref.value, name = _ref14$ref.name, options = _ref14.options, required = _ref14.required, maxLength = _ref14.maxLength, minLength = _ref14.minLength, min = _ref14.min, max = _ref14.max, pattern = _ref14.pattern, validate = _ref14.validate;\n            fields = fieldsRef.current;\n            error = {};\n            isRadio = isRadioInput(ref);\n            isCheckBox = isCheckBoxInput(ref);\n            isRadioOrCheckbox = isRadio || isCheckBox;\n            isEmpty = isEmptyString(value);\n            appendErrorsCurry = react_hook_form_es_appendErrors.bind(null, name, validateAllFieldCriteria, error);\n\n            getMinMaxMessage = function getMinMaxMessage(exceedMax, maxLengthMessage, minLengthMessage) {\n              var maxType = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : INPUT_VALIDATION_RULES.maxLength;\n              var minType = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : INPUT_VALIDATION_RULES.minLength;\n              var message = exceedMax ? maxLengthMessage : minLengthMessage;\n              error[name] = Object.assign({\n                type: exceedMax ? maxType : minType,\n                message: message,\n                ref: ref\n              }, exceedMax ? appendErrorsCurry(maxType, message) : appendErrorsCurry(minType, message));\n\n              if (!validateAllFieldCriteria) {\n                return error;\n              }\n            };\n\n            if (!(required && (!isRadio && !isCheckBox && (isEmpty || isNullOrUndefined(value)) || isBoolean(value) && !value || isCheckBox && !getCheckboxValue(options).isValid || isRadio && !getRadioValue(options).isValid))) {\n              _context2.next = 15;\n              break;\n            }\n\n            _ref16 = isString(required) ? {\n              value: !!required,\n              message: required\n            } : getValueAndMessage(required), requiredValue = _ref16.value, requiredMessage = _ref16.message;\n\n            if (!requiredValue) {\n              _context2.next = 15;\n              break;\n            }\n\n            error[name] = Object.assign({\n              type: INPUT_VALIDATION_RULES.required,\n              message: requiredMessage,\n              ref: isRadioOrCheckbox ? fields[name].options[0].ref : ref\n            }, appendErrorsCurry(INPUT_VALIDATION_RULES.required, requiredMessage));\n\n            if (validateAllFieldCriteria) {\n              _context2.next = 15;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", error);\n\n          case 15:\n            if (!(!isNullOrUndefined(min) || !isNullOrUndefined(max))) {\n              _context2.next = 23;\n              break;\n            }\n\n            _getValueAndMessage = getValueAndMessage(max), maxValue = _getValueAndMessage.value, maxMessage = _getValueAndMessage.message;\n            _getValueAndMessage2 = getValueAndMessage(min), minValue = _getValueAndMessage2.value, minMessage = _getValueAndMessage2.message;\n\n            if (type === 'number' || !type && !isNaN(value)) {\n              valueNumber = ref.valueAsNumber || parseFloat(value);\n\n              if (!isNullOrUndefined(maxValue)) {\n                exceedMax = valueNumber > maxValue;\n              }\n\n              if (!isNullOrUndefined(minValue)) {\n                exceedMin = valueNumber < minValue;\n              }\n            } else {\n              valueDate = ref.valueAsDate || new Date(value);\n\n              if (isString(maxValue)) {\n                exceedMax = valueDate > new Date(maxValue);\n              }\n\n              if (isString(minValue)) {\n                exceedMin = valueDate < new Date(minValue);\n              }\n            }\n\n            if (!(exceedMax || exceedMin)) {\n              _context2.next = 23;\n              break;\n            }\n\n            getMinMaxMessage(!!exceedMax, maxMessage, minMessage, INPUT_VALIDATION_RULES.max, INPUT_VALIDATION_RULES.min);\n\n            if (validateAllFieldCriteria) {\n              _context2.next = 23;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", error);\n\n          case 23:\n            if (!(isString(value) && !isEmpty && (maxLength || minLength))) {\n              _context2.next = 33;\n              break;\n            }\n\n            _getValueAndMessage3 = getValueAndMessage(maxLength), maxLengthValue = _getValueAndMessage3.value, maxLengthMessage = _getValueAndMessage3.message;\n            _getValueAndMessage4 = getValueAndMessage(minLength), minLengthValue = _getValueAndMessage4.value, minLengthMessage = _getValueAndMessage4.message;\n            inputLength = value.toString().length;\n            _exceedMax = maxLength && inputLength > maxLengthValue;\n            _exceedMin = minLength && inputLength < minLengthValue;\n\n            if (!(_exceedMax || _exceedMin)) {\n              _context2.next = 33;\n              break;\n            }\n\n            getMinMaxMessage(!!_exceedMax, maxLengthMessage, minLengthMessage);\n\n            if (validateAllFieldCriteria) {\n              _context2.next = 33;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", error);\n\n          case 33:\n            if (!(pattern && !isEmpty)) {\n              _context2.next = 39;\n              break;\n            }\n\n            _getValueAndMessage5 = getValueAndMessage(pattern), patternValue = _getValueAndMessage5.value, patternMessage = _getValueAndMessage5.message;\n\n            if (!(isRegex(patternValue) && !patternValue.test(value))) {\n              _context2.next = 39;\n              break;\n            }\n\n            error[name] = Object.assign({\n              type: INPUT_VALIDATION_RULES.pattern,\n              message: patternMessage,\n              ref: ref\n            }, appendErrorsCurry(INPUT_VALIDATION_RULES.pattern, patternMessage));\n\n            if (validateAllFieldCriteria) {\n              _context2.next = 39;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", error);\n\n          case 39:\n            if (!validate) {\n              _context2.next = 62;\n              break;\n            }\n\n            fieldValue = getFieldValue(fields, ref);\n            validateRef = isRadioOrCheckbox && options ? options[0].ref : ref;\n\n            if (!isFunction(validate)) {\n              _context2.next = 53;\n              break;\n            }\n\n            _context2.next = 45;\n            return validate(fieldValue);\n\n          case 45:\n            result = _context2.sent;\n            validateError = getValidateError(result, validateRef);\n\n            if (!validateError) {\n              _context2.next = 51;\n              break;\n            }\n\n            error[name] = Object.assign(Object.assign({}, validateError), appendErrorsCurry(INPUT_VALIDATION_RULES.validate, validateError.message));\n\n            if (validateAllFieldCriteria) {\n              _context2.next = 51;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", error);\n\n          case 51:\n            _context2.next = 62;\n            break;\n\n          case 53:\n            if (!isObject(validate)) {\n              _context2.next = 62;\n              break;\n            }\n\n            validateFunctions = Object.entries(validate);\n            _context2.next = 57;\n            return new Promise(function (resolve) {\n              validateFunctions.reduce( /*#__PURE__*/function () {\n                var _ref18 = _asyncToGenerator( /*#__PURE__*/regenerator_default.a.mark(function _callee(previous, _ref17, index) {\n                  var _ref19, key, validate, result, validateResult, validateError;\n\n                  return regenerator_default.a.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          _ref19 = Object(slicedToArray[\"a\" /* default */])(_ref17, 2), key = _ref19[0], validate = _ref19[1];\n                          _context.t2 = isEmptyObject;\n                          _context.next = 4;\n                          return previous;\n\n                        case 4:\n                          _context.t3 = _context.sent;\n                          _context.t1 = !(0, _context.t2)(_context.t3);\n\n                          if (!_context.t1) {\n                            _context.next = 8;\n                            break;\n                          }\n\n                          _context.t1 = !validateAllFieldCriteria;\n\n                        case 8:\n                          _context.t0 = _context.t1;\n\n                          if (_context.t0) {\n                            _context.next = 11;\n                            break;\n                          }\n\n                          _context.t0 = !isFunction(validate);\n\n                        case 11:\n                          if (!_context.t0) {\n                            _context.next = 13;\n                            break;\n                          }\n\n                          return _context.abrupt(\"return\", resolve(previous));\n\n                        case 13:\n                          _context.next = 15;\n                          return validate(fieldValue);\n\n                        case 15:\n                          validateResult = _context.sent;\n                          validateError = getValidateError(validateResult, validateRef, key);\n\n                          if (validateError) {\n                            result = Object.assign(Object.assign({}, validateError), appendErrorsCurry(key, validateError.message));\n\n                            if (validateAllFieldCriteria) {\n                              error[name] = result;\n                            }\n                          } else {\n                            result = previous;\n                          }\n\n                          return _context.abrupt(\"return\", validateFunctions.length - 1 === index ? resolve(result) : result);\n\n                        case 19:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee);\n                }));\n\n                return function (_x4, _x5, _x6) {\n                  return _ref18.apply(this, arguments);\n                };\n              }(), {});\n            });\n\n          case 57:\n            validationResult = _context2.sent;\n\n            if (isEmptyObject(validationResult)) {\n              _context2.next = 62;\n              break;\n            }\n\n            error[name] = Object.assign({\n              ref: validateRef\n            }, validationResult);\n\n            if (validateAllFieldCriteria) {\n              _context2.next = 62;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", error);\n\n          case 62:\n            return _context2.abrupt(\"return\", error);\n\n          case 63:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function validateField(_x, _x2, _x3) {\n    return _ref15.apply(this, arguments);\n  };\n}();\n\nvar react_hook_form_es_parseErrorSchema = function parseErrorSchema(error, validateAllFieldCriteria) {\n  return isArray(error.inner) ? error.inner.reduce(function (previous, _ref20) {\n    var path = _ref20.path,\n        message = _ref20.message,\n        type = _ref20.type;\n    return Object.assign(Object.assign({}, previous), previous[path] && validateAllFieldCriteria ? Object(defineProperty[\"a\" /* default */])({}, path, react_hook_form_es_appendErrors(path, validateAllFieldCriteria, previous, type, message)) : Object(defineProperty[\"a\" /* default */])({}, path, previous[path] || Object.assign({\n      message: message,\n      type: type\n    }, validateAllFieldCriteria ? {\n      types: Object(defineProperty[\"a\" /* default */])({}, type, message || true)\n    } : {})));\n  }, {}) : Object(defineProperty[\"a\" /* default */])({}, error.path, {\n    message: error.message,\n    type: error.type\n  });\n};\n\nfunction validateWithSchema(_x7, _x8, _x9, _x10, _x11) {\n  return _validateWithSchema.apply(this, arguments);\n}\n\nfunction _validateWithSchema() {\n  _validateWithSchema = _asyncToGenerator( /*#__PURE__*/regenerator_default.a.mark(function _callee10(validationSchema, validateAllFieldCriteria, data, validationResolver, context) {\n    return regenerator_default.a.wrap(function _callee10$(_context10) {\n      while (1) {\n        switch (_context10.prev = _context10.next) {\n          case 0:\n            if (!validationResolver) {\n              _context10.next = 2;\n              break;\n            }\n\n            return _context10.abrupt(\"return\", validationResolver(data, context));\n\n          case 2:\n            _context10.prev = 2;\n            _context10.next = 5;\n            return validationSchema.validate(data, {\n              abortEarly: false,\n              context: context\n            });\n\n          case 5:\n            _context10.t0 = _context10.sent;\n            _context10.t1 = {};\n            return _context10.abrupt(\"return\", {\n              values: _context10.t0,\n              errors: _context10.t1\n            });\n\n          case 10:\n            _context10.prev = 10;\n            _context10.t2 = _context10[\"catch\"](2);\n            return _context10.abrupt(\"return\", {\n              values: {},\n              errors: react_hook_form_es_transformToNestObject(react_hook_form_es_parseErrorSchema(_context10.t2, validateAllFieldCriteria))\n            });\n\n          case 13:\n          case \"end\":\n            return _context10.stop();\n        }\n      }\n    }, _callee10, null, [[2, 10]]);\n  }));\n  return _validateWithSchema.apply(this, arguments);\n}\n\nvar getDefaultValue = function getDefaultValue(defaultValues, name, defaultValue) {\n  return isUndefined(defaultValues[name]) ? get(defaultValues, name, defaultValue) : defaultValues[name];\n};\n\nfunction flatArray(list) {\n  return list.reduce(function (a, b) {\n    return a.concat(isArray(b) ? flatArray(b) : b);\n  }, []);\n}\n\nvar isPrimitive = function isPrimitive(value) {\n  return isNullOrUndefined(value) || !isObjectType(value);\n};\n\nvar react_hook_form_es_getPath = function getPath(path, values) {\n  var getInnerPath = function getInnerPath(value, key, isObject) {\n    var pathWithIndex = isObject ? \"\".concat(path, \".\").concat(key) : \"\".concat(path, \"[\").concat(key, \"]\");\n    return isPrimitive(value) ? pathWithIndex : getPath(pathWithIndex, value);\n  };\n\n  return isArray(values) ? values.map(function (value, key) {\n    return getInnerPath(value, key);\n  }) : Object.entries(values).map(function (_ref24) {\n    var _ref25 = Object(slicedToArray[\"a\" /* default */])(_ref24, 2),\n        key = _ref25[0],\n        value = _ref25[1];\n\n    return getInnerPath(value, key, true);\n  });\n};\n\nvar getPath$1 = function getPath$1(parentPath, value) {\n  return flatArray(react_hook_form_es_getPath(parentPath, value));\n};\n\nvar assignWatchFields = function assignWatchFields(fieldValues, fieldName, watchFields, combinedDefaultValues, watchFieldArray) {\n  var value;\n  watchFields.add(fieldName);\n\n  if (isEmptyObject(fieldValues)) {\n    value = watchFieldArray ? watchFieldArray : undefined;\n  } else if (!isUndefined(fieldValues[fieldName])) {\n    value = fieldValues[fieldName];\n    watchFields.add(fieldName);\n  } else {\n    value = get(react_hook_form_es_transformToNestObject(fieldValues), fieldName);\n\n    if (isArray(watchFieldArray) && isArray(value) && value.length !== watchFieldArray.length) {\n      value = watchFieldArray;\n    }\n\n    if (!isUndefined(value)) {\n      getPath$1(fieldName, value).forEach(function (name) {\n        return watchFields.add(name);\n      });\n    }\n  }\n\n  return isUndefined(value) ? isObject(combinedDefaultValues) ? getDefaultValue(combinedDefaultValues, fieldName) : combinedDefaultValues : value;\n};\n\nvar skipValidation = function skipValidation(_ref26) {\n  var hasError = _ref26.hasError,\n      isBlurEvent = _ref26.isBlurEvent,\n      isOnSubmit = _ref26.isOnSubmit,\n      isReValidateOnSubmit = _ref26.isReValidateOnSubmit,\n      isOnBlur = _ref26.isOnBlur,\n      isReValidateOnBlur = _ref26.isReValidateOnBlur,\n      isSubmitted = _ref26.isSubmitted;\n  return isOnSubmit && isReValidateOnSubmit || isOnSubmit && !isSubmitted || isOnBlur && !isBlurEvent && !hasError || isReValidateOnBlur && !isBlurEvent && hasError || isReValidateOnSubmit && isSubmitted;\n};\n\nvar getFieldValueByName = function getFieldValueByName(fields, name) {\n  var results = react_hook_form_es_transformToNestObject(getFieldsValues(fields));\n  return name ? get(results, name, results) : results;\n};\n\nfunction getIsFieldsDifferent(referenceArray, differenceArray) {\n  var isMatch = false;\n\n  if (!isArray(referenceArray) || !isArray(differenceArray) || referenceArray.length !== differenceArray.length) {\n    return true;\n  }\n\n  for (var i = 0; i < referenceArray.length; i++) {\n    if (isMatch) {\n      break;\n    }\n\n    var dataA = referenceArray[i];\n    var dataB = differenceArray[i];\n\n    if (isUndefined(dataB) || Object.keys(dataA).length !== Object.keys(dataB).length) {\n      isMatch = true;\n      break;\n    }\n\n    for (var key in dataA) {\n      if (dataA[key] !== dataB[key]) {\n        isMatch = true;\n        break;\n      }\n    }\n  }\n\n  return isMatch;\n}\n\nvar isMatchFieldArrayName = function isMatchFieldArrayName(name, searchName) {\n  return name.startsWith(\"\".concat(searchName, \"[\"));\n};\n\nvar react_hook_form_es_isNameInFieldArray = function isNameInFieldArray(names, name) {\n  return Object(toConsumableArray[\"a\" /* default */])(names).reduce(function (prev, current) {\n    return isMatchFieldArrayName(name, current) ? true : prev;\n  }, false);\n};\n\nvar isFileListObject = function isFileListObject(data) {\n  return typeof FileList !== UNDEFINED && data instanceof FileList;\n};\n\nfunction onDomRemove(element, onDetachCallback) {\n  var observer = new MutationObserver(function () {\n    if (isDetached(element)) {\n      observer.disconnect();\n      onDetachCallback();\n    }\n  });\n  observer.observe(window.document, {\n    childList: true,\n    subtree: true\n  });\n  return observer;\n}\n\nvar modeChecker = function modeChecker(mode) {\n  return {\n    isOnSubmit: !mode || mode === VALIDATION_MODE.onSubmit,\n    isOnBlur: mode === VALIDATION_MODE.onBlur,\n    isOnChange: mode === VALIDATION_MODE.onChange\n  };\n};\n\nvar useRef = react[\"useRef\"],\n    useState = react[\"useState\"],\n    useCallback = react[\"useCallback\"],\n    useEffect = react[\"useEffect\"];\n\nfunction useForm() {\n  var _ref27 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref27$mode = _ref27.mode,\n      mode = _ref27$mode === void 0 ? VALIDATION_MODE.onSubmit : _ref27$mode,\n      _ref27$reValidateMode = _ref27.reValidateMode,\n      reValidateMode = _ref27$reValidateMode === void 0 ? VALIDATION_MODE.onChange : _ref27$reValidateMode,\n      validationSchema = _ref27.validationSchema,\n      validationResolver = _ref27.validationResolver,\n      validationContext = _ref27.validationContext,\n      _ref27$defaultValues = _ref27.defaultValues,\n      defaultValues = _ref27$defaultValues === void 0 ? {} : _ref27$defaultValues,\n      _ref27$submitFocusErr = _ref27.submitFocusError,\n      submitFocusError = _ref27$submitFocusErr === void 0 ? true : _ref27$submitFocusErr,\n      validateCriteriaMode = _ref27.validateCriteriaMode;\n\n  var fieldsRef = useRef({});\n  var validateAllFieldCriteria = validateCriteriaMode === 'all';\n  var errorsRef = useRef({});\n  var touchedFieldsRef = useRef({});\n  var watchFieldArrayRef = useRef({});\n  var watchFieldsRef = useRef(new Set());\n  var dirtyFieldsRef = useRef(new Set());\n  var fieldsWithValidationRef = useRef(new Set());\n  var validFieldsRef = useRef(new Set());\n  var isValidRef = useRef(true);\n  var defaultRenderValuesRef = useRef({});\n  var defaultValuesRef = useRef(defaultValues);\n  var isUnMount = useRef(false);\n  var isWatchAllRef = useRef(false);\n  var isSubmittedRef = useRef(false);\n  var isDirtyRef = useRef(false);\n  var submitCountRef = useRef(0);\n  var isSubmittingRef = useRef(false);\n  var handleChangeRef = useRef();\n  var resetFieldArrayFunctionRef = useRef({});\n  var validationContextRef = useRef(validationContext);\n  var fieldArrayNamesRef = useRef(new Set());\n\n  var _useState = useState(),\n      _useState2 = Object(slicedToArray[\"a\" /* default */])(_useState, 2),\n      render = _useState2[1];\n\n  var _useRef$current = useRef(modeChecker(mode)).current,\n      isOnBlur = _useRef$current.isOnBlur,\n      isOnSubmit = _useRef$current.isOnSubmit;\n  var isWindowUndefined = typeof window === UNDEFINED;\n  var shouldValidateCallback = !!(validationSchema || validationResolver);\n  var isWeb = typeof document !== UNDEFINED && !isWindowUndefined && !isUndefined(window.HTMLElement);\n  var isProxyEnabled = isWeb && 'Proxy' in window;\n  var readFormStateRef = useRef({\n    dirty: !isProxyEnabled,\n    dirtyFields: !isProxyEnabled,\n    isSubmitted: isOnSubmit,\n    submitCount: !isProxyEnabled,\n    touched: !isProxyEnabled,\n    isSubmitting: !isProxyEnabled,\n    isValid: !isProxyEnabled\n  });\n  var _useRef$current2 = useRef(modeChecker(reValidateMode)).current,\n      isReValidateOnBlur = _useRef$current2.isOnBlur,\n      isReValidateOnSubmit = _useRef$current2.isOnSubmit;\n  var reRender = useCallback(function () {\n    if (!isUnMount.current) {\n      render({});\n    }\n  }, []);\n  var shouldRenderBaseOnError = useCallback(function (name, error, shouldRender, skipReRender) {\n    var shouldReRender = shouldRender || shouldUpdateWithError({\n      errors: errorsRef.current,\n      error: error,\n      name: name,\n      validFields: validFieldsRef.current,\n      fieldsWithValidation: fieldsWithValidationRef.current\n    });\n\n    if (isEmptyObject(error)) {\n      if (fieldsWithValidationRef.current.has(name) || shouldValidateCallback) {\n        validFieldsRef.current.add(name);\n        shouldReRender = shouldReRender || get(errorsRef.current, name);\n      }\n\n      errorsRef.current = unset(errorsRef.current, [name]);\n    } else {\n      validFieldsRef.current.delete(name);\n      shouldReRender = shouldReRender || !get(errorsRef.current, name);\n      set(errorsRef.current, name, error[name]);\n    }\n\n    if (shouldReRender && !skipReRender) {\n      reRender();\n      return true;\n    }\n  }, [reRender, shouldValidateCallback]);\n  var setFieldValue = useCallback(function (field, rawValue) {\n    var ref = field.ref;\n    var options = field.options;\n    var type = ref.type;\n    var value = isWeb && isHTMLElement(ref) && isNullOrUndefined(rawValue) ? '' : rawValue;\n\n    if (isRadioInput(ref) && options) {\n      options.forEach(function (_ref28) {\n        var radioRef = _ref28.ref;\n        return radioRef.checked = radioRef.value === value;\n      });\n    } else if (isFileInput(ref)) {\n      if (isEmptyString(value) || isFileListObject(value)) {\n        ref.files = value;\n      } else {\n        ref.value = value;\n      }\n    } else if (isMultipleSelect(ref)) {\n      Object(toConsumableArray[\"a\" /* default */])(ref.options).forEach(function (selectRef) {\n        return selectRef.selected = value.includes(selectRef.value);\n      });\n    } else if (isCheckBoxInput(ref) && options) {\n      options.length > 1 ? options.forEach(function (_ref29) {\n        var checkboxRef = _ref29.ref;\n        return checkboxRef.checked = value.includes(checkboxRef.value);\n      }) : options[0].ref.checked = !!value;\n    } else {\n      ref.value = value;\n    }\n\n    return !!type;\n  }, [isWeb]);\n\n  var setDirty = function setDirty(name) {\n    if (!fieldsRef.current[name] || !readFormStateRef.current.dirty && !readFormStateRef.current.dirtyFields) {\n      return false;\n    }\n\n    var isFieldArray = react_hook_form_es_isNameInFieldArray(fieldArrayNamesRef.current, name);\n    var previousDirtyFieldsLength = dirtyFieldsRef.current.size;\n    var isDirty = defaultRenderValuesRef.current[name] !== getFieldValue(fieldsRef.current, fieldsRef.current[name].ref);\n\n    if (isFieldArray) {\n      var fieldArrayName = name.substring(0, name.indexOf('['));\n      isDirty = getIsFieldsDifferent(getFieldValueByName(fieldsRef.current, fieldArrayName), get(defaultValuesRef.current, fieldArrayName));\n    }\n\n    var isDirtyChanged = (isFieldArray ? isDirtyRef.current : dirtyFieldsRef.current.has(name)) !== isDirty;\n\n    if (isDirty) {\n      dirtyFieldsRef.current.add(name);\n    } else {\n      dirtyFieldsRef.current.delete(name);\n    }\n\n    isDirtyRef.current = isFieldArray ? isDirty : !!dirtyFieldsRef.current.size;\n    return readFormStateRef.current.dirty ? isDirtyChanged : previousDirtyFieldsLength !== dirtyFieldsRef.current.size;\n  };\n\n  var setDirtyAndTouchedFields = useCallback(function (fieldName) {\n    if (setDirty(fieldName) || !get(touchedFieldsRef.current, fieldName) && readFormStateRef.current.touched) {\n      return !!set(touchedFieldsRef.current, fieldName, true);\n    }\n  }, []);\n  var setInternalValueBatch = useCallback(function (name, value, parentFieldName) {\n    var isValueArray = isArray(value);\n\n    for (var key in value) {\n      var fieldName = \"\".concat(parentFieldName || name).concat(isValueArray ? \"[\".concat(key, \"]\") : \".\".concat(key));\n\n      if (isObject(value[key])) {\n        setInternalValueBatch(name, value[key], fieldName);\n      }\n\n      var field = fieldsRef.current[fieldName];\n\n      if (field) {\n        setFieldValue(field, value[key]);\n        setDirtyAndTouchedFields(fieldName);\n      }\n    }\n  }, [setFieldValue, setDirtyAndTouchedFields]);\n  var setInternalValue = useCallback(function (name, value) {\n    var field = fieldsRef.current[name];\n\n    if (field) {\n      setFieldValue(field, value);\n      var output = setDirtyAndTouchedFields(name);\n\n      if (isBoolean(output)) {\n        return output;\n      }\n    } else if (!isPrimitive(value)) {\n      setInternalValueBatch(name, value);\n    }\n  }, [setDirtyAndTouchedFields, setFieldValue, setInternalValueBatch]);\n  var executeValidation = useCallback( /*#__PURE__*/function () {\n    var _ref30 = _asyncToGenerator( /*#__PURE__*/regenerator_default.a.mark(function _callee3(name, skipReRender) {\n      var field, error;\n      return regenerator_default.a.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              field = fieldsRef.current[name];\n\n              if (field) {\n                _context3.next = 3;\n                break;\n              }\n\n              return _context3.abrupt(\"return\", false);\n\n            case 3:\n              _context3.next = 5;\n              return validateField(fieldsRef, validateAllFieldCriteria, field);\n\n            case 5:\n              error = _context3.sent;\n              shouldRenderBaseOnError(name, error, false, skipReRender);\n              return _context3.abrupt(\"return\", isEmptyObject(error));\n\n            case 8:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x12, _x13) {\n      return _ref30.apply(this, arguments);\n    };\n  }(), [shouldRenderBaseOnError, validateAllFieldCriteria]);\n  var executeSchemaValidation = useCallback( /*#__PURE__*/function () {\n    var _ref31 = _asyncToGenerator( /*#__PURE__*/regenerator_default.a.mark(function _callee4(payload) {\n      var _yield$validateWithSc, errors, previousFormIsValid;\n\n      return regenerator_default.a.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return validateWithSchema(validationSchema, validateAllFieldCriteria, getFieldValueByName(fieldsRef.current), validationResolver, validationContextRef.current);\n\n            case 2:\n              _yield$validateWithSc = _context4.sent;\n              errors = _yield$validateWithSc.errors;\n              previousFormIsValid = isValidRef.current;\n              isValidRef.current = isEmptyObject(errors);\n\n              if (isArray(payload)) {\n                payload.forEach(function (name) {\n                  var error = get(errors, name);\n\n                  if (error) {\n                    set(errorsRef.current, name, error);\n                  } else {\n                    unset(errorsRef.current, [name]);\n                  }\n                });\n                reRender();\n              } else {\n                shouldRenderBaseOnError(payload, get(errors, payload) ? Object(defineProperty[\"a\" /* default */])({}, payload, get(errors, payload)) : {}, previousFormIsValid !== isValidRef.current);\n              }\n\n              return _context4.abrupt(\"return\", isEmptyObject(errorsRef.current));\n\n            case 8:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function (_x14) {\n      return _ref31.apply(this, arguments);\n    };\n  }(), [reRender, shouldRenderBaseOnError, validateAllFieldCriteria, validationResolver, validationSchema]);\n  var triggerValidation = useCallback( /*#__PURE__*/function () {\n    var _ref33 = _asyncToGenerator( /*#__PURE__*/regenerator_default.a.mark(function _callee6(payload) {\n      var fields, result;\n      return regenerator_default.a.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              fields = payload || Object.keys(fieldsRef.current);\n\n              if (!shouldValidateCallback) {\n                _context6.next = 3;\n                break;\n              }\n\n              return _context6.abrupt(\"return\", executeSchemaValidation(fields));\n\n            case 3:\n              if (!isArray(fields)) {\n                _context6.next = 9;\n                break;\n              }\n\n              _context6.next = 6;\n              return Promise.all(fields.map( /*#__PURE__*/function () {\n                var _ref34 = _asyncToGenerator( /*#__PURE__*/regenerator_default.a.mark(function _callee5(data) {\n                  return regenerator_default.a.wrap(function _callee5$(_context5) {\n                    while (1) {\n                      switch (_context5.prev = _context5.next) {\n                        case 0:\n                          _context5.next = 2;\n                          return executeValidation(data, true);\n\n                        case 2:\n                          return _context5.abrupt(\"return\", _context5.sent);\n\n                        case 3:\n                        case \"end\":\n                          return _context5.stop();\n                      }\n                    }\n                  }, _callee5);\n                }));\n\n                return function (_x16) {\n                  return _ref34.apply(this, arguments);\n                };\n              }()));\n\n            case 6:\n              result = _context6.sent;\n              reRender();\n              return _context6.abrupt(\"return\", result.every(Boolean));\n\n            case 9:\n              _context6.next = 11;\n              return executeValidation(fields);\n\n            case 11:\n              return _context6.abrupt(\"return\", _context6.sent);\n\n            case 12:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }));\n\n    return function (_x15) {\n      return _ref33.apply(this, arguments);\n    };\n  }(), [executeSchemaValidation, executeValidation, reRender, shouldValidateCallback]);\n\n  var isFieldWatched = function isFieldWatched(name) {\n    var preFixName = (name.match(/\\w+/) || [])[0];\n    return isWatchAllRef.current || watchFieldsRef.current.has(name) || watchFieldsRef.current.has(preFixName) && !isKey(name) && fieldArrayNamesRef.current.has(preFixName);\n  };\n\n  function setValue(names, valueOrShouldValidate, shouldValidate) {\n    var shouldRender = false;\n    var isMultiple = isArray(names);\n    (isMultiple ? names : [names]).forEach(function (name) {\n      var isStringFieldName = isString(name);\n      shouldRender = setInternalValue(isStringFieldName ? name : Object.keys(name)[0], isStringFieldName ? valueOrShouldValidate : Object.values(name)[0]) || isMultiple ? true : isFieldWatched(name);\n    });\n\n    if (shouldRender || isMultiple) {\n      reRender();\n    }\n\n    if (shouldValidate || isMultiple && valueOrShouldValidate) {\n      triggerValidation(isMultiple ? undefined : names);\n    }\n  }\n\n  handleChangeRef.current = handleChangeRef.current ? handleChangeRef.current : /*#__PURE__*/function () {\n    var _ref36 = _asyncToGenerator( /*#__PURE__*/regenerator_default.a.mark(function _callee7(_ref35) {\n      var type, target, name, fields, errors, field, currentError, error, isBlurEvent, shouldSkipValidation, shouldUpdateDirty, shouldUpdateState, _yield$validateWithSc2, _errors, previousFormIsValid;\n\n      return regenerator_default.a.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              type = _ref35.type, target = _ref35.target;\n              name = target ? target.name : '';\n              fields = fieldsRef.current;\n              errors = errorsRef.current;\n              field = fields[name];\n              currentError = get(errors, name);\n\n              if (field) {\n                _context7.next = 8;\n                break;\n              }\n\n              return _context7.abrupt(\"return\");\n\n            case 8:\n              isBlurEvent = type === EVENTS.BLUR;\n              shouldSkipValidation = skipValidation({\n                hasError: !!currentError,\n                isBlurEvent: isBlurEvent,\n                isOnSubmit: isOnSubmit,\n                isReValidateOnSubmit: isReValidateOnSubmit,\n                isOnBlur: isOnBlur,\n                isReValidateOnBlur: isReValidateOnBlur,\n                isSubmitted: isSubmittedRef.current\n              });\n              shouldUpdateDirty = setDirty(name);\n              shouldUpdateState = isFieldWatched(name) || shouldUpdateDirty;\n\n              if (isBlurEvent && !get(touchedFieldsRef.current, name) && readFormStateRef.current.touched) {\n                set(touchedFieldsRef.current, name, true);\n                shouldUpdateState = true;\n              }\n\n              if (!shouldSkipValidation) {\n                _context7.next = 15;\n                break;\n              }\n\n              return _context7.abrupt(\"return\", shouldUpdateState && reRender());\n\n            case 15:\n              if (!shouldValidateCallback) {\n                _context7.next = 26;\n                break;\n              }\n\n              _context7.next = 18;\n              return validateWithSchema(validationSchema, validateAllFieldCriteria, getFieldValueByName(fields), validationResolver, validationContextRef.current);\n\n            case 18:\n              _yield$validateWithSc2 = _context7.sent;\n              _errors = _yield$validateWithSc2.errors;\n              previousFormIsValid = isValidRef.current;\n              isValidRef.current = isEmptyObject(_errors);\n              error = get(_errors, name) ? Object(defineProperty[\"a\" /* default */])({}, name, get(_errors, name)) : {};\n\n              if (previousFormIsValid !== isValidRef.current) {\n                shouldUpdateState = true;\n              }\n\n              _context7.next = 29;\n              break;\n\n            case 26:\n              _context7.next = 28;\n              return validateField(fieldsRef, validateAllFieldCriteria, field);\n\n            case 28:\n              error = _context7.sent;\n\n            case 29:\n              if (!shouldRenderBaseOnError(name, error) && shouldUpdateState) {\n                reRender();\n              }\n\n            case 30:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7);\n    }));\n\n    return function (_x17) {\n      return _ref36.apply(this, arguments);\n    };\n  }();\n  var validateSchemaIsValid = useCallback(function () {\n    var values = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var fieldValues = isEmptyObject(defaultValuesRef.current) ? getFieldsValues(fieldsRef.current) : defaultValuesRef.current;\n    validateWithSchema(validationSchema, validateAllFieldCriteria, react_hook_form_es_transformToNestObject(Object.assign(Object.assign({}, fieldValues), values)), validationResolver, validationContextRef.current).then(function (_ref38) {\n      var errors = _ref38.errors;\n      var previousFormIsValid = isValidRef.current;\n      isValidRef.current = isEmptyObject(errors);\n\n      if (previousFormIsValid !== isValidRef.current) {\n        reRender();\n      }\n    });\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [reRender, validateAllFieldCriteria, validationResolver]);\n\n  var removeFieldEventListener = function removeFieldEventListener(field, forceDelete) {\n    if (!isUndefined(handleChangeRef.current) && field) {\n      findRemovedFieldAndRemoveListener(fieldsRef.current, handleChangeRef.current, field, forceDelete);\n    }\n  };\n\n  var removeFieldEventListenerAndRef = useCallback(function (field, forceDelete) {\n    if (!field || field && react_hook_form_es_isNameInFieldArray(fieldArrayNamesRef.current, field.ref.name) && !forceDelete) {\n      return;\n    }\n\n    removeFieldEventListener(field, forceDelete);\n    var name = field.ref.name;\n    errorsRef.current = unset(errorsRef.current, [name]);\n    touchedFieldsRef.current = unset(touchedFieldsRef.current, [name]);\n    defaultRenderValuesRef.current = unset(defaultRenderValuesRef.current, [name]);\n    [dirtyFieldsRef, fieldsWithValidationRef, validFieldsRef, watchFieldsRef].forEach(function (data) {\n      return data.current.delete(name);\n    });\n\n    if (readFormStateRef.current.isValid || readFormStateRef.current.touched) {\n      reRender();\n\n      if (shouldValidateCallback) {\n        validateSchemaIsValid();\n      }\n    }\n  }, [reRender, shouldValidateCallback, validateSchemaIsValid]);\n\n  function clearError(name) {\n    if (isUndefined(name)) {\n      errorsRef.current = {};\n    } else {\n      unset(errorsRef.current, isArray(name) ? name : [name]);\n    }\n\n    reRender();\n  }\n\n  var setInternalError = function setInternalError(_ref39) {\n    var name = _ref39.name,\n        type = _ref39.type,\n        types = _ref39.types,\n        message = _ref39.message,\n        preventRender = _ref39.preventRender;\n    var field = fieldsRef.current[name];\n\n    if (!isSameError(errorsRef.current[name], {\n      type: type,\n      message: message,\n      types: types\n    })) {\n      set(errorsRef.current, name, {\n        type: type,\n        types: types,\n        message: message,\n        ref: field ? field.ref : {},\n        isManual: true\n      });\n\n      if (!preventRender) {\n        reRender();\n      }\n    }\n  };\n\n  function setError(name) {\n    var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var message = arguments.length > 2 ? arguments[2] : undefined;\n\n    if (isString(name)) {\n      setInternalError(Object.assign({\n        name: name\n      }, isObject(type) ? {\n        types: type,\n        type: ''\n      } : {\n        type: type,\n        message: message\n      }));\n    } else if (isArray(name)) {\n      name.forEach(function (error) {\n        return setInternalError(Object.assign(Object.assign({}, error), {\n          preventRender: true\n        }));\n      });\n      reRender();\n    }\n  }\n\n  function watch(fieldNames, defaultValue) {\n    var combinedDefaultValues = isUndefined(defaultValue) ? isUndefined(defaultValuesRef.current) ? {} : defaultValuesRef.current : defaultValue;\n    var fieldValues = getFieldsValues(fieldsRef.current, fieldNames);\n    var watchFields = watchFieldsRef.current;\n\n    if (isString(fieldNames)) {\n      return assignWatchFields(fieldValues, fieldNames, watchFields, combinedDefaultValues, fieldArrayNamesRef.current.has(fieldNames) ? watchFieldArrayRef.current[fieldNames] : undefined);\n    }\n\n    if (isArray(fieldNames)) {\n      return fieldNames.reduce(function (previous, name) {\n        var value;\n\n        if (isEmptyObject(fieldsRef.current) && isObject(combinedDefaultValues)) {\n          value = getDefaultValue(combinedDefaultValues, name);\n        } else {\n          value = assignWatchFields(fieldValues, name, watchFields, combinedDefaultValues);\n        }\n\n        return Object.assign(Object.assign({}, previous), Object(defineProperty[\"a\" /* default */])({}, name, value));\n      }, {});\n    }\n\n    isWatchAllRef.current = true;\n    var result = !isEmptyObject(fieldValues) && fieldValues || defaultValue || defaultValuesRef.current;\n    return fieldNames && fieldNames.nest ? react_hook_form_es_transformToNestObject(result) : result;\n  }\n\n  function unregister(names) {\n    if (!isEmptyObject(fieldsRef.current)) {\n      (isArray(names) ? names : [names]).forEach(function (fieldName) {\n        return removeFieldEventListenerAndRef(fieldsRef.current[fieldName], true);\n      });\n    }\n  }\n\n  function registerFieldsRef(ref) {\n    var validateOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    if (!ref.name) {\n      // eslint-disable-next-line no-console\n      return console.warn('Missing name @', ref);\n    }\n\n    var name = ref.name,\n        type = ref.type,\n        value = ref.value;\n    var fieldAttributes = Object.assign({\n      ref: ref\n    }, validateOptions);\n    var fields = fieldsRef.current;\n    var isRadioOrCheckbox = isRadioInput(ref) || isCheckBoxInput(ref);\n    var currentField = fields[name];\n    var isEmptyDefaultValue = true;\n    var isFieldArray = false;\n    var defaultValue;\n\n    if (isRadioOrCheckbox ? currentField && isArray(currentField.options) && currentField.options.find(function (_ref40) {\n      var ref = _ref40.ref;\n      return value === ref.value;\n    }) : currentField) {\n      fields[name] = Object.assign(Object.assign({}, currentField), validateOptions);\n      return;\n    }\n\n    if (type) {\n      var mutationWatcher = onDomRemove(ref, function () {\n        return removeFieldEventListenerAndRef(fieldAttributes);\n      });\n      currentField = isRadioOrCheckbox ? Object.assign({\n        options: [].concat(Object(toConsumableArray[\"a\" /* default */])(currentField && currentField.options || []), [{\n          ref: ref,\n          mutationWatcher: mutationWatcher\n        }]),\n        ref: {\n          type: type,\n          name: name\n        }\n      }, validateOptions) : Object.assign(Object.assign({}, fieldAttributes), {\n        mutationWatcher: mutationWatcher\n      });\n    } else {\n      currentField = fieldAttributes;\n    }\n\n    fields[name] = currentField;\n\n    if (!isEmptyObject(defaultValuesRef.current)) {\n      defaultValue = getDefaultValue(defaultValuesRef.current, name);\n      isEmptyDefaultValue = isUndefined(defaultValue);\n      isFieldArray = react_hook_form_es_isNameInFieldArray(fieldArrayNamesRef.current, name);\n\n      if (!isEmptyDefaultValue && !isFieldArray) {\n        setFieldValue(currentField, defaultValue);\n      }\n    }\n\n    if (shouldValidateCallback && !isFieldArray && readFormStateRef.current.isValid) {\n      validateSchemaIsValid();\n    } else if (!isEmptyObject(validateOptions)) {\n      fieldsWithValidationRef.current.add(name);\n\n      if (!isOnSubmit && readFormStateRef.current.isValid) {\n        validateField(fieldsRef, validateAllFieldCriteria, currentField).then(function (error) {\n          var previousFormIsValid = isValidRef.current;\n\n          if (isEmptyObject(error)) {\n            validFieldsRef.current.add(name);\n          } else {\n            isValidRef.current = false;\n          }\n\n          if (previousFormIsValid !== isValidRef.current) {\n            reRender();\n          }\n        });\n      }\n    }\n\n    if (!defaultRenderValuesRef.current[name] && !(isFieldArray && isEmptyDefaultValue)) {\n      defaultRenderValuesRef.current[name] = isEmptyDefaultValue ? getFieldValue(fields, currentField.ref) : defaultValue;\n    }\n\n    if (!type) {\n      return;\n    }\n\n    var fieldToAttachListener = isRadioOrCheckbox && currentField.options ? currentField.options[currentField.options.length - 1] : currentField;\n    attachEventListeners({\n      field: fieldToAttachListener,\n      isRadioOrCheckbox: isRadioOrCheckbox,\n      handleChange: handleChangeRef.current\n    });\n  }\n\n  function register(refOrValidationOptions, validationOptions) {\n    if (isWindowUndefined) {\n      return;\n    }\n\n    if (isString(refOrValidationOptions)) {\n      registerFieldsRef({\n        name: refOrValidationOptions\n      }, validationOptions);\n      return;\n    }\n\n    if (isObject(refOrValidationOptions) && 'name' in refOrValidationOptions) {\n      registerFieldsRef(refOrValidationOptions, validationOptions);\n      return;\n    }\n\n    return function (ref) {\n      return ref && registerFieldsRef(ref, refOrValidationOptions);\n    };\n  }\n\n  var handleSubmit = useCallback(function (callback) {\n    return /*#__PURE__*/function () {\n      var _ref41 = _asyncToGenerator( /*#__PURE__*/regenerator_default.a.mark(function _callee9(e) {\n        var fieldErrors, fieldValues, fields, _yield$validateWithSc3, errors, values, _yield$Object$values$, _errors2, _values;\n\n        return regenerator_default.a.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                if (e) {\n                  e.preventDefault();\n                  e.persist();\n                }\n\n                fields = fieldsRef.current;\n\n                if (readFormStateRef.current.isSubmitting) {\n                  isSubmittingRef.current = true;\n                  reRender();\n                }\n\n                _context9.prev = 3;\n\n                if (!shouldValidateCallback) {\n                  _context9.next = 16;\n                  break;\n                }\n\n                fieldValues = getFieldsValues(fields);\n                _context9.next = 8;\n                return validateWithSchema(validationSchema, validateAllFieldCriteria, react_hook_form_es_transformToNestObject(fieldValues), validationResolver, validationContextRef.current);\n\n              case 8:\n                _yield$validateWithSc3 = _context9.sent;\n                errors = _yield$validateWithSc3.errors;\n                values = _yield$validateWithSc3.values;\n                errorsRef.current = errors;\n                fieldErrors = errors;\n                fieldValues = values;\n                _context9.next = 23;\n                break;\n\n              case 16:\n                _context9.next = 18;\n                return Object.values(fields).reduce( /*#__PURE__*/function () {\n                  var _ref42 = _asyncToGenerator( /*#__PURE__*/regenerator_default.a.mark(function _callee8(previous, field) {\n                    var resolvedPrevious, ref, name, fieldError;\n                    return regenerator_default.a.wrap(function _callee8$(_context8) {\n                      while (1) {\n                        switch (_context8.prev = _context8.next) {\n                          case 0:\n                            if (field) {\n                              _context8.next = 2;\n                              break;\n                            }\n\n                            return _context8.abrupt(\"return\", previous);\n\n                          case 2:\n                            _context8.next = 4;\n                            return previous;\n\n                          case 4:\n                            resolvedPrevious = _context8.sent;\n                            ref = field.ref, name = field.ref.name;\n\n                            if (fields[name]) {\n                              _context8.next = 8;\n                              break;\n                            }\n\n                            return _context8.abrupt(\"return\", Promise.resolve(resolvedPrevious));\n\n                          case 8:\n                            _context8.next = 10;\n                            return validateField(fieldsRef, validateAllFieldCriteria, field);\n\n                          case 10:\n                            fieldError = _context8.sent;\n\n                            if (!fieldError[name]) {\n                              _context8.next = 15;\n                              break;\n                            }\n\n                            set(resolvedPrevious.errors, name, fieldError[name]);\n                            validFieldsRef.current.delete(name);\n                            return _context8.abrupt(\"return\", Promise.resolve(resolvedPrevious));\n\n                          case 15:\n                            if (fieldsWithValidationRef.current.has(name)) {\n                              validFieldsRef.current.add(name);\n                            }\n\n                            resolvedPrevious.values[name] = getFieldValue(fields, ref);\n                            return _context8.abrupt(\"return\", Promise.resolve(resolvedPrevious));\n\n                          case 18:\n                          case \"end\":\n                            return _context8.stop();\n                        }\n                      }\n                    }, _callee8);\n                  }));\n\n                  return function (_x19, _x20) {\n                    return _ref42.apply(this, arguments);\n                  };\n                }(), Promise.resolve({\n                  errors: {},\n                  values: {}\n                }));\n\n              case 18:\n                _yield$Object$values$ = _context9.sent;\n                _errors2 = _yield$Object$values$.errors;\n                _values = _yield$Object$values$.values;\n                fieldErrors = _errors2;\n                fieldValues = _values;\n\n              case 23:\n                if (!isEmptyObject(fieldErrors)) {\n                  _context9.next = 29;\n                  break;\n                }\n\n                errorsRef.current = {};\n                _context9.next = 27;\n                return callback(react_hook_form_es_transformToNestObject(fieldValues), e);\n\n              case 27:\n                _context9.next = 31;\n                break;\n\n              case 29:\n                if (submitFocusError && isWeb) {\n                  focusErrorField(fields, fieldErrors);\n                }\n\n                errorsRef.current = fieldErrors;\n\n              case 31:\n                _context9.prev = 31;\n                isSubmittedRef.current = true;\n                isSubmittingRef.current = false;\n                submitCountRef.current = submitCountRef.current + 1;\n                reRender();\n                return _context9.finish(31);\n\n              case 37:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, null, [[3,, 31, 37]]);\n      }));\n\n      return function (_x18) {\n        return _ref41.apply(this, arguments);\n      };\n    }();\n  }, [isWeb, reRender, shouldValidateCallback, submitFocusError, validateAllFieldCriteria, validationResolver, validationSchema]);\n\n  var resetRefs = function resetRefs() {\n    errorsRef.current = {};\n    fieldsRef.current = {};\n    touchedFieldsRef.current = {};\n    validFieldsRef.current = new Set();\n    fieldsWithValidationRef.current = new Set();\n    defaultRenderValuesRef.current = {};\n    watchFieldsRef.current = new Set();\n    dirtyFieldsRef.current = new Set();\n    isWatchAllRef.current = false;\n    isSubmittedRef.current = false;\n    isDirtyRef.current = false;\n    isValidRef.current = true;\n    submitCountRef.current = 0;\n  };\n\n  var reset = function reset(values) {\n    if (isWeb) {\n      for (var _i = 0, _Object$values = Object.values(fieldsRef.current); _i < _Object$values.length; _i++) {\n        var value = _Object$values[_i];\n\n        if (value && isHTMLElement(value.ref) && value.ref.closest) {\n          try {\n            value.ref.closest('form').reset();\n            break;\n          } catch (_a) {}\n        }\n      }\n    }\n\n    if (values) {\n      defaultValuesRef.current = values;\n    }\n\n    Object.values(resetFieldArrayFunctionRef.current).forEach(function (resetFieldArray) {\n      return isFunction(resetFieldArray) && resetFieldArray();\n    });\n    resetRefs();\n    reRender();\n  };\n\n  var getValues = function getValues(payload) {\n    var fieldValues = getFieldsValues(fieldsRef.current);\n    var outputValues = isEmptyObject(fieldValues) ? defaultValuesRef.current : fieldValues;\n    return payload && payload.nest ? react_hook_form_es_transformToNestObject(outputValues) : outputValues;\n  };\n\n  useEffect(function () {\n    return function () {\n      isUnMount.current = true;\n      fieldsRef.current && Object.values(fieldsRef.current).forEach(function (field) {\n        return removeFieldEventListenerAndRef(field, true);\n      });\n    };\n  }, [removeFieldEventListenerAndRef]);\n\n  if (!shouldValidateCallback) {\n    isValidRef.current = validFieldsRef.current.size >= fieldsWithValidationRef.current.size && isEmptyObject(errorsRef.current);\n  }\n\n  var formState = {\n    dirty: isDirtyRef.current,\n    dirtyFields: dirtyFieldsRef.current,\n    isSubmitted: isSubmittedRef.current,\n    submitCount: submitCountRef.current,\n    touched: touchedFieldsRef.current,\n    isSubmitting: isSubmittingRef.current,\n    isValid: isOnSubmit ? isSubmittedRef.current && isEmptyObject(errorsRef.current) : isValidRef.current\n  };\n  var control = Object.assign(Object.assign({\n    register: register,\n    unregister: unregister,\n    removeFieldEventListener: removeFieldEventListener,\n    getValues: getValues,\n    setValue: setValue,\n    reRender: reRender,\n    triggerValidation: triggerValidation\n  }, shouldValidateCallback ? {\n    validateSchemaIsValid: validateSchemaIsValid\n  } : {}), {\n    formState: formState,\n    mode: {\n      isOnBlur: isOnBlur,\n      isOnSubmit: isOnSubmit\n    },\n    reValidateMode: {\n      isReValidateOnBlur: isReValidateOnBlur,\n      isReValidateOnSubmit: isReValidateOnSubmit\n    },\n    errorsRef: errorsRef,\n    touchedFieldsRef: touchedFieldsRef,\n    fieldsRef: fieldsRef,\n    resetFieldArrayFunctionRef: resetFieldArrayFunctionRef,\n    validFieldsRef: validFieldsRef,\n    fieldsWithValidationRef: fieldsWithValidationRef,\n    watchFieldArrayRef: watchFieldArrayRef,\n    fieldArrayNamesRef: fieldArrayNamesRef,\n    isDirtyRef: isDirtyRef,\n    readFormStateRef: readFormStateRef,\n    defaultValuesRef: defaultValuesRef\n  });\n  return {\n    watch: watch,\n    control: control,\n    handleSubmit: handleSubmit,\n    setValue: useCallback(setValue, [reRender, setInternalValue, triggerValidation]),\n    triggerValidation: triggerValidation,\n    getValues: useCallback(getValues, []),\n    reset: useCallback(reset, []),\n    register: useCallback(register, [defaultValuesRef.current, defaultRenderValuesRef.current, watchFieldArrayRef.current]),\n    unregister: useCallback(unregister, []),\n    clearError: useCallback(clearError, []),\n    setError: useCallback(setError, []),\n    errors: errorsRef.current,\n    formState: isProxyEnabled ? new Proxy(formState, {\n      get: function get(obj, prop) {\n        if (prop in obj) {\n          readFormStateRef.current[prop] = true;\n          return obj[prop];\n        }\n\n        return {};\n      }\n    }) : formState\n  };\n}\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n\nfunction __rest(s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\n\nvar FormGlobalContext = Object(react[\"createContext\"])(null);\n\nfunction useFormContext() {\n  var context = Object(react[\"useContext\"])(FormGlobalContext);\n  if (!isUndefined(context)) return context;\n  throw new Error('Missing FormContext');\n}\n\nfunction FormContext(_a) {\n  var children = _a.children,\n      formState = _a.formState,\n      errors = _a.errors,\n      restMethods = __rest(_a, [\"children\", \"formState\", \"errors\"]);\n\n  return Object(react[\"createElement\"])(FormGlobalContext.Provider, {\n    value: Object.assign(Object.assign({}, restMethods), {\n      formState: formState,\n      errors: errors\n    })\n  }, children);\n}\n\nvar generateId = function generateId() {\n  var d = typeof performance === UNDEFINED ? Date.now() : performance.now() * 1000;\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = (Math.random() * 16 + d) % 16 | 0;\n    return (c == 'x' ? r : r & 0x3 | 0x8).toString(16);\n  });\n};\n\nvar react_hook_form_es_appendId = function appendId(value, keyName) {\n  return Object.assign(Object.assign({}, isObject(value) ? value : {\n    value: value\n  }), Object(defineProperty[\"a\" /* default */])({}, keyName, generateId()));\n};\n\nvar mapIds = function mapIds(data, keyName) {\n  return (isArray(data) ? data : []).map(function (value) {\n    return react_hook_form_es_appendId(value, keyName);\n  });\n};\n\nvar react_hook_form_es_removeAt = function removeAt(data, index) {\n  return [].concat(Object(toConsumableArray[\"a\" /* default */])(data.slice(0, index)), Object(toConsumableArray[\"a\" /* default */])(data.slice(index + 1)));\n};\n\nvar removeArrayAt = function removeArrayAt(data, index) {\n  return isUndefined(index) ? [] : isArray(index) ? index.reduce(function (_ref43, i) {\n    var result = _ref43.result,\n        previousIndex = _ref43.previousIndex;\n    return {\n      result: previousIndex > -1 ? react_hook_form_es_removeAt(result, previousIndex < i ? i - 1 : i) : react_hook_form_es_removeAt(result, i),\n      previousIndex: i\n    };\n  }, {\n    result: data,\n    previousIndex: -1\n  }).result : react_hook_form_es_removeAt(data, index);\n};\n\nvar moveArrayAt = function moveArrayAt(data, from, to) {\n  return isArray(data) ? data.splice(to, 0, data.splice(from, 1)[0]) : [];\n};\n\nvar swapArrayAt = function swapArrayAt(fields, indexA, indexB) {\n  var _ref44;\n\n  return isArray(fields) && (_ref44 = [fields[indexB], fields[indexA]], fields[indexA] = _ref44[0], fields[indexB] = _ref44[1], _ref44);\n};\n\nvar react_hook_form_es_prependAt = function prependAt(data, value) {\n  return [].concat(Object(toConsumableArray[\"a\" /* default */])(isArray(value) ? value : [value || null]), Object(toConsumableArray[\"a\" /* default */])(data));\n};\n\nvar react_hook_form_es_insertAt = function insertAt(data, index, value) {\n  return [].concat(Object(toConsumableArray[\"a\" /* default */])(data.slice(0, index)), Object(toConsumableArray[\"a\" /* default */])(isArray(value) ? value : [value || null]), Object(toConsumableArray[\"a\" /* default */])(data.slice(index)));\n};\n\nvar fillEmptyArray = function fillEmptyArray(value) {\n  return isArray(value) ? Array(value.length).fill(null) : undefined;\n};\n\nvar useEffect$1 = react[\"useEffect\"],\n    useCallback$1 = react[\"useCallback\"],\n    useRef$1 = react[\"useRef\"],\n    useState$1 = react[\"useState\"];\n\nvar react_hook_form_es_useFieldArray = function useFieldArray(_ref45) {\n  var control = _ref45.control,\n      name = _ref45.name,\n      _ref45$keyName = _ref45.keyName,\n      keyName = _ref45$keyName === void 0 ? 'id' : _ref45$keyName;\n  var methods = useFormContext();\n\n  var _ref46 = control || methods.control,\n      resetFieldArrayFunctionRef = _ref46.resetFieldArrayFunctionRef,\n      fieldArrayNamesRef = _ref46.fieldArrayNamesRef,\n      reRender = _ref46.reRender,\n      fieldsRef = _ref46.fieldsRef,\n      getValues = _ref46.getValues,\n      defaultValuesRef = _ref46.defaultValuesRef,\n      removeFieldEventListener = _ref46.removeFieldEventListener,\n      errorsRef = _ref46.errorsRef,\n      isDirtyRef = _ref46.isDirtyRef,\n      touchedFieldsRef = _ref46.touchedFieldsRef,\n      readFormStateRef = _ref46.readFormStateRef,\n      watchFieldArrayRef = _ref46.watchFieldArrayRef,\n      validFieldsRef = _ref46.validFieldsRef,\n      fieldsWithValidationRef = _ref46.fieldsWithValidationRef,\n      validateSchemaIsValid = _ref46.validateSchemaIsValid;\n\n  var memoizedDefaultValues = useRef$1(get(defaultValuesRef.current, name, []));\n\n  var _useState$ = useState$1(mapIds(memoizedDefaultValues.current, keyName)),\n      _useState$2 = Object(slicedToArray[\"a\" /* default */])(_useState$, 2),\n      fields = _useState$2[0],\n      setField = _useState$2[1];\n\n  var allFields = useRef$1(fields);\n\n  var appendValueWithKey = function appendValueWithKey(value) {\n    return value.map(function (v) {\n      return react_hook_form_es_appendId(v, keyName);\n    });\n  };\n\n  allFields.current = fields;\n\n  var commonTasks = function commonTasks(fieldsValues) {\n    watchFieldArrayRef.current = Object.assign(Object.assign({}, watchFieldArrayRef.current), Object(defineProperty[\"a\" /* default */])({}, name, fieldsValues));\n    setField(fieldsValues);\n\n    if (readFormStateRef.current.isValid && validateSchemaIsValid) {\n      validateSchemaIsValid(Object(defineProperty[\"a\" /* default */])({}, name, fieldsValues));\n    }\n  };\n\n  var resetFields = function resetFields(flagOrFields) {\n    if (readFormStateRef.current.dirty) {\n      isDirtyRef.current = isUndefined(flagOrFields) ? true : getIsFieldsDifferent(flagOrFields, memoizedDefaultValues.current);\n    }\n\n    for (var key in fieldsRef.current) {\n      if (isMatchFieldArrayName(key, name) && fieldsRef.current[key]) {\n        removeFieldEventListener(fieldsRef.current[key], true);\n      }\n    }\n  };\n\n  var mapCurrentFieldsValueWithState = function mapCurrentFieldsValueWithState() {\n    var currentFieldsValue = getValues({\n      nest: true\n    })[name];\n\n    if (isArray(currentFieldsValue)) {\n      for (var i = 0; i < currentFieldsValue.length; i++) {\n        fields[i] = Object.assign(Object.assign({}, fields[i]), currentFieldsValue[i]);\n      }\n    }\n  };\n\n  var append = function append(value) {\n    mapCurrentFieldsValueWithState();\n\n    if (readFormStateRef.current.dirty) {\n      isDirtyRef.current = true;\n    }\n\n    commonTasks([].concat(Object(toConsumableArray[\"a\" /* default */])(allFields.current), Object(toConsumableArray[\"a\" /* default */])(isArray(value) ? appendValueWithKey(value) : [react_hook_form_es_appendId(value, keyName)])));\n  };\n\n  var prepend = function prepend(value) {\n    mapCurrentFieldsValueWithState();\n    resetFields();\n    commonTasks(react_hook_form_es_prependAt(allFields.current, isArray(value) ? appendValueWithKey(value) : [react_hook_form_es_appendId(value, keyName)]));\n\n    if (errorsRef.current[name]) {\n      errorsRef.current[name] = react_hook_form_es_prependAt(errorsRef.current[name], fillEmptyArray(value));\n    }\n\n    if (readFormStateRef.current.touched && touchedFieldsRef.current[name]) {\n      touchedFieldsRef.current[name] = react_hook_form_es_prependAt(touchedFieldsRef.current[name], fillEmptyArray(value));\n    }\n  };\n\n  var remove = function remove(index) {\n    if (!isUndefined(index)) {\n      mapCurrentFieldsValueWithState();\n    }\n\n    resetFields(removeArrayAt(getFieldValueByName(fieldsRef.current, name), index));\n    commonTasks(removeArrayAt(allFields.current, index));\n\n    if (errorsRef.current[name]) {\n      errorsRef.current[name] = removeArrayAt(errorsRef.current[name], index);\n\n      if (!errorsRef.current[name].filter(Boolean).length) {\n        delete errorsRef.current[name];\n      }\n    }\n\n    if (readFormStateRef.current.touched && touchedFieldsRef.current[name]) {\n      touchedFieldsRef.current[name] = removeArrayAt(touchedFieldsRef.current[name], index);\n    }\n\n    if (readFormStateRef.current.isValid && !validateSchemaIsValid) {\n      var fieldIndex = -1;\n      var isFound = false;\n      var isIndexUndefined = isUndefined(index);\n\n      while (fieldIndex++ < fields.length) {\n        var isLast = fieldIndex === fields.length - 1;\n        var isCurrentIndex = (isArray(index) ? index : [index]).indexOf(fieldIndex) >= 0;\n\n        if (isCurrentIndex || isIndexUndefined) {\n          isFound = true;\n        }\n\n        if (!isFound) {\n          continue;\n        }\n\n        for (var key in fields[fieldIndex]) {\n          var currentFieldName = \"\".concat(name, \"[\").concat(fieldIndex, \"].\").concat(key);\n\n          if (isCurrentIndex || isLast || isIndexUndefined) {\n            validFieldsRef.current.delete(currentFieldName);\n            fieldsWithValidationRef.current.delete(currentFieldName);\n          } else {\n            var previousFieldName = \"\".concat(name, \"[\").concat(fieldIndex - 1, \"].\").concat(key);\n\n            if (validFieldsRef.current.has(currentFieldName)) {\n              validFieldsRef.current.add(previousFieldName);\n            }\n\n            if (fieldsWithValidationRef.current.has(currentFieldName)) {\n              fieldsWithValidationRef.current.add(previousFieldName);\n            }\n          }\n        }\n      }\n\n      reRender();\n    }\n  };\n\n  var insert = function insert(index, value) {\n    mapCurrentFieldsValueWithState();\n    resetFields(react_hook_form_es_insertAt(getFieldValueByName(fieldsRef.current, name), index));\n    commonTasks(react_hook_form_es_insertAt(allFields.current, index, isArray(value) ? appendValueWithKey(value) : [react_hook_form_es_appendId(value, keyName)]));\n\n    if (errorsRef.current[name]) {\n      errorsRef.current[name] = react_hook_form_es_insertAt(errorsRef.current[name], index, fillEmptyArray(value));\n    }\n\n    if (readFormStateRef.current.touched && touchedFieldsRef.current[name]) {\n      touchedFieldsRef.current[name] = react_hook_form_es_insertAt(touchedFieldsRef.current[name], index, fillEmptyArray(value));\n    }\n  };\n\n  var swap = function swap(indexA, indexB) {\n    mapCurrentFieldsValueWithState();\n    var fieldValues = getFieldValueByName(fieldsRef.current, name);\n    swapArrayAt(fieldValues, indexA, indexB);\n    resetFields(fieldValues);\n    swapArrayAt(allFields.current, indexA, indexB);\n    commonTasks(Object(toConsumableArray[\"a\" /* default */])(allFields.current));\n\n    if (errorsRef.current[name]) {\n      swapArrayAt(errorsRef.current[name], indexA, indexB);\n    }\n\n    if (readFormStateRef.current.touched && touchedFieldsRef.current[name]) {\n      swapArrayAt(touchedFieldsRef.current[name], indexA, indexB);\n    }\n  };\n\n  var move = function move(from, to) {\n    mapCurrentFieldsValueWithState();\n    var fieldValues = getFieldValueByName(fieldsRef.current, name);\n    moveArrayAt(fieldValues, from, to);\n    resetFields(fieldValues);\n    moveArrayAt(allFields.current, from, to);\n    commonTasks(Object(toConsumableArray[\"a\" /* default */])(allFields.current));\n\n    if (errorsRef.current[name]) {\n      moveArrayAt(errorsRef.current[name], from, to);\n    }\n\n    if (readFormStateRef.current.touched && touchedFieldsRef.current[name]) {\n      moveArrayAt(touchedFieldsRef.current[name], from, to);\n    }\n  };\n\n  var reset = function reset() {\n    resetFields();\n    memoizedDefaultValues.current = get(defaultValuesRef.current, name, []);\n    setField(mapIds(memoizedDefaultValues.current, keyName));\n  };\n\n  useEffect$1(function () {\n    var resetFunctions = resetFieldArrayFunctionRef.current;\n    var fieldArrayNames = fieldArrayNamesRef.current;\n    fieldArrayNames.add(name);\n    resetFunctions[name] = reset;\n    watchFieldArrayRef.current = Object.assign(Object.assign({}, watchFieldArrayRef.current), Object(defineProperty[\"a\" /* default */])({}, name, fields));\n    return function () {\n      resetFields();\n      delete resetFunctions[name];\n      fieldArrayNames.delete(name);\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return {\n    swap: useCallback$1(swap, []),\n    move: useCallback$1(move, []),\n    prepend: useCallback$1(prepend, []),\n    append: useCallback$1(append, []),\n    remove: useCallback$1(remove, []),\n    insert: useCallback$1(insert, []),\n    fields: fields\n  };\n};\n\nvar getInputValue = function getInputValue(event, isCheckboxInput) {\n  return isPrimitive(event) || !isObject(event.target) || isObject(event.target) && !event.type ? event : isCheckboxInput || isUndefined(event.target.value) ? event.target.checked : event.target.value;\n};\n\nvar react_hook_form_es_Controller = function Controller(_a) {\n  var name = _a.name,\n      rules = _a.rules,\n      InnerComponent = _a.as,\n      onBlur = _a.onBlur,\n      onChange = _a.onChange,\n      _a$onChangeName = _a.onChangeName,\n      onChangeName = _a$onChangeName === void 0 ? VALIDATION_MODE.onChange : _a$onChangeName,\n      _a$onBlurName = _a.onBlurName,\n      onBlurName = _a$onBlurName === void 0 ? VALIDATION_MODE.onBlur : _a$onBlurName,\n      valueName = _a.valueName,\n      defaultValue = _a.defaultValue,\n      control = _a.control,\n      rest = __rest(_a, [\"name\", \"rules\", \"as\", \"onBlur\", \"onChange\", \"onChangeName\", \"onBlurName\", \"valueName\", \"defaultValue\", \"control\"]);\n\n  var methods = useFormContext();\n\n  var _ref47 = control || methods.control,\n      defaultValuesRef = _ref47.defaultValuesRef,\n      setValue = _ref47.setValue,\n      register = _ref47.register,\n      unregister = _ref47.unregister,\n      errorsRef = _ref47.errorsRef,\n      removeFieldEventListener = _ref47.removeFieldEventListener,\n      triggerValidation = _ref47.triggerValidation,\n      _ref47$mode = _ref47.mode,\n      isOnSubmit = _ref47$mode.isOnSubmit,\n      isOnBlur = _ref47$mode.isOnBlur,\n      _ref47$reValidateMode = _ref47.reValidateMode,\n      isReValidateOnBlur = _ref47$reValidateMode.isReValidateOnBlur,\n      isReValidateOnSubmit = _ref47$reValidateMode.isReValidateOnSubmit,\n      isSubmitted = _ref47.formState.isSubmitted,\n      fieldsRef = _ref47.fieldsRef,\n      fieldArrayNamesRef = _ref47.fieldArrayNamesRef;\n\n  var _useState$3 = Object(react[\"useState\"])(isUndefined(defaultValue) ? get(defaultValuesRef.current, name) : defaultValue),\n      _useState$4 = Object(slicedToArray[\"a\" /* default */])(_useState$3, 2),\n      value = _useState$4[0],\n      setInputStateValue = _useState$4[1];\n\n  var valueRef = Object(react[\"useRef\"])(value);\n  var isCheckboxInput = isBoolean(value);\n\n  var shouldValidate = function shouldValidate() {\n    return !skipValidation({\n      hasError: !!get(errorsRef.current, name),\n      isOnBlur: isOnBlur,\n      isOnSubmit: isOnSubmit,\n      isReValidateOnBlur: isReValidateOnBlur,\n      isReValidateOnSubmit: isReValidateOnSubmit,\n      isSubmitted: isSubmitted\n    });\n  };\n\n  var commonTask = function commonTask(event) {\n    var data = getInputValue(event, isCheckboxInput);\n    setInputStateValue(data);\n    valueRef.current = data;\n    return data;\n  };\n\n  var eventWrapper = function eventWrapper(event) {\n    return function () {\n      for (var _len = arguments.length, arg = new Array(_len), _key = 0; _key < _len; _key++) {\n        arg[_key] = arguments[_key];\n      }\n\n      return setValue(name, commonTask(event(arg)), shouldValidate());\n    };\n  };\n\n  var handleChange = function handleChange(event) {\n    var data = commonTask(event);\n    setValue(name, data, shouldValidate());\n  };\n\n  var registerField = function registerField() {\n    if (react_hook_form_es_isNameInFieldArray(fieldArrayNamesRef.current, name) && fieldsRef.current[name]) {\n      removeFieldEventListener(fieldsRef.current[name], true);\n    }\n\n    register(Object.defineProperty({\n      name: name\n    }, VALUE, {\n      set: function set(data) {\n        setInputStateValue(data);\n        valueRef.current = data;\n      },\n      get: function get() {\n        return valueRef.current;\n      }\n    }), Object.assign({}, rules));\n  };\n\n  Object(react[\"useEffect\"])(function () {\n    if (!fieldsRef.current[name]) {\n      registerField();\n      setInputStateValue(isUndefined(defaultValue) ? get(defaultValuesRef.current, name) : defaultValue);\n    }\n  });\n  Object(react[\"useEffect\"])(function () {\n    registerField();\n    return function () {\n      if (!react_hook_form_es_isNameInFieldArray(fieldArrayNamesRef.current, name)) {\n        unregister(name);\n      }\n    };\n  }, [name]);\n  var shouldReValidateOnBlur = isOnBlur || isReValidateOnBlur;\n  var props = Object.assign(Object.assign(Object.assign(Object.assign({\n    name: name\n  }, rest), onChange ? Object(defineProperty[\"a\" /* default */])({}, onChangeName, eventWrapper(onChange)) : Object(defineProperty[\"a\" /* default */])({}, onChangeName, handleChange)), onBlur || shouldReValidateOnBlur ? Object(defineProperty[\"a\" /* default */])({}, onBlurName, function () {\n    if (onBlur) {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      onBlur(args);\n    }\n\n    if (shouldReValidateOnBlur) {\n      triggerValidation(name);\n    }\n  }) : {}), Object(defineProperty[\"a\" /* default */])({}, valueName || (isCheckboxInput ? 'checked' : VALUE), value));\n  return Object(react[\"isValidElement\"])(InnerComponent) ? Object(react[\"cloneElement\"])(InnerComponent, props) : Object(react[\"createElement\"])(InnerComponent, props);\n};\n\nvar react_hook_form_es_ErrorMessage = function ErrorMessage(_a) {\n  var InnerComponent = _a.as,\n      errors = _a.errors,\n      name = _a.name,\n      message = _a.message,\n      children = _a.children,\n      rest = __rest(_a, [\"as\", \"errors\", \"name\", \"message\", \"children\"]);\n\n  var methods = useFormContext();\n  var error = get(errors || methods.errors, name);\n\n  if (!error) {\n    return null;\n  }\n\n  var messageFromRegister = error.message,\n      types = error.types;\n  var props = Object.assign(Object.assign({}, InnerComponent ? rest : {}), {\n    children: children ? children({\n      message: messageFromRegister || message,\n      messages: types\n    }) : messageFromRegister || message\n  });\n  return InnerComponent ? Object(react[\"isValidElement\"])(InnerComponent) ? Object(react[\"cloneElement\"])(InnerComponent, props) : Object(react[\"createElement\"])(InnerComponent, props) : Object(react[\"createElement\"])(react[\"Fragment\"], Object.assign({}, props));\n};\n\n\n\n/***/ }),\n\n/***/ 1172:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction ToObject(val) {\n  if (val == null) {\n    throw new TypeError('Object.assign cannot be called with null or undefined');\n  }\n\n  return Object(val);\n}\n\nfunction ownEnumerableKeys(obj) {\n  var keys = Object.getOwnPropertyNames(obj);\n\n  if (Object.getOwnPropertySymbols) {\n    keys = keys.concat(Object.getOwnPropertySymbols(obj));\n  }\n\n  return keys.filter(function (key) {\n    return propIsEnumerable.call(obj, key);\n  });\n}\n\nmodule.exports = Object.assign || function (target, source) {\n  var from;\n  var keys;\n  var to = ToObject(target);\n\n  for (var s = 1; s < arguments.length; s++) {\n    from = arguments[s];\n    keys = ownEnumerableKeys(Object(from));\n\n    for (var i = 0; i < keys.length; i++) {\n      to[keys[i]] = from[keys[i]];\n    }\n  }\n\n  return to;\n};\n\n/***/ }),\n\n/***/ 1173:\n/***/ (function(module, exports, __webpack_require__) {\n\n// optional / simple context binding\nvar aFunction = __webpack_require__(1310);\n\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n\n  switch (length) {\n    case 1:\n      return function (a) {\n        return fn.call(that, a);\n      };\n\n    case 2:\n      return function (a, b) {\n        return fn.call(that, a, b);\n      };\n\n    case 3:\n      return function (a, b, c) {\n        return fn.call(that, a, b, c);\n      };\n  }\n\n  return function ()\n  /* ...args */\n  {\n    return fn.apply(that, arguments);\n  };\n};\n\n/***/ }),\n\n/***/ 1174:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = !__webpack_require__(1039) && !__webpack_require__(1055)(function () {\n  return Object.defineProperty(__webpack_require__(1175)('div'), 'a', {\n    get: function get() {\n      return 7;\n    }\n  }).a != 7;\n});\n\n/***/ }),\n\n/***/ 1175:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isObject = __webpack_require__(1054);\n\nvar document = __webpack_require__(1038).document; // typeof document.createElement is 'object' in old IE\n\n\nvar is = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n\n/***/ }),\n\n/***/ 1176:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar has = __webpack_require__(1046);\n\nvar toIObject = __webpack_require__(1056);\n\nvar arrayIndexOf = __webpack_require__(1312)(false);\n\nvar IE_PROTO = __webpack_require__(1110)('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n\n  for (key in O) {\n    if (key != IE_PROTO) has(O, key) && result.push(key);\n  } // Don't enum bug & hidden keys\n\n\n  while (names.length > i) {\n    if (has(O, key = names[i++])) {\n      ~arrayIndexOf(result, key) || result.push(key);\n    }\n  }\n\n  return result;\n};\n\n/***/ }),\n\n/***/ 1177:\n/***/ (function(module, exports, __webpack_require__) {\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = __webpack_require__(1178); // eslint-disable-next-line no-prototype-builtins\n\n\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n\n/***/ }),\n\n/***/ 1178:\n/***/ (function(module, exports) {\n\nvar toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n\n/***/ }),\n\n/***/ 1179:\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = __webpack_require__(1046);\n\nvar toObject = __webpack_require__(1083);\n\nvar IE_PROTO = __webpack_require__(1110)('IE_PROTO');\n\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  }\n\n  return O instanceof Object ? ObjectProto : null;\n};\n\n/***/ }),\n\n/***/ 1180:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nvar _iterator = __webpack_require__(1325);\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = __webpack_require__(1336);\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj;\n};\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};\n\n/***/ }),\n\n/***/ 1181:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar LIBRARY = __webpack_require__(1080);\n\nvar $export = __webpack_require__(1044);\n\nvar redefine = __webpack_require__(1182);\n\nvar hide = __webpack_require__(1053);\n\nvar Iterators = __webpack_require__(1114);\n\nvar $iterCreate = __webpack_require__(1329);\n\nvar setToStringTag = __webpack_require__(1116);\n\nvar getPrototypeOf = __webpack_require__(1179);\n\nvar ITERATOR = __webpack_require__(1057)('iterator');\n\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\n\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function returnThis() {\n  return this;\n};\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n\n  var getMethod = function getMethod(kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n\n    switch (kind) {\n      case KEYS:\n        return function keys() {\n          return new Constructor(this, kind);\n        };\n\n      case VALUES:\n        return function values() {\n          return new Constructor(this, kind);\n        };\n    }\n\n    return function entries() {\n      return new Constructor(this, kind);\n    };\n  };\n\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype; // Fix native\n\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true); // fix for some old engines\n\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  } // fix Array#{values, @@iterator}.name in V8 / FF\n\n\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n\n    $default = function values() {\n      return $native.call(this);\n    };\n  } // Define iterator\n\n\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  } // Plug for library\n\n\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n\n  return methods;\n};\n\n/***/ }),\n\n/***/ 1182:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(1053);\n\n/***/ }),\n\n/***/ 1183:\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = __webpack_require__(1176);\n\nvar hiddenKeys = __webpack_require__(1112).concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n\n/***/ }),\n\n/***/ 1184:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar pIE = __webpack_require__(1082);\n\nvar createDesc = __webpack_require__(1078);\n\nvar toIObject = __webpack_require__(1056);\n\nvar toPrimitive = __webpack_require__(1107);\n\nvar has = __webpack_require__(1046);\n\nvar IE8_DOM_DEFINE = __webpack_require__(1174);\n\nvar gOPD = Object.getOwnPropertyDescriptor;\nexports.f = __webpack_require__(1039) ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) {\n    /* empty */\n  }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n\n/***/ }),\n\n/***/ 1271:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// UNUSED EXPORTS: useDropzone\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(2);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/prop-types/index.js\nvar prop_types = __webpack_require__(1);\nvar prop_types_default = /*#__PURE__*/__webpack_require__.n(prop_types);\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(1037);\n\n// CONCATENATED MODULE: ./node_modules/file-selector/dist/es5/file.js\nvar COMMON_MIME_TYPES = new Map([['avi', 'video/avi'], ['gif', 'image/gif'], ['ico', 'image/x-icon'], ['jpeg', 'image/jpeg'], ['jpg', 'image/jpeg'], ['mkv', 'video/x-matroska'], ['mov', 'video/quicktime'], ['mp4', 'video/mp4'], ['pdf', 'application/pdf'], ['png', 'image/png'], ['zip', 'application/zip'], ['doc', 'application/msword'], ['docx', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document']]);\nfunction toFileWithPath(file, path) {\n  var f = withMimeType(file);\n\n  if (typeof f.path !== 'string') {\n    // on electron, path is already set to the absolute path\n    var webkitRelativePath = file.webkitRelativePath;\n    Object.defineProperty(f, 'path', {\n      value: typeof path === 'string' ? path // If <input webkitdirectory> is set,\n      // the File will have a {webkitRelativePath} property\n      // https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement/webkitdirectory\n      : typeof webkitRelativePath === 'string' && webkitRelativePath.length > 0 ? webkitRelativePath : file.name,\n      writable: false,\n      configurable: false,\n      enumerable: true\n    });\n  }\n\n  return f;\n}\n\nfunction withMimeType(file) {\n  var name = file.name;\n  var hasExtension = name && name.lastIndexOf('.') !== -1;\n\n  if (hasExtension && !file.type) {\n    var ext = name.split('.').pop().toLowerCase();\n    var type = COMMON_MIME_TYPES.get(ext);\n\n    if (type) {\n      Object.defineProperty(file, 'type', {\n        value: type,\n        writable: false,\n        configurable: false,\n        enumerable: true\n      });\n    }\n  }\n\n  return file;\n}\n// CONCATENATED MODULE: ./node_modules/file-selector/dist/es5/file-selector.js\n\n\nvar FILES_TO_IGNORE = [// Thumbnail cache files for macOS and Windows\n'.DS_Store', 'Thumbs.db' // Windows\n];\n/**\n * Convert a DragEvent's DataTrasfer object to a list of File objects\n * NOTE: If some of the items are folders,\n * everything will be flattened and placed in the same list but the paths will be kept as a {path} property.\n * @param evt\n */\n\nfunction fromEvent(evt) {\n  return Object(tslib_es6[\"b\" /* __awaiter */])(this, void 0, void 0, function () {\n    return Object(tslib_es6[\"d\" /* __generator */])(this, function (_a) {\n      return [2\n      /*return*/\n      , isDragEvt(evt) && evt.dataTransfer ? getDataTransferFiles(evt.dataTransfer, evt.type) : getInputFiles(evt)];\n    });\n  });\n}\n\nfunction isDragEvt(value) {\n  return !!value.dataTransfer;\n}\n\nfunction getInputFiles(evt) {\n  var files = isInput(evt.target) ? evt.target.files ? fromList(evt.target.files) : [] : [];\n  return files.map(function (file) {\n    return toFileWithPath(file);\n  });\n}\n\nfunction isInput(value) {\n  return value !== null;\n}\n\nfunction getDataTransferFiles(dt, type) {\n  return Object(tslib_es6[\"b\" /* __awaiter */])(this, void 0, void 0, function () {\n    var items, files;\n    return Object(tslib_es6[\"d\" /* __generator */])(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          if (!dt.items) return [3\n          /*break*/\n          , 2];\n          items = fromList(dt.items).filter(function (item) {\n            return item.kind === 'file';\n          }); // According to https://html.spec.whatwg.org/multipage/dnd.html#dndevents,\n          // only 'dragstart' and 'drop' has access to the data (source node)\n\n          if (type !== 'drop') {\n            return [2\n            /*return*/\n            , items];\n          }\n\n          return [4\n          /*yield*/\n          , Promise.all(items.map(toFilePromises))];\n\n        case 1:\n          files = _a.sent();\n          return [2\n          /*return*/\n          , noIgnoredFiles(flatten(files))];\n\n        case 2:\n          return [2\n          /*return*/\n          , noIgnoredFiles(fromList(dt.files).map(function (file) {\n            return toFileWithPath(file);\n          }))];\n      }\n    });\n  });\n}\n\nfunction noIgnoredFiles(files) {\n  return files.filter(function (file) {\n    return FILES_TO_IGNORE.indexOf(file.name) === -1;\n  });\n} // IE11 does not support Array.from()\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from#Browser_compatibility\n// https://developer.mozilla.org/en-US/docs/Web/API/FileList\n// https://developer.mozilla.org/en-US/docs/Web/API/DataTransferItemList\n\n\nfunction fromList(items) {\n  var files = []; // tslint:disable: prefer-for-of\n\n  for (var i = 0; i < items.length; i++) {\n    var file = items[i];\n    files.push(file);\n  }\n\n  return files;\n} // https://developer.mozilla.org/en-US/docs/Web/API/DataTransferItem\n\n\nfunction toFilePromises(item) {\n  if (typeof item.webkitGetAsEntry !== 'function') {\n    return fromDataTransferItem(item);\n  }\n\n  var entry = item.webkitGetAsEntry(); // Safari supports dropping an image node from a different window and can be retrieved using\n  // the DataTransferItem.getAsFile() API\n  // NOTE: FileSystemEntry.file() throws if trying to get the file\n\n  if (entry && entry.isDirectory) {\n    return fromDirEntry(entry);\n  }\n\n  return fromDataTransferItem(item);\n}\n\nfunction flatten(items) {\n  return items.reduce(function (acc, files) {\n    return Object(tslib_es6[\"e\" /* __spread */])(acc, Array.isArray(files) ? flatten(files) : [files]);\n  }, []);\n}\n\nfunction fromDataTransferItem(item) {\n  var file = item.getAsFile();\n\n  if (!file) {\n    return Promise.reject(item + \" is not a File\");\n  }\n\n  var fwp = toFileWithPath(file);\n  return Promise.resolve(fwp);\n} // https://developer.mozilla.org/en-US/docs/Web/API/FileSystemEntry\n\n\nfunction fromEntry(entry) {\n  return Object(tslib_es6[\"b\" /* __awaiter */])(this, void 0, void 0, function () {\n    return Object(tslib_es6[\"d\" /* __generator */])(this, function (_a) {\n      return [2\n      /*return*/\n      , entry.isDirectory ? fromDirEntry(entry) : fromFileEntry(entry)];\n    });\n  });\n} // https://developer.mozilla.org/en-US/docs/Web/API/FileSystemDirectoryEntry\n\n\nfunction fromDirEntry(entry) {\n  var reader = entry.createReader();\n  return new Promise(function (resolve, reject) {\n    var entries = [];\n\n    function readEntries() {\n      var _this = this; // https://developer.mozilla.org/en-US/docs/Web/API/FileSystemDirectoryEntry/createReader\n      // https://developer.mozilla.org/en-US/docs/Web/API/FileSystemDirectoryReader/readEntries\n\n\n      reader.readEntries(function (batch) {\n        return Object(tslib_es6[\"b\" /* __awaiter */])(_this, void 0, void 0, function () {\n          var files, err_1, items;\n          return Object(tslib_es6[\"d\" /* __generator */])(this, function (_a) {\n            switch (_a.label) {\n              case 0:\n                if (!!batch.length) return [3\n                /*break*/\n                , 5];\n                _a.label = 1;\n\n              case 1:\n                _a.trys.push([1, 3,, 4]);\n\n                return [4\n                /*yield*/\n                , Promise.all(entries)];\n\n              case 2:\n                files = _a.sent();\n                resolve(files);\n                return [3\n                /*break*/\n                , 4];\n\n              case 3:\n                err_1 = _a.sent();\n                reject(err_1);\n                return [3\n                /*break*/\n                , 4];\n\n              case 4:\n                return [3\n                /*break*/\n                , 6];\n\n              case 5:\n                items = Promise.all(batch.map(fromEntry));\n                entries.push(items); // Continue reading\n\n                readEntries();\n                _a.label = 6;\n\n              case 6:\n                return [2\n                /*return*/\n                ];\n            }\n          });\n        });\n      }, function (err) {\n        reject(err);\n      });\n    }\n\n    readEntries();\n  });\n} // https://developer.mozilla.org/en-US/docs/Web/API/FileSystemFileEntry\n\n\nfunction fromFileEntry(entry) {\n  return Object(tslib_es6[\"b\" /* __awaiter */])(this, void 0, void 0, function () {\n    return Object(tslib_es6[\"d\" /* __generator */])(this, function (_a) {\n      return [2\n      /*return*/\n      , new Promise(function (resolve, reject) {\n        entry.file(function (file) {\n          var fwp = toFileWithPath(file, entry.fullPath);\n          resolve(fwp);\n        }, function (err) {\n          reject(err);\n        });\n      })];\n    });\n  });\n}\n// CONCATENATED MODULE: ./node_modules/file-selector/dist/es5/index.js\n\n// EXTERNAL MODULE: ./node_modules/attr-accept/dist/es/index.js\nvar es = __webpack_require__(1305);\nvar es_default = /*#__PURE__*/__webpack_require__.n(es);\n\n// CONCATENATED MODULE: ./node_modules/react-dropzone/dist/es/utils/index.js\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\n // Firefox versions prior to 53 return a bogus MIME type for every file drag, so dragovers with\n// that MIME type will always be accepted\n\nfunction fileAccepted(file, accept) {\n  return file.type === 'application/x-moz-file' || es_default()(file, accept);\n}\nfunction fileMatchSize(file, minSize, maxSize) {\n  if (isDefined(file.size)) {\n    if (isDefined(minSize) && isDefined(maxSize)) return file.size >= minSize && file.size <= maxSize;else if (isDefined(minSize)) return file.size >= minSize;else if (isDefined(maxSize)) return file.size <= maxSize;\n  }\n\n  return true;\n}\n\nfunction isDefined(value) {\n  return value !== undefined && value !== null;\n}\n\nfunction allFilesAccepted(_ref) {\n  var files = _ref.files,\n      accept = _ref.accept,\n      minSize = _ref.minSize,\n      maxSize = _ref.maxSize,\n      multiple = _ref.multiple;\n\n  if (!multiple && files.length > 1) {\n    return false;\n  }\n\n  return files.every(function (file) {\n    return fileAccepted(file, accept) && fileMatchSize(file, minSize, maxSize);\n  });\n} // React's synthetic events has event.isPropagationStopped,\n// but to remain compatibility with other libs (Preact) fall back\n// to check event.cancelBubble\n\nfunction isPropagationStopped(event) {\n  if (typeof event.isPropagationStopped === 'function') {\n    return event.isPropagationStopped();\n  } else if (typeof event.cancelBubble !== 'undefined') {\n    return event.cancelBubble;\n  }\n\n  return false;\n}\nfunction isEvtWithFiles(event) {\n  if (!event.dataTransfer) {\n    return !!event.target && !!event.target.files;\n  } // https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer/types\n  // https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API/Recommended_drag_types#file\n\n\n  return Array.prototype.some.call(event.dataTransfer.types, function (type) {\n    return type === 'Files' || type === 'application/x-moz-file';\n  });\n}\nfunction isKindFile(item) {\n  return _typeof(item) === 'object' && item !== null && item.kind === 'file';\n} // allow the entire document to be a drag target\n\nfunction onDocumentDragOver(event) {\n  event.preventDefault();\n}\n\nfunction isIe(userAgent) {\n  return userAgent.indexOf('MSIE') !== -1 || userAgent.indexOf('Trident/') !== -1;\n}\n\nfunction isEdge(userAgent) {\n  return userAgent.indexOf('Edge/') !== -1;\n}\n\nfunction isIeOrEdge() {\n  var userAgent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window.navigator.userAgent;\n  return isIe(userAgent) || isEdge(userAgent);\n}\n/**\n * This is intended to be used to compose event handlers\n * They are executed in order until one of them calls `event.isPropagationStopped()`.\n * Note that the check is done on the first invoke too,\n * meaning that if propagation was stopped before invoking the fns,\n * no handlers will be executed.\n *\n * @param {Function} fns the event hanlder functions\n * @return {Function} the event handler to add to an element\n */\n\nfunction composeEventHandlers() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  return function (event) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n\n    return fns.some(function (fn) {\n      if (!isPropagationStopped(event) && fn) {\n        fn.apply(void 0, [event].concat(args));\n      }\n\n      return isPropagationStopped(event);\n    });\n  };\n}\n// CONCATENATED MODULE: ./node_modules/react-dropzone/dist/es/index.js\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n/* eslint prefer-template: 0 */\n\n\n\n\n\n\n/**\n * Convenience wrapper component for the `useDropzone` hook\n *\n * ```jsx\n * <Dropzone>\n *   {({getRootProps, getInputProps}) => (\n *     <div {...getRootProps()}>\n *       <input {...getInputProps()} />\n *       <p>Drag 'n' drop some files here, or click to select files</p>\n *     </div>\n *   )}\n * </Dropzone>\n * ```\n */\n\nvar Dropzone = Object(react[\"forwardRef\"])(function (_ref, ref) {\n  var children = _ref.children,\n      params = _objectWithoutProperties(_ref, [\"children\"]);\n\n  var _useDropzone = useDropzone(params),\n      open = _useDropzone.open,\n      props = _objectWithoutProperties(_useDropzone, [\"open\"]);\n\n  Object(react[\"useImperativeHandle\"])(ref, function () {\n    return {\n      open: open\n    };\n  }, [open]); // TODO: Figure out why react-styleguidist cannot create docs if we don't return a jsx element\n\n  return react_default.a.createElement(react[\"Fragment\"], null, children(_objectSpread({}, props, {\n    open: open\n  })));\n});\nDropzone.displayName = 'Dropzone';\nDropzone.propTypes = {\n  /**\n   * Render function that exposes the dropzone state and prop getter fns\n   *\n   * @param {object} params\n   * @param {Function} params.getRootProps Returns the props you should apply to the root drop container you render\n   * @param {Function} params.getInputProps Returns the props you should apply to hidden file input you render\n   * @param {Function} params.open Open the native file selection dialog\n   * @param {boolean} params.isFocused Dropzone area is in focus\n   * @param {boolean} params.isFileDialogActive File dialog is opened\n   * @param {boolean} params.isDragActive Active drag is in progress\n   * @param {boolean} params.isDragAccept Dragged files are accepted\n   * @param {boolean} params.isDragReject Some dragged files are rejected\n   * @param {File[]} params.draggedFiles Files in active drag\n   * @param {File[]} params.acceptedFiles Accepted files\n   * @param {File[]} params.rejectedFiles Rejected files\n   */\n  children: prop_types_default.a.func,\n\n  /**\n   * Set accepted file types.\n   * See https://github.com/okonet/attr-accept for more information.\n   * Keep in mind that mime type determination is not reliable across platforms. CSV files,\n   * for example, are reported as text/plain under macOS but as application/vnd.ms-excel under\n   * Windows. In some cases there might not be a mime type set at all.\n   * See: https://github.com/react-dropzone/react-dropzone/issues/276\n   */\n  accept: prop_types_default.a.oneOfType([prop_types_default.a.string, prop_types_default.a.arrayOf(prop_types_default.a.string)]),\n\n  /**\n   * Allow drag 'n' drop (or selection from the file dialog) of multiple files\n   */\n  multiple: prop_types_default.a.bool,\n\n  /**\n   * If false, allow dropped items to take over the current browser window\n   */\n  preventDropOnDocument: prop_types_default.a.bool,\n\n  /**\n   * If true, disables click to open the native file selection dialog\n   */\n  noClick: prop_types_default.a.bool,\n\n  /**\n   * If true, disables SPACE/ENTER to open the native file selection dialog.\n   * Note that it also stops tracking the focus state.\n   */\n  noKeyboard: prop_types_default.a.bool,\n\n  /**\n   * If true, disables drag 'n' drop\n   */\n  noDrag: prop_types_default.a.bool,\n\n  /**\n   * If true, stops drag event propagation to parents\n   */\n  noDragEventsBubbling: prop_types_default.a.bool,\n\n  /**\n   * Minimum file size (in bytes)\n   */\n  minSize: prop_types_default.a.number,\n\n  /**\n   * Maximum file size (in bytes)\n   */\n  maxSize: prop_types_default.a.number,\n\n  /**\n   * Enable/disable the dropzone\n   */\n  disabled: prop_types_default.a.bool,\n\n  /**\n   * Use this to provide a custom file aggregator\n   *\n   * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n   */\n  getFilesFromEvent: prop_types_default.a.func,\n\n  /**\n   * Cb for when closing the file dialog with no selection\n   */\n  onFileDialogCancel: prop_types_default.a.func,\n\n  /**\n   * Cb for when the `dragenter` event occurs.\n   *\n   * @param {DragEvent} event\n   */\n  onDragEnter: prop_types_default.a.func,\n\n  /**\n   * Cb for when the `dragleave` event occurs\n   *\n   * @param {DragEvent} event\n   */\n  onDragLeave: prop_types_default.a.func,\n\n  /**\n   * Cb for when the `dragover` event occurs\n   *\n   * @param {DragEvent} event\n   */\n  onDragOver: prop_types_default.a.func,\n\n  /**\n   * Cb for when the `drop` event occurs.\n   * Note that this callback is invoked after the `getFilesFromEvent` callback is done.\n   *\n   * Files are accepted or rejected based on the `accept`, `multiple`, `minSize` and `maxSize` props.\n   * `accept` must be a valid [MIME type](http://www.iana.org/assignments/media-types/media-types.xhtml) according to [input element specification](https://www.w3.org/wiki/HTML/Elements/input/file) or a valid file extension.\n   * If `multiple` is set to false and additional files are droppped,\n   * all files besides the first will be rejected.\n   * Any file which does not have a size in the [`minSize`, `maxSize`] range, will be rejected as well.\n   *\n   * Note that the `onDrop` callback will always be invoked regardless if the dropped files were accepted or rejected.\n   * If you'd like to react to a specific scenario, use the `onDropAccepted`/`onDropRejected` props.\n   *\n   * `onDrop` will provide you with an array of [File](https://developer.mozilla.org/en-US/docs/Web/API/File) objects which you can then process and send to a server.\n   * For example, with [SuperAgent](https://github.com/visionmedia/superagent) as a http/ajax library:\n   *\n   * ```js\n   * function onDrop(acceptedFiles) {\n   *   const req = request.post('/upload')\n   *   acceptedFiles.forEach(file => {\n   *     req.attach(file.name, file)\n   *   })\n   *   req.end(callback)\n   * }\n   * ```\n   *\n   * @param {File[]} acceptedFiles\n   * @param {File[]} rejectedFiles\n   * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n   */\n  onDrop: prop_types_default.a.func,\n\n  /**\n   * Cb for when the `drop` event occurs.\n   * Note that if no files are accepted, this callback is not invoked.\n   *\n   * @param {File[]} files\n   * @param {(DragEvent|Event)} event\n   */\n  onDropAccepted: prop_types_default.a.func,\n\n  /**\n   * Cb for when the `drop` event occurs.\n   * Note that if no files are rejected, this callback is not invoked.\n   *\n   * @param {object[]} files\n   * @param {(DragEvent|Event)} event\n   */\n  onDropRejected: prop_types_default.a.func\n};\n/* harmony default export */ var dist_es = __webpack_exports__[\"a\"] = (Dropzone);\n/**\n * A function that is invoked for the `dragenter`,\n * `dragover` and `dragleave` events.\n * It is not invoked if the items are not files (such as link, text, etc.).\n *\n * @callback dragCb\n * @param {DragEvent} event\n */\n\n/**\n * A function that is invoked for the `drop` or input change event.\n * It is not invoked if the items are not files (such as link, text, etc.).\n *\n * @callback dropCb\n * @param {File[]} acceptedFiles List of accepted files\n * @param {File[]} rejectedFiles List of rejected files\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n */\n\n/**\n * A function that is invoked for the `drop` or input change event.\n * It is not invoked if the items are files (such as link, text, etc.).\n *\n * @callback dropAcceptedCb\n * @param {File[]} files List of accepted files that meet the given criteria\n * (`accept`, `multiple`, `minSize`, `maxSize`)\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n */\n\n/**\n * A function that is invoked for the `drop` or input change event.\n *\n * @callback dropRejectedCb\n * @param {File[]} files List of rejected files that do not meet the given criteria\n * (`accept`, `multiple`, `minSize`, `maxSize`)\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n */\n\n/**\n * A function that is used aggregate files,\n * in a asynchronous fashion, from drag or input change events.\n *\n * @callback getFilesFromEvent\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n * @returns {(File[]|Promise<File[]>)}\n */\n\n/**\n * An object with the current dropzone state and some helper functions.\n *\n * @typedef {object} DropzoneState\n * @property {Function} getRootProps Returns the props you should apply to the root drop container you render\n * @property {Function} getInputProps Returns the props you should apply to hidden file input you render\n * @property {Function} open Open the native file selection dialog\n * @property {boolean} isFocused Dropzone area is in focus\n * @property {boolean} isFileDialogActive File dialog is opened\n * @property {boolean} isDragActive Active drag is in progress\n * @property {boolean} isDragAccept Dragged files are accepted\n * @property {boolean} isDragReject Some dragged files are rejected\n * @property {File[]} draggedFiles Files in active drag\n * @property {File[]} acceptedFiles Accepted files\n * @property {File[]} rejectedFiles Rejected files\n */\n\nvar initialState = {\n  isFocused: false,\n  isFileDialogActive: false,\n  isDragActive: false,\n  isDragAccept: false,\n  isDragReject: false,\n  draggedFiles: [],\n  acceptedFiles: [],\n  rejectedFiles: []\n};\n/**\n * A React hook that creates a drag 'n' drop area.\n *\n * ```jsx\n * function MyDropzone(props) {\n *   const {getRootProps, getInputProps} = useDropzone({\n *     onDrop: acceptedFiles => {\n *       // do something with the File objects, e.g. upload to some server\n *     }\n *   });\n *   return (\n *     <div {...getRootProps()}>\n *       <input {...getInputProps()} />\n *       <p>Drag and drop some files here, or click to select files</p>\n *     </div>\n *   )\n * }\n * ```\n *\n * @function useDropzone\n *\n * @param {object} props\n * @param {string|string[]} [props.accept] Set accepted file types.\n * See https://github.com/okonet/attr-accept for more information.\n * Keep in mind that mime type determination is not reliable across platforms. CSV files,\n * for example, are reported as text/plain under macOS but as application/vnd.ms-excel under\n * Windows. In some cases there might not be a mime type set at all.\n * See: https://github.com/react-dropzone/react-dropzone/issues/276\n * @param {boolean} [props.multiple=true] Allow drag 'n' drop (or selection from the file dialog) of multiple files\n * @param {boolean} [props.preventDropOnDocument=true] If false, allow dropped items to take over the current browser window\n * @param {boolean} [props.noClick=false] If true, disables click to open the native file selection dialog\n * @param {boolean} [props.noKeyboard=false] If true, disables SPACE/ENTER to open the native file selection dialog.\n * Note that it also stops tracking the focus state.\n * @param {boolean} [props.noDrag=false] If true, disables drag 'n' drop\n * @param {boolean} [props.noDragEventsBubbling=false] If true, stops drag event propagation to parents\n * @param {number} [props.minSize=0] Minimum file size (in bytes)\n * @param {number} [props.maxSize=Infinity] Maximum file size (in bytes)\n * @param {boolean} [props.disabled=false] Enable/disable the dropzone\n * @param {getFilesFromEvent} [props.getFilesFromEvent] Use this to provide a custom file aggregator\n * @param {Function} [props.onFileDialogCancel] Cb for when closing the file dialog with no selection\n * @param {dragCb} [props.onDragEnter] Cb for when the `dragenter` event occurs.\n * @param {dragCb} [props.onDragLeave] Cb for when the `dragleave` event occurs\n * @param {dragCb} [props.onDragOver] Cb for when the `dragover` event occurs\n * @param {dropCb} [props.onDrop] Cb for when the `drop` event occurs.\n * Note that this callback is invoked after the `getFilesFromEvent` callback is done.\n *\n * Files are accepted or rejected based on the `accept`, `multiple`, `minSize` and `maxSize` props.\n * `accept` must be a valid [MIME type](http://www.iana.org/assignments/media-types/media-types.xhtml) according to [input element specification](https://www.w3.org/wiki/HTML/Elements/input/file) or a valid file extension.\n * If `multiple` is set to false and additional files are droppped,\n * all files besides the first will be rejected.\n * Any file which does not have a size in the [`minSize`, `maxSize`] range, will be rejected as well.\n *\n * Note that the `onDrop` callback will always be invoked regardless if the dropped files were accepted or rejected.\n * If you'd like to react to a specific scenario, use the `onDropAccepted`/`onDropRejected` props.\n *\n * `onDrop` will provide you with an array of [File](https://developer.mozilla.org/en-US/docs/Web/API/File) objects which you can then process and send to a server.\n * For example, with [SuperAgent](https://github.com/visionmedia/superagent) as a http/ajax library:\n *\n * ```js\n * function onDrop(acceptedFiles) {\n *   const req = request.post('/upload')\n *   acceptedFiles.forEach(file => {\n *     req.attach(file.name, file)\n *   })\n *   req.end(callback)\n * }\n * ```\n * @param {dropAcceptedCb} [props.onDropAccepted]\n * @param {dropRejectedCb} [props.onDropRejected]\n *\n * @returns {DropzoneState}\n */\n\nfunction useDropzone() {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      accept = _ref2.accept,\n      _ref2$disabled = _ref2.disabled,\n      disabled = _ref2$disabled === void 0 ? false : _ref2$disabled,\n      _ref2$getFilesFromEve = _ref2.getFilesFromEvent,\n      getFilesFromEvent = _ref2$getFilesFromEve === void 0 ? fromEvent : _ref2$getFilesFromEve,\n      _ref2$maxSize = _ref2.maxSize,\n      maxSize = _ref2$maxSize === void 0 ? Infinity : _ref2$maxSize,\n      _ref2$minSize = _ref2.minSize,\n      minSize = _ref2$minSize === void 0 ? 0 : _ref2$minSize,\n      _ref2$multiple = _ref2.multiple,\n      multiple = _ref2$multiple === void 0 ? true : _ref2$multiple,\n      onDragEnter = _ref2.onDragEnter,\n      onDragLeave = _ref2.onDragLeave,\n      onDragOver = _ref2.onDragOver,\n      onDrop = _ref2.onDrop,\n      onDropAccepted = _ref2.onDropAccepted,\n      onDropRejected = _ref2.onDropRejected,\n      onFileDialogCancel = _ref2.onFileDialogCancel,\n      _ref2$preventDropOnDo = _ref2.preventDropOnDocument,\n      preventDropOnDocument = _ref2$preventDropOnDo === void 0 ? true : _ref2$preventDropOnDo,\n      _ref2$noClick = _ref2.noClick,\n      noClick = _ref2$noClick === void 0 ? false : _ref2$noClick,\n      _ref2$noKeyboard = _ref2.noKeyboard,\n      noKeyboard = _ref2$noKeyboard === void 0 ? false : _ref2$noKeyboard,\n      _ref2$noDrag = _ref2.noDrag,\n      noDrag = _ref2$noDrag === void 0 ? false : _ref2$noDrag,\n      _ref2$noDragEventsBub = _ref2.noDragEventsBubbling,\n      noDragEventsBubbling = _ref2$noDragEventsBub === void 0 ? false : _ref2$noDragEventsBub;\n\n  var rootRef = Object(react[\"useRef\"])(null);\n  var inputRef = Object(react[\"useRef\"])(null);\n\n  var _useReducer = Object(react[\"useReducer\"])(reducer, initialState),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  var isFocused = state.isFocused,\n      isFileDialogActive = state.isFileDialogActive,\n      draggedFiles = state.draggedFiles; // Fn for opening the file dialog programmatically\n\n  var openFileDialog = Object(react[\"useCallback\"])(function () {\n    if (inputRef.current) {\n      dispatch({\n        type: 'openDialog'\n      });\n      inputRef.current.value = null;\n      inputRef.current.click();\n    }\n  }, [dispatch]); // Update file dialog active state when the window is focused on\n\n  var onWindowFocus = function onWindowFocus() {\n    // Execute the timeout only if the file dialog is opened in the browser\n    if (isFileDialogActive) {\n      setTimeout(function () {\n        if (inputRef.current) {\n          var files = inputRef.current.files;\n\n          if (!files.length) {\n            dispatch({\n              type: 'closeDialog'\n            });\n\n            if (typeof onFileDialogCancel === 'function') {\n              onFileDialogCancel();\n            }\n          }\n        }\n      }, 300);\n    }\n  };\n\n  Object(react[\"useEffect\"])(function () {\n    window.addEventListener('focus', onWindowFocus, false);\n    return function () {\n      window.removeEventListener('focus', onWindowFocus, false);\n    };\n  }, [inputRef, isFileDialogActive, onFileDialogCancel]); // Cb to open the file dialog when SPACE/ENTER occurs on the dropzone\n\n  var onKeyDownCb = Object(react[\"useCallback\"])(function (event) {\n    // Ignore keyboard events bubbling up the DOM tree\n    if (!rootRef.current || !rootRef.current.isEqualNode(event.target)) {\n      return;\n    }\n\n    if (event.keyCode === 32 || event.keyCode === 13) {\n      event.preventDefault();\n      openFileDialog();\n    }\n  }, [rootRef, inputRef]); // Update focus state for the dropzone\n\n  var onFocusCb = Object(react[\"useCallback\"])(function () {\n    dispatch({\n      type: 'focus'\n    });\n  }, []);\n  var onBlurCb = Object(react[\"useCallback\"])(function () {\n    dispatch({\n      type: 'blur'\n    });\n  }, []); // Cb to open the file dialog when click occurs on the dropzone\n\n  var onClickCb = Object(react[\"useCallback\"])(function () {\n    if (noClick) {\n      return;\n    } // In IE11/Edge the file-browser dialog is blocking, therefore, use setTimeout()\n    // to ensure React can handle state changes\n    // See: https://github.com/react-dropzone/react-dropzone/issues/450\n\n\n    if (isIeOrEdge()) {\n      setTimeout(openFileDialog, 0);\n    } else {\n      openFileDialog();\n    }\n  }, [inputRef, noClick]);\n  var dragTargetsRef = Object(react[\"useRef\"])([]);\n\n  var onDocumentDrop = function onDocumentDrop(event) {\n    if (rootRef.current && rootRef.current.contains(event.target)) {\n      // If we intercepted an event for our instance, let it propagate down to the instance's onDrop handler\n      return;\n    }\n\n    event.preventDefault();\n    dragTargetsRef.current = [];\n  };\n\n  Object(react[\"useEffect\"])(function () {\n    if (preventDropOnDocument) {\n      document.addEventListener('dragover', onDocumentDragOver, false);\n      document.addEventListener('drop', onDocumentDrop, false);\n    }\n\n    return function () {\n      if (preventDropOnDocument) {\n        document.removeEventListener('dragover', onDocumentDragOver);\n        document.removeEventListener('drop', onDocumentDrop);\n      }\n    };\n  }, [rootRef, preventDropOnDocument]);\n  var onDragEnterCb = Object(react[\"useCallback\"])(function (event) {\n    event.preventDefault(); // Persist here because we need the event later after getFilesFromEvent() is done\n\n    event.persist();\n    stopPropagation(event); // Count the dropzone and any children that are entered.\n\n    if (dragTargetsRef.current.indexOf(event.target) === -1) {\n      dragTargetsRef.current = [].concat(_toConsumableArray(dragTargetsRef.current), [event.target]);\n    }\n\n    if (isEvtWithFiles(event)) {\n      Promise.resolve(getFilesFromEvent(event)).then(function (draggedFiles) {\n        if (isPropagationStopped(event) && !noDragEventsBubbling) {\n          return;\n        }\n\n        dispatch({\n          draggedFiles: draggedFiles,\n          isDragActive: true,\n          type: 'setDraggedFiles'\n        });\n\n        if (onDragEnter) {\n          onDragEnter(event);\n        }\n      });\n    }\n  }, [getFilesFromEvent, onDragEnter, noDragEventsBubbling]);\n  var onDragOverCb = Object(react[\"useCallback\"])(function (event) {\n    event.preventDefault();\n    event.persist();\n    stopPropagation(event);\n\n    if (event.dataTransfer) {\n      try {\n        event.dataTransfer.dropEffect = 'copy';\n      } catch (_unused) {}\n      /* eslint-disable-line no-empty */\n\n    }\n\n    if (isEvtWithFiles(event) && onDragOver) {\n      onDragOver(event);\n    }\n\n    return false;\n  }, [onDragOver, noDragEventsBubbling]);\n  var onDragLeaveCb = Object(react[\"useCallback\"])(function (event) {\n    event.preventDefault();\n    event.persist();\n    stopPropagation(event); // Only deactivate once the dropzone and all children have been left\n\n    var targets = dragTargetsRef.current.filter(function (target) {\n      return target !== event.target && rootRef.current && rootRef.current.contains(target);\n    });\n    dragTargetsRef.current = targets;\n\n    if (targets.length > 0) {\n      return;\n    }\n\n    dispatch({\n      isDragActive: false,\n      type: 'setDraggedFiles',\n      draggedFiles: []\n    });\n\n    if (isEvtWithFiles(event) && onDragLeave) {\n      onDragLeave(event);\n    }\n  }, [rootRef, onDragLeave, noDragEventsBubbling]);\n  var onDropCb = Object(react[\"useCallback\"])(function (event) {\n    event.preventDefault(); // Persist here because we need the event later after getFilesFromEvent() is done\n\n    event.persist();\n    stopPropagation(event);\n    dragTargetsRef.current = [];\n\n    if (isEvtWithFiles(event)) {\n      Promise.resolve(getFilesFromEvent(event)).then(function (files) {\n        if (isPropagationStopped(event) && !noDragEventsBubbling) {\n          return;\n        }\n\n        var acceptedFiles = [];\n        var rejectedFiles = [];\n        files.forEach(function (file) {\n          if (fileAccepted(file, accept) && fileMatchSize(file, minSize, maxSize)) {\n            acceptedFiles.push(file);\n          } else {\n            rejectedFiles.push(file);\n          }\n        });\n\n        if (!multiple && acceptedFiles.length > 1) {\n          rejectedFiles.push.apply(rejectedFiles, _toConsumableArray(acceptedFiles.splice(0))); // Reject everything and empty accepted files\n        }\n\n        dispatch({\n          acceptedFiles: acceptedFiles,\n          rejectedFiles: rejectedFiles,\n          type: 'setFiles'\n        });\n\n        if (onDrop) {\n          onDrop(acceptedFiles, rejectedFiles, event);\n        }\n\n        if (rejectedFiles.length > 0 && onDropRejected) {\n          onDropRejected(rejectedFiles, event);\n        }\n\n        if (acceptedFiles.length > 0 && onDropAccepted) {\n          onDropAccepted(acceptedFiles, event);\n        }\n      });\n    }\n\n    dispatch({\n      type: 'reset'\n    });\n  }, [multiple, accept, minSize, maxSize, getFilesFromEvent, onDrop, onDropAccepted, onDropRejected, noDragEventsBubbling]);\n\n  var composeHandler = function composeHandler(fn) {\n    return disabled ? null : fn;\n  };\n\n  var composeKeyboardHandler = function composeKeyboardHandler(fn) {\n    return noKeyboard ? null : composeHandler(fn);\n  };\n\n  var composeDragHandler = function composeDragHandler(fn) {\n    return noDrag ? null : composeHandler(fn);\n  };\n\n  var stopPropagation = function stopPropagation(event) {\n    if (noDragEventsBubbling) {\n      event.stopPropagation();\n    }\n  };\n\n  var getRootProps = Object(react[\"useMemo\"])(function () {\n    return function () {\n      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref3$refKey = _ref3.refKey,\n          refKey = _ref3$refKey === void 0 ? 'ref' : _ref3$refKey,\n          onKeyDown = _ref3.onKeyDown,\n          onFocus = _ref3.onFocus,\n          onBlur = _ref3.onBlur,\n          onClick = _ref3.onClick,\n          onDragEnter = _ref3.onDragEnter,\n          onDragOver = _ref3.onDragOver,\n          onDragLeave = _ref3.onDragLeave,\n          onDrop = _ref3.onDrop,\n          rest = _objectWithoutProperties(_ref3, [\"refKey\", \"onKeyDown\", \"onFocus\", \"onBlur\", \"onClick\", \"onDragEnter\", \"onDragOver\", \"onDragLeave\", \"onDrop\"]);\n\n      return _objectSpread(_defineProperty({\n        onKeyDown: composeKeyboardHandler(composeEventHandlers(onKeyDown, onKeyDownCb)),\n        onFocus: composeKeyboardHandler(composeEventHandlers(onFocus, onFocusCb)),\n        onBlur: composeKeyboardHandler(composeEventHandlers(onBlur, onBlurCb)),\n        onClick: composeHandler(composeEventHandlers(onClick, onClickCb)),\n        onDragEnter: composeDragHandler(composeEventHandlers(onDragEnter, onDragEnterCb)),\n        onDragOver: composeDragHandler(composeEventHandlers(onDragOver, onDragOverCb)),\n        onDragLeave: composeDragHandler(composeEventHandlers(onDragLeave, onDragLeaveCb)),\n        onDrop: composeDragHandler(composeEventHandlers(onDrop, onDropCb))\n      }, refKey, rootRef), !disabled && !noKeyboard ? {\n        tabIndex: 0\n      } : {}, {}, rest);\n    };\n  }, [rootRef, onKeyDownCb, onFocusCb, onBlurCb, onClickCb, onDragEnterCb, onDragOverCb, onDragLeaveCb, onDropCb, noKeyboard, noDrag, disabled]);\n  var onInputElementClick = Object(react[\"useCallback\"])(function (event) {\n    event.stopPropagation();\n  }, []);\n  var getInputProps = Object(react[\"useMemo\"])(function () {\n    return function () {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref4$refKey = _ref4.refKey,\n          refKey = _ref4$refKey === void 0 ? 'ref' : _ref4$refKey,\n          onChange = _ref4.onChange,\n          onClick = _ref4.onClick,\n          rest = _objectWithoutProperties(_ref4, [\"refKey\", \"onChange\", \"onClick\"]);\n\n      var inputProps = _defineProperty({\n        accept: accept,\n        multiple: multiple,\n        type: 'file',\n        style: {\n          display: 'none'\n        },\n        onChange: composeHandler(composeEventHandlers(onChange, onDropCb)),\n        onClick: composeHandler(composeEventHandlers(onClick, onInputElementClick)),\n        autoComplete: 'off',\n        tabIndex: -1\n      }, refKey, inputRef);\n\n      return _objectSpread({}, inputProps, {}, rest);\n    };\n  }, [inputRef, accept, multiple, onDropCb, disabled]);\n  var fileCount = draggedFiles.length;\n  var isDragAccept = fileCount > 0 && allFilesAccepted({\n    files: draggedFiles,\n    accept: accept,\n    minSize: minSize,\n    maxSize: maxSize,\n    multiple: multiple\n  });\n  var isDragReject = fileCount > 0 && !isDragAccept;\n  return _objectSpread({}, state, {\n    isDragAccept: isDragAccept,\n    isDragReject: isDragReject,\n    isFocused: isFocused && !disabled,\n    getRootProps: getRootProps,\n    getInputProps: getInputProps,\n    rootRef: rootRef,\n    inputRef: inputRef,\n    open: composeHandler(openFileDialog)\n  });\n}\n\nfunction reducer(state, action) {\n  /* istanbul ignore next */\n  switch (action.type) {\n    case 'focus':\n      return _objectSpread({}, state, {\n        isFocused: true\n      });\n\n    case 'blur':\n      return _objectSpread({}, state, {\n        isFocused: false\n      });\n\n    case 'openDialog':\n      return _objectSpread({}, state, {\n        isFileDialogActive: true\n      });\n\n    case 'closeDialog':\n      return _objectSpread({}, state, {\n        isFileDialogActive: false\n      });\n\n    case 'setDraggedFiles':\n      /* eslint no-case-declarations: 0 */\n      var isDragActive = action.isDragActive,\n          draggedFiles = action.draggedFiles;\n      return _objectSpread({}, state, {\n        draggedFiles: draggedFiles,\n        isDragActive: isDragActive\n      });\n\n    case 'setFiles':\n      return _objectSpread({}, state, {\n        acceptedFiles: action.acceptedFiles,\n        rejectedFiles: action.rejectedFiles\n      });\n\n    case 'reset':\n      return _objectSpread({}, state, {\n        isFileDialogActive: false,\n        isDragActive: false,\n        draggedFiles: [],\n        acceptedFiles: [],\n        rejectedFiles: []\n      });\n\n    default:\n      return state;\n  }\n}\n\n/***/ }),\n\n/***/ 1297:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(530);\n\n\n/***/ }),\n\n/***/ 1298:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n\nvar _assign = __webpack_require__(238); // -- Inlined from fbjs --\n\n\nvar emptyObject = {};\n\nif (false) {}\n\nvar validateFormat = function validateFormat(format) {};\n\nif (false) {}\n\nfunction _invariant(condition, format, a, b, c, d, e, f) {\n  validateFormat(format);\n\n  if (!condition) {\n    var error;\n\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n\n    throw error;\n  }\n}\n\nvar warning = function warning() {};\n\nif (false) { var printWarning; } // /-- Inlined from fbjs --\n\n\nvar MIXINS_KEY = 'mixins'; // Helper function to allow the creation of anonymous functions which do not\n// have .name set to the name of the variable being assigned to.\n\nfunction identity(fn) {\n  return fn;\n}\n\nvar ReactPropTypeLocationNames;\n\nif (false) {} else {\n  ReactPropTypeLocationNames = {};\n}\n\nfunction factory(ReactComponent, isValidElement, ReactNoopUpdateQueue) {\n  /**\n   * Policies that describe methods in `ReactClassInterface`.\n   */\n  var injectedMixins = [];\n  /**\n   * Composite components are higher-level components that compose other composite\n   * or host components.\n   *\n   * To create a new type of `ReactClass`, pass a specification of\n   * your new class to `React.createClass`. The only requirement of your class\n   * specification is that you implement a `render` method.\n   *\n   *   var MyComponent = React.createClass({\n   *     render: function() {\n   *       return <div>Hello World</div>;\n   *     }\n   *   });\n   *\n   * The class specification supports a specific protocol of methods that have\n   * special meaning (e.g. `render`). See `ReactClassInterface` for\n   * more the comprehensive protocol. Any other properties and methods in the\n   * class specification will be available on the prototype.\n   *\n   * @interface ReactClassInterface\n   * @internal\n   */\n\n  var ReactClassInterface = {\n    /**\n     * An array of Mixin objects to include when defining your component.\n     *\n     * @type {array}\n     * @optional\n     */\n    mixins: 'DEFINE_MANY',\n\n    /**\n     * An object containing properties and methods that should be defined on\n     * the component's constructor instead of its prototype (static methods).\n     *\n     * @type {object}\n     * @optional\n     */\n    statics: 'DEFINE_MANY',\n\n    /**\n     * Definition of prop types for this component.\n     *\n     * @type {object}\n     * @optional\n     */\n    propTypes: 'DEFINE_MANY',\n\n    /**\n     * Definition of context types for this component.\n     *\n     * @type {object}\n     * @optional\n     */\n    contextTypes: 'DEFINE_MANY',\n\n    /**\n     * Definition of context types this component sets for its children.\n     *\n     * @type {object}\n     * @optional\n     */\n    childContextTypes: 'DEFINE_MANY',\n    // ==== Definition methods ====\n\n    /**\n     * Invoked when the component is mounted. Values in the mapping will be set on\n     * `this.props` if that prop is not specified (i.e. using an `in` check).\n     *\n     * This method is invoked before `getInitialState` and therefore cannot rely\n     * on `this.state` or use `this.setState`.\n     *\n     * @return {object}\n     * @optional\n     */\n    getDefaultProps: 'DEFINE_MANY_MERGED',\n\n    /**\n     * Invoked once before the component is mounted. The return value will be used\n     * as the initial value of `this.state`.\n     *\n     *   getInitialState: function() {\n     *     return {\n     *       isOn: false,\n     *       fooBaz: new BazFoo()\n     *     }\n     *   }\n     *\n     * @return {object}\n     * @optional\n     */\n    getInitialState: 'DEFINE_MANY_MERGED',\n\n    /**\n     * @return {object}\n     * @optional\n     */\n    getChildContext: 'DEFINE_MANY_MERGED',\n\n    /**\n     * Uses props from `this.props` and state from `this.state` to render the\n     * structure of the component.\n     *\n     * No guarantees are made about when or how often this method is invoked, so\n     * it must not have side effects.\n     *\n     *   render: function() {\n     *     var name = this.props.name;\n     *     return <div>Hello, {name}!</div>;\n     *   }\n     *\n     * @return {ReactComponent}\n     * @required\n     */\n    render: 'DEFINE_ONCE',\n    // ==== Delegate methods ====\n\n    /**\n     * Invoked when the component is initially created and about to be mounted.\n     * This may have side effects, but any external subscriptions or data created\n     * by this method must be cleaned up in `componentWillUnmount`.\n     *\n     * @optional\n     */\n    componentWillMount: 'DEFINE_MANY',\n\n    /**\n     * Invoked when the component has been mounted and has a DOM representation.\n     * However, there is no guarantee that the DOM node is in the document.\n     *\n     * Use this as an opportunity to operate on the DOM when the component has\n     * been mounted (initialized and rendered) for the first time.\n     *\n     * @param {DOMElement} rootNode DOM element representing the component.\n     * @optional\n     */\n    componentDidMount: 'DEFINE_MANY',\n\n    /**\n     * Invoked before the component receives new props.\n     *\n     * Use this as an opportunity to react to a prop transition by updating the\n     * state using `this.setState`. Current props are accessed via `this.props`.\n     *\n     *   componentWillReceiveProps: function(nextProps, nextContext) {\n     *     this.setState({\n     *       likesIncreasing: nextProps.likeCount > this.props.likeCount\n     *     });\n     *   }\n     *\n     * NOTE: There is no equivalent `componentWillReceiveState`. An incoming prop\n     * transition may cause a state change, but the opposite is not true. If you\n     * need it, you are probably looking for `componentWillUpdate`.\n     *\n     * @param {object} nextProps\n     * @optional\n     */\n    componentWillReceiveProps: 'DEFINE_MANY',\n\n    /**\n     * Invoked while deciding if the component should be updated as a result of\n     * receiving new props, state and/or context.\n     *\n     * Use this as an opportunity to `return false` when you're certain that the\n     * transition to the new props/state/context will not require a component\n     * update.\n     *\n     *   shouldComponentUpdate: function(nextProps, nextState, nextContext) {\n     *     return !equal(nextProps, this.props) ||\n     *       !equal(nextState, this.state) ||\n     *       !equal(nextContext, this.context);\n     *   }\n     *\n     * @param {object} nextProps\n     * @param {?object} nextState\n     * @param {?object} nextContext\n     * @return {boolean} True if the component should update.\n     * @optional\n     */\n    shouldComponentUpdate: 'DEFINE_ONCE',\n\n    /**\n     * Invoked when the component is about to update due to a transition from\n     * `this.props`, `this.state` and `this.context` to `nextProps`, `nextState`\n     * and `nextContext`.\n     *\n     * Use this as an opportunity to perform preparation before an update occurs.\n     *\n     * NOTE: You **cannot** use `this.setState()` in this method.\n     *\n     * @param {object} nextProps\n     * @param {?object} nextState\n     * @param {?object} nextContext\n     * @param {ReactReconcileTransaction} transaction\n     * @optional\n     */\n    componentWillUpdate: 'DEFINE_MANY',\n\n    /**\n     * Invoked when the component's DOM representation has been updated.\n     *\n     * Use this as an opportunity to operate on the DOM when the component has\n     * been updated.\n     *\n     * @param {object} prevProps\n     * @param {?object} prevState\n     * @param {?object} prevContext\n     * @param {DOMElement} rootNode DOM element representing the component.\n     * @optional\n     */\n    componentDidUpdate: 'DEFINE_MANY',\n\n    /**\n     * Invoked when the component is about to be removed from its parent and have\n     * its DOM representation destroyed.\n     *\n     * Use this as an opportunity to deallocate any external resources.\n     *\n     * NOTE: There is no `componentDidUnmount` since your component will have been\n     * destroyed by that point.\n     *\n     * @optional\n     */\n    componentWillUnmount: 'DEFINE_MANY',\n\n    /**\n     * Replacement for (deprecated) `componentWillMount`.\n     *\n     * @optional\n     */\n    UNSAFE_componentWillMount: 'DEFINE_MANY',\n\n    /**\n     * Replacement for (deprecated) `componentWillReceiveProps`.\n     *\n     * @optional\n     */\n    UNSAFE_componentWillReceiveProps: 'DEFINE_MANY',\n\n    /**\n     * Replacement for (deprecated) `componentWillUpdate`.\n     *\n     * @optional\n     */\n    UNSAFE_componentWillUpdate: 'DEFINE_MANY',\n    // ==== Advanced methods ====\n\n    /**\n     * Updates the component's currently mounted DOM representation.\n     *\n     * By default, this implements React's rendering and reconciliation algorithm.\n     * Sophisticated clients may wish to override this.\n     *\n     * @param {ReactReconcileTransaction} transaction\n     * @internal\n     * @overridable\n     */\n    updateComponent: 'OVERRIDE_BASE'\n  };\n  /**\n   * Similar to ReactClassInterface but for static methods.\n   */\n\n  var ReactClassStaticInterface = {\n    /**\n     * This method is invoked after a component is instantiated and when it\n     * receives new props. Return an object to update state in response to\n     * prop changes. Return null to indicate no change to state.\n     *\n     * If an object is returned, its keys will be merged into the existing state.\n     *\n     * @return {object || null}\n     * @optional\n     */\n    getDerivedStateFromProps: 'DEFINE_MANY_MERGED'\n  };\n  /**\n   * Mapping from class specification keys to special processing functions.\n   *\n   * Although these are declared like instance properties in the specification\n   * when defining classes using `React.createClass`, they are actually static\n   * and are accessible on the constructor instead of the prototype. Despite\n   * being static, they must be defined outside of the \"statics\" key under\n   * which all other static methods are defined.\n   */\n\n  var RESERVED_SPEC_KEYS = {\n    displayName: function displayName(Constructor, _displayName) {\n      Constructor.displayName = _displayName;\n    },\n    mixins: function mixins(Constructor, _mixins) {\n      if (_mixins) {\n        for (var i = 0; i < _mixins.length; i++) {\n          mixSpecIntoComponent(Constructor, _mixins[i]);\n        }\n      }\n    },\n    childContextTypes: function childContextTypes(Constructor, _childContextTypes) {\n      if (false) {}\n\n      Constructor.childContextTypes = _assign({}, Constructor.childContextTypes, _childContextTypes);\n    },\n    contextTypes: function contextTypes(Constructor, _contextTypes) {\n      if (false) {}\n\n      Constructor.contextTypes = _assign({}, Constructor.contextTypes, _contextTypes);\n    },\n\n    /**\n     * Special case getDefaultProps which should move into statics but requires\n     * automatic merging.\n     */\n    getDefaultProps: function getDefaultProps(Constructor, _getDefaultProps) {\n      if (Constructor.getDefaultProps) {\n        Constructor.getDefaultProps = createMergedResultFunction(Constructor.getDefaultProps, _getDefaultProps);\n      } else {\n        Constructor.getDefaultProps = _getDefaultProps;\n      }\n    },\n    propTypes: function propTypes(Constructor, _propTypes) {\n      if (false) {}\n\n      Constructor.propTypes = _assign({}, Constructor.propTypes, _propTypes);\n    },\n    statics: function statics(Constructor, _statics) {\n      mixStaticSpecIntoComponent(Constructor, _statics);\n    },\n    autobind: function autobind() {}\n  };\n\n  function validateTypeDef(Constructor, typeDef, location) {\n    for (var propName in typeDef) {\n      if (typeDef.hasOwnProperty(propName)) {\n        // use a warning instead of an _invariant so components\n        // don't show up in prod but only in __DEV__\n        if (false) {}\n      }\n    }\n  }\n\n  function validateMethodOverride(isAlreadyDefined, name) {\n    var specPolicy = ReactClassInterface.hasOwnProperty(name) ? ReactClassInterface[name] : null; // Disallow overriding of base class methods unless explicitly allowed.\n\n    if (ReactClassMixin.hasOwnProperty(name)) {\n      _invariant(specPolicy === 'OVERRIDE_BASE', 'ReactClassInterface: You are attempting to override ' + '`%s` from your class specification. Ensure that your method names ' + 'do not overlap with React methods.', name);\n    } // Disallow defining methods more than once unless explicitly allowed.\n\n\n    if (isAlreadyDefined) {\n      _invariant(specPolicy === 'DEFINE_MANY' || specPolicy === 'DEFINE_MANY_MERGED', 'ReactClassInterface: You are attempting to define ' + '`%s` on your component more than once. This conflict may be due ' + 'to a mixin.', name);\n    }\n  }\n  /**\n   * Mixin helper which handles policy validation and reserved\n   * specification keys when building React classes.\n   */\n\n\n  function mixSpecIntoComponent(Constructor, spec) {\n    if (!spec) {\n      if (false) { var isMixinValid, typeofSpec; }\n\n      return;\n    }\n\n    _invariant(typeof spec !== 'function', \"ReactClass: You're attempting to \" + 'use a component class or function as a mixin. Instead, just use a ' + 'regular object.');\n\n    _invariant(!isValidElement(spec), \"ReactClass: You're attempting to \" + 'use a component as a mixin. Instead, just use a regular object.');\n\n    var proto = Constructor.prototype;\n    var autoBindPairs = proto.__reactAutoBindPairs; // By handling mixins before any other properties, we ensure the same\n    // chaining order is applied to methods with DEFINE_MANY policy, whether\n    // mixins are listed before or after these methods in the spec.\n\n    if (spec.hasOwnProperty(MIXINS_KEY)) {\n      RESERVED_SPEC_KEYS.mixins(Constructor, spec.mixins);\n    }\n\n    for (var name in spec) {\n      if (!spec.hasOwnProperty(name)) {\n        continue;\n      }\n\n      if (name === MIXINS_KEY) {\n        // We have already handled mixins in a special case above.\n        continue;\n      }\n\n      var property = spec[name];\n      var isAlreadyDefined = proto.hasOwnProperty(name);\n      validateMethodOverride(isAlreadyDefined, name);\n\n      if (RESERVED_SPEC_KEYS.hasOwnProperty(name)) {\n        RESERVED_SPEC_KEYS[name](Constructor, property);\n      } else {\n        // Setup methods on prototype:\n        // The following member methods should not be automatically bound:\n        // 1. Expected ReactClass methods (in the \"interface\").\n        // 2. Overridden methods (that were mixed in).\n        var isReactClassMethod = ReactClassInterface.hasOwnProperty(name);\n        var isFunction = typeof property === 'function';\n        var shouldAutoBind = isFunction && !isReactClassMethod && !isAlreadyDefined && spec.autobind !== false;\n\n        if (shouldAutoBind) {\n          autoBindPairs.push(name, property);\n          proto[name] = property;\n        } else {\n          if (isAlreadyDefined) {\n            var specPolicy = ReactClassInterface[name]; // These cases should already be caught by validateMethodOverride.\n\n            _invariant(isReactClassMethod && (specPolicy === 'DEFINE_MANY_MERGED' || specPolicy === 'DEFINE_MANY'), 'ReactClass: Unexpected spec policy %s for key %s ' + 'when mixing in component specs.', specPolicy, name); // For methods which are defined more than once, call the existing\n            // methods before calling the new property, merging if appropriate.\n\n\n            if (specPolicy === 'DEFINE_MANY_MERGED') {\n              proto[name] = createMergedResultFunction(proto[name], property);\n            } else if (specPolicy === 'DEFINE_MANY') {\n              proto[name] = createChainedFunction(proto[name], property);\n            }\n          } else {\n            proto[name] = property;\n\n            if (false) {}\n          }\n        }\n      }\n    }\n  }\n\n  function mixStaticSpecIntoComponent(Constructor, statics) {\n    if (!statics) {\n      return;\n    }\n\n    for (var name in statics) {\n      var property = statics[name];\n\n      if (!statics.hasOwnProperty(name)) {\n        continue;\n      }\n\n      var isReserved = (name in RESERVED_SPEC_KEYS);\n\n      _invariant(!isReserved, 'ReactClass: You are attempting to define a reserved ' + 'property, `%s`, that shouldn\\'t be on the \"statics\" key. Define it ' + 'as an instance property instead; it will still be accessible on the ' + 'constructor.', name);\n\n      var isAlreadyDefined = (name in Constructor);\n\n      if (isAlreadyDefined) {\n        var specPolicy = ReactClassStaticInterface.hasOwnProperty(name) ? ReactClassStaticInterface[name] : null;\n\n        _invariant(specPolicy === 'DEFINE_MANY_MERGED', 'ReactClass: You are attempting to define ' + '`%s` on your component more than once. This conflict may be ' + 'due to a mixin.', name);\n\n        Constructor[name] = createMergedResultFunction(Constructor[name], property);\n        return;\n      }\n\n      Constructor[name] = property;\n    }\n  }\n  /**\n   * Merge two objects, but throw if both contain the same key.\n   *\n   * @param {object} one The first object, which is mutated.\n   * @param {object} two The second object\n   * @return {object} one after it has been mutated to contain everything in two.\n   */\n\n\n  function mergeIntoWithNoDuplicateKeys(one, two) {\n    _invariant(one && two && typeof one === 'object' && typeof two === 'object', 'mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.');\n\n    for (var key in two) {\n      if (two.hasOwnProperty(key)) {\n        _invariant(one[key] === undefined, 'mergeIntoWithNoDuplicateKeys(): ' + 'Tried to merge two objects with the same key: `%s`. This conflict ' + 'may be due to a mixin; in particular, this may be caused by two ' + 'getInitialState() or getDefaultProps() methods returning objects ' + 'with clashing keys.', key);\n\n        one[key] = two[key];\n      }\n    }\n\n    return one;\n  }\n  /**\n   * Creates a function that invokes two functions and merges their return values.\n   *\n   * @param {function} one Function to invoke first.\n   * @param {function} two Function to invoke second.\n   * @return {function} Function that invokes the two argument functions.\n   * @private\n   */\n\n\n  function createMergedResultFunction(one, two) {\n    return function mergedResult() {\n      var a = one.apply(this, arguments);\n      var b = two.apply(this, arguments);\n\n      if (a == null) {\n        return b;\n      } else if (b == null) {\n        return a;\n      }\n\n      var c = {};\n      mergeIntoWithNoDuplicateKeys(c, a);\n      mergeIntoWithNoDuplicateKeys(c, b);\n      return c;\n    };\n  }\n  /**\n   * Creates a function that invokes two functions and ignores their return vales.\n   *\n   * @param {function} one Function to invoke first.\n   * @param {function} two Function to invoke second.\n   * @return {function} Function that invokes the two argument functions.\n   * @private\n   */\n\n\n  function createChainedFunction(one, two) {\n    return function chainedFunction() {\n      one.apply(this, arguments);\n      two.apply(this, arguments);\n    };\n  }\n  /**\n   * Binds a method to the component.\n   *\n   * @param {object} component Component whose method is going to be bound.\n   * @param {function} method Method to be bound.\n   * @return {function} The bound method.\n   */\n\n\n  function bindAutoBindMethod(component, method) {\n    var boundMethod = method.bind(component);\n\n    if (false) { var _bind, componentName; }\n\n    return boundMethod;\n  }\n  /**\n   * Binds all auto-bound methods in a component.\n   *\n   * @param {object} component Component whose method is going to be bound.\n   */\n\n\n  function bindAutoBindMethods(component) {\n    var pairs = component.__reactAutoBindPairs;\n\n    for (var i = 0; i < pairs.length; i += 2) {\n      var autoBindKey = pairs[i];\n      var method = pairs[i + 1];\n      component[autoBindKey] = bindAutoBindMethod(component, method);\n    }\n  }\n\n  var IsMountedPreMixin = {\n    componentDidMount: function componentDidMount() {\n      this.__isMounted = true;\n    }\n  };\n  var IsMountedPostMixin = {\n    componentWillUnmount: function componentWillUnmount() {\n      this.__isMounted = false;\n    }\n  };\n  /**\n   * Add more to the ReactClass base class. These are all legacy features and\n   * therefore not already part of the modern ReactComponent.\n   */\n\n  var ReactClassMixin = {\n    /**\n     * TODO: This will be deprecated because state should always keep a consistent\n     * type signature and the only use case for this, is to avoid that.\n     */\n    replaceState: function replaceState(newState, callback) {\n      this.updater.enqueueReplaceState(this, newState, callback);\n    },\n\n    /**\n     * Checks whether or not this composite component is mounted.\n     * @return {boolean} True if mounted, false otherwise.\n     * @protected\n     * @final\n     */\n    isMounted: function isMounted() {\n      if (false) {}\n\n      return !!this.__isMounted;\n    }\n  };\n\n  var ReactClassComponent = function ReactClassComponent() {};\n\n  _assign(ReactClassComponent.prototype, ReactComponent.prototype, ReactClassMixin);\n  /**\n   * Creates a composite component class given a class specification.\n   * See https://facebook.github.io/react/docs/top-level-api.html#react.createclass\n   *\n   * @param {object} spec Class specification (which must define `render`).\n   * @return {function} Component constructor function.\n   * @public\n   */\n\n\n  function createClass(spec) {\n    // To keep our warnings more understandable, we'll use a little hack here to\n    // ensure that Constructor.name !== 'Constructor'. This makes sure we don't\n    // unnecessarily identify a class without displayName as 'Constructor'.\n    var Constructor = identity(function (props, context, updater) {\n      // This constructor gets overridden by mocks. The argument is used\n      // by mocks to assert on what gets mounted.\n      if (false) {} // Wire up auto-binding\n\n\n      if (this.__reactAutoBindPairs.length) {\n        bindAutoBindMethods(this);\n      }\n\n      this.props = props;\n      this.context = context;\n      this.refs = emptyObject;\n      this.updater = updater || ReactNoopUpdateQueue;\n      this.state = null; // ReactClasses doesn't have constructors. Instead, they use the\n      // getInitialState and componentWillMount methods for initialization.\n\n      var initialState = this.getInitialState ? this.getInitialState() : null;\n\n      if (false) {}\n\n      _invariant(typeof initialState === 'object' && !Array.isArray(initialState), '%s.getInitialState(): must return an object or null', Constructor.displayName || 'ReactCompositeComponent');\n\n      this.state = initialState;\n    });\n    Constructor.prototype = new ReactClassComponent();\n    Constructor.prototype.constructor = Constructor;\n    Constructor.prototype.__reactAutoBindPairs = [];\n    injectedMixins.forEach(mixSpecIntoComponent.bind(null, Constructor));\n    mixSpecIntoComponent(Constructor, IsMountedPreMixin);\n    mixSpecIntoComponent(Constructor, spec);\n    mixSpecIntoComponent(Constructor, IsMountedPostMixin); // Initialize the defaultProps property after all mixins have been merged.\n\n    if (Constructor.getDefaultProps) {\n      Constructor.defaultProps = Constructor.getDefaultProps();\n    }\n\n    if (false) {}\n\n    _invariant(Constructor.prototype.render, 'createClass(...): Class specification must implement a `render` method.');\n\n    if (false) {} // Reduce time spent doing lookups by setting these on the prototype.\n\n\n    for (var methodName in ReactClassInterface) {\n      if (!Constructor.prototype[methodName]) {\n        Constructor.prototype[methodName] = null;\n      }\n    }\n\n    return Constructor;\n  }\n\n  return createClass;\n}\n\nmodule.exports = factory;\n\n/***/ }),\n\n/***/ 1299:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar React = __webpack_require__(2),\n    createClass = __webpack_require__(1036),\n    DaysView = __webpack_require__(1300),\n    MonthsView = __webpack_require__(1301),\n    YearsView = __webpack_require__(1302),\n    TimeView = __webpack_require__(1303);\n\nvar CalendarContainer = createClass({\n  viewComponents: {\n    days: DaysView,\n    months: MonthsView,\n    years: YearsView,\n    time: TimeView\n  },\n  render: function render() {\n    return React.createElement(this.viewComponents[this.props.view], this.props.viewProps);\n  }\n});\nmodule.exports = CalendarContainer;\n\n/***/ }),\n\n/***/ 1300:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar React = __webpack_require__(2),\n    createClass = __webpack_require__(1036),\n    moment = __webpack_require__(144);\n\nvar DateTimePickerDays = createClass({\n  render: function render() {\n    var footer = this.renderFooter(),\n        date = this.props.viewDate,\n        locale = date.localeData(),\n        tableChildren;\n    tableChildren = [React.createElement('thead', {\n      key: 'th'\n    }, [React.createElement('tr', {\n      key: 'h'\n    }, [React.createElement('th', {\n      key: 'p',\n      className: 'rdtPrev',\n      onClick: this.props.subtractTime(1, 'months')\n    }, React.createElement('span', {}, '‹')), React.createElement('th', {\n      key: 's',\n      className: 'rdtSwitch',\n      onClick: this.props.showView('months'),\n      colSpan: 5,\n      'data-value': this.props.viewDate.month()\n    }, locale.months(date) + ' ' + date.year()), React.createElement('th', {\n      key: 'n',\n      className: 'rdtNext',\n      onClick: this.props.addTime(1, 'months')\n    }, React.createElement('span', {}, '›'))]), React.createElement('tr', {\n      key: 'd'\n    }, this.getDaysOfWeek(locale).map(function (day, index) {\n      return React.createElement('th', {\n        key: day + index,\n        className: 'dow'\n      }, day);\n    }))]), React.createElement('tbody', {\n      key: 'tb'\n    }, this.renderDays())];\n    if (footer) tableChildren.push(footer);\n    return React.createElement('div', {\n      className: 'rdtDays'\n    }, React.createElement('table', {}, tableChildren));\n  },\n\n  /**\n   * Get a list of the days of the week\n   * depending on the current locale\n   * @return {array} A list with the shortname of the days\n   */\n  getDaysOfWeek: function getDaysOfWeek(locale) {\n    var days = locale._weekdaysMin,\n        first = locale.firstDayOfWeek(),\n        dow = [],\n        i = 0;\n    days.forEach(function (day) {\n      dow[(7 + i++ - first) % 7] = day;\n    });\n    return dow;\n  },\n  renderDays: function renderDays() {\n    var date = this.props.viewDate,\n        selected = this.props.selectedDate && this.props.selectedDate.clone(),\n        prevMonth = date.clone().subtract(1, 'months'),\n        currentYear = date.year(),\n        currentMonth = date.month(),\n        weeks = [],\n        days = [],\n        renderer = this.props.renderDay || this.renderDay,\n        isValid = this.props.isValidDate || this.alwaysValidDate,\n        classes,\n        isDisabled,\n        dayProps,\n        currentDate; // Go to the last week of the previous month\n\n    prevMonth.date(prevMonth.daysInMonth()).startOf('week');\n    var lastDay = prevMonth.clone().add(42, 'd');\n\n    while (prevMonth.isBefore(lastDay)) {\n      classes = 'rdtDay';\n      currentDate = prevMonth.clone();\n      if (prevMonth.year() === currentYear && prevMonth.month() < currentMonth || prevMonth.year() < currentYear) classes += ' rdtOld';else if (prevMonth.year() === currentYear && prevMonth.month() > currentMonth || prevMonth.year() > currentYear) classes += ' rdtNew';\n      if (selected && prevMonth.isSame(selected, 'day')) classes += ' rdtActive';\n      if (prevMonth.isSame(moment(), 'day')) classes += ' rdtToday';\n      isDisabled = !isValid(currentDate, selected);\n      if (isDisabled) classes += ' rdtDisabled';\n      dayProps = {\n        key: prevMonth.format('M_D'),\n        'data-value': prevMonth.date(),\n        className: classes\n      };\n      if (!isDisabled) dayProps.onClick = this.updateSelectedDate;\n      days.push(renderer(dayProps, currentDate, selected));\n\n      if (days.length === 7) {\n        weeks.push(React.createElement('tr', {\n          key: prevMonth.format('M_D')\n        }, days));\n        days = [];\n      }\n\n      prevMonth.add(1, 'd');\n    }\n\n    return weeks;\n  },\n  updateSelectedDate: function updateSelectedDate(event) {\n    this.props.updateSelectedDate(event, true);\n  },\n  renderDay: function renderDay(props, currentDate) {\n    return React.createElement('td', props, currentDate.date());\n  },\n  renderFooter: function renderFooter() {\n    if (!this.props.timeFormat) return '';\n    var date = this.props.selectedDate || this.props.viewDate;\n    return React.createElement('tfoot', {\n      key: 'tf'\n    }, React.createElement('tr', {}, React.createElement('td', {\n      onClick: this.props.showView('time'),\n      colSpan: 7,\n      className: 'rdtTimeToggle'\n    }, date.format(this.props.timeFormat))));\n  },\n  alwaysValidDate: function alwaysValidDate() {\n    return 1;\n  }\n});\nmodule.exports = DateTimePickerDays;\n\n/***/ }),\n\n/***/ 1301:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar React = __webpack_require__(2),\n    createClass = __webpack_require__(1036);\n\nvar DateTimePickerMonths = createClass({\n  render: function render() {\n    return React.createElement('div', {\n      className: 'rdtMonths'\n    }, [React.createElement('table', {\n      key: 'a'\n    }, React.createElement('thead', {}, React.createElement('tr', {}, [React.createElement('th', {\n      key: 'prev',\n      className: 'rdtPrev',\n      onClick: this.props.subtractTime(1, 'years')\n    }, React.createElement('span', {}, '‹')), React.createElement('th', {\n      key: 'year',\n      className: 'rdtSwitch',\n      onClick: this.props.showView('years'),\n      colSpan: 2,\n      'data-value': this.props.viewDate.year()\n    }, this.props.viewDate.year()), React.createElement('th', {\n      key: 'next',\n      className: 'rdtNext',\n      onClick: this.props.addTime(1, 'years')\n    }, React.createElement('span', {}, '›'))]))), React.createElement('table', {\n      key: 'months'\n    }, React.createElement('tbody', {\n      key: 'b'\n    }, this.renderMonths()))]);\n  },\n  renderMonths: function renderMonths() {\n    var date = this.props.selectedDate,\n        month = this.props.viewDate.month(),\n        year = this.props.viewDate.year(),\n        rows = [],\n        i = 0,\n        months = [],\n        renderer = this.props.renderMonth || this.renderMonth,\n        isValid = this.props.isValidDate || this.alwaysValidDate,\n        classes,\n        props,\n        currentMonth,\n        isDisabled,\n        noOfDaysInMonth,\n        daysInMonth,\n        validDay,\n        // Date is irrelevant because we're only interested in month\n    irrelevantDate = 1;\n\n    while (i < 12) {\n      classes = 'rdtMonth';\n      currentMonth = this.props.viewDate.clone().set({\n        year: year,\n        month: i,\n        date: irrelevantDate\n      });\n      noOfDaysInMonth = currentMonth.endOf('month').format('D');\n      daysInMonth = Array.from({\n        length: noOfDaysInMonth\n      }, function (e, i) {\n        return i + 1;\n      });\n      validDay = daysInMonth.find(function (d) {\n        var day = currentMonth.clone().set('date', d);\n        return isValid(day);\n      });\n      isDisabled = validDay === undefined;\n      if (isDisabled) classes += ' rdtDisabled';\n      if (date && i === date.month() && year === date.year()) classes += ' rdtActive';\n      props = {\n        key: i,\n        'data-value': i,\n        className: classes\n      };\n      if (!isDisabled) props.onClick = this.props.updateOn === 'months' ? this.updateSelectedMonth : this.props.setDate('month');\n      months.push(renderer(props, i, year, date && date.clone()));\n\n      if (months.length === 4) {\n        rows.push(React.createElement('tr', {\n          key: month + '_' + rows.length\n        }, months));\n        months = [];\n      }\n\n      i++;\n    }\n\n    return rows;\n  },\n  updateSelectedMonth: function updateSelectedMonth(event) {\n    this.props.updateSelectedDate(event);\n  },\n  renderMonth: function renderMonth(props, month) {\n    var localMoment = this.props.viewDate;\n    var monthStr = localMoment.localeData().monthsShort(localMoment.month(month));\n    var strLength = 3; // Because some months are up to 5 characters long, we want to\n    // use a fixed string length for consistency\n\n    var monthStrFixedLength = monthStr.substring(0, strLength);\n    return React.createElement('td', props, capitalize(monthStrFixedLength));\n  },\n  alwaysValidDate: function alwaysValidDate() {\n    return 1;\n  }\n});\n\nfunction capitalize(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\nmodule.exports = DateTimePickerMonths;\n\n/***/ }),\n\n/***/ 1302:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar React = __webpack_require__(2),\n    createClass = __webpack_require__(1036);\n\nvar DateTimePickerYears = createClass({\n  render: function render() {\n    var year = parseInt(this.props.viewDate.year() / 10, 10) * 10;\n    return React.createElement('div', {\n      className: 'rdtYears'\n    }, [React.createElement('table', {\n      key: 'a'\n    }, React.createElement('thead', {}, React.createElement('tr', {}, [React.createElement('th', {\n      key: 'prev',\n      className: 'rdtPrev',\n      onClick: this.props.subtractTime(10, 'years')\n    }, React.createElement('span', {}, '‹')), React.createElement('th', {\n      key: 'year',\n      className: 'rdtSwitch',\n      onClick: this.props.showView('years'),\n      colSpan: 2\n    }, year + '-' + (year + 9)), React.createElement('th', {\n      key: 'next',\n      className: 'rdtNext',\n      onClick: this.props.addTime(10, 'years')\n    }, React.createElement('span', {}, '›'))]))), React.createElement('table', {\n      key: 'years'\n    }, React.createElement('tbody', {}, this.renderYears(year)))]);\n  },\n  renderYears: function renderYears(year) {\n    var years = [],\n        i = -1,\n        rows = [],\n        renderer = this.props.renderYear || this.renderYear,\n        selectedDate = this.props.selectedDate,\n        isValid = this.props.isValidDate || this.alwaysValidDate,\n        classes,\n        props,\n        currentYear,\n        isDisabled,\n        noOfDaysInYear,\n        daysInYear,\n        validDay,\n        // Month and date are irrelevant here because\n    // we're only interested in the year\n    irrelevantMonth = 0,\n        irrelevantDate = 1;\n    year--;\n\n    while (i < 11) {\n      classes = 'rdtYear';\n      currentYear = this.props.viewDate.clone().set({\n        year: year,\n        month: irrelevantMonth,\n        date: irrelevantDate\n      }); // Not sure what 'rdtOld' is for, commenting out for now as it's not working properly\n      // if ( i === -1 | i === 10 )\n      // classes += ' rdtOld';\n\n      noOfDaysInYear = currentYear.endOf('year').format('DDD');\n      daysInYear = Array.from({\n        length: noOfDaysInYear\n      }, function (e, i) {\n        return i + 1;\n      });\n      validDay = daysInYear.find(function (d) {\n        var day = currentYear.clone().dayOfYear(d);\n        return isValid(day);\n      });\n      isDisabled = validDay === undefined;\n      if (isDisabled) classes += ' rdtDisabled';\n      if (selectedDate && selectedDate.year() === year) classes += ' rdtActive';\n      props = {\n        key: year,\n        'data-value': year,\n        className: classes\n      };\n      if (!isDisabled) props.onClick = this.props.updateOn === 'years' ? this.updateSelectedYear : this.props.setDate('year');\n      years.push(renderer(props, year, selectedDate && selectedDate.clone()));\n\n      if (years.length === 4) {\n        rows.push(React.createElement('tr', {\n          key: i\n        }, years));\n        years = [];\n      }\n\n      year++;\n      i++;\n    }\n\n    return rows;\n  },\n  updateSelectedYear: function updateSelectedYear(event) {\n    this.props.updateSelectedDate(event);\n  },\n  renderYear: function renderYear(props, year) {\n    return React.createElement('td', props, year);\n  },\n  alwaysValidDate: function alwaysValidDate() {\n    return 1;\n  }\n});\nmodule.exports = DateTimePickerYears;\n\n/***/ }),\n\n/***/ 1303:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar React = __webpack_require__(2),\n    createClass = __webpack_require__(1036),\n    assign = __webpack_require__(1172);\n\nvar DateTimePickerTime = createClass({\n  getInitialState: function getInitialState() {\n    return this.calculateState(this.props);\n  },\n  calculateState: function calculateState(props) {\n    var date = props.selectedDate || props.viewDate,\n        format = props.timeFormat,\n        counters = [];\n\n    if (format.toLowerCase().indexOf('h') !== -1) {\n      counters.push('hours');\n\n      if (format.indexOf('m') !== -1) {\n        counters.push('minutes');\n\n        if (format.indexOf('s') !== -1) {\n          counters.push('seconds');\n        }\n      }\n    }\n\n    var hours = date.format('H');\n    var daypart = false;\n\n    if (this.state !== null && this.props.timeFormat.toLowerCase().indexOf(' a') !== -1) {\n      if (this.props.timeFormat.indexOf(' A') !== -1) {\n        daypart = hours >= 12 ? 'PM' : 'AM';\n      } else {\n        daypart = hours >= 12 ? 'pm' : 'am';\n      }\n    }\n\n    return {\n      hours: hours,\n      minutes: date.format('mm'),\n      seconds: date.format('ss'),\n      milliseconds: date.format('SSS'),\n      daypart: daypart,\n      counters: counters\n    };\n  },\n  renderCounter: function renderCounter(type) {\n    if (type !== 'daypart') {\n      var value = this.state[type];\n\n      if (type === 'hours' && this.props.timeFormat.toLowerCase().indexOf(' a') !== -1) {\n        value = (value - 1) % 12 + 1;\n\n        if (value === 0) {\n          value = 12;\n        }\n      }\n\n      return React.createElement('div', {\n        key: type,\n        className: 'rdtCounter'\n      }, [React.createElement('span', {\n        key: 'up',\n        className: 'rdtBtn',\n        onMouseDown: this.onStartClicking('increase', type),\n        onContextMenu: this.disableContextMenu\n      }, '▲'), React.createElement('div', {\n        key: 'c',\n        className: 'rdtCount'\n      }, value), React.createElement('span', {\n        key: 'do',\n        className: 'rdtBtn',\n        onMouseDown: this.onStartClicking('decrease', type),\n        onContextMenu: this.disableContextMenu\n      }, '▼')]);\n    }\n\n    return '';\n  },\n  renderDayPart: function renderDayPart() {\n    return React.createElement('div', {\n      key: 'dayPart',\n      className: 'rdtCounter'\n    }, [React.createElement('span', {\n      key: 'up',\n      className: 'rdtBtn',\n      onMouseDown: this.onStartClicking('toggleDayPart', 'hours'),\n      onContextMenu: this.disableContextMenu\n    }, '▲'), React.createElement('div', {\n      key: this.state.daypart,\n      className: 'rdtCount'\n    }, this.state.daypart), React.createElement('span', {\n      key: 'do',\n      className: 'rdtBtn',\n      onMouseDown: this.onStartClicking('toggleDayPart', 'hours'),\n      onContextMenu: this.disableContextMenu\n    }, '▼')]);\n  },\n  render: function render() {\n    var me = this,\n        counters = [];\n    this.state.counters.forEach(function (c) {\n      if (counters.length) counters.push(React.createElement('div', {\n        key: 'sep' + counters.length,\n        className: 'rdtCounterSeparator'\n      }, ':'));\n      counters.push(me.renderCounter(c));\n    });\n\n    if (this.state.daypart !== false) {\n      counters.push(me.renderDayPart());\n    }\n\n    if (this.state.counters.length === 3 && this.props.timeFormat.indexOf('S') !== -1) {\n      counters.push(React.createElement('div', {\n        className: 'rdtCounterSeparator',\n        key: 'sep5'\n      }, ':'));\n      counters.push(React.createElement('div', {\n        className: 'rdtCounter rdtMilli',\n        key: 'm'\n      }, React.createElement('input', {\n        value: this.state.milliseconds,\n        type: 'text',\n        onChange: this.updateMilli\n      })));\n    }\n\n    return React.createElement('div', {\n      className: 'rdtTime'\n    }, React.createElement('table', {}, [this.renderHeader(), React.createElement('tbody', {\n      key: 'b'\n    }, React.createElement('tr', {}, React.createElement('td', {}, React.createElement('div', {\n      className: 'rdtCounters'\n    }, counters))))]));\n  },\n  componentWillMount: function componentWillMount() {\n    var me = this;\n    me.timeConstraints = {\n      hours: {\n        min: 0,\n        max: 23,\n        step: 1\n      },\n      minutes: {\n        min: 0,\n        max: 59,\n        step: 1\n      },\n      seconds: {\n        min: 0,\n        max: 59,\n        step: 1\n      },\n      milliseconds: {\n        min: 0,\n        max: 999,\n        step: 1\n      }\n    };\n    ['hours', 'minutes', 'seconds', 'milliseconds'].forEach(function (type) {\n      assign(me.timeConstraints[type], me.props.timeConstraints[type]);\n    });\n    this.setState(this.calculateState(this.props));\n  },\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    this.setState(this.calculateState(nextProps));\n  },\n  updateMilli: function updateMilli(e) {\n    var milli = parseInt(e.target.value, 10);\n\n    if (milli === e.target.value && milli >= 0 && milli < 1000) {\n      this.props.setTime('milliseconds', milli);\n      this.setState({\n        milliseconds: milli\n      });\n    }\n  },\n  renderHeader: function renderHeader() {\n    if (!this.props.dateFormat) return null;\n    var date = this.props.selectedDate || this.props.viewDate;\n    return React.createElement('thead', {\n      key: 'h'\n    }, React.createElement('tr', {}, React.createElement('th', {\n      className: 'rdtSwitch',\n      colSpan: 4,\n      onClick: this.props.showView('days')\n    }, date.format(this.props.dateFormat))));\n  },\n  onStartClicking: function onStartClicking(action, type) {\n    var me = this;\n    return function () {\n      var update = {};\n      update[type] = me[action](type);\n      me.setState(update);\n      me.timer = setTimeout(function () {\n        me.increaseTimer = setInterval(function () {\n          update[type] = me[action](type);\n          me.setState(update);\n        }, 70);\n      }, 500);\n\n      me.mouseUpListener = function () {\n        clearTimeout(me.timer);\n        clearInterval(me.increaseTimer);\n        me.props.setTime(type, me.state[type]);\n        document.body.removeEventListener('mouseup', me.mouseUpListener);\n        document.body.removeEventListener('touchend', me.mouseUpListener);\n      };\n\n      document.body.addEventListener('mouseup', me.mouseUpListener);\n      document.body.addEventListener('touchend', me.mouseUpListener);\n    };\n  },\n  disableContextMenu: function disableContextMenu(event) {\n    event.preventDefault();\n    return false;\n  },\n  padValues: {\n    hours: 1,\n    minutes: 2,\n    seconds: 2,\n    milliseconds: 3\n  },\n  toggleDayPart: function toggleDayPart(type) {\n    // type is always 'hours'\n    var value = parseInt(this.state[type], 10) + 12;\n    if (value > this.timeConstraints[type].max) value = this.timeConstraints[type].min + (value - (this.timeConstraints[type].max + 1));\n    return this.pad(type, value);\n  },\n  increase: function increase(type) {\n    var value = parseInt(this.state[type], 10) + this.timeConstraints[type].step;\n    if (value > this.timeConstraints[type].max) value = this.timeConstraints[type].min + (value - (this.timeConstraints[type].max + 1));\n    return this.pad(type, value);\n  },\n  decrease: function decrease(type) {\n    var value = parseInt(this.state[type], 10) - this.timeConstraints[type].step;\n    if (value < this.timeConstraints[type].min) value = this.timeConstraints[type].max + 1 - (this.timeConstraints[type].min - value);\n    return this.pad(type, value);\n  },\n  pad: function pad(type, value) {\n    var str = value + '';\n\n    while (str.length < this.padValues[type]) {\n      str = '0' + str;\n    }\n\n    return str;\n  }\n});\nmodule.exports = DateTimePickerTime;\n\n/***/ }),\n\n/***/ 1304:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IGNORE_CLASS_NAME\", function() { return IGNORE_CLASS_NAME; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(55);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n/**\n * Check whether some DOM node is our Component's node.\n */\n\n\nfunction isNodeFound(current, componentNode, ignoreClass) {\n  if (current === componentNode) {\n    return true;\n  } // SVG <use/> elements do not technically reside in the rendered DOM, so\n  // they do not have classList directly, but they offer a link to their\n  // corresponding element, which can have classList. This extra check is for\n  // that case.\n  // See: http://www.w3.org/TR/SVG11/struct.html#InterfaceSVGUseElement\n  // Discussion: https://github.com/Pomax/react-onclickoutside/pull/17\n\n\n  if (current.correspondingElement) {\n    return current.correspondingElement.classList.contains(ignoreClass);\n  }\n\n  return current.classList.contains(ignoreClass);\n}\n/**\n * Try to find our node in a hierarchy of nodes, returning the document\n * node as highest node if our node is not found in the path up.\n */\n\n\nfunction findHighest(current, componentNode, ignoreClass) {\n  if (current === componentNode) {\n    return true;\n  } // If source=local then this event came from 'somewhere'\n  // inside and should be ignored. We could handle this with\n  // a layered approach, too, but that requires going back to\n  // thinking in terms of Dom node nesting, running counter\n  // to React's 'you shouldn't care about the DOM' philosophy.\n\n\n  while (current.parentNode) {\n    if (isNodeFound(current, componentNode, ignoreClass)) {\n      return true;\n    }\n\n    current = current.parentNode;\n  }\n\n  return current;\n}\n/**\n * Check if the browser scrollbar was clicked\n */\n\n\nfunction clickedScrollbar(evt) {\n  return document.documentElement.clientWidth <= evt.clientX || document.documentElement.clientHeight <= evt.clientY;\n} // ideally will get replaced with external dep\n// when rafrex/detect-passive-events#4 and rafrex/detect-passive-events#5 get merged in\n\n\nvar testPassiveEventSupport = function testPassiveEventSupport() {\n  if (typeof window === 'undefined' || typeof window.addEventListener !== 'function') {\n    return;\n  }\n\n  var passive = false;\n  var options = Object.defineProperty({}, 'passive', {\n    get: function get() {\n      passive = true;\n    }\n  });\n\n  var noop = function noop() {};\n\n  window.addEventListener('testPassiveEventSupport', noop, options);\n  window.removeEventListener('testPassiveEventSupport', noop, options);\n  return passive;\n};\n\nfunction autoInc(seed) {\n  if (seed === void 0) {\n    seed = 0;\n  }\n\n  return function () {\n    return ++seed;\n  };\n}\n\nvar uid = autoInc();\nvar passiveEventSupport;\nvar handlersMap = {};\nvar enabledInstances = {};\nvar touchEvents = ['touchstart', 'touchmove'];\nvar IGNORE_CLASS_NAME = 'ignore-react-onclickoutside';\n/**\n * Options for addEventHandler and removeEventHandler\n */\n\nfunction getEventHandlerOptions(instance, eventName) {\n  var handlerOptions = null;\n  var isTouchEvent = touchEvents.indexOf(eventName) !== -1;\n\n  if (isTouchEvent && passiveEventSupport) {\n    handlerOptions = {\n      passive: !instance.props.preventDefault\n    };\n  }\n\n  return handlerOptions;\n}\n/**\n * This function generates the HOC function that you'll use\n * in order to impart onOutsideClick listening to an\n * arbitrary component. It gets called at the end of the\n * bootstrapping code to yield an instance of the\n * onClickOutsideHOC function defined inside setupHOC().\n */\n\n\nfunction onClickOutsideHOC(WrappedComponent, config) {\n  var _class, _temp;\n\n  var componentName = WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  return _temp = _class = /*#__PURE__*/function (_Component) {\n    _inheritsLoose(onClickOutside, _Component);\n\n    function onClickOutside(props) {\n      var _this;\n\n      _this = _Component.call(this, props) || this;\n\n      _this.__outsideClickHandler = function (event) {\n        if (typeof _this.__clickOutsideHandlerProp === 'function') {\n          _this.__clickOutsideHandlerProp(event);\n\n          return;\n        }\n\n        var instance = _this.getInstance();\n\n        if (typeof instance.props.handleClickOutside === 'function') {\n          instance.props.handleClickOutside(event);\n          return;\n        }\n\n        if (typeof instance.handleClickOutside === 'function') {\n          instance.handleClickOutside(event);\n          return;\n        }\n\n        throw new Error(\"WrappedComponent: \" + componentName + \" lacks a handleClickOutside(event) function for processing outside click events.\");\n      };\n\n      _this.__getComponentNode = function () {\n        var instance = _this.getInstance();\n\n        if (config && typeof config.setClickOutsideRef === 'function') {\n          return config.setClickOutsideRef()(instance);\n        }\n\n        if (typeof instance.setClickOutsideRef === 'function') {\n          return instance.setClickOutsideRef();\n        }\n\n        return Object(react_dom__WEBPACK_IMPORTED_MODULE_1__[\"findDOMNode\"])(instance);\n      };\n\n      _this.enableOnClickOutside = function () {\n        if (typeof document === 'undefined' || enabledInstances[_this._uid]) {\n          return;\n        }\n\n        if (typeof passiveEventSupport === 'undefined') {\n          passiveEventSupport = testPassiveEventSupport();\n        }\n\n        enabledInstances[_this._uid] = true;\n        var events = _this.props.eventTypes;\n\n        if (!events.forEach) {\n          events = [events];\n        }\n\n        handlersMap[_this._uid] = function (event) {\n          if (_this.componentNode === null) return;\n\n          if (_this.props.preventDefault) {\n            event.preventDefault();\n          }\n\n          if (_this.props.stopPropagation) {\n            event.stopPropagation();\n          }\n\n          if (_this.props.excludeScrollbar && clickedScrollbar(event)) return;\n          var current = event.target;\n\n          if (findHighest(current, _this.componentNode, _this.props.outsideClickIgnoreClass) !== document) {\n            return;\n          }\n\n          _this.__outsideClickHandler(event);\n        };\n\n        events.forEach(function (eventName) {\n          document.addEventListener(eventName, handlersMap[_this._uid], getEventHandlerOptions(_this, eventName));\n        });\n      };\n\n      _this.disableOnClickOutside = function () {\n        delete enabledInstances[_this._uid];\n        var fn = handlersMap[_this._uid];\n\n        if (fn && typeof document !== 'undefined') {\n          var events = _this.props.eventTypes;\n\n          if (!events.forEach) {\n            events = [events];\n          }\n\n          events.forEach(function (eventName) {\n            return document.removeEventListener(eventName, fn, getEventHandlerOptions(_this, eventName));\n          });\n          delete handlersMap[_this._uid];\n        }\n      };\n\n      _this.getRef = function (ref) {\n        return _this.instanceRef = ref;\n      };\n\n      _this._uid = uid();\n      return _this;\n    }\n    /**\n     * Access the WrappedComponent's instance.\n     */\n\n\n    var _proto = onClickOutside.prototype;\n\n    _proto.getInstance = function getInstance() {\n      if (!WrappedComponent.prototype.isReactComponent) {\n        return this;\n      }\n\n      var ref = this.instanceRef;\n      return ref.getInstance ? ref.getInstance() : ref;\n    };\n    /**\n     * Add click listeners to the current document,\n     * linked to this component's state.\n     */\n\n\n    _proto.componentDidMount = function componentDidMount() {\n      // If we are in an environment without a DOM such\n      // as shallow rendering or snapshots then we exit\n      // early to prevent any unhandled errors being thrown.\n      if (typeof document === 'undefined' || !document.createElement) {\n        return;\n      }\n\n      var instance = this.getInstance();\n\n      if (config && typeof config.handleClickOutside === 'function') {\n        this.__clickOutsideHandlerProp = config.handleClickOutside(instance);\n\n        if (typeof this.__clickOutsideHandlerProp !== 'function') {\n          throw new Error(\"WrappedComponent: \" + componentName + \" lacks a function for processing outside click events specified by the handleClickOutside config option.\");\n        }\n      }\n\n      this.componentNode = this.__getComponentNode(); // return early so we dont initiate onClickOutside\n\n      if (this.props.disableOnClickOutside) return;\n      this.enableOnClickOutside();\n    };\n\n    _proto.componentDidUpdate = function componentDidUpdate() {\n      this.componentNode = this.__getComponentNode();\n    };\n    /**\n     * Remove all document's event listeners for this component\n     */\n\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      this.disableOnClickOutside();\n    };\n    /**\n     * Can be called to explicitly enable event listening\n     * for clicks and touches outside of this element.\n     */\n\n    /**\n     * Pass-through render\n     */\n\n\n    _proto.render = function render() {\n      // eslint-disable-next-line no-unused-vars\n      var _props = this.props,\n          excludeScrollbar = _props.excludeScrollbar,\n          props = _objectWithoutProperties(_props, [\"excludeScrollbar\"]);\n\n      if (WrappedComponent.prototype.isReactComponent) {\n        props.ref = this.getRef;\n      } else {\n        props.wrappedRef = this.getRef;\n      }\n\n      props.disableOnClickOutside = this.disableOnClickOutside;\n      props.enableOnClickOutside = this.enableOnClickOutside;\n      return Object(react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(WrappedComponent, props);\n    };\n\n    return onClickOutside;\n  }(react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"]), _class.displayName = \"OnClickOutside(\" + componentName + \")\", _class.defaultProps = {\n    eventTypes: ['mousedown', 'touchstart'],\n    excludeScrollbar: config && config.excludeScrollbar || false,\n    outsideClickIgnoreClass: IGNORE_CLASS_NAME,\n    preventDefault: false,\n    stopPropagation: false\n  }, _class.getClass = function () {\n    return WrappedComponent.getClass ? WrappedComponent.getClass() : WrappedComponent;\n  }, _temp;\n}\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (onClickOutsideHOC);\n\n/***/ }),\n\n/***/ 1305:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nexports.default = function (file, acceptedFiles) {\n  if (file && acceptedFiles) {\n    var acceptedFilesArray = Array.isArray(acceptedFiles) ? acceptedFiles : acceptedFiles.split(',');\n    var fileName = file.name || '';\n    var mimeType = (file.type || '').toLowerCase();\n    var baseMimeType = mimeType.replace(/\\/.*$/, '');\n    return acceptedFilesArray.some(function (type) {\n      var validType = type.trim().toLowerCase();\n\n      if (validType.charAt(0) === '.') {\n        return fileName.toLowerCase().endsWith(validType);\n      } else if (validType.endsWith('/*')) {\n        // This is something like a image/* mime type\n        return baseMimeType === validType.replace(/\\/.*$/, '');\n      }\n\n      return mimeType === validType;\n    });\n  }\n\n  return true;\n};\n\n/***/ }),\n\n/***/ 1306:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nvar _assign = __webpack_require__(1307);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nexports.default = _assign2.default || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n/***/ }),\n\n/***/ 1307:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n  \"default\": __webpack_require__(1308),\n  __esModule: true\n};\n\n/***/ }),\n\n/***/ 1308:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(1309);\n\nmodule.exports = __webpack_require__(1028).Object.assign;\n\n/***/ }),\n\n/***/ 1309:\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.3.1 Object.assign(target, source)\nvar $export = __webpack_require__(1044);\n\n$export($export.S + $export.F, 'Object', {\n  assign: __webpack_require__(1311)\n});\n\n/***/ }),\n\n/***/ 1310:\n/***/ (function(module, exports) {\n\nmodule.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n\n/***/ }),\n\n/***/ 1311:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n // 19.1.2.1 Object.assign(target, source, ...)\n\nvar DESCRIPTORS = __webpack_require__(1039);\n\nvar getKeys = __webpack_require__(1079);\n\nvar gOPS = __webpack_require__(1113);\n\nvar pIE = __webpack_require__(1082);\n\nvar toObject = __webpack_require__(1083);\n\nvar IObject = __webpack_require__(1177);\n\nvar $assign = Object.assign; // should work with symbols and should have deterministic property order (V8 bug)\n\nmodule.exports = !$assign || __webpack_require__(1055)(function () {\n  var A = {};\n  var B = {}; // eslint-disable-next-line no-undef\n\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) {\n    B[k] = k;\n  });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) {\n  // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || isEnum.call(S, key)) T[key] = S[key];\n    }\n  }\n\n  return T;\n} : $assign;\n\n/***/ }),\n\n/***/ 1312:\n/***/ (function(module, exports, __webpack_require__) {\n\n// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = __webpack_require__(1056);\n\nvar toLength = __webpack_require__(1313);\n\nvar toAbsoluteIndex = __webpack_require__(1314);\n\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value; // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++]; // eslint-disable-next-line no-self-compare\n\n      if (value != value) return true; // Array#indexOf ignores holes, Array#includes - not\n    } else for (; length > index; index++) {\n      if (IS_INCLUDES || index in O) {\n        if (O[index] === el) return IS_INCLUDES || index || 0;\n      }\n    }\n    return !IS_INCLUDES && -1;\n  };\n};\n\n/***/ }),\n\n/***/ 1313:\n/***/ (function(module, exports, __webpack_require__) {\n\n// 7.1.15 ToLength\nvar toInteger = __webpack_require__(1109);\n\nvar min = Math.min;\n\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n\n/***/ }),\n\n/***/ 1314:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar toInteger = __webpack_require__(1109);\n\nvar max = Math.max;\nvar min = Math.min;\n\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n\n/***/ }),\n\n/***/ 1315:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n  \"default\": __webpack_require__(1316),\n  __esModule: true\n};\n\n/***/ }),\n\n/***/ 1316:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(1317);\n\nmodule.exports = __webpack_require__(1028).Object.getPrototypeOf;\n\n/***/ }),\n\n/***/ 1317:\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = __webpack_require__(1083);\n\nvar $getPrototypeOf = __webpack_require__(1179);\n\n__webpack_require__(1318)('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n\n/***/ }),\n\n/***/ 1318:\n/***/ (function(module, exports, __webpack_require__) {\n\n// most Object methods by ES6 should accept primitives\nvar $export = __webpack_require__(1044);\n\nvar core = __webpack_require__(1028);\n\nvar fails = __webpack_require__(1055);\n\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () {\n    fn(1);\n  }), 'Object', exp);\n};\n\n/***/ }),\n\n/***/ 1319:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\n/***/ }),\n\n/***/ 1320:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nvar _defineProperty = __webpack_require__(1321);\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n/***/ }),\n\n/***/ 1321:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n  \"default\": __webpack_require__(1322),\n  __esModule: true\n};\n\n/***/ }),\n\n/***/ 1322:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(1323);\n\nvar $Object = __webpack_require__(1028).Object;\n\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n\n/***/ }),\n\n/***/ 1323:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $export = __webpack_require__(1044); // 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n\n\n$export($export.S + $export.F * !__webpack_require__(1039), 'Object', {\n  defineProperty: __webpack_require__(1045).f\n});\n\n/***/ }),\n\n/***/ 1324:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nvar _typeof2 = __webpack_require__(1180);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};\n\n/***/ }),\n\n/***/ 1325:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n  \"default\": __webpack_require__(1326),\n  __esModule: true\n};\n\n/***/ }),\n\n/***/ 1326:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(1327);\n\n__webpack_require__(1332);\n\nmodule.exports = __webpack_require__(1117).f('iterator');\n\n/***/ }),\n\n/***/ 1327:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar $at = __webpack_require__(1328)(true); // 21.1.3.27 String.prototype[@@iterator]()\n\n\n__webpack_require__(1181)(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n\n  this._i = 0; // next index\n  // 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return {\n    value: undefined,\n    done: true\n  };\n  point = $at(O, index);\n  this._i += point.length;\n  return {\n    value: point,\n    done: false\n  };\n});\n\n/***/ }),\n\n/***/ 1328:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar toInteger = __webpack_require__(1109);\n\nvar defined = __webpack_require__(1108); // true  -> String#at\n// false -> String#codePointAt\n\n\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff ? TO_STRING ? s.charAt(i) : a : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n\n/***/ }),\n\n/***/ 1329:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar create = __webpack_require__(1115);\n\nvar descriptor = __webpack_require__(1078);\n\nvar setToStringTag = __webpack_require__(1116);\n\nvar IteratorPrototype = {}; // 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\n\n__webpack_require__(1053)(IteratorPrototype, __webpack_require__(1057)('iterator'), function () {\n  return this;\n});\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, {\n    next: descriptor(1, next)\n  });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n\n/***/ }),\n\n/***/ 1330:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar dP = __webpack_require__(1045);\n\nvar anObject = __webpack_require__(1067);\n\nvar getKeys = __webpack_require__(1079);\n\nmodule.exports = __webpack_require__(1039) ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n\n  while (length > i) {\n    dP.f(O, P = keys[i++], Properties[P]);\n  }\n\n  return O;\n};\n\n/***/ }),\n\n/***/ 1331:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar document = __webpack_require__(1038).document;\n\nmodule.exports = document && document.documentElement;\n\n/***/ }),\n\n/***/ 1332:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(1333);\n\nvar global = __webpack_require__(1038);\n\nvar hide = __webpack_require__(1053);\n\nvar Iterators = __webpack_require__(1114);\n\nvar TO_STRING_TAG = __webpack_require__(1057)('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' + 'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' + 'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' + 'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' + 'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n\n/***/ }),\n\n/***/ 1333:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar addToUnscopables = __webpack_require__(1334);\n\nvar step = __webpack_require__(1335);\n\nvar Iterators = __webpack_require__(1114);\n\nvar toIObject = __webpack_require__(1056); // 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\n\n\nmodule.exports = __webpack_require__(1181)(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n\n  this._i = 0; // next index\n\n  this._k = kind; // kind\n  // 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values'); // argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\n\nIterators.Arguments = Iterators.Array;\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n\n/***/ }),\n\n/***/ 1334:\n/***/ (function(module, exports) {\n\nmodule.exports = function () {\n  /* empty */\n};\n\n/***/ }),\n\n/***/ 1335:\n/***/ (function(module, exports) {\n\nmodule.exports = function (done, value) {\n  return {\n    value: value,\n    done: !!done\n  };\n};\n\n/***/ }),\n\n/***/ 1336:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n  \"default\": __webpack_require__(1337),\n  __esModule: true\n};\n\n/***/ }),\n\n/***/ 1337:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(1338);\n\n__webpack_require__(1343);\n\n__webpack_require__(1344);\n\n__webpack_require__(1345);\n\nmodule.exports = __webpack_require__(1028).Symbol;\n\n/***/ }),\n\n/***/ 1338:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n // ECMAScript 6 symbols shim\n\nvar global = __webpack_require__(1038);\n\nvar has = __webpack_require__(1046);\n\nvar DESCRIPTORS = __webpack_require__(1039);\n\nvar $export = __webpack_require__(1044);\n\nvar redefine = __webpack_require__(1182);\n\nvar META = __webpack_require__(1339).KEY;\n\nvar $fails = __webpack_require__(1055);\n\nvar shared = __webpack_require__(1111);\n\nvar setToStringTag = __webpack_require__(1116);\n\nvar uid = __webpack_require__(1081);\n\nvar wks = __webpack_require__(1057);\n\nvar wksExt = __webpack_require__(1117);\n\nvar wksDefine = __webpack_require__(1118);\n\nvar enumKeys = __webpack_require__(1340);\n\nvar isArray = __webpack_require__(1341);\n\nvar anObject = __webpack_require__(1067);\n\nvar isObject = __webpack_require__(1054);\n\nvar toObject = __webpack_require__(1083);\n\nvar toIObject = __webpack_require__(1056);\n\nvar toPrimitive = __webpack_require__(1107);\n\nvar createDesc = __webpack_require__(1078);\n\nvar _create = __webpack_require__(1115);\n\nvar gOPNExt = __webpack_require__(1342);\n\nvar $GOPD = __webpack_require__(1184);\n\nvar $GOPS = __webpack_require__(1113);\n\nvar $DP = __webpack_require__(1045);\n\nvar $keys = __webpack_require__(1079);\n\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\n\nvar _stringify = $JSON && $JSON.stringify;\n\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function' && !!$GOPS.f;\nvar QObject = global.QObject; // Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\n\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild; // fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\n\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function get() {\n      return dP(this, 'a', {\n        value: 7\n      }).a;\n    }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function wrap(tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, {\n        enumerable: createDesc(0, false)\n      });\n    }\n\n    return setSymbolDesc(it, key, D);\n  }\n\n  return dP(it, key, D);\n};\n\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n\n  while (l > i) {\n    $defineProperty(it, key = keys[i++], P[key]);\n  }\n\n  return it;\n};\n\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\n\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\n\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\n\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  }\n\n  return result;\n};\n\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  }\n\n  return result;\n}; // 19.4.1.1 Symbol([description])\n\n\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n\n    var $set = function $set(value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, {\n      configurable: true,\n      set: $set\n    });\n    return wrap(tag);\n  };\n\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  __webpack_require__(1183).f = gOPNExt.f = $getOwnPropertyNames;\n  __webpack_require__(1082).f = $propertyIsEnumerable;\n  $GOPS.f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !__webpack_require__(1080)) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, {\n  Symbol: $Symbol\n});\n\nfor (var es6Symbols = // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'.split(','), j = 0; es6Symbols.length > j;) {\n  wks(es6Symbols[j++]);\n}\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) {\n  wksDefine(wellKnownSymbols[k++]);\n}\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function _for(key) {\n    return has(SymbolRegistry, key += '') ? SymbolRegistry[key] : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n\n    for (var key in SymbolRegistry) {\n      if (SymbolRegistry[key] === sym) return key;\n    }\n  },\n  useSetter: function useSetter() {\n    setter = true;\n  },\n  useSimple: function useSimple() {\n    setter = false;\n  }\n});\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n}); // Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\n\nvar FAILS_ON_PRIMITIVES = $fails(function () {\n  $GOPS.f(1);\n});\n$export($export.S + $export.F * FAILS_ON_PRIMITIVES, 'Object', {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return $GOPS.f(toObject(it));\n  }\n}); // 24.3.2 JSON.stringify(value [, replacer [, space]])\n\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol(); // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n\n  return _stringify([S]) != '[null]' || _stringify({\n    a: S\n  }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n\n    while (arguments.length > i) {\n      args.push(arguments[i++]);\n    }\n\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n\n    if (!isArray(replacer)) replacer = function replacer(key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n}); // 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || __webpack_require__(1053)($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf); // 19.4.3.5 Symbol.prototype[@@toStringTag]\n\nsetToStringTag($Symbol, 'Symbol'); // 20.2.1.9 Math[@@toStringTag]\n\nsetToStringTag(Math, 'Math', true); // 24.3.3 JSON[@@toStringTag]\n\nsetToStringTag(global.JSON, 'JSON', true);\n\n/***/ }),\n\n/***/ 1339:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar META = __webpack_require__(1081)('meta');\n\nvar isObject = __webpack_require__(1054);\n\nvar has = __webpack_require__(1046);\n\nvar setDesc = __webpack_require__(1045).f;\n\nvar id = 0;\n\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\n\nvar FREEZE = !__webpack_require__(1055)(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\n\nvar setMeta = function setMeta(it) {\n  setDesc(it, META, {\n    value: {\n      i: 'O' + ++id,\n      // object ID\n      w: {} // weak collections IDs\n\n    }\n  });\n};\n\nvar fastKey = function fastKey(it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F'; // not necessary to add metadata\n\n    if (!create) return 'E'; // add missing metadata\n\n    setMeta(it); // return object ID\n  }\n\n  return it[META].i;\n};\n\nvar getWeak = function getWeak(it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true; // not necessary to add metadata\n\n    if (!create) return false; // add missing metadata\n\n    setMeta(it); // return hash weak collections IDs\n  }\n\n  return it[META].w;\n}; // add metadata on freeze-family methods calling\n\n\nvar onFreeze = function onFreeze(it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\n\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n\n/***/ }),\n\n/***/ 1340:\n/***/ (function(module, exports, __webpack_require__) {\n\n// all enumerable object keys, includes symbols\nvar getKeys = __webpack_require__(1079);\n\nvar gOPS = __webpack_require__(1113);\n\nvar pIE = __webpack_require__(1082);\n\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n\n    while (symbols.length > i) {\n      if (isEnum.call(it, key = symbols[i++])) result.push(key);\n    }\n  }\n\n  return result;\n};\n\n/***/ }),\n\n/***/ 1341:\n/***/ (function(module, exports, __webpack_require__) {\n\n// 7.2.2 IsArray(argument)\nvar cof = __webpack_require__(1178);\n\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n\n/***/ }),\n\n/***/ 1342:\n/***/ (function(module, exports, __webpack_require__) {\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = __webpack_require__(1056);\n\nvar gOPN = __webpack_require__(1183).f;\n\nvar toString = {}.toString;\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function getWindowNames(it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n\n/***/ }),\n\n/***/ 1343:\n/***/ (function(module, exports) {\n\n\n\n/***/ }),\n\n/***/ 1344:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(1118)('asyncIterator');\n\n/***/ }),\n\n/***/ 1345:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(1118)('observable');\n\n/***/ }),\n\n/***/ 1346:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nvar _setPrototypeOf = __webpack_require__(1347);\n\nvar _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);\n\nvar _create = __webpack_require__(1351);\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _typeof2 = __webpack_require__(1180);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nexports.default = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(superClass)));\n  }\n\n  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\n/***/ }),\n\n/***/ 1347:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n  \"default\": __webpack_require__(1348),\n  __esModule: true\n};\n\n/***/ }),\n\n/***/ 1348:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(1349);\n\nmodule.exports = __webpack_require__(1028).Object.setPrototypeOf;\n\n/***/ }),\n\n/***/ 1349:\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = __webpack_require__(1044);\n\n$export($export.S, 'Object', {\n  setPrototypeOf: __webpack_require__(1350).set\n});\n\n/***/ }),\n\n/***/ 1350:\n/***/ (function(module, exports, __webpack_require__) {\n\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n\n/* eslint-disable no-proto */\nvar isObject = __webpack_require__(1054);\n\nvar anObject = __webpack_require__(1067);\n\nvar check = function check(O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\n\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n  function (test, buggy, set) {\n    try {\n      set = __webpack_require__(1173)(Function.call, __webpack_require__(1184).f(Object.prototype, '__proto__').set, 2);\n      set(test, []);\n      buggy = !(test instanceof Array);\n    } catch (e) {\n      buggy = true;\n    }\n\n    return function setPrototypeOf(O, proto) {\n      check(O, proto);\n      if (buggy) O.__proto__ = proto;else set(O, proto);\n      return O;\n    };\n  }({}, false) : undefined),\n  check: check\n};\n\n/***/ }),\n\n/***/ 1351:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n  \"default\": __webpack_require__(1352),\n  __esModule: true\n};\n\n/***/ }),\n\n/***/ 1352:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(1353);\n\nvar $Object = __webpack_require__(1028).Object;\n\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n\n/***/ }),\n\n/***/ 1353:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $export = __webpack_require__(1044); // 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n\n\n$export($export.S, 'Object', {\n  create: __webpack_require__(1115)\n});\n\n/***/ }),\n\n/***/ 1354:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_RESULT__;typeof navigator !== \"undefined\" && function (root, factory) {\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_RESULT__ = (function () {\n      return factory(root);\n    }).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n}(window || {}, function (window) {\n  \"use strict\";\n\n  var svgNS = \"http://www.w3.org/2000/svg\";\n  var locationHref = '';\n  var initialDefaultFrame = -999999;\n  var subframeEnabled = true;\n  var expressionsPlugin;\n  var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n  var cachedColors = {};\n  var bm_rounder = Math.round;\n  var bm_rnd;\n  var bm_pow = Math.pow;\n  var bm_sqrt = Math.sqrt;\n  var bm_abs = Math.abs;\n  var bm_floor = Math.floor;\n  var bm_max = Math.max;\n  var bm_min = Math.min;\n  var blitter = 10;\n  var BMMath = {};\n\n  (function () {\n    var propertyNames = [\"abs\", \"acos\", \"acosh\", \"asin\", \"asinh\", \"atan\", \"atanh\", \"atan2\", \"ceil\", \"cbrt\", \"expm1\", \"clz32\", \"cos\", \"cosh\", \"exp\", \"floor\", \"fround\", \"hypot\", \"imul\", \"log\", \"log1p\", \"log2\", \"log10\", \"max\", \"min\", \"pow\", \"random\", \"round\", \"sign\", \"sin\", \"sinh\", \"sqrt\", \"tan\", \"tanh\", \"trunc\", \"E\", \"LN10\", \"LN2\", \"LOG10E\", \"LOG2E\", \"PI\", \"SQRT1_2\", \"SQRT2\"];\n    var i,\n        len = propertyNames.length;\n\n    for (i = 0; i < len; i += 1) {\n      BMMath[propertyNames[i]] = Math[propertyNames[i]];\n    }\n  })();\n\n  function ProjectInterface() {\n    return {};\n  }\n\n  BMMath.random = Math.random;\n\n  BMMath.abs = function (val) {\n    var tOfVal = typeof val;\n\n    if (tOfVal === 'object' && val.length) {\n      var absArr = createSizedArray(val.length);\n      var i,\n          len = val.length;\n\n      for (i = 0; i < len; i += 1) {\n        absArr[i] = Math.abs(val[i]);\n      }\n\n      return absArr;\n    }\n\n    return Math.abs(val);\n  };\n\n  var defaultCurveSegments = 150;\n  var degToRads = Math.PI / 180;\n  var roundCorner = 0.5519;\n\n  function roundValues(flag) {\n    if (flag) {\n      bm_rnd = Math.round;\n    } else {\n      bm_rnd = function bm_rnd(val) {\n        return val;\n      };\n    }\n  }\n\n  roundValues(false);\n\n  function styleDiv(element) {\n    element.style.position = 'absolute';\n    element.style.top = 0;\n    element.style.left = 0;\n    element.style.display = 'block';\n    element.style.transformOrigin = element.style.webkitTransformOrigin = '0 0';\n    element.style.backfaceVisibility = element.style.webkitBackfaceVisibility = 'visible';\n    element.style.transformStyle = element.style.webkitTransformStyle = element.style.mozTransformStyle = \"preserve-3d\";\n  }\n\n  function BMEnterFrameEvent(type, currentTime, totalTime, frameMultiplier) {\n    this.type = type;\n    this.currentTime = currentTime;\n    this.totalTime = totalTime;\n    this.direction = frameMultiplier < 0 ? -1 : 1;\n  }\n\n  function BMCompleteEvent(type, frameMultiplier) {\n    this.type = type;\n    this.direction = frameMultiplier < 0 ? -1 : 1;\n  }\n\n  function BMCompleteLoopEvent(type, totalLoops, currentLoop, frameMultiplier) {\n    this.type = type;\n    this.currentLoop = currentLoop;\n    this.totalLoops = totalLoops;\n    this.direction = frameMultiplier < 0 ? -1 : 1;\n  }\n\n  function BMSegmentStartEvent(type, firstFrame, totalFrames) {\n    this.type = type;\n    this.firstFrame = firstFrame;\n    this.totalFrames = totalFrames;\n  }\n\n  function BMDestroyEvent(type, target) {\n    this.type = type;\n    this.target = target;\n  }\n\n  function BMRenderFrameErrorEvent(nativeError, currentTime) {\n    this.type = 'renderFrameError';\n    this.nativeError = nativeError;\n    this.currentTime = currentTime;\n  }\n\n  function BMConfigErrorEvent(nativeError) {\n    this.type = 'configError';\n    this.nativeError = nativeError;\n  }\n\n  function BMAnimationConfigErrorEvent(type, nativeError) {\n    this.type = type;\n    this.nativeError = nativeError;\n    this.currentTime = currentTime;\n  }\n\n  var createElementID = function () {\n    var _count = 0;\n    return function createID() {\n      return '__lottie_element_' + ++_count;\n    };\n  }();\n\n  function HSVtoRGB(h, s, v) {\n    var r, g, b, i, f, p, q, t;\n    i = Math.floor(h * 6);\n    f = h * 6 - i;\n    p = v * (1 - s);\n    q = v * (1 - f * s);\n    t = v * (1 - (1 - f) * s);\n\n    switch (i % 6) {\n      case 0:\n        r = v;\n        g = t;\n        b = p;\n        break;\n\n      case 1:\n        r = q;\n        g = v;\n        b = p;\n        break;\n\n      case 2:\n        r = p;\n        g = v;\n        b = t;\n        break;\n\n      case 3:\n        r = p;\n        g = q;\n        b = v;\n        break;\n\n      case 4:\n        r = t;\n        g = p;\n        b = v;\n        break;\n\n      case 5:\n        r = v;\n        g = p;\n        b = q;\n        break;\n    }\n\n    return [r, g, b];\n  }\n\n  function RGBtoHSV(r, g, b) {\n    var max = Math.max(r, g, b),\n        min = Math.min(r, g, b),\n        d = max - min,\n        h,\n        s = max === 0 ? 0 : d / max,\n        v = max / 255;\n\n    switch (max) {\n      case min:\n        h = 0;\n        break;\n\n      case r:\n        h = g - b + d * (g < b ? 6 : 0);\n        h /= 6 * d;\n        break;\n\n      case g:\n        h = b - r + d * 2;\n        h /= 6 * d;\n        break;\n\n      case b:\n        h = r - g + d * 4;\n        h /= 6 * d;\n        break;\n    }\n\n    return [h, s, v];\n  }\n\n  function addSaturationToRGB(color, offset) {\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\n    hsv[1] += offset;\n\n    if (hsv[1] > 1) {\n      hsv[1] = 1;\n    } else if (hsv[1] <= 0) {\n      hsv[1] = 0;\n    }\n\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\n  }\n\n  function addBrightnessToRGB(color, offset) {\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\n    hsv[2] += offset;\n\n    if (hsv[2] > 1) {\n      hsv[2] = 1;\n    } else if (hsv[2] < 0) {\n      hsv[2] = 0;\n    }\n\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\n  }\n\n  function addHueToRGB(color, offset) {\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\n    hsv[0] += offset / 360;\n\n    if (hsv[0] > 1) {\n      hsv[0] -= 1;\n    } else if (hsv[0] < 0) {\n      hsv[0] += 1;\n    }\n\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\n  }\n\n  var rgbToHex = function () {\n    var colorMap = [];\n    var i;\n    var hex;\n\n    for (i = 0; i < 256; i += 1) {\n      hex = i.toString(16);\n      colorMap[i] = hex.length == 1 ? '0' + hex : hex;\n    }\n\n    return function (r, g, b) {\n      if (r < 0) {\n        r = 0;\n      }\n\n      if (g < 0) {\n        g = 0;\n      }\n\n      if (b < 0) {\n        b = 0;\n      }\n\n      return '#' + colorMap[r] + colorMap[g] + colorMap[b];\n    };\n  }();\n\n  function BaseEvent() {}\n\n  BaseEvent.prototype = {\n    triggerEvent: function triggerEvent(eventName, args) {\n      if (this._cbs[eventName]) {\n        var len = this._cbs[eventName].length;\n\n        for (var i = 0; i < len; i++) {\n          this._cbs[eventName][i](args);\n        }\n      }\n    },\n    addEventListener: function addEventListener(eventName, callback) {\n      if (!this._cbs[eventName]) {\n        this._cbs[eventName] = [];\n      }\n\n      this._cbs[eventName].push(callback);\n\n      return function () {\n        this.removeEventListener(eventName, callback);\n      }.bind(this);\n    },\n    removeEventListener: function removeEventListener(eventName, callback) {\n      if (!callback) {\n        this._cbs[eventName] = null;\n      } else if (this._cbs[eventName]) {\n        var i = 0,\n            len = this._cbs[eventName].length;\n\n        while (i < len) {\n          if (this._cbs[eventName][i] === callback) {\n            this._cbs[eventName].splice(i, 1);\n\n            i -= 1;\n            len -= 1;\n          }\n\n          i += 1;\n        }\n\n        if (!this._cbs[eventName].length) {\n          this._cbs[eventName] = null;\n        }\n      }\n    }\n  };\n\n  var createTypedArray = function () {\n    function createRegularArray(type, len) {\n      var i = 0,\n          arr = [],\n          value;\n\n      switch (type) {\n        case 'int16':\n        case 'uint8c':\n          value = 1;\n          break;\n\n        default:\n          value = 1.1;\n          break;\n      }\n\n      for (i = 0; i < len; i += 1) {\n        arr.push(value);\n      }\n\n      return arr;\n    }\n\n    function createTypedArray(type, len) {\n      if (type === 'float32') {\n        return new Float32Array(len);\n      } else if (type === 'int16') {\n        return new Int16Array(len);\n      } else if (type === 'uint8c') {\n        return new Uint8ClampedArray(len);\n      }\n    }\n\n    if (typeof Uint8ClampedArray === 'function' && typeof Float32Array === 'function') {\n      return createTypedArray;\n    } else {\n      return createRegularArray;\n    }\n  }();\n\n  function createSizedArray(len) {\n    return Array.apply(null, {\n      length: len\n    });\n  }\n\n  function createNS(type) {\n    //return {appendChild:function(){},setAttribute:function(){},style:{}}\n    return document.createElementNS(svgNS, type);\n  }\n\n  function createTag(type) {\n    //return {appendChild:function(){},setAttribute:function(){},style:{}}\n    return document.createElement(type);\n  }\n\n  function DynamicPropertyContainer() {}\n\n  ;\n  DynamicPropertyContainer.prototype = {\n    addDynamicProperty: function addDynamicProperty(prop) {\n      if (this.dynamicProperties.indexOf(prop) === -1) {\n        this.dynamicProperties.push(prop);\n        this.container.addDynamicProperty(this);\n        this._isAnimated = true;\n      }\n    },\n    iterateDynamicProperties: function iterateDynamicProperties() {\n      this._mdf = false;\n      var i,\n          len = this.dynamicProperties.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.dynamicProperties[i].getValue();\n\n        if (this.dynamicProperties[i]._mdf) {\n          this._mdf = true;\n        }\n      }\n    },\n    initDynamicPropertyContainer: function initDynamicPropertyContainer(container) {\n      this.container = container;\n      this.dynamicProperties = [];\n      this._mdf = false;\n      this._isAnimated = false;\n    }\n  };\n\n  var getBlendMode = function () {\n    var blendModeEnums = {\n      0: 'source-over',\n      1: 'multiply',\n      2: 'screen',\n      3: 'overlay',\n      4: 'darken',\n      5: 'lighten',\n      6: 'color-dodge',\n      7: 'color-burn',\n      8: 'hard-light',\n      9: 'soft-light',\n      10: 'difference',\n      11: 'exclusion',\n      12: 'hue',\n      13: 'saturation',\n      14: 'color',\n      15: 'luminosity'\n    };\n    return function (mode) {\n      return blendModeEnums[mode] || '';\n    };\n  }();\n  /*!\r\n   Transformation Matrix v2.0\r\n   (c) Epistemex 2014-2015\r\n   www.epistemex.com\r\n   By Ken Fyrstenberg\r\n   Contributions by leeoniya.\r\n   License: MIT, header required.\r\n   */\n\n  /**\r\n   * 2D transformation matrix object initialized with identity matrix.\r\n   *\r\n   * The matrix can synchronize a canvas context by supplying the context\r\n   * as an argument, or later apply current absolute transform to an\r\n   * existing context.\r\n   *\r\n   * All values are handled as floating point values.\r\n   *\r\n   * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\r\n   * @prop {number} a - scale x\r\n   * @prop {number} b - shear y\r\n   * @prop {number} c - shear x\r\n   * @prop {number} d - scale y\r\n   * @prop {number} e - translate x\r\n   * @prop {number} f - translate y\r\n   * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\r\n   * @constructor\r\n   */\n\n\n  var Matrix = function () {\n    var _cos = Math.cos;\n    var _sin = Math.sin;\n    var _tan = Math.tan;\n    var _rnd = Math.round;\n\n    function reset() {\n      this.props[0] = 1;\n      this.props[1] = 0;\n      this.props[2] = 0;\n      this.props[3] = 0;\n      this.props[4] = 0;\n      this.props[5] = 1;\n      this.props[6] = 0;\n      this.props[7] = 0;\n      this.props[8] = 0;\n      this.props[9] = 0;\n      this.props[10] = 1;\n      this.props[11] = 0;\n      this.props[12] = 0;\n      this.props[13] = 0;\n      this.props[14] = 0;\n      this.props[15] = 1;\n      return this;\n    }\n\n    function rotate(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n    }\n\n    function rotateX(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(1, 0, 0, 0, 0, mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1);\n    }\n\n    function rotateY(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, 0, mSin, 0, 0, 1, 0, 0, -mSin, 0, mCos, 0, 0, 0, 0, 1);\n    }\n\n    function rotateZ(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n    }\n\n    function shear(sx, sy) {\n      return this._t(1, sy, sx, 1, 0, 0);\n    }\n\n    function skew(ax, ay) {\n      return this.shear(_tan(ax), _tan(ay));\n    }\n\n    function skewFromAxis(ax, angle) {\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, mSin, 0, 0, -mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(1, 0, 0, 0, _tan(ax), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); //return this._t(mCos, mSin, -mSin, mCos, 0, 0)._t(1, 0, _tan(ax), 1, 0, 0)._t(mCos, -mSin, mSin, mCos, 0, 0);\n    }\n\n    function scale(sx, sy, sz) {\n      if (!sz && sz !== 0) {\n        sz = 1;\n      }\n\n      if (sx === 1 && sy === 1 && sz === 1) {\n        return this;\n      }\n\n      return this._t(sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1);\n    }\n\n    function setTransform(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {\n      this.props[0] = a;\n      this.props[1] = b;\n      this.props[2] = c;\n      this.props[3] = d;\n      this.props[4] = e;\n      this.props[5] = f;\n      this.props[6] = g;\n      this.props[7] = h;\n      this.props[8] = i;\n      this.props[9] = j;\n      this.props[10] = k;\n      this.props[11] = l;\n      this.props[12] = m;\n      this.props[13] = n;\n      this.props[14] = o;\n      this.props[15] = p;\n      return this;\n    }\n\n    function translate(tx, ty, tz) {\n      tz = tz || 0;\n\n      if (tx !== 0 || ty !== 0 || tz !== 0) {\n        return this._t(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, tx, ty, tz, 1);\n      }\n\n      return this;\n    }\n\n    function transform(a2, b2, c2, d2, e2, f2, g2, h2, i2, j2, k2, l2, m2, n2, o2, p2) {\n      var _p = this.props;\n\n      if (a2 === 1 && b2 === 0 && c2 === 0 && d2 === 0 && e2 === 0 && f2 === 1 && g2 === 0 && h2 === 0 && i2 === 0 && j2 === 0 && k2 === 1 && l2 === 0) {\n        //NOTE: commenting this condition because TurboFan deoptimizes code when present\n        //if(m2 !== 0 || n2 !== 0 || o2 !== 0){\n        _p[12] = _p[12] * a2 + _p[15] * m2;\n        _p[13] = _p[13] * f2 + _p[15] * n2;\n        _p[14] = _p[14] * k2 + _p[15] * o2;\n        _p[15] = _p[15] * p2; //}\n\n        this._identityCalculated = false;\n        return this;\n      }\n\n      var a1 = _p[0];\n      var b1 = _p[1];\n      var c1 = _p[2];\n      var d1 = _p[3];\n      var e1 = _p[4];\n      var f1 = _p[5];\n      var g1 = _p[6];\n      var h1 = _p[7];\n      var i1 = _p[8];\n      var j1 = _p[9];\n      var k1 = _p[10];\n      var l1 = _p[11];\n      var m1 = _p[12];\n      var n1 = _p[13];\n      var o1 = _p[14];\n      var p1 = _p[15];\n      /* matrix order (canvas compatible):\r\n       * ace\r\n       * bdf\r\n       * 001\r\n       */\n\n      _p[0] = a1 * a2 + b1 * e2 + c1 * i2 + d1 * m2;\n      _p[1] = a1 * b2 + b1 * f2 + c1 * j2 + d1 * n2;\n      _p[2] = a1 * c2 + b1 * g2 + c1 * k2 + d1 * o2;\n      _p[3] = a1 * d2 + b1 * h2 + c1 * l2 + d1 * p2;\n      _p[4] = e1 * a2 + f1 * e2 + g1 * i2 + h1 * m2;\n      _p[5] = e1 * b2 + f1 * f2 + g1 * j2 + h1 * n2;\n      _p[6] = e1 * c2 + f1 * g2 + g1 * k2 + h1 * o2;\n      _p[7] = e1 * d2 + f1 * h2 + g1 * l2 + h1 * p2;\n      _p[8] = i1 * a2 + j1 * e2 + k1 * i2 + l1 * m2;\n      _p[9] = i1 * b2 + j1 * f2 + k1 * j2 + l1 * n2;\n      _p[10] = i1 * c2 + j1 * g2 + k1 * k2 + l1 * o2;\n      _p[11] = i1 * d2 + j1 * h2 + k1 * l2 + l1 * p2;\n      _p[12] = m1 * a2 + n1 * e2 + o1 * i2 + p1 * m2;\n      _p[13] = m1 * b2 + n1 * f2 + o1 * j2 + p1 * n2;\n      _p[14] = m1 * c2 + n1 * g2 + o1 * k2 + p1 * o2;\n      _p[15] = m1 * d2 + n1 * h2 + o1 * l2 + p1 * p2;\n      this._identityCalculated = false;\n      return this;\n    }\n\n    function isIdentity() {\n      if (!this._identityCalculated) {\n        this._identity = !(this.props[0] !== 1 || this.props[1] !== 0 || this.props[2] !== 0 || this.props[3] !== 0 || this.props[4] !== 0 || this.props[5] !== 1 || this.props[6] !== 0 || this.props[7] !== 0 || this.props[8] !== 0 || this.props[9] !== 0 || this.props[10] !== 1 || this.props[11] !== 0 || this.props[12] !== 0 || this.props[13] !== 0 || this.props[14] !== 0 || this.props[15] !== 1);\n        this._identityCalculated = true;\n      }\n\n      return this._identity;\n    }\n\n    function equals(matr) {\n      var i = 0;\n\n      while (i < 16) {\n        if (matr.props[i] !== this.props[i]) {\n          return false;\n        }\n\n        i += 1;\n      }\n\n      return true;\n    }\n\n    function clone(matr) {\n      var i;\n\n      for (i = 0; i < 16; i += 1) {\n        matr.props[i] = this.props[i];\n      }\n    }\n\n    function cloneFromProps(props) {\n      var i;\n\n      for (i = 0; i < 16; i += 1) {\n        this.props[i] = props[i];\n      }\n    }\n\n    function applyToPoint(x, y, z) {\n      return {\n        x: x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\n        y: x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\n        z: x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]\n      };\n      /*return {\r\n       x: x * me.a + y * me.c + me.e,\r\n       y: x * me.b + y * me.d + me.f\r\n       };*/\n    }\n\n    function applyToX(x, y, z) {\n      return x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12];\n    }\n\n    function applyToY(x, y, z) {\n      return x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13];\n    }\n\n    function applyToZ(x, y, z) {\n      return x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14];\n    }\n\n    function getInverseMatrix() {\n      var determinant = this.props[0] * this.props[5] - this.props[1] * this.props[4];\n      var a = this.props[5] / determinant;\n      var b = -this.props[1] / determinant;\n      var c = -this.props[4] / determinant;\n      var d = this.props[0] / determinant;\n      var e = (this.props[4] * this.props[13] - this.props[5] * this.props[12]) / determinant;\n      var f = -(this.props[0] * this.props[13] - this.props[1] * this.props[12]) / determinant;\n      var inverseMatrix = new Matrix();\n      inverseMatrix.props[0] = a;\n      inverseMatrix.props[1] = b;\n      inverseMatrix.props[4] = c;\n      inverseMatrix.props[5] = d;\n      inverseMatrix.props[12] = e;\n      inverseMatrix.props[13] = f;\n      return inverseMatrix;\n    }\n\n    function inversePoint(pt) {\n      var inverseMatrix = this.getInverseMatrix();\n      return inverseMatrix.applyToPointArray(pt[0], pt[1], pt[2] || 0);\n    }\n\n    function inversePoints(pts) {\n      var i,\n          len = pts.length,\n          retPts = [];\n\n      for (i = 0; i < len; i += 1) {\n        retPts[i] = inversePoint(pts[i]);\n      }\n\n      return retPts;\n    }\n\n    function applyToTriplePoints(pt1, pt2, pt3) {\n      var arr = createTypedArray('float32', 6);\n\n      if (this.isIdentity()) {\n        arr[0] = pt1[0];\n        arr[1] = pt1[1];\n        arr[2] = pt2[0];\n        arr[3] = pt2[1];\n        arr[4] = pt3[0];\n        arr[5] = pt3[1];\n      } else {\n        var p0 = this.props[0],\n            p1 = this.props[1],\n            p4 = this.props[4],\n            p5 = this.props[5],\n            p12 = this.props[12],\n            p13 = this.props[13];\n        arr[0] = pt1[0] * p0 + pt1[1] * p4 + p12;\n        arr[1] = pt1[0] * p1 + pt1[1] * p5 + p13;\n        arr[2] = pt2[0] * p0 + pt2[1] * p4 + p12;\n        arr[3] = pt2[0] * p1 + pt2[1] * p5 + p13;\n        arr[4] = pt3[0] * p0 + pt3[1] * p4 + p12;\n        arr[5] = pt3[0] * p1 + pt3[1] * p5 + p13;\n      }\n\n      return arr;\n    }\n\n    function applyToPointArray(x, y, z) {\n      var arr;\n\n      if (this.isIdentity()) {\n        arr = [x, y, z];\n      } else {\n        arr = [x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12], x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13], x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]];\n      }\n\n      return arr;\n    }\n\n    function applyToPointStringified(x, y) {\n      if (this.isIdentity()) {\n        return x + ',' + y;\n      }\n\n      var _p = this.props;\n      return Math.round((x * _p[0] + y * _p[4] + _p[12]) * 100) / 100 + ',' + Math.round((x * _p[1] + y * _p[5] + _p[13]) * 100) / 100;\n    }\n\n    function toCSS() {\n      //Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\n\n      /*if(this.isIdentity()) {\r\n          return '';\r\n      }*/\n      var i = 0;\n      var props = this.props;\n      var cssValue = 'matrix3d(';\n      var v = 10000;\n\n      while (i < 16) {\n        cssValue += _rnd(props[i] * v) / v;\n        cssValue += i === 15 ? ')' : ',';\n        i += 1;\n      }\n\n      return cssValue;\n    }\n\n    function roundMatrixProperty(val) {\n      var v = 10000;\n\n      if (val < 0.000001 && val > 0 || val > -0.000001 && val < 0) {\n        return _rnd(val * v) / v;\n      }\n\n      return val;\n    }\n\n    function to2dCSS() {\n      //Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\n\n      /*if(this.isIdentity()) {\r\n          return '';\r\n      }*/\n      var props = this.props;\n\n      var _a = roundMatrixProperty(props[0]);\n\n      var _b = roundMatrixProperty(props[1]);\n\n      var _c = roundMatrixProperty(props[4]);\n\n      var _d = roundMatrixProperty(props[5]);\n\n      var _e = roundMatrixProperty(props[12]);\n\n      var _f = roundMatrixProperty(props[13]);\n\n      return \"matrix(\" + _a + ',' + _b + ',' + _c + ',' + _d + ',' + _e + ',' + _f + \")\";\n    }\n\n    return function () {\n      this.reset = reset;\n      this.rotate = rotate;\n      this.rotateX = rotateX;\n      this.rotateY = rotateY;\n      this.rotateZ = rotateZ;\n      this.skew = skew;\n      this.skewFromAxis = skewFromAxis;\n      this.shear = shear;\n      this.scale = scale;\n      this.setTransform = setTransform;\n      this.translate = translate;\n      this.transform = transform;\n      this.applyToPoint = applyToPoint;\n      this.applyToX = applyToX;\n      this.applyToY = applyToY;\n      this.applyToZ = applyToZ;\n      this.applyToPointArray = applyToPointArray;\n      this.applyToTriplePoints = applyToTriplePoints;\n      this.applyToPointStringified = applyToPointStringified;\n      this.toCSS = toCSS;\n      this.to2dCSS = to2dCSS;\n      this.clone = clone;\n      this.cloneFromProps = cloneFromProps;\n      this.equals = equals;\n      this.inversePoints = inversePoints;\n      this.inversePoint = inversePoint;\n      this.getInverseMatrix = getInverseMatrix;\n      this._t = this.transform;\n      this.isIdentity = isIdentity;\n      this._identity = true;\n      this._identityCalculated = false;\n      this.props = createTypedArray('float32', 16);\n      this.reset();\n    };\n  }();\n  /*\r\n   Copyright 2014 David Bau.\r\n  \r\n   Permission is hereby granted, free of charge, to any person obtaining\r\n   a copy of this software and associated documentation files (the\r\n   \"Software\"), to deal in the Software without restriction, including\r\n   without limitation the rights to use, copy, modify, merge, publish,\r\n   distribute, sublicense, and/or sell copies of the Software, and to\r\n   permit persons to whom the Software is furnished to do so, subject to\r\n   the following conditions:\r\n  \r\n   The above copyright notice and this permission notice shall be\r\n   included in all copies or substantial portions of the Software.\r\n  \r\n   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n   EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n   MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\r\n   IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\r\n   CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\r\n   TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n   SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n  \r\n   */\n\n\n  (function (pool, math) {\n    //\n    // The following constants are related to IEEE 754 limits.\n    //\n    var global = this,\n        width = 256,\n        // each RC4 output is 0 <= x < 256\n    chunks = 6,\n        // at least six RC4 outputs for each double\n    digits = 52,\n        // there are 52 significant digits in a double\n    rngname = 'random',\n        // rngname: name for Math.random and Math.seedrandom\n    startdenom = math.pow(width, chunks),\n        significance = math.pow(2, digits),\n        overflow = significance * 2,\n        mask = width - 1,\n        nodecrypto; // node.js crypto module, initialized at the bottom.\n    //\n    // seedrandom()\n    // This is the seedrandom function described above.\n    //\n\n    function seedrandom(seed, options, callback) {\n      var key = [];\n      options = options === true ? {\n        entropy: true\n      } : options || {}; // Flatten the seed string or build one from local entropy if needed.\n\n      var shortseed = mixkey(flatten(options.entropy ? [seed, tostring(pool)] : seed === null ? autoseed() : seed, 3), key); // Use the seed to initialize an ARC4 generator.\n\n      var arc4 = new ARC4(key); // This function returns a random double in [0, 1) that contains\n      // randomness in every bit of the mantissa of the IEEE 754 value.\n\n      var prng = function prng() {\n        var n = arc4.g(chunks),\n            // Start with a numerator n < 2 ^ 48\n        d = startdenom,\n            //   and denominator d = 2 ^ 48.\n        x = 0; //   and no 'extra last byte'.\n\n        while (n < significance) {\n          // Fill up all significant digits by\n          n = (n + x) * width; //   shifting numerator and\n\n          d *= width; //   denominator and generating a\n\n          x = arc4.g(1); //   new least-significant-byte.\n        }\n\n        while (n >= overflow) {\n          // To avoid rounding up, before adding\n          n /= 2; //   last byte, shift everything\n\n          d /= 2; //   right using integer math until\n\n          x >>>= 1; //   we have exactly the desired bits.\n        }\n\n        return (n + x) / d; // Form the number within [0, 1).\n      };\n\n      prng.int32 = function () {\n        return arc4.g(4) | 0;\n      };\n\n      prng.quick = function () {\n        return arc4.g(4) / 0x100000000;\n      };\n\n      prng.double = prng; // Mix the randomness into accumulated entropy.\n\n      mixkey(tostring(arc4.S), pool); // Calling convention: what to return as a function of prng, seed, is_math.\n\n      return (options.pass || callback || function (prng, seed, is_math_call, state) {\n        if (state) {\n          // Load the arc4 state from the given state if it has an S array.\n          if (state.S) {\n            copy(state, arc4);\n          } // Only provide the .state method if requested via options.state.\n\n\n          prng.state = function () {\n            return copy(arc4, {});\n          };\n        } // If called as a method of Math (Math.seedrandom()), mutate\n        // Math.random because that is how seedrandom.js has worked since v1.0.\n\n\n        if (is_math_call) {\n          math[rngname] = prng;\n          return seed;\n        } // Otherwise, it is a newer calling convention, so return the\n        // prng directly.\n        else return prng;\n      })(prng, shortseed, 'global' in options ? options.global : this == math, options.state);\n    }\n\n    math['seed' + rngname] = seedrandom; //\n    // ARC4\n    //\n    // An ARC4 implementation.  The constructor takes a key in the form of\n    // an array of at most (width) integers that should be 0 <= x < (width).\n    //\n    // The g(count) method returns a pseudorandom integer that concatenates\n    // the next (count) outputs from ARC4.  Its return value is a number x\n    // that is in the range 0 <= x < (width ^ count).\n    //\n\n    function ARC4(key) {\n      var t,\n          keylen = key.length,\n          me = this,\n          i = 0,\n          j = me.i = me.j = 0,\n          s = me.S = []; // The empty key [] is treated as [0].\n\n      if (!keylen) {\n        key = [keylen++];\n      } // Set up S using the standard key scheduling algorithm.\n\n\n      while (i < width) {\n        s[i] = i++;\n      }\n\n      for (i = 0; i < width; i++) {\n        s[i] = s[j = mask & j + key[i % keylen] + (t = s[i])];\n        s[j] = t;\n      } // The \"g\" method returns the next (count) outputs as one number.\n\n\n      me.g = function (count) {\n        // Using instance members instead of closure state nearly doubles speed.\n        var t,\n            r = 0,\n            i = me.i,\n            j = me.j,\n            s = me.S;\n\n        while (count--) {\n          t = s[i = mask & i + 1];\n          r = r * width + s[mask & (s[i] = s[j = mask & j + t]) + (s[j] = t)];\n        }\n\n        me.i = i;\n        me.j = j;\n        return r; // For robust unpredictability, the function call below automatically\n        // discards an initial batch of values.  This is called RC4-drop[256].\n        // See http://google.com/search?q=rsa+fluhrer+response&btnI\n      };\n    } //\n    // copy()\n    // Copies internal state of ARC4 to or from a plain object.\n    //\n\n\n    function copy(f, t) {\n      t.i = f.i;\n      t.j = f.j;\n      t.S = f.S.slice();\n      return t;\n    } //\n    // flatten()\n    // Converts an object tree to nested arrays of strings.\n    //\n\n\n    function flatten(obj, depth) {\n      var result = [],\n          typ = typeof obj,\n          prop;\n\n      if (depth && typ == 'object') {\n        for (prop in obj) {\n          try {\n            result.push(flatten(obj[prop], depth - 1));\n          } catch (e) {}\n        }\n      }\n\n      return result.length ? result : typ == 'string' ? obj : obj + '\\0';\n    } //\n    // mixkey()\n    // Mixes a string seed into a key that is an array of integers, and\n    // returns a shortened string seed that is equivalent to the result key.\n    //\n\n\n    function mixkey(seed, key) {\n      var stringseed = seed + '',\n          smear,\n          j = 0;\n\n      while (j < stringseed.length) {\n        key[mask & j] = mask & (smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++);\n      }\n\n      return tostring(key);\n    } //\n    // autoseed()\n    // Returns an object for autoseeding, using window.crypto and Node crypto\n    // module if available.\n    //\n\n\n    function autoseed() {\n      try {\n        if (nodecrypto) {\n          return tostring(nodecrypto.randomBytes(width));\n        }\n\n        var out = new Uint8Array(width);\n        (global.crypto || global.msCrypto).getRandomValues(out);\n        return tostring(out);\n      } catch (e) {\n        var browser = global.navigator,\n            plugins = browser && browser.plugins;\n        return [+new Date(), global, plugins, global.screen, tostring(pool)];\n      }\n    } //\n    // tostring()\n    // Converts an array of charcodes to a string\n    //\n\n\n    function tostring(a) {\n      return String.fromCharCode.apply(0, a);\n    } //\n    // When seedrandom.js is loaded, we immediately mix a few bits\n    // from the built-in RNG into the entropy pool.  Because we do\n    // not want to interfere with deterministic PRNG state later,\n    // seedrandom will not call math.random on its own again after\n    // initialization.\n    //\n\n\n    mixkey(math.random(), pool); //\n    // Nodejs and AMD support: export the implementation as a module using\n    // either convention.\n    //\n    // End anonymous scope, and pass initial values.\n  })([], // pool: entropy pool starts empty\n  BMMath // math: package containing random, pow, and seedrandom\n  );\n\n  var BezierFactory = function () {\n    /**\r\n     * BezierEasing - use bezier curve for transition easing function\r\n     * by Gaëtan Renaudeau 2014 - 2015 – MIT License\r\n     *\r\n     * Credits: is based on Firefox's nsSMILKeySpline.cpp\r\n     * Usage:\r\n     * var spline = BezierEasing([ 0.25, 0.1, 0.25, 1.0 ])\r\n     * spline.get(x) => returns the easing value | x must be in [0, 1] range\r\n     *\r\n     */\n    var ob = {};\n    ob.getBezierEasing = getBezierEasing;\n    var beziers = {};\n\n    function getBezierEasing(a, b, c, d, nm) {\n      var str = nm || ('bez_' + a + '_' + b + '_' + c + '_' + d).replace(/\\./g, 'p');\n\n      if (beziers[str]) {\n        return beziers[str];\n      }\n\n      var bezEasing = new BezierEasing([a, b, c, d]);\n      beziers[str] = bezEasing;\n      return bezEasing;\n    } // These values are established by empiricism with tests (tradeoff: performance VS precision)\n\n\n    var NEWTON_ITERATIONS = 4;\n    var NEWTON_MIN_SLOPE = 0.001;\n    var SUBDIVISION_PRECISION = 0.0000001;\n    var SUBDIVISION_MAX_ITERATIONS = 10;\n    var kSplineTableSize = 11;\n    var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n    var float32ArraySupported = typeof Float32Array === \"function\";\n\n    function A(aA1, aA2) {\n      return 1.0 - 3.0 * aA2 + 3.0 * aA1;\n    }\n\n    function B(aA1, aA2) {\n      return 3.0 * aA2 - 6.0 * aA1;\n    }\n\n    function C(aA1) {\n      return 3.0 * aA1;\n    } // Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\n\n\n    function calcBezier(aT, aA1, aA2) {\n      return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;\n    } // Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\n\n\n    function getSlope(aT, aA1, aA2) {\n      return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\n    }\n\n    function binarySubdivide(aX, aA, aB, mX1, mX2) {\n      var currentX,\n          currentT,\n          i = 0;\n\n      do {\n        currentT = aA + (aB - aA) / 2.0;\n        currentX = calcBezier(currentT, mX1, mX2) - aX;\n\n        if (currentX > 0.0) {\n          aB = currentT;\n        } else {\n          aA = currentT;\n        }\n      } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n\n      return currentT;\n    }\n\n    function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n      for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\n        var currentSlope = getSlope(aGuessT, mX1, mX2);\n        if (currentSlope === 0.0) return aGuessT;\n        var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n        aGuessT -= currentX / currentSlope;\n      }\n\n      return aGuessT;\n    }\n    /**\r\n     * points is an array of [ mX1, mY1, mX2, mY2 ]\r\n     */\n\n\n    function BezierEasing(points) {\n      this._p = points;\n      this._mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\n      this._precomputed = false;\n      this.get = this.get.bind(this);\n    }\n\n    BezierEasing.prototype = {\n      get: function get(x) {\n        var mX1 = this._p[0],\n            mY1 = this._p[1],\n            mX2 = this._p[2],\n            mY2 = this._p[3];\n        if (!this._precomputed) this._precompute();\n        if (mX1 === mY1 && mX2 === mY2) return x; // linear\n        // Because JavaScript number are imprecise, we should guarantee the extremes are right.\n\n        if (x === 0) return 0;\n        if (x === 1) return 1;\n        return calcBezier(this._getTForX(x), mY1, mY2);\n      },\n      // Private part\n      _precompute: function _precompute() {\n        var mX1 = this._p[0],\n            mY1 = this._p[1],\n            mX2 = this._p[2],\n            mY2 = this._p[3];\n        this._precomputed = true;\n        if (mX1 !== mY1 || mX2 !== mY2) this._calcSampleValues();\n      },\n      _calcSampleValues: function _calcSampleValues() {\n        var mX1 = this._p[0],\n            mX2 = this._p[2];\n\n        for (var i = 0; i < kSplineTableSize; ++i) {\n          this._mSampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n        }\n      },\n\n      /**\r\n       * getTForX chose the fastest heuristic to determine the percentage value precisely from a given X projection.\r\n       */\n      _getTForX: function _getTForX(aX) {\n        var mX1 = this._p[0],\n            mX2 = this._p[2],\n            mSampleValues = this._mSampleValues;\n        var intervalStart = 0.0;\n        var currentSample = 1;\n        var lastSample = kSplineTableSize - 1;\n\n        for (; currentSample !== lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {\n          intervalStart += kSampleStepSize;\n        }\n\n        --currentSample; // Interpolate to provide an initial guess for t\n\n        var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample + 1] - mSampleValues[currentSample]);\n        var guessForT = intervalStart + dist * kSampleStepSize;\n        var initialSlope = getSlope(guessForT, mX1, mX2);\n\n        if (initialSlope >= NEWTON_MIN_SLOPE) {\n          return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n        } else if (initialSlope === 0.0) {\n          return guessForT;\n        } else {\n          return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n        }\n      }\n    };\n    return ob;\n  }();\n\n  (function () {\n    var lastTime = 0;\n    var vendors = ['ms', 'moz', 'webkit', 'o'];\n\n    for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n      window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\n      window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\n    }\n\n    if (!window.requestAnimationFrame) window.requestAnimationFrame = function (callback, element) {\n      var currTime = new Date().getTime();\n      var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n      var id = setTimeout(function () {\n        callback(currTime + timeToCall);\n      }, timeToCall);\n      lastTime = currTime + timeToCall;\n      return id;\n    };\n    if (!window.cancelAnimationFrame) window.cancelAnimationFrame = function (id) {\n      clearTimeout(id);\n    };\n  })();\n\n  function extendPrototype(sources, destination) {\n    var i,\n        len = sources.length,\n        sourcePrototype;\n\n    for (i = 0; i < len; i += 1) {\n      sourcePrototype = sources[i].prototype;\n\n      for (var attr in sourcePrototype) {\n        if (sourcePrototype.hasOwnProperty(attr)) destination.prototype[attr] = sourcePrototype[attr];\n      }\n    }\n  }\n\n  function getDescriptor(object, prop) {\n    return Object.getOwnPropertyDescriptor(object, prop);\n  }\n\n  function createProxyFunction(prototype) {\n    function ProxyFunction() {}\n\n    ProxyFunction.prototype = prototype;\n    return ProxyFunction;\n  }\n\n  function bezFunction() {\n    var easingFunctions = [];\n    var math = Math;\n\n    function pointOnLine2D(x1, y1, x2, y2, x3, y3) {\n      var det1 = x1 * y2 + y1 * x3 + x2 * y3 - x3 * y2 - y3 * x1 - x2 * y1;\n      return det1 > -0.001 && det1 < 0.001;\n    }\n\n    function pointOnLine3D(x1, y1, z1, x2, y2, z2, x3, y3, z3) {\n      if (z1 === 0 && z2 === 0 && z3 === 0) {\n        return pointOnLine2D(x1, y1, x2, y2, x3, y3);\n      }\n\n      var dist1 = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2) + Math.pow(z2 - z1, 2));\n      var dist2 = Math.sqrt(Math.pow(x3 - x1, 2) + Math.pow(y3 - y1, 2) + Math.pow(z3 - z1, 2));\n      var dist3 = Math.sqrt(Math.pow(x3 - x2, 2) + Math.pow(y3 - y2, 2) + Math.pow(z3 - z2, 2));\n      var diffDist;\n\n      if (dist1 > dist2) {\n        if (dist1 > dist3) {\n          diffDist = dist1 - dist2 - dist3;\n        } else {\n          diffDist = dist3 - dist2 - dist1;\n        }\n      } else if (dist3 > dist2) {\n        diffDist = dist3 - dist2 - dist1;\n      } else {\n        diffDist = dist2 - dist1 - dist3;\n      }\n\n      return diffDist > -0.0001 && diffDist < 0.0001;\n    }\n\n    var getBezierLength = function () {\n      return function (pt1, pt2, pt3, pt4) {\n        var curveSegments = defaultCurveSegments;\n        var k;\n        var i, len;\n        var ptCoord,\n            perc,\n            addedLength = 0;\n        var ptDistance;\n        var point = [],\n            lastPoint = [];\n        var lengthData = bezier_length_pool.newElement();\n        len = pt3.length;\n\n        for (k = 0; k < curveSegments; k += 1) {\n          perc = k / (curveSegments - 1);\n          ptDistance = 0;\n\n          for (i = 0; i < len; i += 1) {\n            ptCoord = bm_pow(1 - perc, 3) * pt1[i] + 3 * bm_pow(1 - perc, 2) * perc * pt3[i] + 3 * (1 - perc) * bm_pow(perc, 2) * pt4[i] + bm_pow(perc, 3) * pt2[i];\n            point[i] = ptCoord;\n\n            if (lastPoint[i] !== null) {\n              ptDistance += bm_pow(point[i] - lastPoint[i], 2);\n            }\n\n            lastPoint[i] = point[i];\n          }\n\n          if (ptDistance) {\n            ptDistance = bm_sqrt(ptDistance);\n            addedLength += ptDistance;\n          }\n\n          lengthData.percents[k] = perc;\n          lengthData.lengths[k] = addedLength;\n        }\n\n        lengthData.addedLength = addedLength;\n        return lengthData;\n      };\n    }();\n\n    function getSegmentsLength(shapeData) {\n      var segmentsLength = segments_length_pool.newElement();\n      var closed = shapeData.c;\n      var pathV = shapeData.v;\n      var pathO = shapeData.o;\n      var pathI = shapeData.i;\n      var i,\n          len = shapeData._length;\n      var lengths = segmentsLength.lengths;\n      var totalLength = 0;\n\n      for (i = 0; i < len - 1; i += 1) {\n        lengths[i] = getBezierLength(pathV[i], pathV[i + 1], pathO[i], pathI[i + 1]);\n        totalLength += lengths[i].addedLength;\n      }\n\n      if (closed && len) {\n        lengths[i] = getBezierLength(pathV[i], pathV[0], pathO[i], pathI[0]);\n        totalLength += lengths[i].addedLength;\n      }\n\n      segmentsLength.totalLength = totalLength;\n      return segmentsLength;\n    }\n\n    function BezierData(length) {\n      this.segmentLength = 0;\n      this.points = new Array(length);\n    }\n\n    function PointData(partial, point) {\n      this.partialLength = partial;\n      this.point = point;\n    }\n\n    var buildBezierData = function () {\n      var storedData = {};\n      return function (pt1, pt2, pt3, pt4) {\n        var bezierName = (pt1[0] + '_' + pt1[1] + '_' + pt2[0] + '_' + pt2[1] + '_' + pt3[0] + '_' + pt3[1] + '_' + pt4[0] + '_' + pt4[1]).replace(/\\./g, 'p');\n\n        if (!storedData[bezierName]) {\n          var curveSegments = defaultCurveSegments;\n          var k, i, len;\n          var ptCoord,\n              perc,\n              addedLength = 0;\n          var ptDistance;\n          var point,\n              lastPoint = null;\n\n          if (pt1.length === 2 && (pt1[0] != pt2[0] || pt1[1] != pt2[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt1[0] + pt3[0], pt1[1] + pt3[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt2[0] + pt4[0], pt2[1] + pt4[1])) {\n            curveSegments = 2;\n          }\n\n          var bezierData = new BezierData(curveSegments);\n          len = pt3.length;\n\n          for (k = 0; k < curveSegments; k += 1) {\n            point = createSizedArray(len);\n            perc = k / (curveSegments - 1);\n            ptDistance = 0;\n\n            for (i = 0; i < len; i += 1) {\n              ptCoord = bm_pow(1 - perc, 3) * pt1[i] + 3 * bm_pow(1 - perc, 2) * perc * (pt1[i] + pt3[i]) + 3 * (1 - perc) * bm_pow(perc, 2) * (pt2[i] + pt4[i]) + bm_pow(perc, 3) * pt2[i];\n              point[i] = ptCoord;\n\n              if (lastPoint !== null) {\n                ptDistance += bm_pow(point[i] - lastPoint[i], 2);\n              }\n            }\n\n            ptDistance = bm_sqrt(ptDistance);\n            addedLength += ptDistance;\n            bezierData.points[k] = new PointData(ptDistance, point);\n            lastPoint = point;\n          }\n\n          bezierData.segmentLength = addedLength;\n          storedData[bezierName] = bezierData;\n        }\n\n        return storedData[bezierName];\n      };\n    }();\n\n    function getDistancePerc(perc, bezierData) {\n      var percents = bezierData.percents;\n      var lengths = bezierData.lengths;\n      var len = percents.length;\n      var initPos = bm_floor((len - 1) * perc);\n      var lengthPos = perc * bezierData.addedLength;\n      var lPerc = 0;\n\n      if (initPos === len - 1 || initPos === 0 || lengthPos === lengths[initPos]) {\n        return percents[initPos];\n      } else {\n        var dir = lengths[initPos] > lengthPos ? -1 : 1;\n        var flag = true;\n\n        while (flag) {\n          if (lengths[initPos] <= lengthPos && lengths[initPos + 1] > lengthPos) {\n            lPerc = (lengthPos - lengths[initPos]) / (lengths[initPos + 1] - lengths[initPos]);\n            flag = false;\n          } else {\n            initPos += dir;\n          }\n\n          if (initPos < 0 || initPos >= len - 1) {\n            //FIX for TypedArrays that don't store floating point values with enough accuracy\n            if (initPos === len - 1) {\n              return percents[initPos];\n            }\n\n            flag = false;\n          }\n        }\n\n        return percents[initPos] + (percents[initPos + 1] - percents[initPos]) * lPerc;\n      }\n    }\n\n    function getPointInSegment(pt1, pt2, pt3, pt4, percent, bezierData) {\n      var t1 = getDistancePerc(percent, bezierData);\n      var u0 = 1;\n      var u1 = 1 - t1;\n      var ptX = Math.round((u1 * u1 * u1 * pt1[0] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[0] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[0] + t1 * t1 * t1 * pt2[0]) * 1000) / 1000;\n      var ptY = Math.round((u1 * u1 * u1 * pt1[1] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[1] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[1] + t1 * t1 * t1 * pt2[1]) * 1000) / 1000;\n      return [ptX, ptY];\n    }\n\n    function getSegmentArray() {}\n\n    var bezier_segment_points = createTypedArray('float32', 8);\n\n    function getNewSegment(pt1, pt2, pt3, pt4, startPerc, endPerc, bezierData) {\n      startPerc = startPerc < 0 ? 0 : startPerc > 1 ? 1 : startPerc;\n      var t0 = getDistancePerc(startPerc, bezierData);\n      endPerc = endPerc > 1 ? 1 : endPerc;\n      var t1 = getDistancePerc(endPerc, bezierData);\n      var i,\n          len = pt1.length;\n      var u0 = 1 - t0;\n      var u1 = 1 - t1;\n      var u0u0u0 = u0 * u0 * u0;\n      var t0u0u0_3 = t0 * u0 * u0 * 3;\n      var t0t0u0_3 = t0 * t0 * u0 * 3;\n      var t0t0t0 = t0 * t0 * t0; //\n\n      var u0u0u1 = u0 * u0 * u1;\n      var t0u0u1_3 = t0 * u0 * u1 + u0 * t0 * u1 + u0 * u0 * t1;\n      var t0t0u1_3 = t0 * t0 * u1 + u0 * t0 * t1 + t0 * u0 * t1;\n      var t0t0t1 = t0 * t0 * t1; //\n\n      var u0u1u1 = u0 * u1 * u1;\n      var t0u1u1_3 = t0 * u1 * u1 + u0 * t1 * u1 + u0 * u1 * t1;\n      var t0t1u1_3 = t0 * t1 * u1 + u0 * t1 * t1 + t0 * u1 * t1;\n      var t0t1t1 = t0 * t1 * t1; //\n\n      var u1u1u1 = u1 * u1 * u1;\n      var t1u1u1_3 = t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1;\n      var t1t1u1_3 = t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1;\n      var t1t1t1 = t1 * t1 * t1;\n\n      for (i = 0; i < len; i += 1) {\n        bezier_segment_points[i * 4] = Math.round((u0u0u0 * pt1[i] + t0u0u0_3 * pt3[i] + t0t0u0_3 * pt4[i] + t0t0t0 * pt2[i]) * 1000) / 1000;\n        bezier_segment_points[i * 4 + 1] = Math.round((u0u0u1 * pt1[i] + t0u0u1_3 * pt3[i] + t0t0u1_3 * pt4[i] + t0t0t1 * pt2[i]) * 1000) / 1000;\n        bezier_segment_points[i * 4 + 2] = Math.round((u0u1u1 * pt1[i] + t0u1u1_3 * pt3[i] + t0t1u1_3 * pt4[i] + t0t1t1 * pt2[i]) * 1000) / 1000;\n        bezier_segment_points[i * 4 + 3] = Math.round((u1u1u1 * pt1[i] + t1u1u1_3 * pt3[i] + t1t1u1_3 * pt4[i] + t1t1t1 * pt2[i]) * 1000) / 1000;\n      }\n\n      return bezier_segment_points;\n    }\n\n    return {\n      getSegmentsLength: getSegmentsLength,\n      getNewSegment: getNewSegment,\n      getPointInSegment: getPointInSegment,\n      buildBezierData: buildBezierData,\n      pointOnLine2D: pointOnLine2D,\n      pointOnLine3D: pointOnLine3D\n    };\n  }\n\n  var bez = bezFunction();\n\n  function dataFunctionManager() {\n    //var tCanvasHelper = createTag('canvas').getContext('2d');\n    function completeLayers(layers, comps, fontManager) {\n      var layerData;\n      var animArray, lastFrame;\n      var i,\n          len = layers.length;\n      var j, jLen, k, kLen;\n\n      for (i = 0; i < len; i += 1) {\n        layerData = layers[i];\n\n        if (!('ks' in layerData) || layerData.completed) {\n          continue;\n        }\n\n        layerData.completed = true;\n\n        if (layerData.tt) {\n          layers[i - 1].td = layerData.tt;\n        }\n\n        animArray = [];\n        lastFrame = -1;\n\n        if (layerData.hasMask) {\n          var maskProps = layerData.masksProperties;\n          jLen = maskProps.length;\n\n          for (j = 0; j < jLen; j += 1) {\n            if (maskProps[j].pt.k.i) {\n              convertPathsToAbsoluteValues(maskProps[j].pt.k);\n            } else {\n              kLen = maskProps[j].pt.k.length;\n\n              for (k = 0; k < kLen; k += 1) {\n                if (maskProps[j].pt.k[k].s) {\n                  convertPathsToAbsoluteValues(maskProps[j].pt.k[k].s[0]);\n                }\n\n                if (maskProps[j].pt.k[k].e) {\n                  convertPathsToAbsoluteValues(maskProps[j].pt.k[k].e[0]);\n                }\n              }\n            }\n          }\n        }\n\n        if (layerData.ty === 0) {\n          layerData.layers = findCompLayers(layerData.refId, comps);\n          completeLayers(layerData.layers, comps, fontManager);\n        } else if (layerData.ty === 4) {\n          completeShapes(layerData.shapes);\n        } else if (layerData.ty == 5) {\n          completeText(layerData, fontManager);\n        }\n      }\n    }\n\n    function findCompLayers(id, comps) {\n      var i = 0,\n          len = comps.length;\n\n      while (i < len) {\n        if (comps[i].id === id) {\n          if (!comps[i].layers.__used) {\n            comps[i].layers.__used = true;\n            return comps[i].layers;\n          }\n\n          return JSON.parse(JSON.stringify(comps[i].layers));\n        }\n\n        i += 1;\n      }\n    }\n\n    function completeShapes(arr) {\n      var i,\n          len = arr.length;\n      var j, jLen;\n      var hasPaths = false;\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        if (arr[i].ty == 'sh') {\n          if (arr[i].ks.k.i) {\n            convertPathsToAbsoluteValues(arr[i].ks.k);\n          } else {\n            jLen = arr[i].ks.k.length;\n\n            for (j = 0; j < jLen; j += 1) {\n              if (arr[i].ks.k[j].s) {\n                convertPathsToAbsoluteValues(arr[i].ks.k[j].s[0]);\n              }\n\n              if (arr[i].ks.k[j].e) {\n                convertPathsToAbsoluteValues(arr[i].ks.k[j].e[0]);\n              }\n            }\n          }\n\n          hasPaths = true;\n        } else if (arr[i].ty == 'gr') {\n          completeShapes(arr[i].it);\n        }\n      }\n      /*if(hasPaths){\r\n          //mx: distance\r\n          //ss: sensitivity\r\n          //dc: decay\r\n          arr.splice(arr.length-1,0,{\r\n              \"ty\": \"ms\",\r\n              \"mx\":20,\r\n              \"ss\":10,\r\n               \"dc\":0.001,\r\n              \"maxDist\":200\r\n          });\r\n      }*/\n\n    }\n\n    function convertPathsToAbsoluteValues(path) {\n      var i,\n          len = path.i.length;\n\n      for (i = 0; i < len; i += 1) {\n        path.i[i][0] += path.v[i][0];\n        path.i[i][1] += path.v[i][1];\n        path.o[i][0] += path.v[i][0];\n        path.o[i][1] += path.v[i][1];\n      }\n    }\n\n    function checkVersion(minimum, animVersionString) {\n      var animVersion = animVersionString ? animVersionString.split('.') : [100, 100, 100];\n\n      if (minimum[0] > animVersion[0]) {\n        return true;\n      } else if (animVersion[0] > minimum[0]) {\n        return false;\n      }\n\n      if (minimum[1] > animVersion[1]) {\n        return true;\n      } else if (animVersion[1] > minimum[1]) {\n        return false;\n      }\n\n      if (minimum[2] > animVersion[2]) {\n        return true;\n      } else if (animVersion[2] > minimum[2]) {\n        return false;\n      }\n    }\n\n    var checkText = function () {\n      var minimumVersion = [4, 4, 14];\n\n      function updateTextLayer(textLayer) {\n        var documentData = textLayer.t.d;\n        textLayer.t.d = {\n          k: [{\n            s: documentData,\n            t: 0\n          }]\n        };\n      }\n\n      function iterateLayers(layers) {\n        var i,\n            len = layers.length;\n\n        for (i = 0; i < len; i += 1) {\n          if (layers[i].ty === 5) {\n            updateTextLayer(layers[i]);\n          }\n        }\n      }\n\n      return function (animationData) {\n        if (checkVersion(minimumVersion, animationData.v)) {\n          iterateLayers(animationData.layers);\n\n          if (animationData.assets) {\n            var i,\n                len = animationData.assets.length;\n\n            for (i = 0; i < len; i += 1) {\n              if (animationData.assets[i].layers) {\n                iterateLayers(animationData.assets[i].layers);\n              }\n            }\n          }\n        }\n      };\n    }();\n\n    var checkChars = function () {\n      var minimumVersion = [4, 7, 99];\n      return function (animationData) {\n        if (animationData.chars && !checkVersion(minimumVersion, animationData.v)) {\n          var i,\n              len = animationData.chars.length,\n              j,\n              jLen,\n              k,\n              kLen;\n          var pathData, paths;\n\n          for (i = 0; i < len; i += 1) {\n            if (animationData.chars[i].data && animationData.chars[i].data.shapes) {\n              paths = animationData.chars[i].data.shapes[0].it;\n              jLen = paths.length;\n\n              for (j = 0; j < jLen; j += 1) {\n                pathData = paths[j].ks.k;\n\n                if (!pathData.__converted) {\n                  convertPathsToAbsoluteValues(paths[j].ks.k);\n                  pathData.__converted = true;\n                }\n              }\n            }\n          }\n        }\n      };\n    }();\n\n    var checkColors = function () {\n      var minimumVersion = [4, 1, 9];\n\n      function iterateShapes(shapes) {\n        var i,\n            len = shapes.length;\n        var j, jLen;\n\n        for (i = 0; i < len; i += 1) {\n          if (shapes[i].ty === 'gr') {\n            iterateShapes(shapes[i].it);\n          } else if (shapes[i].ty === 'fl' || shapes[i].ty === 'st') {\n            if (shapes[i].c.k && shapes[i].c.k[0].i) {\n              jLen = shapes[i].c.k.length;\n\n              for (j = 0; j < jLen; j += 1) {\n                if (shapes[i].c.k[j].s) {\n                  shapes[i].c.k[j].s[0] /= 255;\n                  shapes[i].c.k[j].s[1] /= 255;\n                  shapes[i].c.k[j].s[2] /= 255;\n                  shapes[i].c.k[j].s[3] /= 255;\n                }\n\n                if (shapes[i].c.k[j].e) {\n                  shapes[i].c.k[j].e[0] /= 255;\n                  shapes[i].c.k[j].e[1] /= 255;\n                  shapes[i].c.k[j].e[2] /= 255;\n                  shapes[i].c.k[j].e[3] /= 255;\n                }\n              }\n            } else {\n              shapes[i].c.k[0] /= 255;\n              shapes[i].c.k[1] /= 255;\n              shapes[i].c.k[2] /= 255;\n              shapes[i].c.k[3] /= 255;\n            }\n          }\n        }\n      }\n\n      function iterateLayers(layers) {\n        var i,\n            len = layers.length;\n\n        for (i = 0; i < len; i += 1) {\n          if (layers[i].ty === 4) {\n            iterateShapes(layers[i].shapes);\n          }\n        }\n      }\n\n      return function (animationData) {\n        if (checkVersion(minimumVersion, animationData.v)) {\n          iterateLayers(animationData.layers);\n\n          if (animationData.assets) {\n            var i,\n                len = animationData.assets.length;\n\n            for (i = 0; i < len; i += 1) {\n              if (animationData.assets[i].layers) {\n                iterateLayers(animationData.assets[i].layers);\n              }\n            }\n          }\n        }\n      };\n    }();\n\n    var checkShapes = function () {\n      var minimumVersion = [4, 4, 18];\n\n      function completeShapes(arr) {\n        var i,\n            len = arr.length;\n        var j, jLen;\n        var hasPaths = false;\n\n        for (i = len - 1; i >= 0; i -= 1) {\n          if (arr[i].ty == 'sh') {\n            if (arr[i].ks.k.i) {\n              arr[i].ks.k.c = arr[i].closed;\n            } else {\n              jLen = arr[i].ks.k.length;\n\n              for (j = 0; j < jLen; j += 1) {\n                if (arr[i].ks.k[j].s) {\n                  arr[i].ks.k[j].s[0].c = arr[i].closed;\n                }\n\n                if (arr[i].ks.k[j].e) {\n                  arr[i].ks.k[j].e[0].c = arr[i].closed;\n                }\n              }\n            }\n\n            hasPaths = true;\n          } else if (arr[i].ty == 'gr') {\n            completeShapes(arr[i].it);\n          }\n        }\n      }\n\n      function iterateLayers(layers) {\n        var layerData;\n        var i,\n            len = layers.length;\n        var j, jLen, k, kLen;\n\n        for (i = 0; i < len; i += 1) {\n          layerData = layers[i];\n\n          if (layerData.hasMask) {\n            var maskProps = layerData.masksProperties;\n            jLen = maskProps.length;\n\n            for (j = 0; j < jLen; j += 1) {\n              if (maskProps[j].pt.k.i) {\n                maskProps[j].pt.k.c = maskProps[j].cl;\n              } else {\n                kLen = maskProps[j].pt.k.length;\n\n                for (k = 0; k < kLen; k += 1) {\n                  if (maskProps[j].pt.k[k].s) {\n                    maskProps[j].pt.k[k].s[0].c = maskProps[j].cl;\n                  }\n\n                  if (maskProps[j].pt.k[k].e) {\n                    maskProps[j].pt.k[k].e[0].c = maskProps[j].cl;\n                  }\n                }\n              }\n            }\n          }\n\n          if (layerData.ty === 4) {\n            completeShapes(layerData.shapes);\n          }\n        }\n      }\n\n      return function (animationData) {\n        if (checkVersion(minimumVersion, animationData.v)) {\n          iterateLayers(animationData.layers);\n\n          if (animationData.assets) {\n            var i,\n                len = animationData.assets.length;\n\n            for (i = 0; i < len; i += 1) {\n              if (animationData.assets[i].layers) {\n                iterateLayers(animationData.assets[i].layers);\n              }\n            }\n          }\n        }\n      };\n    }();\n\n    function completeData(animationData, fontManager) {\n      if (animationData.__complete) {\n        return;\n      }\n\n      checkColors(animationData);\n      checkText(animationData);\n      checkChars(animationData);\n      checkShapes(animationData);\n      completeLayers(animationData.layers, animationData.assets, fontManager);\n      animationData.__complete = true; //blitAnimation(animationData, animationData.assets, fontManager);\n    }\n\n    function completeText(data, fontManager) {\n      if (data.t.a.length === 0 && !('m' in data.t.p)) {\n        data.singleShape = true;\n      }\n    }\n\n    var moduleOb = {};\n    moduleOb.completeData = completeData;\n    moduleOb.checkColors = checkColors;\n    moduleOb.checkChars = checkChars;\n    moduleOb.checkShapes = checkShapes;\n    moduleOb.completeLayers = completeLayers;\n    return moduleOb;\n  }\n\n  var dataManager = dataFunctionManager();\n\n  var FontManager = function () {\n    var maxWaitingTime = 5000;\n    var emptyChar = {\n      w: 0,\n      size: 0,\n      shapes: []\n    };\n    var combinedCharacters = []; //Hindi characters\n\n    combinedCharacters = combinedCharacters.concat([2304, 2305, 2306, 2307, 2362, 2363, 2364, 2364, 2366, 2367, 2368, 2369, 2370, 2371, 2372, 2373, 2374, 2375, 2376, 2377, 2378, 2379, 2380, 2381, 2382, 2383, 2387, 2388, 2389, 2390, 2391, 2402, 2403]);\n\n    function trimFontOptions(font) {\n      var familyArray = font.split(',');\n      var i,\n          len = familyArray.length;\n      var enabledFamilies = [];\n\n      for (i = 0; i < len; i += 1) {\n        if (familyArray[i] !== 'sans-serif' && familyArray[i] !== 'monospace') {\n          enabledFamilies.push(familyArray[i]);\n        }\n      }\n\n      return enabledFamilies.join(',');\n    }\n\n    function setUpNode(font, family) {\n      var parentNode = createTag('span');\n      parentNode.style.fontFamily = family;\n      var node = createTag('span'); // Characters that vary significantly among different fonts\n\n      node.innerText = 'giItT1WQy@!-/#'; // Visible - so we can measure it - but not on the screen\n\n      parentNode.style.position = 'absolute';\n      parentNode.style.left = '-10000px';\n      parentNode.style.top = '-10000px'; // Large font size makes even subtle changes obvious\n\n      parentNode.style.fontSize = '300px'; // Reset any font properties\n\n      parentNode.style.fontVariant = 'normal';\n      parentNode.style.fontStyle = 'normal';\n      parentNode.style.fontWeight = 'normal';\n      parentNode.style.letterSpacing = '0';\n      parentNode.appendChild(node);\n      document.body.appendChild(parentNode); // Remember width with no applied web font\n\n      var width = node.offsetWidth;\n      node.style.fontFamily = trimFontOptions(font) + ', ' + family;\n      return {\n        node: node,\n        w: width,\n        parent: parentNode\n      };\n    }\n\n    function checkLoadedFonts() {\n      var i,\n          len = this.fonts.length;\n      var node, w;\n      var loadedCount = len;\n\n      for (i = 0; i < len; i += 1) {\n        if (this.fonts[i].loaded) {\n          loadedCount -= 1;\n          continue;\n        }\n\n        if (this.fonts[i].fOrigin === 'n' || this.fonts[i].origin === 0) {\n          this.fonts[i].loaded = true;\n        } else {\n          node = this.fonts[i].monoCase.node;\n          w = this.fonts[i].monoCase.w;\n\n          if (node.offsetWidth !== w) {\n            loadedCount -= 1;\n            this.fonts[i].loaded = true;\n          } else {\n            node = this.fonts[i].sansCase.node;\n            w = this.fonts[i].sansCase.w;\n\n            if (node.offsetWidth !== w) {\n              loadedCount -= 1;\n              this.fonts[i].loaded = true;\n            }\n          }\n\n          if (this.fonts[i].loaded) {\n            this.fonts[i].sansCase.parent.parentNode.removeChild(this.fonts[i].sansCase.parent);\n            this.fonts[i].monoCase.parent.parentNode.removeChild(this.fonts[i].monoCase.parent);\n          }\n        }\n      }\n\n      if (loadedCount !== 0 && Date.now() - this.initTime < maxWaitingTime) {\n        setTimeout(this.checkLoadedFontsBinded, 20);\n      } else {\n        setTimeout(this.setIsLoadedBinded, 10);\n      }\n    }\n\n    function createHelper(def, fontData) {\n      var tHelper = createNS('text');\n      tHelper.style.fontSize = '100px'; //tHelper.style.fontFamily = fontData.fFamily;\n\n      tHelper.setAttribute('font-family', fontData.fFamily);\n      tHelper.setAttribute('font-style', fontData.fStyle);\n      tHelper.setAttribute('font-weight', fontData.fWeight);\n      tHelper.textContent = '1';\n\n      if (fontData.fClass) {\n        tHelper.style.fontFamily = 'inherit';\n        tHelper.setAttribute('class', fontData.fClass);\n      } else {\n        tHelper.style.fontFamily = fontData.fFamily;\n      }\n\n      def.appendChild(tHelper);\n      var tCanvasHelper = createTag('canvas').getContext('2d');\n      tCanvasHelper.font = fontData.fWeight + ' ' + fontData.fStyle + ' 100px ' + fontData.fFamily; //tCanvasHelper.font = ' 100px '+ fontData.fFamily;\n\n      return tHelper;\n    }\n\n    function addFonts(fontData, defs) {\n      if (!fontData) {\n        this.isLoaded = true;\n        return;\n      }\n\n      if (this.chars) {\n        this.isLoaded = true;\n        this.fonts = fontData.list;\n        return;\n      }\n\n      var fontArr = fontData.list;\n      var i,\n          len = fontArr.length;\n      var _pendingFonts = len;\n\n      for (i = 0; i < len; i += 1) {\n        var shouldLoadFont = true;\n        var loadedSelector;\n        var j;\n        fontArr[i].loaded = false;\n        fontArr[i].monoCase = setUpNode(fontArr[i].fFamily, 'monospace');\n        fontArr[i].sansCase = setUpNode(fontArr[i].fFamily, 'sans-serif');\n\n        if (!fontArr[i].fPath) {\n          fontArr[i].loaded = true;\n          _pendingFonts -= 1;\n        } else if (fontArr[i].fOrigin === 'p' || fontArr[i].origin === 3) {\n          loadedSelector = document.querySelectorAll('style[f-forigin=\"p\"][f-family=\"' + fontArr[i].fFamily + '\"], style[f-origin=\"3\"][f-family=\"' + fontArr[i].fFamily + '\"]');\n\n          if (loadedSelector.length > 0) {\n            shouldLoadFont = false;\n          }\n\n          if (shouldLoadFont) {\n            var s = createTag('style');\n            s.setAttribute('f-forigin', fontArr[i].fOrigin);\n            s.setAttribute('f-origin', fontArr[i].origin);\n            s.setAttribute('f-family', fontArr[i].fFamily);\n            s.type = \"text/css\";\n            s.innerText = \"@font-face {\" + \"font-family: \" + fontArr[i].fFamily + \"; font-style: normal; src: url('\" + fontArr[i].fPath + \"');}\";\n            defs.appendChild(s);\n          }\n        } else if (fontArr[i].fOrigin === 'g' || fontArr[i].origin === 1) {\n          loadedSelector = document.querySelectorAll('link[f-forigin=\"g\"], link[f-origin=\"1\"]');\n\n          for (j = 0; j < loadedSelector.length; j++) {\n            if (loadedSelector[j].href.indexOf(fontArr[i].fPath) !== -1) {\n              // Font is already loaded\n              shouldLoadFont = false;\n            }\n          }\n\n          if (shouldLoadFont) {\n            var l = createTag('link');\n            l.setAttribute('f-forigin', fontArr[i].fOrigin);\n            l.setAttribute('f-origin', fontArr[i].origin);\n            l.type = \"text/css\";\n            l.rel = \"stylesheet\";\n            l.href = fontArr[i].fPath;\n            document.body.appendChild(l);\n          }\n        } else if (fontArr[i].fOrigin === 't' || fontArr[i].origin === 2) {\n          loadedSelector = document.querySelectorAll('script[f-forigin=\"t\"], script[f-origin=\"2\"]');\n\n          for (j = 0; j < loadedSelector.length; j++) {\n            if (fontArr[i].fPath === loadedSelector[j].src) {\n              // Font is already loaded\n              shouldLoadFont = false;\n            }\n          }\n\n          if (shouldLoadFont) {\n            var sc = createTag('link');\n            sc.setAttribute('f-forigin', fontArr[i].fOrigin);\n            sc.setAttribute('f-origin', fontArr[i].origin);\n            sc.setAttribute('rel', 'stylesheet');\n            sc.setAttribute('href', fontArr[i].fPath);\n            defs.appendChild(sc);\n          }\n        }\n\n        fontArr[i].helper = createHelper(defs, fontArr[i]);\n        fontArr[i].cache = {};\n        this.fonts.push(fontArr[i]);\n      }\n\n      if (_pendingFonts === 0) {\n        this.isLoaded = true;\n      } else {\n        //On some cases even if the font is loaded, it won't load correctly when measuring text on canvas.\n        //Adding this timeout seems to fix it\n        setTimeout(this.checkLoadedFonts.bind(this), 100);\n      }\n    }\n\n    function addChars(chars) {\n      if (!chars) {\n        return;\n      }\n\n      if (!this.chars) {\n        this.chars = [];\n      }\n\n      var i,\n          len = chars.length;\n      var j,\n          jLen = this.chars.length,\n          found;\n\n      for (i = 0; i < len; i += 1) {\n        j = 0;\n        found = false;\n\n        while (j < jLen) {\n          if (this.chars[j].style === chars[i].style && this.chars[j].fFamily === chars[i].fFamily && this.chars[j].ch === chars[i].ch) {\n            found = true;\n          }\n\n          j += 1;\n        }\n\n        if (!found) {\n          this.chars.push(chars[i]);\n          jLen += 1;\n        }\n      }\n    }\n\n    function getCharData(char, style, font) {\n      var i = 0,\n          len = this.chars.length;\n\n      while (i < len) {\n        if (this.chars[i].ch === char && this.chars[i].style === style && this.chars[i].fFamily === font) {\n          return this.chars[i];\n        }\n\n        i += 1;\n      }\n\n      if ((typeof char === 'string' && char.charCodeAt(0) !== 13 || !char) && console && console.warn) {\n        console.warn('Missing character from exported characters list: ', char, style, font);\n      }\n\n      return emptyChar;\n    }\n\n    function measureText(char, fontName, size) {\n      var fontData = this.getFontByName(fontName);\n      var index = char.charCodeAt(0);\n\n      if (!fontData.cache[index + 1]) {\n        var tHelper = fontData.helper; //Canvas version\n        //fontData.cache[index] = tHelper.measureText(char).width / 100;\n        //SVG version\n        //console.log(tHelper.getBBox().width)\n\n        if (char === ' ') {\n          tHelper.textContent = '|' + char + '|';\n          var doubleSize = tHelper.getComputedTextLength();\n          tHelper.textContent = '||';\n          var singleSize = tHelper.getComputedTextLength();\n          fontData.cache[index + 1] = (doubleSize - singleSize) / 100;\n        } else {\n          tHelper.textContent = char;\n          fontData.cache[index + 1] = tHelper.getComputedTextLength() / 100;\n        }\n      }\n\n      return fontData.cache[index + 1] * size;\n    }\n\n    function getFontByName(name) {\n      var i = 0,\n          len = this.fonts.length;\n\n      while (i < len) {\n        if (this.fonts[i].fName === name) {\n          return this.fonts[i];\n        }\n\n        i += 1;\n      }\n\n      return this.fonts[0];\n    }\n\n    function getCombinedCharacterCodes() {\n      return combinedCharacters;\n    }\n\n    function setIsLoaded() {\n      this.isLoaded = true;\n    }\n\n    var Font = function Font() {\n      this.fonts = [];\n      this.chars = null;\n      this.typekitLoaded = 0;\n      this.isLoaded = false;\n      this.initTime = Date.now();\n      this.setIsLoadedBinded = this.setIsLoaded.bind(this);\n      this.checkLoadedFontsBinded = this.checkLoadedFonts.bind(this);\n    }; //TODO: for now I'm adding these methods to the Class and not the prototype. Think of a better way to implement it. \n\n\n    Font.getCombinedCharacterCodes = getCombinedCharacterCodes;\n    var fontPrototype = {\n      addChars: addChars,\n      addFonts: addFonts,\n      getCharData: getCharData,\n      getFontByName: getFontByName,\n      measureText: measureText,\n      checkLoadedFonts: checkLoadedFonts,\n      setIsLoaded: setIsLoaded\n    };\n    Font.prototype = fontPrototype;\n    return Font;\n  }();\n\n  var PropertyFactory = function () {\n    var initFrame = initialDefaultFrame;\n    var math_abs = Math.abs;\n\n    function interpolateValue(frameNum, caching) {\n      var offsetTime = this.offsetTime;\n      var newValue;\n\n      if (this.propType === 'multidimensional') {\n        newValue = createTypedArray('float32', this.pv.length);\n      }\n\n      var iterationIndex = caching.lastIndex;\n      var i = iterationIndex;\n      var len = this.keyframes.length - 1,\n          flag = true;\n      var keyData, nextKeyData;\n\n      while (flag) {\n        keyData = this.keyframes[i];\n        nextKeyData = this.keyframes[i + 1];\n\n        if (i === len - 1 && frameNum >= nextKeyData.t - offsetTime) {\n          if (keyData.h) {\n            keyData = nextKeyData;\n          }\n\n          iterationIndex = 0;\n          break;\n        }\n\n        if (nextKeyData.t - offsetTime > frameNum) {\n          iterationIndex = i;\n          break;\n        }\n\n        if (i < len - 1) {\n          i += 1;\n        } else {\n          iterationIndex = 0;\n          flag = false;\n        }\n      }\n\n      var k, kLen, perc, jLen, j, fnc;\n      var nextKeyTime = nextKeyData.t - offsetTime;\n      var keyTime = keyData.t - offsetTime;\n      var endValue;\n\n      if (keyData.to) {\n        if (!keyData.bezierData) {\n          keyData.bezierData = bez.buildBezierData(keyData.s, nextKeyData.s || keyData.e, keyData.to, keyData.ti);\n        }\n\n        var bezierData = keyData.bezierData;\n\n        if (frameNum >= nextKeyTime || frameNum < keyTime) {\n          var ind = frameNum >= nextKeyTime ? bezierData.points.length - 1 : 0;\n          kLen = bezierData.points[ind].point.length;\n\n          for (k = 0; k < kLen; k += 1) {\n            newValue[k] = bezierData.points[ind].point[k];\n          } // caching._lastKeyframeIndex = -1;\n\n        } else {\n          if (keyData.__fnct) {\n            fnc = keyData.__fnct;\n          } else {\n            fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y, keyData.n).get;\n            keyData.__fnct = fnc;\n          }\n\n          perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\n          var distanceInLine = bezierData.segmentLength * perc;\n          var segmentPerc;\n          var addedLength = caching.lastFrame < frameNum && caching._lastKeyframeIndex === i ? caching._lastAddedLength : 0;\n          j = caching.lastFrame < frameNum && caching._lastKeyframeIndex === i ? caching._lastPoint : 0;\n          flag = true;\n          jLen = bezierData.points.length;\n\n          while (flag) {\n            addedLength += bezierData.points[j].partialLength;\n\n            if (distanceInLine === 0 || perc === 0 || j === bezierData.points.length - 1) {\n              kLen = bezierData.points[j].point.length;\n\n              for (k = 0; k < kLen; k += 1) {\n                newValue[k] = bezierData.points[j].point[k];\n              }\n\n              break;\n            } else if (distanceInLine >= addedLength && distanceInLine < addedLength + bezierData.points[j + 1].partialLength) {\n              segmentPerc = (distanceInLine - addedLength) / bezierData.points[j + 1].partialLength;\n              kLen = bezierData.points[j].point.length;\n\n              for (k = 0; k < kLen; k += 1) {\n                newValue[k] = bezierData.points[j].point[k] + (bezierData.points[j + 1].point[k] - bezierData.points[j].point[k]) * segmentPerc;\n              }\n\n              break;\n            }\n\n            if (j < jLen - 1) {\n              j += 1;\n            } else {\n              flag = false;\n            }\n          }\n\n          caching._lastPoint = j;\n          caching._lastAddedLength = addedLength - bezierData.points[j].partialLength;\n          caching._lastKeyframeIndex = i;\n        }\n      } else {\n        var outX, outY, inX, inY, keyValue;\n        len = keyData.s.length;\n        endValue = nextKeyData.s || keyData.e;\n\n        if (this.sh && keyData.h !== 1) {\n          if (frameNum >= nextKeyTime) {\n            newValue[0] = endValue[0];\n            newValue[1] = endValue[1];\n            newValue[2] = endValue[2];\n          } else if (frameNum <= keyTime) {\n            newValue[0] = keyData.s[0];\n            newValue[1] = keyData.s[1];\n            newValue[2] = keyData.s[2];\n          } else {\n            var quatStart = createQuaternion(keyData.s);\n            var quatEnd = createQuaternion(endValue);\n            var time = (frameNum - keyTime) / (nextKeyTime - keyTime);\n            quaternionToEuler(newValue, slerp(quatStart, quatEnd, time));\n          }\n        } else {\n          for (i = 0; i < len; i += 1) {\n            if (keyData.h !== 1) {\n              if (frameNum >= nextKeyTime) {\n                perc = 1;\n              } else if (frameNum < keyTime) {\n                perc = 0;\n              } else {\n                if (keyData.o.x.constructor === Array) {\n                  if (!keyData.__fnct) {\n                    keyData.__fnct = [];\n                  }\n\n                  if (!keyData.__fnct[i]) {\n                    outX = typeof keyData.o.x[i] === 'undefined' ? keyData.o.x[0] : keyData.o.x[i];\n                    outY = typeof keyData.o.y[i] === 'undefined' ? keyData.o.y[0] : keyData.o.y[i];\n                    inX = typeof keyData.i.x[i] === 'undefined' ? keyData.i.x[0] : keyData.i.x[i];\n                    inY = typeof keyData.i.y[i] === 'undefined' ? keyData.i.y[0] : keyData.i.y[i];\n                    fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\n                    keyData.__fnct[i] = fnc;\n                  } else {\n                    fnc = keyData.__fnct[i];\n                  }\n                } else {\n                  if (!keyData.__fnct) {\n                    outX = keyData.o.x;\n                    outY = keyData.o.y;\n                    inX = keyData.i.x;\n                    inY = keyData.i.y;\n                    fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\n                    keyData.__fnct = fnc;\n                  } else {\n                    fnc = keyData.__fnct;\n                  }\n                }\n\n                perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\n              }\n            }\n\n            endValue = nextKeyData.s || keyData.e;\n            keyValue = keyData.h === 1 ? keyData.s[i] : keyData.s[i] + (endValue[i] - keyData.s[i]) * perc;\n\n            if (this.propType === 'multidimensional') {\n              newValue[i] = keyValue;\n            } else {\n              newValue = keyValue;\n            }\n          }\n        }\n      }\n\n      caching.lastIndex = iterationIndex;\n      return newValue;\n    } //based on @Toji's https://github.com/toji/gl-matrix/\n\n\n    function slerp(a, b, t) {\n      var out = [];\n      var ax = a[0],\n          ay = a[1],\n          az = a[2],\n          aw = a[3],\n          bx = b[0],\n          by = b[1],\n          bz = b[2],\n          bw = b[3];\n      var omega, cosom, sinom, scale0, scale1;\n      cosom = ax * bx + ay * by + az * bz + aw * bw;\n\n      if (cosom < 0.0) {\n        cosom = -cosom;\n        bx = -bx;\n        by = -by;\n        bz = -bz;\n        bw = -bw;\n      }\n\n      if (1.0 - cosom > 0.000001) {\n        omega = Math.acos(cosom);\n        sinom = Math.sin(omega);\n        scale0 = Math.sin((1.0 - t) * omega) / sinom;\n        scale1 = Math.sin(t * omega) / sinom;\n      } else {\n        scale0 = 1.0 - t;\n        scale1 = t;\n      }\n\n      out[0] = scale0 * ax + scale1 * bx;\n      out[1] = scale0 * ay + scale1 * by;\n      out[2] = scale0 * az + scale1 * bz;\n      out[3] = scale0 * aw + scale1 * bw;\n      return out;\n    }\n\n    function quaternionToEuler(out, quat) {\n      var qx = quat[0];\n      var qy = quat[1];\n      var qz = quat[2];\n      var qw = quat[3];\n      var heading = Math.atan2(2 * qy * qw - 2 * qx * qz, 1 - 2 * qy * qy - 2 * qz * qz);\n      var attitude = Math.asin(2 * qx * qy + 2 * qz * qw);\n      var bank = Math.atan2(2 * qx * qw - 2 * qy * qz, 1 - 2 * qx * qx - 2 * qz * qz);\n      out[0] = heading / degToRads;\n      out[1] = attitude / degToRads;\n      out[2] = bank / degToRads;\n    }\n\n    function createQuaternion(values) {\n      var heading = values[0] * degToRads;\n      var attitude = values[1] * degToRads;\n      var bank = values[2] * degToRads;\n      var c1 = Math.cos(heading / 2);\n      var c2 = Math.cos(attitude / 2);\n      var c3 = Math.cos(bank / 2);\n      var s1 = Math.sin(heading / 2);\n      var s2 = Math.sin(attitude / 2);\n      var s3 = Math.sin(bank / 2);\n      var w = c1 * c2 * c3 - s1 * s2 * s3;\n      var x = s1 * s2 * c3 + c1 * c2 * s3;\n      var y = s1 * c2 * c3 + c1 * s2 * s3;\n      var z = c1 * s2 * c3 - s1 * c2 * s3;\n      return [x, y, z, w];\n    }\n\n    function getValueAtCurrentTime() {\n      var frameNum = this.comp.renderedFrame - this.offsetTime;\n      var initTime = this.keyframes[0].t - this.offsetTime;\n      var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\n\n      if (!(frameNum === this._caching.lastFrame || this._caching.lastFrame !== initFrame && (this._caching.lastFrame >= endTime && frameNum >= endTime || this._caching.lastFrame < initTime && frameNum < initTime))) {\n        if (this._caching.lastFrame >= frameNum) {\n          this._caching._lastKeyframeIndex = -1;\n          this._caching.lastIndex = 0;\n        }\n\n        var renderResult = this.interpolateValue(frameNum, this._caching);\n        this.pv = renderResult;\n      }\n\n      this._caching.lastFrame = frameNum;\n      return this.pv;\n    }\n\n    function setVValue(val) {\n      var multipliedValue;\n\n      if (this.propType === 'unidimensional') {\n        multipliedValue = val * this.mult;\n\n        if (math_abs(this.v - multipliedValue) > 0.00001) {\n          this.v = multipliedValue;\n          this._mdf = true;\n        }\n      } else {\n        var i = 0,\n            len = this.v.length;\n\n        while (i < len) {\n          multipliedValue = val[i] * this.mult;\n\n          if (math_abs(this.v[i] - multipliedValue) > 0.00001) {\n            this.v[i] = multipliedValue;\n            this._mdf = true;\n          }\n\n          i += 1;\n        }\n      }\n    }\n\n    function processEffectsSequence() {\n      if (this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) {\n        return;\n      }\n\n      if (this.lock) {\n        this.setVValue(this.pv);\n        return;\n      }\n\n      this.lock = true;\n      this._mdf = this._isFirstFrame;\n      var multipliedValue;\n      var i,\n          len = this.effectsSequence.length;\n      var finalValue = this.kf ? this.pv : this.data.k;\n\n      for (i = 0; i < len; i += 1) {\n        finalValue = this.effectsSequence[i](finalValue);\n      }\n\n      this.setVValue(finalValue);\n      this._isFirstFrame = false;\n      this.lock = false;\n      this.frameId = this.elem.globalData.frameId;\n    }\n\n    function addEffect(effectFunction) {\n      this.effectsSequence.push(effectFunction);\n      this.container.addDynamicProperty(this);\n    }\n\n    function ValueProperty(elem, data, mult, container) {\n      this.propType = 'unidimensional';\n      this.mult = mult || 1;\n      this.data = data;\n      this.v = mult ? data.k * mult : data.k;\n      this.pv = data.k;\n      this._mdf = false;\n      this.elem = elem;\n      this.container = container;\n      this.comp = elem.comp;\n      this.k = false;\n      this.kf = false;\n      this.vel = 0;\n      this.effectsSequence = [];\n      this._isFirstFrame = true;\n      this.getValue = processEffectsSequence;\n      this.setVValue = setVValue;\n      this.addEffect = addEffect;\n    }\n\n    function MultiDimensionalProperty(elem, data, mult, container) {\n      this.propType = 'multidimensional';\n      this.mult = mult || 1;\n      this.data = data;\n      this._mdf = false;\n      this.elem = elem;\n      this.container = container;\n      this.comp = elem.comp;\n      this.k = false;\n      this.kf = false;\n      this.frameId = -1;\n      var i,\n          len = data.k.length;\n      this.v = createTypedArray('float32', len);\n      this.pv = createTypedArray('float32', len);\n      var arr = createTypedArray('float32', len);\n      this.vel = createTypedArray('float32', len);\n\n      for (i = 0; i < len; i += 1) {\n        this.v[i] = data.k[i] * this.mult;\n        this.pv[i] = data.k[i];\n      }\n\n      this._isFirstFrame = true;\n      this.effectsSequence = [];\n      this.getValue = processEffectsSequence;\n      this.setVValue = setVValue;\n      this.addEffect = addEffect;\n    }\n\n    function KeyframedValueProperty(elem, data, mult, container) {\n      this.propType = 'unidimensional';\n      this.keyframes = data.k;\n      this.offsetTime = elem.data.st;\n      this.frameId = -1;\n      this._caching = {\n        lastFrame: initFrame,\n        lastIndex: 0,\n        value: 0,\n        _lastKeyframeIndex: -1\n      };\n      this.k = true;\n      this.kf = true;\n      this.data = data;\n      this.mult = mult || 1;\n      this.elem = elem;\n      this.container = container;\n      this.comp = elem.comp;\n      this.v = initFrame;\n      this.pv = initFrame;\n      this._isFirstFrame = true;\n      this.getValue = processEffectsSequence;\n      this.setVValue = setVValue;\n      this.interpolateValue = interpolateValue;\n      this.effectsSequence = [getValueAtCurrentTime.bind(this)];\n      this.addEffect = addEffect;\n    }\n\n    function KeyframedMultidimensionalProperty(elem, data, mult, container) {\n      this.propType = 'multidimensional';\n      var i,\n          len = data.k.length;\n      var s, e, to, ti;\n\n      for (i = 0; i < len - 1; i += 1) {\n        if (data.k[i].to && data.k[i].s && data.k[i + 1] && data.k[i + 1].s) {\n          s = data.k[i].s;\n          e = data.k[i + 1].s;\n          to = data.k[i].to;\n          ti = data.k[i].ti;\n\n          if (s.length === 2 && !(s[0] === e[0] && s[1] === e[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], s[0] + to[0], s[1] + to[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], e[0] + ti[0], e[1] + ti[1]) || s.length === 3 && !(s[0] === e[0] && s[1] === e[1] && s[2] === e[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], s[0] + to[0], s[1] + to[1], s[2] + to[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], e[0] + ti[0], e[1] + ti[1], e[2] + ti[2])) {\n            data.k[i].to = null;\n            data.k[i].ti = null;\n          }\n\n          if (s[0] === e[0] && s[1] === e[1] && to[0] === 0 && to[1] === 0 && ti[0] === 0 && ti[1] === 0) {\n            if (s.length === 2 || s[2] === e[2] && to[2] === 0 && ti[2] === 0) {\n              data.k[i].to = null;\n              data.k[i].ti = null;\n            }\n          }\n        }\n      }\n\n      this.effectsSequence = [getValueAtCurrentTime.bind(this)];\n      this.keyframes = data.k;\n      this.offsetTime = elem.data.st;\n      this.k = true;\n      this.kf = true;\n      this._isFirstFrame = true;\n      this.mult = mult || 1;\n      this.elem = elem;\n      this.container = container;\n      this.comp = elem.comp;\n      this.getValue = processEffectsSequence;\n      this.setVValue = setVValue;\n      this.interpolateValue = interpolateValue;\n      this.frameId = -1;\n      var arrLen = data.k[0].s.length;\n      this.v = createTypedArray('float32', arrLen);\n      this.pv = createTypedArray('float32', arrLen);\n\n      for (i = 0; i < arrLen; i += 1) {\n        this.v[i] = initFrame;\n        this.pv[i] = initFrame;\n      }\n\n      this._caching = {\n        lastFrame: initFrame,\n        lastIndex: 0,\n        value: createTypedArray('float32', arrLen)\n      };\n      this.addEffect = addEffect;\n    }\n\n    function getProp(elem, data, type, mult, container) {\n      var p;\n\n      if (!data.k.length) {\n        p = new ValueProperty(elem, data, mult, container);\n      } else if (typeof data.k[0] === 'number') {\n        p = new MultiDimensionalProperty(elem, data, mult, container);\n      } else {\n        switch (type) {\n          case 0:\n            p = new KeyframedValueProperty(elem, data, mult, container);\n            break;\n\n          case 1:\n            p = new KeyframedMultidimensionalProperty(elem, data, mult, container);\n            break;\n        }\n      }\n\n      if (p.effectsSequence.length) {\n        container.addDynamicProperty(p);\n      }\n\n      return p;\n    }\n\n    var ob = {\n      getProp: getProp\n    };\n    return ob;\n  }();\n\n  var TransformPropertyFactory = function () {\n    var defaultVector = [0, 0];\n\n    function applyToMatrix(mat) {\n      var _mdf = this._mdf;\n      this.iterateDynamicProperties();\n      this._mdf = this._mdf || _mdf;\n\n      if (this.a) {\n        mat.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n      }\n\n      if (this.s) {\n        mat.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n      }\n\n      if (this.sk) {\n        mat.skewFromAxis(-this.sk.v, this.sa.v);\n      }\n\n      if (this.r) {\n        mat.rotate(-this.r.v);\n      } else {\n        mat.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n      }\n\n      if (this.data.p.s) {\n        if (this.data.p.z) {\n          mat.translate(this.px.v, this.py.v, -this.pz.v);\n        } else {\n          mat.translate(this.px.v, this.py.v, 0);\n        }\n      } else {\n        mat.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\n      }\n    }\n\n    function processKeys(forceRender) {\n      if (this.elem.globalData.frameId === this.frameId) {\n        return;\n      }\n\n      if (this._isDirty) {\n        this.precalculateMatrix();\n        this._isDirty = false;\n      }\n\n      this.iterateDynamicProperties();\n\n      if (this._mdf || forceRender) {\n        this.v.cloneFromProps(this.pre.props);\n\n        if (this.appliedTransformations < 1) {\n          this.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n        }\n\n        if (this.appliedTransformations < 2) {\n          this.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n        }\n\n        if (this.sk && this.appliedTransformations < 3) {\n          this.v.skewFromAxis(-this.sk.v, this.sa.v);\n        }\n\n        if (this.r && this.appliedTransformations < 4) {\n          this.v.rotate(-this.r.v);\n        } else if (!this.r && this.appliedTransformations < 4) {\n          this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n        }\n\n        if (this.autoOriented) {\n          var v1,\n              v2,\n              frameRate = this.elem.globalData.frameRate;\n\n          if (this.p && this.p.keyframes && this.p.getValueAtTime) {\n            if (this.p._caching.lastFrame + this.p.offsetTime <= this.p.keyframes[0].t) {\n              v1 = this.p.getValueAtTime((this.p.keyframes[0].t + 0.01) / frameRate, 0);\n              v2 = this.p.getValueAtTime(this.p.keyframes[0].t / frameRate, 0);\n            } else if (this.p._caching.lastFrame + this.p.offsetTime >= this.p.keyframes[this.p.keyframes.length - 1].t) {\n              v1 = this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length - 1].t / frameRate, 0);\n              v2 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t - 0.05) / frameRate, 0);\n            } else {\n              v1 = this.p.pv;\n              v2 = this.p.getValueAtTime((this.p._caching.lastFrame + this.p.offsetTime - 0.01) / frameRate, this.p.offsetTime);\n            }\n          } else if (this.px && this.px.keyframes && this.py.keyframes && this.px.getValueAtTime && this.py.getValueAtTime) {\n            v1 = [];\n            v2 = [];\n            var px = this.px,\n                py = this.py,\n                frameRate;\n\n            if (px._caching.lastFrame + px.offsetTime <= px.keyframes[0].t) {\n              v1[0] = px.getValueAtTime((px.keyframes[0].t + 0.01) / frameRate, 0);\n              v1[1] = py.getValueAtTime((py.keyframes[0].t + 0.01) / frameRate, 0);\n              v2[0] = px.getValueAtTime(px.keyframes[0].t / frameRate, 0);\n              v2[1] = py.getValueAtTime(py.keyframes[0].t / frameRate, 0);\n            } else if (px._caching.lastFrame + px.offsetTime >= px.keyframes[px.keyframes.length - 1].t) {\n              v1[0] = px.getValueAtTime(px.keyframes[px.keyframes.length - 1].t / frameRate, 0);\n              v1[1] = py.getValueAtTime(py.keyframes[py.keyframes.length - 1].t / frameRate, 0);\n              v2[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t - 0.01) / frameRate, 0);\n              v2[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t - 0.01) / frameRate, 0);\n            } else {\n              v1 = [px.pv, py.pv];\n              v2[0] = px.getValueAtTime((px._caching.lastFrame + px.offsetTime - 0.01) / frameRate, px.offsetTime);\n              v2[1] = py.getValueAtTime((py._caching.lastFrame + py.offsetTime - 0.01) / frameRate, py.offsetTime);\n            }\n          } else {\n            v1 = v2 = defaultVector;\n          }\n\n          this.v.rotate(-Math.atan2(v1[1] - v2[1], v1[0] - v2[0]));\n        }\n\n        if (this.data.p && this.data.p.s) {\n          if (this.data.p.z) {\n            this.v.translate(this.px.v, this.py.v, -this.pz.v);\n          } else {\n            this.v.translate(this.px.v, this.py.v, 0);\n          }\n        } else {\n          this.v.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\n        }\n      }\n\n      this.frameId = this.elem.globalData.frameId;\n    }\n\n    function precalculateMatrix() {\n      if (!this.a.k) {\n        this.pre.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n        this.appliedTransformations = 1;\n      } else {\n        return;\n      }\n\n      if (!this.s.effectsSequence.length) {\n        this.pre.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n        this.appliedTransformations = 2;\n      } else {\n        return;\n      }\n\n      if (this.sk) {\n        if (!this.sk.effectsSequence.length && !this.sa.effectsSequence.length) {\n          this.pre.skewFromAxis(-this.sk.v, this.sa.v);\n          this.appliedTransformations = 3;\n        } else {\n          return;\n        }\n      }\n\n      if (this.r) {\n        if (!this.r.effectsSequence.length) {\n          this.pre.rotate(-this.r.v);\n          this.appliedTransformations = 4;\n        } else {\n          return;\n        }\n      } else if (!this.rz.effectsSequence.length && !this.ry.effectsSequence.length && !this.rx.effectsSequence.length && !this.or.effectsSequence.length) {\n        this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n        this.appliedTransformations = 4;\n      }\n    }\n\n    function autoOrient() {//\n      //var prevP = this.getValueAtTime();\n    }\n\n    function addDynamicProperty(prop) {\n      this._addDynamicProperty(prop);\n\n      this.elem.addDynamicProperty(prop);\n      this._isDirty = true;\n    }\n\n    function TransformProperty(elem, data, container) {\n      this.elem = elem;\n      this.frameId = -1;\n      this.propType = 'transform';\n      this.data = data;\n      this.v = new Matrix(); //Precalculated matrix with non animated properties\n\n      this.pre = new Matrix();\n      this.appliedTransformations = 0;\n      this.initDynamicPropertyContainer(container || elem);\n\n      if (data.p && data.p.s) {\n        this.px = PropertyFactory.getProp(elem, data.p.x, 0, 0, this);\n        this.py = PropertyFactory.getProp(elem, data.p.y, 0, 0, this);\n\n        if (data.p.z) {\n          this.pz = PropertyFactory.getProp(elem, data.p.z, 0, 0, this);\n        }\n      } else {\n        this.p = PropertyFactory.getProp(elem, data.p || {\n          k: [0, 0, 0]\n        }, 1, 0, this);\n      }\n\n      if (data.rx) {\n        this.rx = PropertyFactory.getProp(elem, data.rx, 0, degToRads, this);\n        this.ry = PropertyFactory.getProp(elem, data.ry, 0, degToRads, this);\n        this.rz = PropertyFactory.getProp(elem, data.rz, 0, degToRads, this);\n\n        if (data.or.k[0].ti) {\n          var i,\n              len = data.or.k.length;\n\n          for (i = 0; i < len; i += 1) {\n            data.or.k[i].to = data.or.k[i].ti = null;\n          }\n        }\n\n        this.or = PropertyFactory.getProp(elem, data.or, 1, degToRads, this); //sh Indicates it needs to be capped between -180 and 180\n\n        this.or.sh = true;\n      } else {\n        this.r = PropertyFactory.getProp(elem, data.r || {\n          k: 0\n        }, 0, degToRads, this);\n      }\n\n      if (data.sk) {\n        this.sk = PropertyFactory.getProp(elem, data.sk, 0, degToRads, this);\n        this.sa = PropertyFactory.getProp(elem, data.sa, 0, degToRads, this);\n      }\n\n      this.a = PropertyFactory.getProp(elem, data.a || {\n        k: [0, 0, 0]\n      }, 1, 0, this);\n      this.s = PropertyFactory.getProp(elem, data.s || {\n        k: [100, 100, 100]\n      }, 1, 0.01, this); // Opacity is not part of the transform properties, that's why it won't use this.dynamicProperties. That way transforms won't get updated if opacity changes.\n\n      if (data.o) {\n        this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, elem);\n      } else {\n        this.o = {\n          _mdf: false,\n          v: 1\n        };\n      }\n\n      this._isDirty = true;\n\n      if (!this.dynamicProperties.length) {\n        this.getValue(true);\n      }\n    }\n\n    TransformProperty.prototype = {\n      applyToMatrix: applyToMatrix,\n      getValue: processKeys,\n      precalculateMatrix: precalculateMatrix,\n      autoOrient: autoOrient\n    };\n    extendPrototype([DynamicPropertyContainer], TransformProperty);\n    TransformProperty.prototype.addDynamicProperty = addDynamicProperty;\n    TransformProperty.prototype._addDynamicProperty = DynamicPropertyContainer.prototype.addDynamicProperty;\n\n    function getTransformProperty(elem, data, container) {\n      return new TransformProperty(elem, data, container);\n    }\n\n    return {\n      getTransformProperty: getTransformProperty\n    };\n  }();\n\n  function ShapePath() {\n    this.c = false;\n    this._length = 0;\n    this._maxLength = 8;\n    this.v = createSizedArray(this._maxLength);\n    this.o = createSizedArray(this._maxLength);\n    this.i = createSizedArray(this._maxLength);\n  }\n\n  ShapePath.prototype.setPathData = function (closed, len) {\n    this.c = closed;\n    this.setLength(len);\n    var i = 0;\n\n    while (i < len) {\n      this.v[i] = point_pool.newElement();\n      this.o[i] = point_pool.newElement();\n      this.i[i] = point_pool.newElement();\n      i += 1;\n    }\n  };\n\n  ShapePath.prototype.setLength = function (len) {\n    while (this._maxLength < len) {\n      this.doubleArrayLength();\n    }\n\n    this._length = len;\n  };\n\n  ShapePath.prototype.doubleArrayLength = function () {\n    this.v = this.v.concat(createSizedArray(this._maxLength));\n    this.i = this.i.concat(createSizedArray(this._maxLength));\n    this.o = this.o.concat(createSizedArray(this._maxLength));\n    this._maxLength *= 2;\n  };\n\n  ShapePath.prototype.setXYAt = function (x, y, type, pos, replace) {\n    var arr;\n    this._length = Math.max(this._length, pos + 1);\n\n    if (this._length >= this._maxLength) {\n      this.doubleArrayLength();\n    }\n\n    switch (type) {\n      case 'v':\n        arr = this.v;\n        break;\n\n      case 'i':\n        arr = this.i;\n        break;\n\n      case 'o':\n        arr = this.o;\n        break;\n    }\n\n    if (!arr[pos] || arr[pos] && !replace) {\n      arr[pos] = point_pool.newElement();\n    }\n\n    arr[pos][0] = x;\n    arr[pos][1] = y;\n  };\n\n  ShapePath.prototype.setTripleAt = function (vX, vY, oX, oY, iX, iY, pos, replace) {\n    this.setXYAt(vX, vY, 'v', pos, replace);\n    this.setXYAt(oX, oY, 'o', pos, replace);\n    this.setXYAt(iX, iY, 'i', pos, replace);\n  };\n\n  ShapePath.prototype.reverse = function () {\n    var newPath = new ShapePath();\n    newPath.setPathData(this.c, this._length);\n    var vertices = this.v,\n        outPoints = this.o,\n        inPoints = this.i;\n    var init = 0;\n\n    if (this.c) {\n      newPath.setTripleAt(vertices[0][0], vertices[0][1], inPoints[0][0], inPoints[0][1], outPoints[0][0], outPoints[0][1], 0, false);\n      init = 1;\n    }\n\n    var cnt = this._length - 1;\n    var len = this._length;\n    var i;\n\n    for (i = init; i < len; i += 1) {\n      newPath.setTripleAt(vertices[cnt][0], vertices[cnt][1], inPoints[cnt][0], inPoints[cnt][1], outPoints[cnt][0], outPoints[cnt][1], i, false);\n      cnt -= 1;\n    }\n\n    return newPath;\n  };\n\n  var ShapePropertyFactory = function () {\n    var initFrame = -999999;\n\n    function interpolateShape(frameNum, previousValue, caching) {\n      var iterationIndex = caching.lastIndex;\n      var keyPropS, keyPropE, isHold, j, k, jLen, kLen, perc, vertexValue;\n      var kf = this.keyframes;\n\n      if (frameNum < kf[0].t - this.offsetTime) {\n        keyPropS = kf[0].s[0];\n        isHold = true;\n        iterationIndex = 0;\n      } else if (frameNum >= kf[kf.length - 1].t - this.offsetTime) {\n        keyPropS = kf[kf.length - 1].s ? kf[kf.length - 1].s[0] : kf[kf.length - 2].e[0];\n        /*if(kf[kf.length - 1].s){\r\n            keyPropS = kf[kf.length - 1].s[0];\r\n        }else{\r\n            keyPropS = kf[kf.length - 2].e[0];\r\n        }*/\n\n        isHold = true;\n      } else {\n        var i = iterationIndex;\n        var len = kf.length - 1,\n            flag = true,\n            keyData,\n            nextKeyData;\n\n        while (flag) {\n          keyData = kf[i];\n          nextKeyData = kf[i + 1];\n\n          if (nextKeyData.t - this.offsetTime > frameNum) {\n            break;\n          }\n\n          if (i < len - 1) {\n            i += 1;\n          } else {\n            flag = false;\n          }\n        }\n\n        isHold = keyData.h === 1;\n        iterationIndex = i;\n\n        if (!isHold) {\n          if (frameNum >= nextKeyData.t - this.offsetTime) {\n            perc = 1;\n          } else if (frameNum < keyData.t - this.offsetTime) {\n            perc = 0;\n          } else {\n            var fnc;\n\n            if (keyData.__fnct) {\n              fnc = keyData.__fnct;\n            } else {\n              fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y).get;\n              keyData.__fnct = fnc;\n            }\n\n            perc = fnc((frameNum - (keyData.t - this.offsetTime)) / (nextKeyData.t - this.offsetTime - (keyData.t - this.offsetTime)));\n          }\n\n          keyPropE = nextKeyData.s ? nextKeyData.s[0] : keyData.e[0];\n        }\n\n        keyPropS = keyData.s[0];\n      }\n\n      jLen = previousValue._length;\n      kLen = keyPropS.i[0].length;\n      caching.lastIndex = iterationIndex;\n\n      for (j = 0; j < jLen; j += 1) {\n        for (k = 0; k < kLen; k += 1) {\n          vertexValue = isHold ? keyPropS.i[j][k] : keyPropS.i[j][k] + (keyPropE.i[j][k] - keyPropS.i[j][k]) * perc;\n          previousValue.i[j][k] = vertexValue;\n          vertexValue = isHold ? keyPropS.o[j][k] : keyPropS.o[j][k] + (keyPropE.o[j][k] - keyPropS.o[j][k]) * perc;\n          previousValue.o[j][k] = vertexValue;\n          vertexValue = isHold ? keyPropS.v[j][k] : keyPropS.v[j][k] + (keyPropE.v[j][k] - keyPropS.v[j][k]) * perc;\n          previousValue.v[j][k] = vertexValue;\n        }\n      }\n    }\n\n    function interpolateShapeCurrentTime() {\n      var frameNum = this.comp.renderedFrame - this.offsetTime;\n      var initTime = this.keyframes[0].t - this.offsetTime;\n      var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\n      var lastFrame = this._caching.lastFrame;\n\n      if (!(lastFrame !== initFrame && (lastFrame < initTime && frameNum < initTime || lastFrame > endTime && frameNum > endTime))) {\n        ////\n        this._caching.lastIndex = lastFrame < frameNum ? this._caching.lastIndex : 0;\n        this.interpolateShape(frameNum, this.pv, this._caching); ////\n      }\n\n      this._caching.lastFrame = frameNum;\n      return this.pv;\n    }\n\n    function resetShape() {\n      this.paths = this.localShapeCollection;\n    }\n\n    function shapesEqual(shape1, shape2) {\n      if (shape1._length !== shape2._length || shape1.c !== shape2.c) {\n        return false;\n      }\n\n      var i,\n          len = shape1._length;\n\n      for (i = 0; i < len; i += 1) {\n        if (shape1.v[i][0] !== shape2.v[i][0] || shape1.v[i][1] !== shape2.v[i][1] || shape1.o[i][0] !== shape2.o[i][0] || shape1.o[i][1] !== shape2.o[i][1] || shape1.i[i][0] !== shape2.i[i][0] || shape1.i[i][1] !== shape2.i[i][1]) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    function setVValue(newPath) {\n      if (!shapesEqual(this.v, newPath)) {\n        this.v = shape_pool.clone(newPath);\n        this.localShapeCollection.releaseShapes();\n        this.localShapeCollection.addShape(this.v);\n        this._mdf = true;\n        this.paths = this.localShapeCollection;\n      }\n    }\n\n    function processEffectsSequence() {\n      if (this.elem.globalData.frameId === this.frameId) {\n        return;\n      } else if (!this.effectsSequence.length) {\n        this._mdf = false;\n        return;\n      }\n\n      if (this.lock) {\n        this.setVValue(this.pv);\n        return;\n      }\n\n      this.lock = true;\n      this._mdf = false;\n      var finalValue = this.kf ? this.pv : this.data.ks ? this.data.ks.k : this.data.pt.k;\n      var i,\n          len = this.effectsSequence.length;\n\n      for (i = 0; i < len; i += 1) {\n        finalValue = this.effectsSequence[i](finalValue);\n      }\n\n      this.setVValue(finalValue);\n      this.lock = false;\n      this.frameId = this.elem.globalData.frameId;\n    }\n\n    ;\n\n    function ShapeProperty(elem, data, type) {\n      this.propType = 'shape';\n      this.comp = elem.comp;\n      this.container = elem;\n      this.elem = elem;\n      this.data = data;\n      this.k = false;\n      this.kf = false;\n      this._mdf = false;\n      var pathData = type === 3 ? data.pt.k : data.ks.k;\n      this.v = shape_pool.clone(pathData);\n      this.pv = shape_pool.clone(this.v);\n      this.localShapeCollection = shapeCollection_pool.newShapeCollection();\n      this.paths = this.localShapeCollection;\n      this.paths.addShape(this.v);\n      this.reset = resetShape;\n      this.effectsSequence = [];\n    }\n\n    function addEffect(effectFunction) {\n      this.effectsSequence.push(effectFunction);\n      this.container.addDynamicProperty(this);\n    }\n\n    ShapeProperty.prototype.interpolateShape = interpolateShape;\n    ShapeProperty.prototype.getValue = processEffectsSequence;\n    ShapeProperty.prototype.setVValue = setVValue;\n    ShapeProperty.prototype.addEffect = addEffect;\n\n    function KeyframedShapeProperty(elem, data, type) {\n      this.propType = 'shape';\n      this.comp = elem.comp;\n      this.elem = elem;\n      this.container = elem;\n      this.offsetTime = elem.data.st;\n      this.keyframes = type === 3 ? data.pt.k : data.ks.k;\n      this.k = true;\n      this.kf = true;\n      var i,\n          len = this.keyframes[0].s[0].i.length;\n      var jLen = this.keyframes[0].s[0].i[0].length;\n      this.v = shape_pool.newElement();\n      this.v.setPathData(this.keyframes[0].s[0].c, len);\n      this.pv = shape_pool.clone(this.v);\n      this.localShapeCollection = shapeCollection_pool.newShapeCollection();\n      this.paths = this.localShapeCollection;\n      this.paths.addShape(this.v);\n      this.lastFrame = initFrame;\n      this.reset = resetShape;\n      this._caching = {\n        lastFrame: initFrame,\n        lastIndex: 0\n      };\n      this.effectsSequence = [interpolateShapeCurrentTime.bind(this)];\n    }\n\n    KeyframedShapeProperty.prototype.getValue = processEffectsSequence;\n    KeyframedShapeProperty.prototype.interpolateShape = interpolateShape;\n    KeyframedShapeProperty.prototype.setVValue = setVValue;\n    KeyframedShapeProperty.prototype.addEffect = addEffect;\n\n    var EllShapeProperty = function () {\n      var cPoint = roundCorner;\n\n      function EllShapeProperty(elem, data) {\n        /*this.v = {\r\n            v: createSizedArray(4),\r\n            i: createSizedArray(4),\r\n            o: createSizedArray(4),\r\n            c: true\r\n        };*/\n        this.v = shape_pool.newElement();\n        this.v.setPathData(true, 4);\n        this.localShapeCollection = shapeCollection_pool.newShapeCollection();\n        this.paths = this.localShapeCollection;\n        this.localShapeCollection.addShape(this.v);\n        this.d = data.d;\n        this.elem = elem;\n        this.comp = elem.comp;\n        this.frameId = -1;\n        this.initDynamicPropertyContainer(elem);\n        this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n        this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\n\n        if (this.dynamicProperties.length) {\n          this.k = true;\n        } else {\n          this.k = false;\n          this.convertEllToPath();\n        }\n      }\n\n      ;\n      EllShapeProperty.prototype = {\n        reset: resetShape,\n        getValue: function getValue() {\n          if (this.elem.globalData.frameId === this.frameId) {\n            return;\n          }\n\n          this.frameId = this.elem.globalData.frameId;\n          this.iterateDynamicProperties();\n\n          if (this._mdf) {\n            this.convertEllToPath();\n          }\n        },\n        convertEllToPath: function convertEllToPath() {\n          var p0 = this.p.v[0],\n              p1 = this.p.v[1],\n              s0 = this.s.v[0] / 2,\n              s1 = this.s.v[1] / 2;\n\n          var _cw = this.d !== 3;\n\n          var _v = this.v;\n          _v.v[0][0] = p0;\n          _v.v[0][1] = p1 - s1;\n          _v.v[1][0] = _cw ? p0 + s0 : p0 - s0;\n          _v.v[1][1] = p1;\n          _v.v[2][0] = p0;\n          _v.v[2][1] = p1 + s1;\n          _v.v[3][0] = _cw ? p0 - s0 : p0 + s0;\n          _v.v[3][1] = p1;\n          _v.i[0][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\n          _v.i[0][1] = p1 - s1;\n          _v.i[1][0] = _cw ? p0 + s0 : p0 - s0;\n          _v.i[1][1] = p1 - s1 * cPoint;\n          _v.i[2][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\n          _v.i[2][1] = p1 + s1;\n          _v.i[3][0] = _cw ? p0 - s0 : p0 + s0;\n          _v.i[3][1] = p1 + s1 * cPoint;\n          _v.o[0][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\n          _v.o[0][1] = p1 - s1;\n          _v.o[1][0] = _cw ? p0 + s0 : p0 - s0;\n          _v.o[1][1] = p1 + s1 * cPoint;\n          _v.o[2][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\n          _v.o[2][1] = p1 + s1;\n          _v.o[3][0] = _cw ? p0 - s0 : p0 + s0;\n          _v.o[3][1] = p1 - s1 * cPoint;\n        }\n      };\n      extendPrototype([DynamicPropertyContainer], EllShapeProperty);\n      return EllShapeProperty;\n    }();\n\n    var StarShapeProperty = function () {\n      function StarShapeProperty(elem, data) {\n        this.v = shape_pool.newElement();\n        this.v.setPathData(true, 0);\n        this.elem = elem;\n        this.comp = elem.comp;\n        this.data = data;\n        this.frameId = -1;\n        this.d = data.d;\n        this.initDynamicPropertyContainer(elem);\n\n        if (data.sy === 1) {\n          this.ir = PropertyFactory.getProp(elem, data.ir, 0, 0, this);\n          this.is = PropertyFactory.getProp(elem, data.is, 0, 0.01, this);\n          this.convertToPath = this.convertStarToPath;\n        } else {\n          this.convertToPath = this.convertPolygonToPath;\n        }\n\n        this.pt = PropertyFactory.getProp(elem, data.pt, 0, 0, this);\n        this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n        this.r = PropertyFactory.getProp(elem, data.r, 0, degToRads, this);\n        this.or = PropertyFactory.getProp(elem, data.or, 0, 0, this);\n        this.os = PropertyFactory.getProp(elem, data.os, 0, 0.01, this);\n        this.localShapeCollection = shapeCollection_pool.newShapeCollection();\n        this.localShapeCollection.addShape(this.v);\n        this.paths = this.localShapeCollection;\n\n        if (this.dynamicProperties.length) {\n          this.k = true;\n        } else {\n          this.k = false;\n          this.convertToPath();\n        }\n      }\n\n      ;\n      StarShapeProperty.prototype = {\n        reset: resetShape,\n        getValue: function getValue() {\n          if (this.elem.globalData.frameId === this.frameId) {\n            return;\n          }\n\n          this.frameId = this.elem.globalData.frameId;\n          this.iterateDynamicProperties();\n\n          if (this._mdf) {\n            this.convertToPath();\n          }\n        },\n        convertStarToPath: function convertStarToPath() {\n          var numPts = Math.floor(this.pt.v) * 2;\n          var angle = Math.PI * 2 / numPts;\n          /*this.v.v.length = numPts;\r\n          this.v.i.length = numPts;\r\n          this.v.o.length = numPts;*/\n\n          var longFlag = true;\n          var longRad = this.or.v;\n          var shortRad = this.ir.v;\n          var longRound = this.os.v;\n          var shortRound = this.is.v;\n          var longPerimSegment = 2 * Math.PI * longRad / (numPts * 2);\n          var shortPerimSegment = 2 * Math.PI * shortRad / (numPts * 2);\n          var i,\n              rad,\n              roundness,\n              perimSegment,\n              currentAng = -Math.PI / 2;\n          currentAng += this.r.v;\n          var dir = this.data.d === 3 ? -1 : 1;\n          this.v._length = 0;\n\n          for (i = 0; i < numPts; i += 1) {\n            rad = longFlag ? longRad : shortRad;\n            roundness = longFlag ? longRound : shortRound;\n            perimSegment = longFlag ? longPerimSegment : shortPerimSegment;\n            var x = rad * Math.cos(currentAng);\n            var y = rad * Math.sin(currentAng);\n            var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\n            var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\n            x += +this.p.v[0];\n            y += +this.p.v[1];\n            this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\n            /*this.v.v[i] = [x,y];\r\n            this.v.i[i] = [x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir];\r\n            this.v.o[i] = [x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir];\r\n            this.v._length = numPts;*/\n\n            longFlag = !longFlag;\n            currentAng += angle * dir;\n          }\n        },\n        convertPolygonToPath: function convertPolygonToPath() {\n          var numPts = Math.floor(this.pt.v);\n          var angle = Math.PI * 2 / numPts;\n          var rad = this.or.v;\n          var roundness = this.os.v;\n          var perimSegment = 2 * Math.PI * rad / (numPts * 4);\n          var i,\n              currentAng = -Math.PI / 2;\n          var dir = this.data.d === 3 ? -1 : 1;\n          currentAng += this.r.v;\n          this.v._length = 0;\n\n          for (i = 0; i < numPts; i += 1) {\n            var x = rad * Math.cos(currentAng);\n            var y = rad * Math.sin(currentAng);\n            var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\n            var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\n            x += +this.p.v[0];\n            y += +this.p.v[1];\n            this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\n            currentAng += angle * dir;\n          }\n\n          this.paths.length = 0;\n          this.paths[0] = this.v;\n        }\n      };\n      extendPrototype([DynamicPropertyContainer], StarShapeProperty);\n      return StarShapeProperty;\n    }();\n\n    var RectShapeProperty = function () {\n      function RectShapeProperty(elem, data) {\n        this.v = shape_pool.newElement();\n        this.v.c = true;\n        this.localShapeCollection = shapeCollection_pool.newShapeCollection();\n        this.localShapeCollection.addShape(this.v);\n        this.paths = this.localShapeCollection;\n        this.elem = elem;\n        this.comp = elem.comp;\n        this.frameId = -1;\n        this.d = data.d;\n        this.initDynamicPropertyContainer(elem);\n        this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n        this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\n        this.r = PropertyFactory.getProp(elem, data.r, 0, 0, this);\n\n        if (this.dynamicProperties.length) {\n          this.k = true;\n        } else {\n          this.k = false;\n          this.convertRectToPath();\n        }\n      }\n\n      ;\n      RectShapeProperty.prototype = {\n        convertRectToPath: function convertRectToPath() {\n          var p0 = this.p.v[0],\n              p1 = this.p.v[1],\n              v0 = this.s.v[0] / 2,\n              v1 = this.s.v[1] / 2;\n          var round = bm_min(v0, v1, this.r.v);\n          var cPoint = round * (1 - roundCorner);\n          this.v._length = 0;\n\n          if (this.d === 2 || this.d === 1) {\n            this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, 0, true);\n            this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, p0 + v0, p1 + v1 - round, 1, true);\n\n            if (round !== 0) {\n              this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, 2, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0 + round, p1 + v1, 3, true);\n              this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, 4, true);\n              this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1 + round, 5, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, 6, true);\n              this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, p0 + v0 - round, p1 - v1, 7, true);\n            } else {\n              this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0, p1 + v1, 2);\n              this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1, 3);\n            }\n          } else {\n            this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, p0 + v0, p1 - v1 + round, 0, true);\n\n            if (round !== 0) {\n              this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, 1, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0 + round, p1 - v1, 2, true);\n              this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, 3, true);\n              this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1 - round, 4, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, 5, true);\n              this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0 - round, p1 + v1, 6, true);\n              this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, 7, true);\n            } else {\n              this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0, p1 - v1, 1, true);\n              this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1, 2, true);\n              this.v.setTripleAt(p0 + v0, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0, p1 + v1, 3, true);\n            }\n          }\n        },\n        getValue: function getValue(frameNum) {\n          if (this.elem.globalData.frameId === this.frameId) {\n            return;\n          }\n\n          this.frameId = this.elem.globalData.frameId;\n          this.iterateDynamicProperties();\n\n          if (this._mdf) {\n            this.convertRectToPath();\n          }\n        },\n        reset: resetShape\n      };\n      extendPrototype([DynamicPropertyContainer], RectShapeProperty);\n      return RectShapeProperty;\n    }();\n\n    function getShapeProp(elem, data, type) {\n      var prop;\n\n      if (type === 3 || type === 4) {\n        var dataProp = type === 3 ? data.pt : data.ks;\n        var keys = dataProp.k;\n\n        if (keys.length) {\n          prop = new KeyframedShapeProperty(elem, data, type);\n        } else {\n          prop = new ShapeProperty(elem, data, type);\n        }\n      } else if (type === 5) {\n        prop = new RectShapeProperty(elem, data);\n      } else if (type === 6) {\n        prop = new EllShapeProperty(elem, data);\n      } else if (type === 7) {\n        prop = new StarShapeProperty(elem, data);\n      }\n\n      if (prop.k) {\n        elem.addDynamicProperty(prop);\n      }\n\n      return prop;\n    }\n\n    function getConstructorFunction() {\n      return ShapeProperty;\n    }\n\n    function getKeyframedConstructorFunction() {\n      return KeyframedShapeProperty;\n    }\n\n    var ob = {};\n    ob.getShapeProp = getShapeProp;\n    ob.getConstructorFunction = getConstructorFunction;\n    ob.getKeyframedConstructorFunction = getKeyframedConstructorFunction;\n    return ob;\n  }();\n\n  var ShapeModifiers = function () {\n    var ob = {};\n    var modifiers = {};\n    ob.registerModifier = registerModifier;\n    ob.getModifier = getModifier;\n\n    function registerModifier(nm, factory) {\n      if (!modifiers[nm]) {\n        modifiers[nm] = factory;\n      }\n    }\n\n    function getModifier(nm, elem, data) {\n      return new modifiers[nm](elem, data);\n    }\n\n    return ob;\n  }();\n\n  function ShapeModifier() {}\n\n  ShapeModifier.prototype.initModifierProperties = function () {};\n\n  ShapeModifier.prototype.addShapeToModifier = function () {};\n\n  ShapeModifier.prototype.addShape = function (data) {\n    if (!this.closed) {\n      // Adding shape to dynamic properties. It covers the case where a shape has no effects applied, to reset it's _mdf state on every tick.\n      data.sh.container.addDynamicProperty(data.sh);\n      var shapeData = {\n        shape: data.sh,\n        data: data,\n        localShapeCollection: shapeCollection_pool.newShapeCollection()\n      };\n      this.shapes.push(shapeData);\n      this.addShapeToModifier(shapeData);\n\n      if (this._isAnimated) {\n        data.setAsAnimated();\n      }\n    }\n  };\n\n  ShapeModifier.prototype.init = function (elem, data) {\n    this.shapes = [];\n    this.elem = elem;\n    this.initDynamicPropertyContainer(elem);\n    this.initModifierProperties(elem, data);\n    this.frameId = initialDefaultFrame;\n    this.closed = false;\n    this.k = false;\n\n    if (this.dynamicProperties.length) {\n      this.k = true;\n    } else {\n      this.getValue(true);\n    }\n  };\n\n  ShapeModifier.prototype.processKeys = function () {\n    if (this.elem.globalData.frameId === this.frameId) {\n      return;\n    }\n\n    this.frameId = this.elem.globalData.frameId;\n    this.iterateDynamicProperties();\n  };\n\n  extendPrototype([DynamicPropertyContainer], ShapeModifier);\n\n  function TrimModifier() {}\n\n  extendPrototype([ShapeModifier], TrimModifier);\n\n  TrimModifier.prototype.initModifierProperties = function (elem, data) {\n    this.s = PropertyFactory.getProp(elem, data.s, 0, 0.01, this);\n    this.e = PropertyFactory.getProp(elem, data.e, 0, 0.01, this);\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0, this);\n    this.sValue = 0;\n    this.eValue = 0;\n    this.getValue = this.processKeys;\n    this.m = data.m;\n    this._isAnimated = !!this.s.effectsSequence.length || !!this.e.effectsSequence.length || !!this.o.effectsSequence.length;\n  };\n\n  TrimModifier.prototype.addShapeToModifier = function (shapeData) {\n    shapeData.pathsData = [];\n  };\n\n  TrimModifier.prototype.calculateShapeEdges = function (s, e, shapeLength, addedLength, totalModifierLength) {\n    var segments = [];\n\n    if (e <= 1) {\n      segments.push({\n        s: s,\n        e: e\n      });\n    } else if (s >= 1) {\n      segments.push({\n        s: s - 1,\n        e: e - 1\n      });\n    } else {\n      segments.push({\n        s: s,\n        e: 1\n      });\n      segments.push({\n        s: 0,\n        e: e - 1\n      });\n    }\n\n    var shapeSegments = [];\n    var i,\n        len = segments.length,\n        segmentOb;\n\n    for (i = 0; i < len; i += 1) {\n      segmentOb = segments[i];\n\n      if (segmentOb.e * totalModifierLength < addedLength || segmentOb.s * totalModifierLength > addedLength + shapeLength) {} else {\n        var shapeS, shapeE;\n\n        if (segmentOb.s * totalModifierLength <= addedLength) {\n          shapeS = 0;\n        } else {\n          shapeS = (segmentOb.s * totalModifierLength - addedLength) / shapeLength;\n        }\n\n        if (segmentOb.e * totalModifierLength >= addedLength + shapeLength) {\n          shapeE = 1;\n        } else {\n          shapeE = (segmentOb.e * totalModifierLength - addedLength) / shapeLength;\n        }\n\n        shapeSegments.push([shapeS, shapeE]);\n      }\n    }\n\n    if (!shapeSegments.length) {\n      shapeSegments.push([0, 0]);\n    }\n\n    return shapeSegments;\n  };\n\n  TrimModifier.prototype.releasePathsData = function (pathsData) {\n    var i,\n        len = pathsData.length;\n\n    for (i = 0; i < len; i += 1) {\n      segments_length_pool.release(pathsData[i]);\n    }\n\n    pathsData.length = 0;\n    return pathsData;\n  };\n\n  TrimModifier.prototype.processShapes = function (_isFirstFrame) {\n    var s, e;\n\n    if (this._mdf || _isFirstFrame) {\n      var o = this.o.v % 360 / 360;\n\n      if (o < 0) {\n        o += 1;\n      }\n\n      s = (this.s.v > 1 ? 1 : this.s.v < 0 ? 0 : this.s.v) + o;\n      e = (this.e.v > 1 ? 1 : this.e.v < 0 ? 0 : this.e.v) + o;\n\n      if (s === e) {}\n\n      if (s > e) {\n        var _s = s;\n        s = e;\n        e = _s;\n      }\n\n      s = Math.round(s * 10000) * 0.0001;\n      e = Math.round(e * 10000) * 0.0001;\n      this.sValue = s;\n      this.eValue = e;\n    } else {\n      s = this.sValue;\n      e = this.eValue;\n    }\n\n    var shapePaths;\n    var i,\n        len = this.shapes.length,\n        j,\n        jLen;\n    var pathsData,\n        pathData,\n        totalShapeLength,\n        totalModifierLength = 0;\n\n    if (e === s) {\n      for (i = 0; i < len; i += 1) {\n        this.shapes[i].localShapeCollection.releaseShapes();\n        this.shapes[i].shape._mdf = true;\n        this.shapes[i].shape.paths = this.shapes[i].localShapeCollection;\n\n        if (this._mdf) {\n          this.shapes[i].pathsData.length = 0;\n        }\n      }\n    } else if (!(e === 1 && s === 0 || e === 0 && s === 1)) {\n      var segments = [],\n          shapeData,\n          localShapeCollection;\n\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i]; // if shape hasn't changed and trim properties haven't changed, cached previous path can be used\n\n        if (!shapeData.shape._mdf && !this._mdf && !_isFirstFrame && this.m !== 2) {\n          shapeData.shape.paths = shapeData.localShapeCollection;\n        } else {\n          shapePaths = shapeData.shape.paths;\n          jLen = shapePaths._length;\n          totalShapeLength = 0;\n\n          if (!shapeData.shape._mdf && shapeData.pathsData.length) {\n            totalShapeLength = shapeData.totalShapeLength;\n          } else {\n            pathsData = this.releasePathsData(shapeData.pathsData);\n\n            for (j = 0; j < jLen; j += 1) {\n              pathData = bez.getSegmentsLength(shapePaths.shapes[j]);\n              pathsData.push(pathData);\n              totalShapeLength += pathData.totalLength;\n            }\n\n            shapeData.totalShapeLength = totalShapeLength;\n            shapeData.pathsData = pathsData;\n          }\n\n          totalModifierLength += totalShapeLength;\n          shapeData.shape._mdf = true;\n        }\n      }\n\n      var shapeS = s,\n          shapeE = e,\n          addedLength = 0,\n          edges;\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        shapeData = this.shapes[i];\n\n        if (shapeData.shape._mdf) {\n          localShapeCollection = shapeData.localShapeCollection;\n          localShapeCollection.releaseShapes(); //if m === 2 means paths are trimmed individually so edges need to be found for this specific shape relative to whoel group\n\n          if (this.m === 2 && len > 1) {\n            edges = this.calculateShapeEdges(s, e, shapeData.totalShapeLength, addedLength, totalModifierLength);\n            addedLength += shapeData.totalShapeLength;\n          } else {\n            edges = [[shapeS, shapeE]];\n          }\n\n          jLen = edges.length;\n\n          for (j = 0; j < jLen; j += 1) {\n            shapeS = edges[j][0];\n            shapeE = edges[j][1];\n            segments.length = 0;\n\n            if (shapeE <= 1) {\n              segments.push({\n                s: shapeData.totalShapeLength * shapeS,\n                e: shapeData.totalShapeLength * shapeE\n              });\n            } else if (shapeS >= 1) {\n              segments.push({\n                s: shapeData.totalShapeLength * (shapeS - 1),\n                e: shapeData.totalShapeLength * (shapeE - 1)\n              });\n            } else {\n              segments.push({\n                s: shapeData.totalShapeLength * shapeS,\n                e: shapeData.totalShapeLength\n              });\n              segments.push({\n                s: 0,\n                e: shapeData.totalShapeLength * (shapeE - 1)\n              });\n            }\n\n            var newShapesData = this.addShapes(shapeData, segments[0]);\n\n            if (segments[0].s !== segments[0].e) {\n              if (segments.length > 1) {\n                var lastShapeInCollection = shapeData.shape.paths.shapes[shapeData.shape.paths._length - 1];\n\n                if (lastShapeInCollection.c) {\n                  var lastShape = newShapesData.pop();\n                  this.addPaths(newShapesData, localShapeCollection);\n                  newShapesData = this.addShapes(shapeData, segments[1], lastShape);\n                } else {\n                  this.addPaths(newShapesData, localShapeCollection);\n                  newShapesData = this.addShapes(shapeData, segments[1]);\n                }\n              }\n\n              this.addPaths(newShapesData, localShapeCollection);\n            }\n          }\n\n          shapeData.shape.paths = localShapeCollection;\n        }\n      }\n    } else if (this._mdf) {\n      for (i = 0; i < len; i += 1) {\n        //Releasign Trim Cached paths data when no trim applied in case shapes are modified inbetween.\n        //Don't remove this even if it's losing cached info.\n        this.shapes[i].pathsData.length = 0;\n        this.shapes[i].shape._mdf = true;\n      }\n    }\n  };\n\n  TrimModifier.prototype.addPaths = function (newPaths, localShapeCollection) {\n    var i,\n        len = newPaths.length;\n\n    for (i = 0; i < len; i += 1) {\n      localShapeCollection.addShape(newPaths[i]);\n    }\n  };\n\n  TrimModifier.prototype.addSegment = function (pt1, pt2, pt3, pt4, shapePath, pos, newShape) {\n    shapePath.setXYAt(pt2[0], pt2[1], 'o', pos);\n    shapePath.setXYAt(pt3[0], pt3[1], 'i', pos + 1);\n\n    if (newShape) {\n      shapePath.setXYAt(pt1[0], pt1[1], 'v', pos);\n    }\n\n    shapePath.setXYAt(pt4[0], pt4[1], 'v', pos + 1);\n  };\n\n  TrimModifier.prototype.addSegmentFromArray = function (points, shapePath, pos, newShape) {\n    shapePath.setXYAt(points[1], points[5], 'o', pos);\n    shapePath.setXYAt(points[2], points[6], 'i', pos + 1);\n\n    if (newShape) {\n      shapePath.setXYAt(points[0], points[4], 'v', pos);\n    }\n\n    shapePath.setXYAt(points[3], points[7], 'v', pos + 1);\n  };\n\n  TrimModifier.prototype.addShapes = function (shapeData, shapeSegment, shapePath) {\n    var pathsData = shapeData.pathsData;\n    var shapePaths = shapeData.shape.paths.shapes;\n    var i,\n        len = shapeData.shape.paths._length,\n        j,\n        jLen;\n    var addedLength = 0;\n    var currentLengthData, segmentCount;\n    var lengths;\n    var segment;\n    var shapes = [];\n    var initPos;\n    var newShape = true;\n\n    if (!shapePath) {\n      shapePath = shape_pool.newElement();\n      segmentCount = 0;\n      initPos = 0;\n    } else {\n      segmentCount = shapePath._length;\n      initPos = shapePath._length;\n    }\n\n    shapes.push(shapePath);\n\n    for (i = 0; i < len; i += 1) {\n      lengths = pathsData[i].lengths;\n      shapePath.c = shapePaths[i].c;\n      jLen = shapePaths[i].c ? lengths.length : lengths.length + 1;\n\n      for (j = 1; j < jLen; j += 1) {\n        currentLengthData = lengths[j - 1];\n\n        if (addedLength + currentLengthData.addedLength < shapeSegment.s) {\n          addedLength += currentLengthData.addedLength;\n          shapePath.c = false;\n        } else if (addedLength > shapeSegment.e) {\n          shapePath.c = false;\n          break;\n        } else {\n          if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + currentLengthData.addedLength) {\n            this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[j], shapePaths[i].v[j], shapePath, segmentCount, newShape);\n            newShape = false;\n          } else {\n            segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[j], shapePaths[i].o[j - 1], shapePaths[i].i[j], (shapeSegment.s - addedLength) / currentLengthData.addedLength, (shapeSegment.e - addedLength) / currentLengthData.addedLength, lengths[j - 1]);\n            this.addSegmentFromArray(segment, shapePath, segmentCount, newShape); // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\n\n            newShape = false;\n            shapePath.c = false;\n          }\n\n          addedLength += currentLengthData.addedLength;\n          segmentCount += 1;\n        }\n      }\n\n      if (shapePaths[i].c && lengths.length) {\n        currentLengthData = lengths[j - 1];\n\n        if (addedLength <= shapeSegment.e) {\n          var segmentLength = lengths[j - 1].addedLength;\n\n          if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + segmentLength) {\n            this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[0], shapePaths[i].v[0], shapePath, segmentCount, newShape);\n            newShape = false;\n          } else {\n            segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[0], shapePaths[i].o[j - 1], shapePaths[i].i[0], (shapeSegment.s - addedLength) / segmentLength, (shapeSegment.e - addedLength) / segmentLength, lengths[j - 1]);\n            this.addSegmentFromArray(segment, shapePath, segmentCount, newShape); // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\n\n            newShape = false;\n            shapePath.c = false;\n          }\n        } else {\n          shapePath.c = false;\n        }\n\n        addedLength += currentLengthData.addedLength;\n        segmentCount += 1;\n      }\n\n      if (shapePath._length) {\n        shapePath.setXYAt(shapePath.v[initPos][0], shapePath.v[initPos][1], 'i', initPos);\n        shapePath.setXYAt(shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1], 'o', shapePath._length - 1);\n      }\n\n      if (addedLength > shapeSegment.e) {\n        break;\n      }\n\n      if (i < len - 1) {\n        shapePath = shape_pool.newElement();\n        newShape = true;\n        shapes.push(shapePath);\n        segmentCount = 0;\n      }\n    }\n\n    return shapes;\n  };\n\n  ShapeModifiers.registerModifier('tm', TrimModifier);\n\n  function RoundCornersModifier() {}\n\n  extendPrototype([ShapeModifier], RoundCornersModifier);\n\n  RoundCornersModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.rd = PropertyFactory.getProp(elem, data.r, 0, null, this);\n    this._isAnimated = !!this.rd.effectsSequence.length;\n  };\n\n  RoundCornersModifier.prototype.processPath = function (path, round) {\n    var cloned_path = shape_pool.newElement();\n    cloned_path.c = path.c;\n    var i,\n        len = path._length;\n    var currentV,\n        currentI,\n        currentO,\n        closerV,\n        newV,\n        newO,\n        newI,\n        distance,\n        newPosPerc,\n        index = 0;\n    var vX, vY, oX, oY, iX, iY;\n\n    for (i = 0; i < len; i += 1) {\n      currentV = path.v[i];\n      currentO = path.o[i];\n      currentI = path.i[i];\n\n      if (currentV[0] === currentO[0] && currentV[1] === currentO[1] && currentV[0] === currentI[0] && currentV[1] === currentI[1]) {\n        if ((i === 0 || i === len - 1) && !path.c) {\n          cloned_path.setTripleAt(currentV[0], currentV[1], currentO[0], currentO[1], currentI[0], currentI[1], index);\n          /*cloned_path.v[index] = currentV;\r\n          cloned_path.o[index] = currentO;\r\n          cloned_path.i[index] = currentI;*/\n\n          index += 1;\n        } else {\n          if (i === 0) {\n            closerV = path.v[len - 1];\n          } else {\n            closerV = path.v[i - 1];\n          }\n\n          distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\n          newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\n          vX = iX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\n          vY = iY = currentV[1] - (currentV[1] - closerV[1]) * newPosPerc;\n          oX = vX - (vX - currentV[0]) * roundCorner;\n          oY = vY - (vY - currentV[1]) * roundCorner;\n          cloned_path.setTripleAt(vX, vY, oX, oY, iX, iY, index);\n          index += 1;\n\n          if (i === len - 1) {\n            closerV = path.v[0];\n          } else {\n            closerV = path.v[i + 1];\n          }\n\n          distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\n          newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\n          vX = oX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\n          vY = oY = currentV[1] + (closerV[1] - currentV[1]) * newPosPerc;\n          iX = vX - (vX - currentV[0]) * roundCorner;\n          iY = vY - (vY - currentV[1]) * roundCorner;\n          cloned_path.setTripleAt(vX, vY, oX, oY, iX, iY, index);\n          index += 1;\n        }\n      } else {\n        cloned_path.setTripleAt(path.v[i][0], path.v[i][1], path.o[i][0], path.o[i][1], path.i[i][0], path.i[i][1], index);\n        index += 1;\n      }\n    }\n\n    return cloned_path;\n  };\n\n  RoundCornersModifier.prototype.processShapes = function (_isFirstFrame) {\n    var shapePaths;\n    var i,\n        len = this.shapes.length;\n    var j, jLen;\n    var rd = this.rd.v;\n\n    if (rd !== 0) {\n      var shapeData, newPaths, localShapeCollection;\n\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i];\n        newPaths = shapeData.shape.paths;\n        localShapeCollection = shapeData.localShapeCollection;\n\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\n          localShapeCollection.releaseShapes();\n          shapeData.shape._mdf = true;\n          shapePaths = shapeData.shape.paths.shapes;\n          jLen = shapeData.shape.paths._length;\n\n          for (j = 0; j < jLen; j += 1) {\n            localShapeCollection.addShape(this.processPath(shapePaths[j], rd));\n          }\n        }\n\n        shapeData.shape.paths = shapeData.localShapeCollection;\n      }\n    }\n\n    if (!this.dynamicProperties.length) {\n      this._mdf = false;\n    }\n  };\n\n  ShapeModifiers.registerModifier('rd', RoundCornersModifier);\n\n  function PuckerAndBloatModifier() {}\n\n  extendPrototype([ShapeModifier], PuckerAndBloatModifier);\n\n  PuckerAndBloatModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.amount = PropertyFactory.getProp(elem, data.a, 0, null, this);\n    this._isAnimated = !!this.amount.effectsSequence.length;\n  };\n\n  PuckerAndBloatModifier.prototype.processPath = function (path, amount) {\n    var percent = amount / 100;\n    var centerPoint = [0, 0];\n    var pathLength = path._length,\n        i = 0;\n\n    for (i = 0; i < pathLength; i += 1) {\n      centerPoint[0] += path.v[i][0];\n      centerPoint[1] += path.v[i][1];\n    }\n\n    centerPoint[0] /= pathLength;\n    centerPoint[1] /= pathLength;\n    var cloned_path = shape_pool.newElement();\n    cloned_path.c = path.c;\n    var vX, vY, oX, oY, iX, iY;\n\n    for (i = 0; i < pathLength; i += 1) {\n      vX = path.v[i][0] + (centerPoint[0] - path.v[i][0]) * percent;\n      vY = path.v[i][1] + (centerPoint[1] - path.v[i][1]) * percent;\n      oX = path.o[i][0] + (centerPoint[0] - path.o[i][0]) * -percent;\n      oY = path.o[i][1] + (centerPoint[1] - path.o[i][1]) * -percent;\n      iX = path.i[i][0] + (centerPoint[0] - path.i[i][0]) * -percent;\n      iY = path.i[i][1] + (centerPoint[1] - path.i[i][1]) * -percent;\n      cloned_path.setTripleAt(vX, vY, oX, oY, iX, iY, i);\n    }\n\n    return cloned_path;\n  };\n\n  PuckerAndBloatModifier.prototype.processShapes = function (_isFirstFrame) {\n    var shapePaths;\n    var i,\n        len = this.shapes.length;\n    var j, jLen;\n    var amount = this.amount.v;\n\n    if (amount !== 0) {\n      var shapeData, newPaths, localShapeCollection;\n\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i];\n        newPaths = shapeData.shape.paths;\n        localShapeCollection = shapeData.localShapeCollection;\n\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\n          localShapeCollection.releaseShapes();\n          shapeData.shape._mdf = true;\n          shapePaths = shapeData.shape.paths.shapes;\n          jLen = shapeData.shape.paths._length;\n\n          for (j = 0; j < jLen; j += 1) {\n            localShapeCollection.addShape(this.processPath(shapePaths[j], amount));\n          }\n        }\n\n        shapeData.shape.paths = shapeData.localShapeCollection;\n      }\n    }\n\n    if (!this.dynamicProperties.length) {\n      this._mdf = false;\n    }\n  };\n\n  ShapeModifiers.registerModifier('pb', PuckerAndBloatModifier);\n\n  function RepeaterModifier() {}\n\n  extendPrototype([ShapeModifier], RepeaterModifier);\n\n  RepeaterModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.c = PropertyFactory.getProp(elem, data.c, 0, null, this);\n    this.o = PropertyFactory.getProp(elem, data.o, 0, null, this);\n    this.tr = TransformPropertyFactory.getTransformProperty(elem, data.tr, this);\n    this.so = PropertyFactory.getProp(elem, data.tr.so, 0, 0.01, this);\n    this.eo = PropertyFactory.getProp(elem, data.tr.eo, 0, 0.01, this);\n    this.data = data;\n\n    if (!this.dynamicProperties.length) {\n      this.getValue(true);\n    }\n\n    this._isAnimated = !!this.dynamicProperties.length;\n    this.pMatrix = new Matrix();\n    this.rMatrix = new Matrix();\n    this.sMatrix = new Matrix();\n    this.tMatrix = new Matrix();\n    this.matrix = new Matrix();\n  };\n\n  RepeaterModifier.prototype.applyTransforms = function (pMatrix, rMatrix, sMatrix, transform, perc, inv) {\n    var dir = inv ? -1 : 1;\n    var scaleX = transform.s.v[0] + (1 - transform.s.v[0]) * (1 - perc);\n    var scaleY = transform.s.v[1] + (1 - transform.s.v[1]) * (1 - perc);\n    pMatrix.translate(transform.p.v[0] * dir * perc, transform.p.v[1] * dir * perc, transform.p.v[2]);\n    rMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\n    rMatrix.rotate(-transform.r.v * dir * perc);\n    rMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\n    sMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\n    sMatrix.scale(inv ? 1 / scaleX : scaleX, inv ? 1 / scaleY : scaleY);\n    sMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\n  };\n\n  RepeaterModifier.prototype.init = function (elem, arr, pos, elemsData) {\n    this.elem = elem;\n    this.arr = arr;\n    this.pos = pos;\n    this.elemsData = elemsData;\n    this._currentCopies = 0;\n    this._elements = [];\n    this._groups = [];\n    this.frameId = -1;\n    this.initDynamicPropertyContainer(elem);\n    this.initModifierProperties(elem, arr[pos]);\n    var cont = 0;\n\n    while (pos > 0) {\n      pos -= 1; //this._elements.unshift(arr.splice(pos,1)[0]);\n\n      this._elements.unshift(arr[pos]);\n\n      cont += 1;\n    }\n\n    if (this.dynamicProperties.length) {\n      this.k = true;\n    } else {\n      this.getValue(true);\n    }\n  };\n\n  RepeaterModifier.prototype.resetElements = function (elements) {\n    var i,\n        len = elements.length;\n\n    for (i = 0; i < len; i += 1) {\n      elements[i]._processed = false;\n\n      if (elements[i].ty === 'gr') {\n        this.resetElements(elements[i].it);\n      }\n    }\n  };\n\n  RepeaterModifier.prototype.cloneElements = function (elements) {\n    var i,\n        len = elements.length;\n    var newElements = JSON.parse(JSON.stringify(elements));\n    this.resetElements(newElements);\n    return newElements;\n  };\n\n  RepeaterModifier.prototype.changeGroupRender = function (elements, renderFlag) {\n    var i,\n        len = elements.length;\n\n    for (i = 0; i < len; i += 1) {\n      elements[i]._render = renderFlag;\n\n      if (elements[i].ty === 'gr') {\n        this.changeGroupRender(elements[i].it, renderFlag);\n      }\n    }\n  };\n\n  RepeaterModifier.prototype.processShapes = function (_isFirstFrame) {\n    var items, itemsTransform, i, dir, cont;\n\n    if (this._mdf || _isFirstFrame) {\n      var copies = Math.ceil(this.c.v);\n\n      if (this._groups.length < copies) {\n        while (this._groups.length < copies) {\n          var group = {\n            it: this.cloneElements(this._elements),\n            ty: 'gr'\n          };\n          group.it.push({\n            \"a\": {\n              \"a\": 0,\n              \"ix\": 1,\n              \"k\": [0, 0]\n            },\n            \"nm\": \"Transform\",\n            \"o\": {\n              \"a\": 0,\n              \"ix\": 7,\n              \"k\": 100\n            },\n            \"p\": {\n              \"a\": 0,\n              \"ix\": 2,\n              \"k\": [0, 0]\n            },\n            \"r\": {\n              \"a\": 1,\n              \"ix\": 6,\n              \"k\": [{\n                s: 0,\n                e: 0,\n                t: 0\n              }, {\n                s: 0,\n                e: 0,\n                t: 1\n              }]\n            },\n            \"s\": {\n              \"a\": 0,\n              \"ix\": 3,\n              \"k\": [100, 100]\n            },\n            \"sa\": {\n              \"a\": 0,\n              \"ix\": 5,\n              \"k\": 0\n            },\n            \"sk\": {\n              \"a\": 0,\n              \"ix\": 4,\n              \"k\": 0\n            },\n            \"ty\": \"tr\"\n          });\n          this.arr.splice(0, 0, group);\n\n          this._groups.splice(0, 0, group);\n\n          this._currentCopies += 1;\n        }\n\n        this.elem.reloadShapes();\n      }\n\n      cont = 0;\n      var renderFlag;\n\n      for (i = 0; i <= this._groups.length - 1; i += 1) {\n        renderFlag = cont < copies;\n        this._groups[i]._render = renderFlag;\n        this.changeGroupRender(this._groups[i].it, renderFlag);\n        cont += 1;\n      }\n\n      this._currentCopies = copies; ////\n\n      var offset = this.o.v;\n      var offsetModulo = offset % 1;\n      var roundOffset = offset > 0 ? Math.floor(offset) : Math.ceil(offset);\n      var k;\n      var tMat = this.tr.v.props;\n      var pProps = this.pMatrix.props;\n      var rProps = this.rMatrix.props;\n      var sProps = this.sMatrix.props;\n      this.pMatrix.reset();\n      this.rMatrix.reset();\n      this.sMatrix.reset();\n      this.tMatrix.reset();\n      this.matrix.reset();\n      var iteration = 0;\n\n      if (offset > 0) {\n        while (iteration < roundOffset) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\n          iteration += 1;\n        }\n\n        if (offsetModulo) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, offsetModulo, false);\n          iteration += offsetModulo;\n        }\n      } else if (offset < 0) {\n        while (iteration > roundOffset) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, true);\n          iteration -= 1;\n        }\n\n        if (offsetModulo) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, -offsetModulo, true);\n          iteration -= offsetModulo;\n        }\n      }\n\n      i = this.data.m === 1 ? 0 : this._currentCopies - 1;\n      dir = this.data.m === 1 ? 1 : -1;\n      cont = this._currentCopies;\n      var j, jLen;\n\n      while (cont) {\n        items = this.elemsData[i].it;\n        itemsTransform = items[items.length - 1].transform.mProps.v.props;\n        jLen = itemsTransform.length;\n        items[items.length - 1].transform.mProps._mdf = true;\n        items[items.length - 1].transform.op._mdf = true;\n        items[items.length - 1].transform.op.v = this.so.v + (this.eo.v - this.so.v) * (i / (this._currentCopies - 1));\n\n        if (iteration !== 0) {\n          if (i !== 0 && dir === 1 || i !== this._currentCopies - 1 && dir === -1) {\n            this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\n          }\n\n          this.matrix.transform(rProps[0], rProps[1], rProps[2], rProps[3], rProps[4], rProps[5], rProps[6], rProps[7], rProps[8], rProps[9], rProps[10], rProps[11], rProps[12], rProps[13], rProps[14], rProps[15]);\n          this.matrix.transform(sProps[0], sProps[1], sProps[2], sProps[3], sProps[4], sProps[5], sProps[6], sProps[7], sProps[8], sProps[9], sProps[10], sProps[11], sProps[12], sProps[13], sProps[14], sProps[15]);\n          this.matrix.transform(pProps[0], pProps[1], pProps[2], pProps[3], pProps[4], pProps[5], pProps[6], pProps[7], pProps[8], pProps[9], pProps[10], pProps[11], pProps[12], pProps[13], pProps[14], pProps[15]);\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsTransform[j] = this.matrix.props[j];\n          }\n\n          this.matrix.reset();\n        } else {\n          this.matrix.reset();\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsTransform[j] = this.matrix.props[j];\n          }\n        }\n\n        iteration += 1;\n        cont -= 1;\n        i += dir;\n      }\n    } else {\n      cont = this._currentCopies;\n      i = 0;\n      dir = 1;\n\n      while (cont) {\n        items = this.elemsData[i].it;\n        itemsTransform = items[items.length - 1].transform.mProps.v.props;\n        items[items.length - 1].transform.mProps._mdf = false;\n        items[items.length - 1].transform.op._mdf = false;\n        cont -= 1;\n        i += dir;\n      }\n    }\n  };\n\n  RepeaterModifier.prototype.addShape = function () {};\n\n  ShapeModifiers.registerModifier('rp', RepeaterModifier);\n\n  function ShapeCollection() {\n    this._length = 0;\n    this._maxLength = 4;\n    this.shapes = createSizedArray(this._maxLength);\n  }\n\n  ShapeCollection.prototype.addShape = function (shapeData) {\n    if (this._length === this._maxLength) {\n      this.shapes = this.shapes.concat(createSizedArray(this._maxLength));\n      this._maxLength *= 2;\n    }\n\n    this.shapes[this._length] = shapeData;\n    this._length += 1;\n  };\n\n  ShapeCollection.prototype.releaseShapes = function () {\n    var i;\n\n    for (i = 0; i < this._length; i += 1) {\n      shape_pool.release(this.shapes[i]);\n    }\n\n    this._length = 0;\n  };\n\n  function DashProperty(elem, data, renderer, container) {\n    this.elem = elem;\n    this.frameId = -1;\n    this.dataProps = createSizedArray(data.length);\n    this.renderer = renderer;\n    this.k = false;\n    this.dashStr = '';\n    this.dashArray = createTypedArray('float32', data.length ? data.length - 1 : 0);\n    this.dashoffset = createTypedArray('float32', 1);\n    this.initDynamicPropertyContainer(container);\n    var i,\n        len = data.length || 0,\n        prop;\n\n    for (i = 0; i < len; i += 1) {\n      prop = PropertyFactory.getProp(elem, data[i].v, 0, 0, this);\n      this.k = prop.k || this.k;\n      this.dataProps[i] = {\n        n: data[i].n,\n        p: prop\n      };\n    }\n\n    if (!this.k) {\n      this.getValue(true);\n    }\n\n    this._isAnimated = this.k;\n  }\n\n  DashProperty.prototype.getValue = function (forceRender) {\n    if (this.elem.globalData.frameId === this.frameId && !forceRender) {\n      return;\n    }\n\n    this.frameId = this.elem.globalData.frameId;\n    this.iterateDynamicProperties();\n    this._mdf = this._mdf || forceRender;\n\n    if (this._mdf) {\n      var i = 0,\n          len = this.dataProps.length;\n\n      if (this.renderer === 'svg') {\n        this.dashStr = '';\n      }\n\n      for (i = 0; i < len; i += 1) {\n        if (this.dataProps[i].n != 'o') {\n          if (this.renderer === 'svg') {\n            this.dashStr += ' ' + this.dataProps[i].p.v;\n          } else {\n            this.dashArray[i] = this.dataProps[i].p.v;\n          }\n        } else {\n          this.dashoffset[0] = this.dataProps[i].p.v;\n        }\n      }\n    }\n  };\n\n  extendPrototype([DynamicPropertyContainer], DashProperty);\n\n  function GradientProperty(elem, data, container) {\n    this.data = data;\n    this.c = createTypedArray('uint8c', data.p * 4);\n    var cLength = data.k.k[0].s ? data.k.k[0].s.length - data.p * 4 : data.k.k.length - data.p * 4;\n    this.o = createTypedArray('float32', cLength);\n    this._cmdf = false;\n    this._omdf = false;\n    this._collapsable = this.checkCollapsable();\n    this._hasOpacity = cLength;\n    this.initDynamicPropertyContainer(container);\n    this.prop = PropertyFactory.getProp(elem, data.k, 1, null, this);\n    this.k = this.prop.k;\n    this.getValue(true);\n  }\n\n  GradientProperty.prototype.comparePoints = function (values, points) {\n    var i = 0,\n        len = this.o.length / 2,\n        diff;\n\n    while (i < len) {\n      diff = Math.abs(values[i * 4] - values[points * 4 + i * 2]);\n\n      if (diff > 0.01) {\n        return false;\n      }\n\n      i += 1;\n    }\n\n    return true;\n  };\n\n  GradientProperty.prototype.checkCollapsable = function () {\n    if (this.o.length / 2 !== this.c.length / 4) {\n      return false;\n    }\n\n    if (this.data.k.k[0].s) {\n      var i = 0,\n          len = this.data.k.k.length;\n\n      while (i < len) {\n        if (!this.comparePoints(this.data.k.k[i].s, this.data.p)) {\n          return false;\n        }\n\n        i += 1;\n      }\n    } else if (!this.comparePoints(this.data.k.k, this.data.p)) {\n      return false;\n    }\n\n    return true;\n  };\n\n  GradientProperty.prototype.getValue = function (forceRender) {\n    this.prop.getValue();\n    this._mdf = false;\n    this._cmdf = false;\n    this._omdf = false;\n\n    if (this.prop._mdf || forceRender) {\n      var i,\n          len = this.data.p * 4;\n      var mult, val;\n\n      for (i = 0; i < len; i += 1) {\n        mult = i % 4 === 0 ? 100 : 255;\n        val = Math.round(this.prop.v[i] * mult);\n\n        if (this.c[i] !== val) {\n          this.c[i] = val;\n          this._cmdf = !forceRender;\n        }\n      }\n\n      if (this.o.length) {\n        len = this.prop.v.length;\n\n        for (i = this.data.p * 4; i < len; i += 1) {\n          mult = i % 2 === 0 ? 100 : 1;\n          val = i % 2 === 0 ? Math.round(this.prop.v[i] * 100) : this.prop.v[i];\n\n          if (this.o[i - this.data.p * 4] !== val) {\n            this.o[i - this.data.p * 4] = val;\n            this._omdf = !forceRender;\n          }\n        }\n      }\n\n      this._mdf = !forceRender;\n    }\n  };\n\n  extendPrototype([DynamicPropertyContainer], GradientProperty);\n\n  var buildShapeString = function buildShapeString(pathNodes, length, closed, mat) {\n    if (length === 0) {\n      return '';\n    }\n\n    var _o = pathNodes.o;\n    var _i = pathNodes.i;\n    var _v = pathNodes.v;\n    var i,\n        shapeString = \" M\" + mat.applyToPointStringified(_v[0][0], _v[0][1]);\n\n    for (i = 1; i < length; i += 1) {\n      shapeString += \" C\" + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + \" \" + mat.applyToPointStringified(_i[i][0], _i[i][1]) + \" \" + mat.applyToPointStringified(_v[i][0], _v[i][1]);\n    }\n\n    if (closed && length) {\n      shapeString += \" C\" + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + \" \" + mat.applyToPointStringified(_i[0][0], _i[0][1]) + \" \" + mat.applyToPointStringified(_v[0][0], _v[0][1]);\n      shapeString += 'z';\n    }\n\n    return shapeString;\n  };\n\n  var audioControllerFactory = function () {\n    function AudioController(audioFactory) {\n      this.audios = [];\n      this.audioFactory = audioFactory;\n      this._volume = 1;\n      this._isMuted = false;\n    }\n\n    AudioController.prototype = {\n      addAudio: function addAudio(audio) {\n        this.audios.push(audio);\n      },\n      pause: function pause() {\n        var i,\n            len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].pause();\n        }\n      },\n      resume: function resume() {\n        var i,\n            len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].resume();\n        }\n      },\n      setRate: function setRate(rateValue) {\n        var i,\n            len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].setRate(rateValue);\n        }\n      },\n      createAudio: function createAudio(assetPath) {\n        if (this.audioFactory) {\n          return this.audioFactory(assetPath);\n        } else if (Howl) {\n          return new Howl({\n            src: [assetPath]\n          });\n        } else {\n          return {\n            isPlaying: false,\n            play: function play() {\n              this.isPlaying = true;\n            },\n            seek: function seek() {\n              this.isPlaying = false;\n            },\n            playing: function playing() {},\n            rate: function rate() {},\n            setVolume: function setVolume() {}\n          };\n        }\n      },\n      setAudioFactory: function setAudioFactory(audioFactory) {\n        this.audioFactory = audioFactory;\n      },\n      setVolume: function setVolume(value) {\n        this._volume = value;\n\n        this._updateVolume();\n      },\n      mute: function mute() {\n        this._isMuted = true;\n\n        this._updateVolume();\n      },\n      unmute: function unmute() {\n        this._isMuted = false;\n\n        this._updateVolume();\n      },\n      getVolume: function getVolume(value) {\n        return this._volume;\n      },\n      _updateVolume: function _updateVolume() {\n        var i,\n            len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].volume(this._volume * (this._isMuted ? 0 : 1));\n        }\n      }\n    };\n    return function () {\n      return new AudioController();\n    };\n  }();\n\n  var ImagePreloader = function () {\n    var proxyImage = function () {\n      var canvas = createTag('canvas');\n      canvas.width = 1;\n      canvas.height = 1;\n      var ctx = canvas.getContext('2d');\n      ctx.fillStyle = 'rgba(0,0,0,0)';\n      ctx.fillRect(0, 0, 1, 1);\n      return canvas;\n    }();\n\n    function imageLoaded() {\n      this.loadedAssets += 1;\n\n      if (this.loadedAssets === this.totalImages) {\n        if (this.imagesLoadedCb) {\n          this.imagesLoadedCb(null);\n        }\n      }\n    }\n\n    function getAssetsPath(assetData, assetsPath, original_path) {\n      var path = '';\n\n      if (assetData.e) {\n        path = assetData.p;\n      } else if (assetsPath) {\n        var imagePath = assetData.p;\n\n        if (imagePath.indexOf('images/') !== -1) {\n          imagePath = imagePath.split('/')[1];\n        }\n\n        path = assetsPath + imagePath;\n      } else {\n        path = original_path;\n        path += assetData.u ? assetData.u : '';\n        path += assetData.p;\n      }\n\n      return path;\n    }\n\n    function createImageData(assetData) {\n      var path = getAssetsPath(assetData, this.assetsPath, this.path);\n      var img = createNS('image');\n      img.addEventListener('load', this._imageLoaded, false);\n      img.addEventListener('error', function () {\n        ob.img = proxyImage;\n\n        this._imageLoaded();\n      }.bind(this), false);\n      img.setAttributeNS('http://www.w3.org/1999/xlink', 'href', path);\n      var ob = {\n        img: img,\n        assetData: assetData\n      };\n      return ob;\n    }\n\n    function createImgData(assetData) {\n      var path = getAssetsPath(assetData, this.assetsPath, this.path);\n      var img = createTag('img');\n      img.crossOrigin = 'anonymous';\n      img.addEventListener('load', this._imageLoaded, false);\n      img.addEventListener('error', function () {\n        ob.img = proxyImage;\n\n        this._imageLoaded();\n      }.bind(this), false);\n      img.src = path;\n      var ob = {\n        img: img,\n        assetData: assetData\n      };\n      return ob;\n    }\n\n    function loadAssets(assets, cb) {\n      this.imagesLoadedCb = cb;\n      var i,\n          len = assets.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (!assets[i].layers) {\n          this.totalImages += 1;\n          this.images.push(this._createImageData(assets[i]));\n        }\n      }\n    }\n\n    function setPath(path) {\n      this.path = path || '';\n    }\n\n    function setAssetsPath(path) {\n      this.assetsPath = path || '';\n    }\n\n    function getImage(assetData) {\n      var i = 0,\n          len = this.images.length;\n\n      while (i < len) {\n        if (this.images[i].assetData === assetData) {\n          return this.images[i].img;\n        }\n\n        i += 1;\n      }\n    }\n\n    function destroy() {\n      this.imagesLoadedCb = null;\n      this.images.length = 0;\n    }\n\n    function loaded() {\n      return this.totalImages === this.loadedAssets;\n    }\n\n    function setCacheType(type) {\n      if (type === 'svg') {\n        this._createImageData = this.createImageData.bind(this);\n      } else {\n        this._createImageData = this.createImgData.bind(this);\n      }\n    }\n\n    function ImagePreloader(type) {\n      this._imageLoaded = imageLoaded.bind(this);\n      this.assetsPath = '';\n      this.path = '';\n      this.totalImages = 0;\n      this.loadedAssets = 0;\n      this.imagesLoadedCb = null;\n      this.images = [];\n    }\n\n    ;\n    ImagePreloader.prototype = {\n      loadAssets: loadAssets,\n      setAssetsPath: setAssetsPath,\n      setPath: setPath,\n      loaded: loaded,\n      destroy: destroy,\n      getImage: getImage,\n      createImgData: createImgData,\n      createImageData: createImageData,\n      imageLoaded: imageLoaded,\n      setCacheType: setCacheType\n    };\n    return ImagePreloader;\n  }();\n\n  var featureSupport = function () {\n    var ob = {\n      maskType: true\n    };\n\n    if (/MSIE 10/i.test(navigator.userAgent) || /MSIE 9/i.test(navigator.userAgent) || /rv:11.0/i.test(navigator.userAgent) || /Edge\\/\\d./i.test(navigator.userAgent)) {\n      ob.maskType = false;\n    }\n\n    return ob;\n  }();\n\n  var filtersFactory = function () {\n    var ob = {};\n    ob.createFilter = createFilter;\n    ob.createAlphaToLuminanceFilter = createAlphaToLuminanceFilter;\n\n    function createFilter(filId) {\n      var fil = createNS('filter');\n      fil.setAttribute('id', filId);\n      fil.setAttribute('filterUnits', 'objectBoundingBox');\n      fil.setAttribute('x', '0%');\n      fil.setAttribute('y', '0%');\n      fil.setAttribute('width', '100%');\n      fil.setAttribute('height', '100%');\n      return fil;\n    }\n\n    function createAlphaToLuminanceFilter() {\n      var feColorMatrix = createNS('feColorMatrix');\n      feColorMatrix.setAttribute('type', 'matrix');\n      feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\n      feColorMatrix.setAttribute('values', '0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1');\n      return feColorMatrix;\n    }\n\n    return ob;\n  }();\n\n  var assetLoader = function () {\n    function formatResponse(xhr) {\n      if (xhr.response && typeof xhr.response === 'object') {\n        return xhr.response;\n      } else if (xhr.response && typeof xhr.response === 'string') {\n        return JSON.parse(xhr.response);\n      } else if (xhr.responseText) {\n        return JSON.parse(xhr.responseText);\n      }\n    }\n\n    function loadAsset(path, callback, errorCallback) {\n      var response;\n      var xhr = new XMLHttpRequest();\n      xhr.open('GET', path, true); // set responseType after calling open or IE will break.\n\n      try {\n        // This crashes on Android WebView prior to KitKat\n        xhr.responseType = \"json\";\n      } catch (err) {}\n\n      xhr.send();\n\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState == 4) {\n          if (xhr.status == 200) {\n            response = formatResponse(xhr);\n            callback(response);\n          } else {\n            try {\n              response = formatResponse(xhr);\n              callback(response);\n            } catch (err) {\n              if (errorCallback) {\n                errorCallback(err);\n              }\n            }\n          }\n        }\n      };\n    }\n\n    return {\n      load: loadAsset\n    };\n  }();\n\n  function TextAnimatorProperty(textData, renderType, elem) {\n    this._isFirstFrame = true;\n    this._hasMaskedPath = false;\n    this._frameId = -1;\n    this._textData = textData;\n    this._renderType = renderType;\n    this._elem = elem;\n    this._animatorsData = createSizedArray(this._textData.a.length);\n    this._pathData = {};\n    this._moreOptions = {\n      alignment: {}\n    };\n    this.renderedLetters = [];\n    this.lettersChangedFlag = false;\n    this.initDynamicPropertyContainer(elem);\n  }\n\n  TextAnimatorProperty.prototype.searchProperties = function () {\n    var i,\n        len = this._textData.a.length,\n        animatorProps;\n    var getProp = PropertyFactory.getProp;\n\n    for (i = 0; i < len; i += 1) {\n      animatorProps = this._textData.a[i];\n      this._animatorsData[i] = new TextAnimatorDataProperty(this._elem, animatorProps, this);\n    }\n\n    if (this._textData.p && 'm' in this._textData.p) {\n      this._pathData = {\n        f: getProp(this._elem, this._textData.p.f, 0, 0, this),\n        l: getProp(this._elem, this._textData.p.l, 0, 0, this),\n        r: this._textData.p.r,\n        m: this._elem.maskManager.getMaskProperty(this._textData.p.m)\n      };\n      this._hasMaskedPath = true;\n    } else {\n      this._hasMaskedPath = false;\n    }\n\n    this._moreOptions.alignment = getProp(this._elem, this._textData.m.a, 1, 0, this);\n  };\n\n  TextAnimatorProperty.prototype.getMeasures = function (documentData, lettersChangedFlag) {\n    this.lettersChangedFlag = lettersChangedFlag;\n\n    if (!this._mdf && !this._isFirstFrame && !lettersChangedFlag && (!this._hasMaskedPath || !this._pathData.m._mdf)) {\n      return;\n    }\n\n    this._isFirstFrame = false;\n    var alignment = this._moreOptions.alignment.v;\n    var animators = this._animatorsData;\n    var textData = this._textData;\n    var matrixHelper = this.mHelper;\n    var renderType = this._renderType;\n    var renderedLettersCount = this.renderedLetters.length;\n    var data = this.data;\n    var xPos, yPos;\n    var i, len;\n    var letters = documentData.l,\n        pathInfo,\n        currentLength,\n        currentPoint,\n        segmentLength,\n        flag,\n        pointInd,\n        segmentInd,\n        prevPoint,\n        points,\n        segments,\n        partialLength,\n        totalLength,\n        perc,\n        tanAngle,\n        mask;\n\n    if (this._hasMaskedPath) {\n      mask = this._pathData.m;\n\n      if (!this._pathData.n || this._pathData._mdf) {\n        var paths = mask.v;\n\n        if (this._pathData.r) {\n          paths = paths.reverse();\n        } // TODO: release bezier data cached from previous pathInfo: this._pathData.pi\n\n\n        pathInfo = {\n          tLength: 0,\n          segments: []\n        };\n        len = paths._length - 1;\n        var bezierData;\n        totalLength = 0;\n\n        for (i = 0; i < len; i += 1) {\n          bezierData = bez.buildBezierData(paths.v[i], paths.v[i + 1], [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]], [paths.i[i + 1][0] - paths.v[i + 1][0], paths.i[i + 1][1] - paths.v[i + 1][1]]);\n          pathInfo.tLength += bezierData.segmentLength;\n          pathInfo.segments.push(bezierData);\n          totalLength += bezierData.segmentLength;\n        }\n\n        i = len;\n\n        if (mask.v.c) {\n          bezierData = bez.buildBezierData(paths.v[i], paths.v[0], [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]], [paths.i[0][0] - paths.v[0][0], paths.i[0][1] - paths.v[0][1]]);\n          pathInfo.tLength += bezierData.segmentLength;\n          pathInfo.segments.push(bezierData);\n          totalLength += bezierData.segmentLength;\n        }\n\n        this._pathData.pi = pathInfo;\n      }\n\n      pathInfo = this._pathData.pi;\n      currentLength = this._pathData.f.v;\n      segmentInd = 0;\n      pointInd = 1;\n      segmentLength = 0;\n      flag = true;\n      segments = pathInfo.segments;\n\n      if (currentLength < 0 && mask.v.c) {\n        if (pathInfo.tLength < Math.abs(currentLength)) {\n          currentLength = -Math.abs(currentLength) % pathInfo.tLength;\n        }\n\n        segmentInd = segments.length - 1;\n        points = segments[segmentInd].points;\n        pointInd = points.length - 1;\n\n        while (currentLength < 0) {\n          currentLength += points[pointInd].partialLength;\n          pointInd -= 1;\n\n          if (pointInd < 0) {\n            segmentInd -= 1;\n            points = segments[segmentInd].points;\n            pointInd = points.length - 1;\n          }\n        }\n      }\n\n      points = segments[segmentInd].points;\n      prevPoint = points[pointInd - 1];\n      currentPoint = points[pointInd];\n      partialLength = currentPoint.partialLength;\n    }\n\n    len = letters.length;\n    xPos = 0;\n    yPos = 0;\n    var yOff = documentData.finalSize * 1.2 * 0.714;\n    var firstLine = true;\n    var animatorProps, animatorSelector;\n    var j, jLen;\n    var letterValue;\n    jLen = animators.length;\n    var lastLetter;\n    var mult,\n        ind = -1,\n        offf,\n        xPathPos,\n        yPathPos;\n    var initPathPos = currentLength,\n        initSegmentInd = segmentInd,\n        initPointInd = pointInd,\n        currentLine = -1;\n    var elemOpacity;\n    var sc, sw, fc, k;\n    var lineLength = 0;\n    var letterSw,\n        letterSc,\n        letterFc,\n        letterM = '',\n        letterP = this.defaultPropsArray,\n        letterO; //\n\n    if (documentData.j === 2 || documentData.j === 1) {\n      var animatorJustifyOffset = 0;\n      var animatorFirstCharOffset = 0;\n      var justifyOffsetMult = documentData.j === 2 ? -0.5 : -1;\n      var lastIndex = 0;\n      var isNewLine = true;\n\n      for (i = 0; i < len; i += 1) {\n        if (letters[i].n) {\n          if (animatorJustifyOffset) {\n            animatorJustifyOffset += animatorFirstCharOffset;\n          }\n\n          while (lastIndex < i) {\n            letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\n            lastIndex += 1;\n          }\n\n          animatorJustifyOffset = 0;\n          isNewLine = true;\n        } else {\n          for (j = 0; j < jLen; j += 1) {\n            animatorProps = animators[j].a;\n\n            if (animatorProps.t.propType) {\n              if (isNewLine && documentData.j === 2) {\n                animatorFirstCharOffset += animatorProps.t.v * justifyOffsetMult;\n              }\n\n              animatorSelector = animators[j].s;\n              mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n              if (mult.length) {\n                animatorJustifyOffset += animatorProps.t.v * mult[0] * justifyOffsetMult;\n              } else {\n                animatorJustifyOffset += animatorProps.t.v * mult * justifyOffsetMult;\n              }\n            }\n          }\n\n          isNewLine = false;\n        }\n      }\n\n      if (animatorJustifyOffset) {\n        animatorJustifyOffset += animatorFirstCharOffset;\n      }\n\n      while (lastIndex < i) {\n        letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\n        lastIndex += 1;\n      }\n    } //\n\n\n    for (i = 0; i < len; i += 1) {\n      matrixHelper.reset();\n      elemOpacity = 1;\n\n      if (letters[i].n) {\n        xPos = 0;\n        yPos += documentData.yOffset;\n        yPos += firstLine ? 1 : 0;\n        currentLength = initPathPos;\n        firstLine = false;\n        lineLength = 0;\n\n        if (this._hasMaskedPath) {\n          segmentInd = initSegmentInd;\n          pointInd = initPointInd;\n          points = segments[segmentInd].points;\n          prevPoint = points[pointInd - 1];\n          currentPoint = points[pointInd];\n          partialLength = currentPoint.partialLength;\n          segmentLength = 0;\n        }\n\n        letterO = letterSw = letterFc = letterM = '';\n        letterP = this.defaultPropsArray;\n      } else {\n        if (this._hasMaskedPath) {\n          if (currentLine !== letters[i].line) {\n            switch (documentData.j) {\n              case 1:\n                currentLength += totalLength - documentData.lineWidths[letters[i].line];\n                break;\n\n              case 2:\n                currentLength += (totalLength - documentData.lineWidths[letters[i].line]) / 2;\n                break;\n            }\n\n            currentLine = letters[i].line;\n          }\n\n          if (ind !== letters[i].ind) {\n            if (letters[ind]) {\n              currentLength += letters[ind].extra;\n            }\n\n            currentLength += letters[i].an / 2;\n            ind = letters[i].ind;\n          }\n\n          currentLength += alignment[0] * letters[i].an / 200;\n          var animatorOffset = 0;\n\n          for (j = 0; j < jLen; j += 1) {\n            animatorProps = animators[j].a;\n\n            if (animatorProps.p.propType) {\n              animatorSelector = animators[j].s;\n              mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n              if (mult.length) {\n                animatorOffset += animatorProps.p.v[0] * mult[0];\n              } else {\n                animatorOffset += animatorProps.p.v[0] * mult;\n              }\n            }\n\n            if (animatorProps.a.propType) {\n              animatorSelector = animators[j].s;\n              mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n              if (mult.length) {\n                animatorOffset += animatorProps.a.v[0] * mult[0];\n              } else {\n                animatorOffset += animatorProps.a.v[0] * mult;\n              }\n            }\n          }\n\n          flag = true;\n\n          while (flag) {\n            if (segmentLength + partialLength >= currentLength + animatorOffset || !points) {\n              perc = (currentLength + animatorOffset - segmentLength) / currentPoint.partialLength;\n              xPathPos = prevPoint.point[0] + (currentPoint.point[0] - prevPoint.point[0]) * perc;\n              yPathPos = prevPoint.point[1] + (currentPoint.point[1] - prevPoint.point[1]) * perc;\n              matrixHelper.translate(-alignment[0] * letters[i].an / 200, -(alignment[1] * yOff / 100));\n              flag = false;\n            } else if (points) {\n              segmentLength += currentPoint.partialLength;\n              pointInd += 1;\n\n              if (pointInd >= points.length) {\n                pointInd = 0;\n                segmentInd += 1;\n\n                if (!segments[segmentInd]) {\n                  if (mask.v.c) {\n                    pointInd = 0;\n                    segmentInd = 0;\n                    points = segments[segmentInd].points;\n                  } else {\n                    segmentLength -= currentPoint.partialLength;\n                    points = null;\n                  }\n                } else {\n                  points = segments[segmentInd].points;\n                }\n              }\n\n              if (points) {\n                prevPoint = currentPoint;\n                currentPoint = points[pointInd];\n                partialLength = currentPoint.partialLength;\n              }\n            }\n          }\n\n          offf = letters[i].an / 2 - letters[i].add;\n          matrixHelper.translate(-offf, 0, 0);\n        } else {\n          offf = letters[i].an / 2 - letters[i].add;\n          matrixHelper.translate(-offf, 0, 0); // Grouping alignment\n\n          matrixHelper.translate(-alignment[0] * letters[i].an / 200, -alignment[1] * yOff / 100, 0);\n        }\n\n        lineLength += letters[i].l / 2;\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.t.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars); //This condition is to prevent applying tracking to first character in each line. Might be better to use a boolean \"isNewLine\"\n\n            if (xPos !== 0 || documentData.j !== 0) {\n              if (this._hasMaskedPath) {\n                if (mult.length) {\n                  currentLength += animatorProps.t.v * mult[0];\n                } else {\n                  currentLength += animatorProps.t.v * mult;\n                }\n              } else {\n                if (mult.length) {\n                  xPos += animatorProps.t.v * mult[0];\n                } else {\n                  xPos += animatorProps.t.v * mult;\n                }\n              }\n            }\n          }\n        }\n\n        lineLength += letters[i].l / 2;\n\n        if (documentData.strokeWidthAnim) {\n          sw = documentData.sw || 0;\n        }\n\n        if (documentData.strokeColorAnim) {\n          if (documentData.sc) {\n            sc = [documentData.sc[0], documentData.sc[1], documentData.sc[2]];\n          } else {\n            sc = [0, 0, 0];\n          }\n        }\n\n        if (documentData.fillColorAnim && documentData.fc) {\n          fc = [documentData.fc[0], documentData.fc[1], documentData.fc[2]];\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.a.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n            if (mult.length) {\n              matrixHelper.translate(-animatorProps.a.v[0] * mult[0], -animatorProps.a.v[1] * mult[1], animatorProps.a.v[2] * mult[2]);\n            } else {\n              matrixHelper.translate(-animatorProps.a.v[0] * mult, -animatorProps.a.v[1] * mult, animatorProps.a.v[2] * mult);\n            }\n          }\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.s.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n            if (mult.length) {\n              matrixHelper.scale(1 + (animatorProps.s.v[0] - 1) * mult[0], 1 + (animatorProps.s.v[1] - 1) * mult[1], 1);\n            } else {\n              matrixHelper.scale(1 + (animatorProps.s.v[0] - 1) * mult, 1 + (animatorProps.s.v[1] - 1) * mult, 1);\n            }\n          }\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n          animatorSelector = animators[j].s;\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n          if (animatorProps.sk.propType) {\n            if (mult.length) {\n              matrixHelper.skewFromAxis(-animatorProps.sk.v * mult[0], animatorProps.sa.v * mult[1]);\n            } else {\n              matrixHelper.skewFromAxis(-animatorProps.sk.v * mult, animatorProps.sa.v * mult);\n            }\n          }\n\n          if (animatorProps.r.propType) {\n            if (mult.length) {\n              matrixHelper.rotateZ(-animatorProps.r.v * mult[2]);\n            } else {\n              matrixHelper.rotateZ(-animatorProps.r.v * mult);\n            }\n          }\n\n          if (animatorProps.ry.propType) {\n            if (mult.length) {\n              matrixHelper.rotateY(animatorProps.ry.v * mult[1]);\n            } else {\n              matrixHelper.rotateY(animatorProps.ry.v * mult);\n            }\n          }\n\n          if (animatorProps.rx.propType) {\n            if (mult.length) {\n              matrixHelper.rotateX(animatorProps.rx.v * mult[0]);\n            } else {\n              matrixHelper.rotateX(animatorProps.rx.v * mult);\n            }\n          }\n\n          if (animatorProps.o.propType) {\n            if (mult.length) {\n              elemOpacity += (animatorProps.o.v * mult[0] - elemOpacity) * mult[0];\n            } else {\n              elemOpacity += (animatorProps.o.v * mult - elemOpacity) * mult;\n            }\n          }\n\n          if (documentData.strokeWidthAnim && animatorProps.sw.propType) {\n            if (mult.length) {\n              sw += animatorProps.sw.v * mult[0];\n            } else {\n              sw += animatorProps.sw.v * mult;\n            }\n          }\n\n          if (documentData.strokeColorAnim && animatorProps.sc.propType) {\n            for (k = 0; k < 3; k += 1) {\n              if (mult.length) {\n                sc[k] = sc[k] + (animatorProps.sc.v[k] - sc[k]) * mult[0];\n              } else {\n                sc[k] = sc[k] + (animatorProps.sc.v[k] - sc[k]) * mult;\n              }\n            }\n          }\n\n          if (documentData.fillColorAnim && documentData.fc) {\n            if (animatorProps.fc.propType) {\n              for (k = 0; k < 3; k += 1) {\n                if (mult.length) {\n                  fc[k] = fc[k] + (animatorProps.fc.v[k] - fc[k]) * mult[0];\n                } else {\n                  fc[k] = fc[k] + (animatorProps.fc.v[k] - fc[k]) * mult;\n                }\n              }\n            }\n\n            if (animatorProps.fh.propType) {\n              if (mult.length) {\n                fc = addHueToRGB(fc, animatorProps.fh.v * mult[0]);\n              } else {\n                fc = addHueToRGB(fc, animatorProps.fh.v * mult);\n              }\n            }\n\n            if (animatorProps.fs.propType) {\n              if (mult.length) {\n                fc = addSaturationToRGB(fc, animatorProps.fs.v * mult[0]);\n              } else {\n                fc = addSaturationToRGB(fc, animatorProps.fs.v * mult);\n              }\n            }\n\n            if (animatorProps.fb.propType) {\n              if (mult.length) {\n                fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult[0]);\n              } else {\n                fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult);\n              }\n            }\n          }\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.p.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n            if (this._hasMaskedPath) {\n              if (mult.length) {\n                matrixHelper.translate(0, animatorProps.p.v[1] * mult[0], -animatorProps.p.v[2] * mult[1]);\n              } else {\n                matrixHelper.translate(0, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\n              }\n            } else {\n              if (mult.length) {\n                matrixHelper.translate(animatorProps.p.v[0] * mult[0], animatorProps.p.v[1] * mult[1], -animatorProps.p.v[2] * mult[2]);\n              } else {\n                matrixHelper.translate(animatorProps.p.v[0] * mult, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\n              }\n            }\n          }\n        }\n\n        if (documentData.strokeWidthAnim) {\n          letterSw = sw < 0 ? 0 : sw;\n        }\n\n        if (documentData.strokeColorAnim) {\n          letterSc = 'rgb(' + Math.round(sc[0] * 255) + ',' + Math.round(sc[1] * 255) + ',' + Math.round(sc[2] * 255) + ')';\n        }\n\n        if (documentData.fillColorAnim && documentData.fc) {\n          letterFc = 'rgb(' + Math.round(fc[0] * 255) + ',' + Math.round(fc[1] * 255) + ',' + Math.round(fc[2] * 255) + ')';\n        }\n\n        if (this._hasMaskedPath) {\n          matrixHelper.translate(0, -documentData.ls);\n          matrixHelper.translate(0, alignment[1] * yOff / 100 + yPos, 0);\n\n          if (textData.p.p) {\n            tanAngle = (currentPoint.point[1] - prevPoint.point[1]) / (currentPoint.point[0] - prevPoint.point[0]);\n            var rot = Math.atan(tanAngle) * 180 / Math.PI;\n\n            if (currentPoint.point[0] < prevPoint.point[0]) {\n              rot += 180;\n            }\n\n            matrixHelper.rotate(-rot * Math.PI / 180);\n          }\n\n          matrixHelper.translate(xPathPos, yPathPos, 0);\n          currentLength -= alignment[0] * letters[i].an / 200;\n\n          if (letters[i + 1] && ind !== letters[i + 1].ind) {\n            currentLength += letters[i].an / 2;\n            currentLength += documentData.tr / 1000 * documentData.finalSize;\n          }\n        } else {\n          matrixHelper.translate(xPos, yPos, 0);\n\n          if (documentData.ps) {\n            //matrixHelper.translate(documentData.ps[0],documentData.ps[1],0);\n            matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\n          }\n\n          switch (documentData.j) {\n            case 1:\n              matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]), 0, 0);\n              break;\n\n            case 2:\n              matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]) / 2, 0, 0);\n              break;\n          }\n\n          matrixHelper.translate(0, -documentData.ls);\n          matrixHelper.translate(offf, 0, 0);\n          matrixHelper.translate(alignment[0] * letters[i].an / 200, alignment[1] * yOff / 100, 0);\n          xPos += letters[i].l + documentData.tr / 1000 * documentData.finalSize;\n        }\n\n        if (renderType === 'html') {\n          letterM = matrixHelper.toCSS();\n        } else if (renderType === 'svg') {\n          letterM = matrixHelper.to2dCSS();\n        } else {\n          letterP = [matrixHelper.props[0], matrixHelper.props[1], matrixHelper.props[2], matrixHelper.props[3], matrixHelper.props[4], matrixHelper.props[5], matrixHelper.props[6], matrixHelper.props[7], matrixHelper.props[8], matrixHelper.props[9], matrixHelper.props[10], matrixHelper.props[11], matrixHelper.props[12], matrixHelper.props[13], matrixHelper.props[14], matrixHelper.props[15]];\n        }\n\n        letterO = elemOpacity;\n      }\n\n      if (renderedLettersCount <= i) {\n        letterValue = new LetterProps(letterO, letterSw, letterSc, letterFc, letterM, letterP);\n        this.renderedLetters.push(letterValue);\n        renderedLettersCount += 1;\n        this.lettersChangedFlag = true;\n      } else {\n        letterValue = this.renderedLetters[i];\n        this.lettersChangedFlag = letterValue.update(letterO, letterSw, letterSc, letterFc, letterM, letterP) || this.lettersChangedFlag;\n      }\n    }\n  };\n\n  TextAnimatorProperty.prototype.getValue = function () {\n    if (this._elem.globalData.frameId === this._frameId) {\n      return;\n    }\n\n    this._frameId = this._elem.globalData.frameId;\n    this.iterateDynamicProperties();\n  };\n\n  TextAnimatorProperty.prototype.mHelper = new Matrix();\n  TextAnimatorProperty.prototype.defaultPropsArray = [];\n  extendPrototype([DynamicPropertyContainer], TextAnimatorProperty);\n\n  function TextAnimatorDataProperty(elem, animatorProps, container) {\n    var defaultData = {\n      propType: false\n    };\n    var getProp = PropertyFactory.getProp;\n    var textAnimator_animatables = animatorProps.a;\n    this.a = {\n      r: textAnimator_animatables.r ? getProp(elem, textAnimator_animatables.r, 0, degToRads, container) : defaultData,\n      rx: textAnimator_animatables.rx ? getProp(elem, textAnimator_animatables.rx, 0, degToRads, container) : defaultData,\n      ry: textAnimator_animatables.ry ? getProp(elem, textAnimator_animatables.ry, 0, degToRads, container) : defaultData,\n      sk: textAnimator_animatables.sk ? getProp(elem, textAnimator_animatables.sk, 0, degToRads, container) : defaultData,\n      sa: textAnimator_animatables.sa ? getProp(elem, textAnimator_animatables.sa, 0, degToRads, container) : defaultData,\n      s: textAnimator_animatables.s ? getProp(elem, textAnimator_animatables.s, 1, 0.01, container) : defaultData,\n      a: textAnimator_animatables.a ? getProp(elem, textAnimator_animatables.a, 1, 0, container) : defaultData,\n      o: textAnimator_animatables.o ? getProp(elem, textAnimator_animatables.o, 0, 0.01, container) : defaultData,\n      p: textAnimator_animatables.p ? getProp(elem, textAnimator_animatables.p, 1, 0, container) : defaultData,\n      sw: textAnimator_animatables.sw ? getProp(elem, textAnimator_animatables.sw, 0, 0, container) : defaultData,\n      sc: textAnimator_animatables.sc ? getProp(elem, textAnimator_animatables.sc, 1, 0, container) : defaultData,\n      fc: textAnimator_animatables.fc ? getProp(elem, textAnimator_animatables.fc, 1, 0, container) : defaultData,\n      fh: textAnimator_animatables.fh ? getProp(elem, textAnimator_animatables.fh, 0, 0, container) : defaultData,\n      fs: textAnimator_animatables.fs ? getProp(elem, textAnimator_animatables.fs, 0, 0.01, container) : defaultData,\n      fb: textAnimator_animatables.fb ? getProp(elem, textAnimator_animatables.fb, 0, 0.01, container) : defaultData,\n      t: textAnimator_animatables.t ? getProp(elem, textAnimator_animatables.t, 0, 0, container) : defaultData\n    };\n    this.s = TextSelectorProp.getTextSelectorProp(elem, animatorProps.s, container);\n    this.s.t = animatorProps.s.t;\n  }\n\n  function LetterProps(o, sw, sc, fc, m, p) {\n    this.o = o;\n    this.sw = sw;\n    this.sc = sc;\n    this.fc = fc;\n    this.m = m;\n    this.p = p;\n    this._mdf = {\n      o: true,\n      sw: !!sw,\n      sc: !!sc,\n      fc: !!fc,\n      m: true,\n      p: true\n    };\n  }\n\n  LetterProps.prototype.update = function (o, sw, sc, fc, m, p) {\n    this._mdf.o = false;\n    this._mdf.sw = false;\n    this._mdf.sc = false;\n    this._mdf.fc = false;\n    this._mdf.m = false;\n    this._mdf.p = false;\n    var updated = false;\n\n    if (this.o !== o) {\n      this.o = o;\n      this._mdf.o = true;\n      updated = true;\n    }\n\n    if (this.sw !== sw) {\n      this.sw = sw;\n      this._mdf.sw = true;\n      updated = true;\n    }\n\n    if (this.sc !== sc) {\n      this.sc = sc;\n      this._mdf.sc = true;\n      updated = true;\n    }\n\n    if (this.fc !== fc) {\n      this.fc = fc;\n      this._mdf.fc = true;\n      updated = true;\n    }\n\n    if (this.m !== m) {\n      this.m = m;\n      this._mdf.m = true;\n      updated = true;\n    }\n\n    if (p.length && (this.p[0] !== p[0] || this.p[1] !== p[1] || this.p[4] !== p[4] || this.p[5] !== p[5] || this.p[12] !== p[12] || this.p[13] !== p[13])) {\n      this.p = p;\n      this._mdf.p = true;\n      updated = true;\n    }\n\n    return updated;\n  };\n\n  function TextProperty(elem, data) {\n    this._frameId = initialDefaultFrame;\n    this.pv = '';\n    this.v = '';\n    this.kf = false;\n    this._isFirstFrame = true;\n    this._mdf = false;\n    this.data = data;\n    this.elem = elem;\n    this.comp = this.elem.comp;\n    this.keysIndex = 0;\n    this.canResize = false;\n    this.minimumFontSize = 1;\n    this.effectsSequence = [];\n    this.currentData = {\n      ascent: 0,\n      boxWidth: this.defaultBoxWidth,\n      f: '',\n      fStyle: '',\n      fWeight: '',\n      fc: '',\n      j: '',\n      justifyOffset: '',\n      l: [],\n      lh: 0,\n      lineWidths: [],\n      ls: '',\n      of: '',\n      s: '',\n      sc: '',\n      sw: 0,\n      t: 0,\n      tr: 0,\n      sz: 0,\n      ps: null,\n      fillColorAnim: false,\n      strokeColorAnim: false,\n      strokeWidthAnim: false,\n      yOffset: 0,\n      finalSize: 0,\n      finalText: [],\n      finalLineHeight: 0,\n      __complete: false\n    };\n    this.copyData(this.currentData, this.data.d.k[0].s);\n\n    if (!this.searchProperty()) {\n      this.completeTextData(this.currentData);\n    }\n  }\n\n  TextProperty.prototype.defaultBoxWidth = [0, 0];\n\n  TextProperty.prototype.copyData = function (obj, data) {\n    for (var s in data) {\n      if (data.hasOwnProperty(s)) {\n        obj[s] = data[s];\n      }\n    }\n\n    return obj;\n  };\n\n  TextProperty.prototype.setCurrentData = function (data) {\n    if (!data.__complete) {\n      this.completeTextData(data);\n    }\n\n    this.currentData = data;\n    this.currentData.boxWidth = this.currentData.boxWidth || this.defaultBoxWidth;\n    this._mdf = true;\n  };\n\n  TextProperty.prototype.searchProperty = function () {\n    return this.searchKeyframes();\n  };\n\n  TextProperty.prototype.searchKeyframes = function () {\n    this.kf = this.data.d.k.length > 1;\n\n    if (this.kf) {\n      this.addEffect(this.getKeyframeValue.bind(this));\n    }\n\n    return this.kf;\n  };\n\n  TextProperty.prototype.addEffect = function (effectFunction) {\n    this.effectsSequence.push(effectFunction);\n    this.elem.addDynamicProperty(this);\n  };\n\n  TextProperty.prototype.getValue = function (_finalValue) {\n    if ((this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) && !_finalValue) {\n      return;\n    }\n\n    this.currentData.t = this.data.d.k[this.keysIndex].s.t;\n    var currentValue = this.currentData;\n    var currentIndex = this.keysIndex;\n\n    if (this.lock) {\n      this.setCurrentData(this.currentData);\n      return;\n    }\n\n    this.lock = true;\n    this._mdf = false;\n    var multipliedValue;\n    var i,\n        len = this.effectsSequence.length;\n    var finalValue = _finalValue || this.data.d.k[this.keysIndex].s;\n\n    for (i = 0; i < len; i += 1) {\n      //Checking if index changed to prevent creating a new object every time the expression updates.\n      if (currentIndex !== this.keysIndex) {\n        finalValue = this.effectsSequence[i](finalValue, finalValue.t);\n      } else {\n        finalValue = this.effectsSequence[i](this.currentData, finalValue.t);\n      }\n    }\n\n    if (currentValue !== finalValue) {\n      this.setCurrentData(finalValue);\n    }\n\n    this.pv = this.v = this.currentData;\n    this.lock = false;\n    this.frameId = this.elem.globalData.frameId;\n  };\n\n  TextProperty.prototype.getKeyframeValue = function () {\n    var textKeys = this.data.d.k,\n        textDocumentData;\n    var frameNum = this.elem.comp.renderedFrame;\n    var i = 0,\n        len = textKeys.length;\n\n    while (i <= len - 1) {\n      textDocumentData = textKeys[i].s;\n\n      if (i === len - 1 || textKeys[i + 1].t > frameNum) {\n        break;\n      }\n\n      i += 1;\n    }\n\n    if (this.keysIndex !== i) {\n      this.keysIndex = i;\n    }\n\n    return this.data.d.k[this.keysIndex].s;\n  };\n\n  TextProperty.prototype.buildFinalText = function (text) {\n    var combinedCharacters = FontManager.getCombinedCharacterCodes();\n    var charactersArray = [];\n    var i = 0,\n        len = text.length;\n    var charCode;\n\n    while (i < len) {\n      charCode = text.charCodeAt(i);\n\n      if (combinedCharacters.indexOf(charCode) !== -1) {\n        charactersArray[charactersArray.length - 1] += text.charAt(i);\n      } else {\n        if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n          charCode = text.charCodeAt(i + 1);\n\n          if (charCode >= 0xDC00 && charCode <= 0xDFFF) {\n            charactersArray.push(text.substr(i, 2));\n            ++i;\n          } else {\n            charactersArray.push(text.charAt(i));\n          }\n        } else {\n          charactersArray.push(text.charAt(i));\n        }\n      }\n\n      i += 1;\n    }\n\n    return charactersArray;\n  };\n\n  TextProperty.prototype.completeTextData = function (documentData) {\n    documentData.__complete = true;\n    var fontManager = this.elem.globalData.fontManager;\n    var data = this.data;\n    var letters = [];\n    var i, len;\n    var newLineFlag,\n        index = 0,\n        val;\n    var anchorGrouping = data.m.g;\n    var currentSize = 0,\n        currentPos = 0,\n        currentLine = 0,\n        lineWidths = [];\n    var lineWidth = 0;\n    var maxLineWidth = 0;\n    var j, jLen;\n    var fontData = fontManager.getFontByName(documentData.f);\n    var charData,\n        cLength = 0;\n    var styles = fontData.fStyle ? fontData.fStyle.split(' ') : [];\n    var fWeight = 'normal',\n        fStyle = 'normal';\n    len = styles.length;\n    var styleName;\n\n    for (i = 0; i < len; i += 1) {\n      styleName = styles[i].toLowerCase();\n\n      switch (styleName) {\n        case 'italic':\n          fStyle = 'italic';\n          break;\n\n        case 'bold':\n          fWeight = '700';\n          break;\n\n        case 'black':\n          fWeight = '900';\n          break;\n\n        case 'medium':\n          fWeight = '500';\n          break;\n\n        case 'regular':\n        case 'normal':\n          fWeight = '400';\n          break;\n\n        case 'light':\n        case 'thin':\n          fWeight = '200';\n          break;\n      }\n    }\n\n    documentData.fWeight = fontData.fWeight || fWeight;\n    documentData.fStyle = fStyle;\n    documentData.finalSize = documentData.s;\n    documentData.finalText = this.buildFinalText(documentData.t);\n    len = documentData.finalText.length;\n    documentData.finalLineHeight = documentData.lh;\n    var trackingOffset = documentData.tr / 1000 * documentData.finalSize;\n    var charCode;\n\n    if (documentData.sz) {\n      var flag = true;\n      var boxWidth = documentData.sz[0];\n      var boxHeight = documentData.sz[1];\n      var currentHeight, finalText;\n\n      while (flag) {\n        finalText = this.buildFinalText(documentData.t);\n        currentHeight = 0;\n        lineWidth = 0;\n        len = finalText.length;\n        trackingOffset = documentData.tr / 1000 * documentData.finalSize;\n        var lastSpaceIndex = -1;\n\n        for (i = 0; i < len; i += 1) {\n          charCode = finalText[i].charCodeAt(0);\n          newLineFlag = false;\n\n          if (finalText[i] === ' ') {\n            lastSpaceIndex = i;\n          } else if (charCode === 13 || charCode === 3) {\n            lineWidth = 0;\n            newLineFlag = true;\n            currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\n          }\n\n          if (fontManager.chars) {\n            charData = fontManager.getCharData(finalText[i], fontData.fStyle, fontData.fFamily);\n            cLength = newLineFlag ? 0 : charData.w * documentData.finalSize / 100;\n          } else {\n            //tCanvasHelper.font = documentData.s + 'px '+ fontData.fFamily;\n            cLength = fontManager.measureText(finalText[i], documentData.f, documentData.finalSize);\n          }\n\n          if (lineWidth + cLength > boxWidth && finalText[i] !== ' ') {\n            if (lastSpaceIndex === -1) {\n              len += 1;\n            } else {\n              i = lastSpaceIndex;\n            }\n\n            currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\n            finalText.splice(i, lastSpaceIndex === i ? 1 : 0, \"\\r\"); //finalText = finalText.substr(0,i) + \"\\r\" + finalText.substr(i === lastSpaceIndex ? i + 1 : i);\n\n            lastSpaceIndex = -1;\n            lineWidth = 0;\n          } else {\n            lineWidth += cLength;\n            lineWidth += trackingOffset;\n          }\n        }\n\n        currentHeight += fontData.ascent * documentData.finalSize / 100;\n\n        if (this.canResize && documentData.finalSize > this.minimumFontSize && boxHeight < currentHeight) {\n          documentData.finalSize -= 1;\n          documentData.finalLineHeight = documentData.finalSize * documentData.lh / documentData.s;\n        } else {\n          documentData.finalText = finalText;\n          len = documentData.finalText.length;\n          flag = false;\n        }\n      }\n    }\n\n    lineWidth = -trackingOffset;\n    cLength = 0;\n    var uncollapsedSpaces = 0;\n    var currentChar;\n\n    for (i = 0; i < len; i += 1) {\n      newLineFlag = false;\n      currentChar = documentData.finalText[i];\n      charCode = currentChar.charCodeAt(0);\n\n      if (charCode === 13 || charCode === 3) {\n        uncollapsedSpaces = 0;\n        lineWidths.push(lineWidth);\n        maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\n        lineWidth = -2 * trackingOffset;\n        val = '';\n        newLineFlag = true;\n        currentLine += 1;\n      } else {\n        val = currentChar;\n      }\n\n      if (fontManager.chars) {\n        charData = fontManager.getCharData(currentChar, fontData.fStyle, fontManager.getFontByName(documentData.f).fFamily);\n        cLength = newLineFlag ? 0 : charData.w * documentData.finalSize / 100;\n      } else {\n        //var charWidth = fontManager.measureText(val, documentData.f, documentData.finalSize);\n        //tCanvasHelper.font = documentData.finalSize + 'px '+ fontManager.getFontByName(documentData.f).fFamily;\n        cLength = fontManager.measureText(val, documentData.f, documentData.finalSize);\n      } //\n\n\n      if (currentChar === ' ') {\n        uncollapsedSpaces += cLength + trackingOffset;\n      } else {\n        lineWidth += cLength + trackingOffset + uncollapsedSpaces;\n        uncollapsedSpaces = 0;\n      }\n\n      letters.push({\n        l: cLength,\n        an: cLength,\n        add: currentSize,\n        n: newLineFlag,\n        anIndexes: [],\n        val: val,\n        line: currentLine,\n        animatorJustifyOffset: 0\n      });\n\n      if (anchorGrouping == 2) {\n        currentSize += cLength;\n\n        if (val === '' || val === ' ' || i === len - 1) {\n          if (val === '' || val === ' ') {\n            currentSize -= cLength;\n          }\n\n          while (currentPos <= i) {\n            letters[currentPos].an = currentSize;\n            letters[currentPos].ind = index;\n            letters[currentPos].extra = cLength;\n            currentPos += 1;\n          }\n\n          index += 1;\n          currentSize = 0;\n        }\n      } else if (anchorGrouping == 3) {\n        currentSize += cLength;\n\n        if (val === '' || i === len - 1) {\n          if (val === '') {\n            currentSize -= cLength;\n          }\n\n          while (currentPos <= i) {\n            letters[currentPos].an = currentSize;\n            letters[currentPos].ind = index;\n            letters[currentPos].extra = cLength;\n            currentPos += 1;\n          }\n\n          currentSize = 0;\n          index += 1;\n        }\n      } else {\n        letters[index].ind = index;\n        letters[index].extra = 0;\n        index += 1;\n      }\n    }\n\n    documentData.l = letters;\n    maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\n    lineWidths.push(lineWidth);\n\n    if (documentData.sz) {\n      documentData.boxWidth = documentData.sz[0];\n      documentData.justifyOffset = 0;\n    } else {\n      documentData.boxWidth = maxLineWidth;\n\n      switch (documentData.j) {\n        case 1:\n          documentData.justifyOffset = -documentData.boxWidth;\n          break;\n\n        case 2:\n          documentData.justifyOffset = -documentData.boxWidth / 2;\n          break;\n\n        default:\n          documentData.justifyOffset = 0;\n      }\n    }\n\n    documentData.lineWidths = lineWidths;\n    var animators = data.a,\n        animatorData,\n        letterData;\n    jLen = animators.length;\n    var based,\n        ind,\n        indexes = [];\n\n    for (j = 0; j < jLen; j += 1) {\n      animatorData = animators[j];\n\n      if (animatorData.a.sc) {\n        documentData.strokeColorAnim = true;\n      }\n\n      if (animatorData.a.sw) {\n        documentData.strokeWidthAnim = true;\n      }\n\n      if (animatorData.a.fc || animatorData.a.fh || animatorData.a.fs || animatorData.a.fb) {\n        documentData.fillColorAnim = true;\n      }\n\n      ind = 0;\n      based = animatorData.s.b;\n\n      for (i = 0; i < len; i += 1) {\n        letterData = letters[i];\n        letterData.anIndexes[j] = ind;\n\n        if (based == 1 && letterData.val !== '' || based == 2 && letterData.val !== '' && letterData.val !== ' ' || based == 3 && (letterData.n || letterData.val == ' ' || i == len - 1) || based == 4 && (letterData.n || i == len - 1)) {\n          if (animatorData.s.rn === 1) {\n            indexes.push(ind);\n          }\n\n          ind += 1;\n        }\n      }\n\n      data.a[j].s.totalChars = ind;\n      var currentInd = -1,\n          newInd;\n\n      if (animatorData.s.rn === 1) {\n        for (i = 0; i < len; i += 1) {\n          letterData = letters[i];\n\n          if (currentInd != letterData.anIndexes[j]) {\n            currentInd = letterData.anIndexes[j];\n            newInd = indexes.splice(Math.floor(Math.random() * indexes.length), 1)[0];\n          }\n\n          letterData.anIndexes[j] = newInd;\n        }\n      }\n    }\n\n    documentData.yOffset = documentData.finalLineHeight || documentData.finalSize * 1.2;\n    documentData.ls = documentData.ls || 0;\n    documentData.ascent = fontData.ascent * documentData.finalSize / 100;\n  };\n\n  TextProperty.prototype.updateDocumentData = function (newData, index) {\n    index = index === undefined ? this.keysIndex : index;\n    var dData = this.copyData({}, this.data.d.k[index].s);\n    dData = this.copyData(dData, newData);\n    this.data.d.k[index].s = dData;\n    this.recalculate(index);\n    this.elem.addDynamicProperty(this);\n  };\n\n  TextProperty.prototype.recalculate = function (index) {\n    var dData = this.data.d.k[index].s;\n    dData.__complete = false;\n    this.keysIndex = 0;\n    this._isFirstFrame = true;\n    this.getValue(dData);\n  };\n\n  TextProperty.prototype.canResizeFont = function (_canResize) {\n    this.canResize = _canResize;\n    this.recalculate(this.keysIndex);\n    this.elem.addDynamicProperty(this);\n  };\n\n  TextProperty.prototype.setMinimumFontSize = function (_fontValue) {\n    this.minimumFontSize = Math.floor(_fontValue) || 1;\n    this.recalculate(this.keysIndex);\n    this.elem.addDynamicProperty(this);\n  };\n\n  var TextSelectorProp = function () {\n    var max = Math.max;\n    var min = Math.min;\n    var floor = Math.floor;\n\n    function TextSelectorProp(elem, data) {\n      this._currentTextLength = -1;\n      this.k = false;\n      this.data = data;\n      this.elem = elem;\n      this.comp = elem.comp;\n      this.finalS = 0;\n      this.finalE = 0;\n      this.initDynamicPropertyContainer(elem);\n      this.s = PropertyFactory.getProp(elem, data.s || {\n        k: 0\n      }, 0, 0, this);\n\n      if ('e' in data) {\n        this.e = PropertyFactory.getProp(elem, data.e, 0, 0, this);\n      } else {\n        this.e = {\n          v: 100\n        };\n      }\n\n      this.o = PropertyFactory.getProp(elem, data.o || {\n        k: 0\n      }, 0, 0, this);\n      this.xe = PropertyFactory.getProp(elem, data.xe || {\n        k: 0\n      }, 0, 0, this);\n      this.ne = PropertyFactory.getProp(elem, data.ne || {\n        k: 0\n      }, 0, 0, this);\n      this.a = PropertyFactory.getProp(elem, data.a, 0, 0.01, this);\n\n      if (!this.dynamicProperties.length) {\n        this.getValue();\n      }\n    }\n\n    TextSelectorProp.prototype = {\n      getMult: function getMult(ind) {\n        if (this._currentTextLength !== this.elem.textProperty.currentData.l.length) {\n          this.getValue();\n        } //var easer = bez.getEasingCurve(this.ne.v/100,0,1-this.xe.v/100,1);\n\n\n        var x1 = 0;\n        var y1 = 0;\n        var x2 = 1;\n        var y2 = 1;\n\n        if (this.ne.v > 0) {\n          x1 = this.ne.v / 100.0;\n        } else {\n          y1 = -this.ne.v / 100.0;\n        }\n\n        if (this.xe.v > 0) {\n          x2 = 1.0 - this.xe.v / 100.0;\n        } else {\n          y2 = 1.0 + this.xe.v / 100.0;\n        }\n\n        var easer = BezierFactory.getBezierEasing(x1, y1, x2, y2).get;\n        var mult = 0;\n        var s = this.finalS;\n        var e = this.finalE;\n        var type = this.data.sh;\n\n        if (type === 2) {\n          if (e === s) {\n            mult = ind >= e ? 1 : 0;\n          } else {\n            mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n          }\n\n          mult = easer(mult);\n        } else if (type === 3) {\n          if (e === s) {\n            mult = ind >= e ? 0 : 1;\n          } else {\n            mult = 1 - max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n          }\n\n          mult = easer(mult);\n        } else if (type === 4) {\n          if (e === s) {\n            mult = 0;\n          } else {\n            mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n\n            if (mult < 0.5) {\n              mult *= 2;\n            } else {\n              mult = 1 - 2 * (mult - 0.5);\n            }\n          }\n\n          mult = easer(mult);\n        } else if (type === 5) {\n          if (e === s) {\n            mult = 0;\n          } else {\n            var tot = e - s;\n            /*ind += 0.5;\r\n            mult = -4/(tot*tot)*(ind*ind)+(4/tot)*ind;*/\n\n            ind = min(max(0, ind + 0.5 - s), e - s);\n            var x = -tot / 2 + ind;\n            var a = tot / 2;\n            mult = Math.sqrt(1 - x * x / (a * a));\n          }\n\n          mult = easer(mult);\n        } else if (type === 6) {\n          if (e === s) {\n            mult = 0;\n          } else {\n            ind = min(max(0, ind + 0.5 - s), e - s);\n            mult = (1 + Math.cos(Math.PI + Math.PI * 2 * ind / (e - s))) / 2;\n          }\n\n          mult = easer(mult);\n        } else {\n          if (ind >= floor(s)) {\n            if (ind - s < 0) {\n              mult = max(0, min(min(e, 1) - (s - ind), 1));\n            } else {\n              mult = max(0, min(e - ind, 1));\n            }\n          }\n\n          mult = easer(mult);\n        }\n\n        return mult * this.a.v;\n      },\n      getValue: function getValue(newCharsFlag) {\n        this.iterateDynamicProperties();\n        this._mdf = newCharsFlag || this._mdf;\n        this._currentTextLength = this.elem.textProperty.currentData.l.length || 0;\n\n        if (newCharsFlag && this.data.r === 2) {\n          this.e.v = this._currentTextLength;\n        }\n\n        var divisor = this.data.r === 2 ? 1 : 100 / this.data.totalChars;\n        var o = this.o.v / divisor;\n        var s = this.s.v / divisor + o;\n        var e = this.e.v / divisor + o;\n\n        if (s > e) {\n          var _s = s;\n          s = e;\n          e = _s;\n        }\n\n        this.finalS = s;\n        this.finalE = e;\n      }\n    };\n    extendPrototype([DynamicPropertyContainer], TextSelectorProp);\n\n    function getTextSelectorProp(elem, data, arr) {\n      return new TextSelectorProp(elem, data, arr);\n    }\n\n    return {\n      getTextSelectorProp: getTextSelectorProp\n    };\n  }();\n\n  var pool_factory = function () {\n    return function (initialLength, _create, _release, _clone) {\n      var _length = 0;\n      var _maxLength = initialLength;\n      var pool = createSizedArray(_maxLength);\n      var ob = {\n        newElement: newElement,\n        release: release\n      };\n\n      function newElement() {\n        var element;\n\n        if (_length) {\n          _length -= 1;\n          element = pool[_length];\n        } else {\n          element = _create();\n        }\n\n        return element;\n      }\n\n      function release(element) {\n        if (_length === _maxLength) {\n          pool = pooling.double(pool);\n          _maxLength = _maxLength * 2;\n        }\n\n        if (_release) {\n          _release(element);\n        }\n\n        pool[_length] = element;\n        _length += 1;\n      }\n\n      function clone() {\n        var clonedElement = newElement();\n        return _clone(clonedElement);\n      }\n\n      return ob;\n    };\n  }();\n\n  var pooling = function () {\n    function double(arr) {\n      return arr.concat(createSizedArray(arr.length));\n    }\n\n    return {\n      double: double\n    };\n  }();\n\n  var point_pool = function () {\n    function create() {\n      return createTypedArray('float32', 2);\n    }\n\n    return pool_factory(8, create);\n  }();\n\n  var shape_pool = function () {\n    function create() {\n      return new ShapePath();\n    }\n\n    function release(shapePath) {\n      var len = shapePath._length,\n          i;\n\n      for (i = 0; i < len; i += 1) {\n        point_pool.release(shapePath.v[i]);\n        point_pool.release(shapePath.i[i]);\n        point_pool.release(shapePath.o[i]);\n        shapePath.v[i] = null;\n        shapePath.i[i] = null;\n        shapePath.o[i] = null;\n      }\n\n      shapePath._length = 0;\n      shapePath.c = false;\n    }\n\n    function clone(shape) {\n      var cloned = factory.newElement();\n      var i,\n          len = shape._length === undefined ? shape.v.length : shape._length;\n      cloned.setLength(len);\n      cloned.c = shape.c;\n      var pt;\n\n      for (i = 0; i < len; i += 1) {\n        cloned.setTripleAt(shape.v[i][0], shape.v[i][1], shape.o[i][0], shape.o[i][1], shape.i[i][0], shape.i[i][1], i);\n      }\n\n      return cloned;\n    }\n\n    var factory = pool_factory(4, create, release);\n    factory.clone = clone;\n    return factory;\n  }();\n\n  var shapeCollection_pool = function () {\n    var ob = {\n      newShapeCollection: newShapeCollection,\n      release: release\n    };\n    var _length = 0;\n    var _maxLength = 4;\n    var pool = createSizedArray(_maxLength);\n\n    function newShapeCollection() {\n      var shapeCollection;\n\n      if (_length) {\n        _length -= 1;\n        shapeCollection = pool[_length];\n      } else {\n        shapeCollection = new ShapeCollection();\n      }\n\n      return shapeCollection;\n    }\n\n    function release(shapeCollection) {\n      var i,\n          len = shapeCollection._length;\n\n      for (i = 0; i < len; i += 1) {\n        shape_pool.release(shapeCollection.shapes[i]);\n      }\n\n      shapeCollection._length = 0;\n\n      if (_length === _maxLength) {\n        pool = pooling.double(pool);\n        _maxLength = _maxLength * 2;\n      }\n\n      pool[_length] = shapeCollection;\n      _length += 1;\n    }\n\n    return ob;\n  }();\n\n  var segments_length_pool = function () {\n    function create() {\n      return {\n        lengths: [],\n        totalLength: 0\n      };\n    }\n\n    function release(element) {\n      var i,\n          len = element.lengths.length;\n\n      for (i = 0; i < len; i += 1) {\n        bezier_length_pool.release(element.lengths[i]);\n      }\n\n      element.lengths.length = 0;\n    }\n\n    return pool_factory(8, create, release);\n  }();\n\n  var bezier_length_pool = function () {\n    function create() {\n      return {\n        addedLength: 0,\n        percents: createTypedArray('float32', defaultCurveSegments),\n        lengths: createTypedArray('float32', defaultCurveSegments)\n      };\n    }\n\n    return pool_factory(8, create);\n  }();\n\n  function BaseRenderer() {}\n\n  BaseRenderer.prototype.checkLayers = function (num) {\n    var i,\n        len = this.layers.length,\n        data;\n    this.completeLayers = true;\n\n    for (i = len - 1; i >= 0; i--) {\n      if (!this.elements[i]) {\n        data = this.layers[i];\n\n        if (data.ip - data.st <= num - this.layers[i].st && data.op - data.st > num - this.layers[i].st) {\n          this.buildItem(i);\n        }\n      }\n\n      this.completeLayers = this.elements[i] ? this.completeLayers : false;\n    }\n\n    this.checkPendingElements();\n  };\n\n  BaseRenderer.prototype.createItem = function (layer) {\n    switch (layer.ty) {\n      case 2:\n        return this.createImage(layer);\n\n      case 0:\n        return this.createComp(layer);\n\n      case 1:\n        return this.createSolid(layer);\n\n      case 3:\n        return this.createNull(layer);\n\n      case 4:\n        return this.createShape(layer);\n\n      case 5:\n        return this.createText(layer);\n\n      case 6:\n        return this.createAudio(layer);\n\n      case 13:\n        return this.createCamera(layer);\n    }\n\n    return this.createNull(layer);\n  };\n\n  BaseRenderer.prototype.createCamera = function () {\n    throw new Error('You\\'re using a 3d camera. Try the html renderer.');\n  };\n\n  BaseRenderer.prototype.createAudio = function (data) {\n    return new AudioElement(data, this.globalData, this);\n  };\n\n  BaseRenderer.prototype.buildAllItems = function () {\n    var i,\n        len = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.buildItem(i);\n    }\n\n    this.checkPendingElements();\n  };\n\n  BaseRenderer.prototype.includeLayers = function (newLayers) {\n    this.completeLayers = false;\n    var i,\n        len = newLayers.length;\n    var j,\n        jLen = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      j = 0;\n\n      while (j < jLen) {\n        if (this.layers[j].id == newLayers[i].id) {\n          this.layers[j] = newLayers[i];\n          break;\n        }\n\n        j += 1;\n      }\n    }\n  };\n\n  BaseRenderer.prototype.setProjectInterface = function (pInterface) {\n    this.globalData.projectInterface = pInterface;\n  };\n\n  BaseRenderer.prototype.initItems = function () {\n    if (!this.globalData.progressiveLoad) {\n      this.buildAllItems();\n    }\n  };\n\n  BaseRenderer.prototype.buildElementParenting = function (element, parentName, hierarchy) {\n    var elements = this.elements;\n    var layers = this.layers;\n    var i = 0,\n        len = layers.length;\n\n    while (i < len) {\n      if (layers[i].ind == parentName) {\n        if (!elements[i] || elements[i] === true) {\n          this.buildItem(i);\n          this.addPendingElement(element);\n        } else {\n          hierarchy.push(elements[i]);\n          elements[i].setAsParent();\n\n          if (layers[i].parent !== undefined) {\n            this.buildElementParenting(element, layers[i].parent, hierarchy);\n          } else {\n            element.setHierarchy(hierarchy);\n          }\n        }\n      }\n\n      i += 1;\n    }\n  };\n\n  BaseRenderer.prototype.addPendingElement = function (element) {\n    this.pendingElements.push(element);\n  };\n\n  BaseRenderer.prototype.searchExtraCompositions = function (assets) {\n    var i,\n        len = assets.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (assets[i].xt) {\n        var comp = this.createComp(assets[i]);\n        comp.initExpressions();\n        this.globalData.projectInterface.registerComposition(comp);\n      }\n    }\n  };\n\n  BaseRenderer.prototype.setupGlobalData = function (animData, fontsContainer) {\n    this.globalData.fontManager = new FontManager();\n    this.globalData.fontManager.addChars(animData.chars);\n    this.globalData.fontManager.addFonts(animData.fonts, fontsContainer);\n    this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem);\n    this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem);\n    this.globalData.imageLoader = this.animationItem.imagePreloader;\n    this.globalData.audioController = this.animationItem.audioController;\n    this.globalData.frameId = 0;\n    this.globalData.frameRate = animData.fr;\n    this.globalData.nm = animData.nm;\n    this.globalData.compSize = {\n      w: animData.w,\n      h: animData.h\n    };\n  };\n\n  function SVGRenderer(animationItem, config) {\n    this.animationItem = animationItem;\n    this.layers = null;\n    this.renderedFrame = -1;\n    this.svgElement = createNS('svg');\n    var ariaLabel = '';\n\n    if (config && config.title) {\n      var titleElement = createNS('title');\n      var titleId = createElementID();\n      titleElement.setAttribute('id', titleId);\n      titleElement.textContent = config.title;\n      this.svgElement.appendChild(titleElement);\n      ariaLabel += titleId;\n    }\n\n    if (config && config.description) {\n      var descElement = createNS('desc');\n      var descId = createElementID();\n      descElement.setAttribute('id', descId);\n      descElement.textContent = config.description;\n      this.svgElement.appendChild(descElement);\n      ariaLabel += ' ' + descId;\n    }\n\n    if (ariaLabel) {\n      this.svgElement.setAttribute('aria-labelledby', ariaLabel);\n    }\n\n    var defs = createNS('defs');\n    this.svgElement.appendChild(defs);\n    var maskElement = createNS('g');\n    this.svgElement.appendChild(maskElement);\n    this.layerElement = maskElement;\n    this.renderConfig = {\n      preserveAspectRatio: config && config.preserveAspectRatio || 'xMidYMid meet',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      progressiveLoad: config && config.progressiveLoad || false,\n      hideOnTransparent: config && config.hideOnTransparent === false ? false : true,\n      viewBoxOnly: config && config.viewBoxOnly || false,\n      viewBoxSize: config && config.viewBoxSize || false,\n      className: config && config.className || '',\n      id: config && config.id || '',\n      focusable: config && config.focusable,\n      filterSize: {\n        width: config && config.filterSize && config.filterSize.width || '100%',\n        height: config && config.filterSize && config.filterSize.height || '100%',\n        x: config && config.filterSize && config.filterSize.x || '0%',\n        y: config && config.filterSize && config.filterSize.y || '0%'\n      }\n    };\n    this.globalData = {\n      _mdf: false,\n      frameNum: -1,\n      defs: defs,\n      renderConfig: this.renderConfig\n    };\n    this.elements = [];\n    this.pendingElements = [];\n    this.destroyed = false;\n    this.rendererType = 'svg';\n  }\n\n  extendPrototype([BaseRenderer], SVGRenderer);\n\n  SVGRenderer.prototype.createNull = function (data) {\n    return new NullElement(data, this.globalData, this);\n  };\n\n  SVGRenderer.prototype.createShape = function (data) {\n    return new SVGShapeElement(data, this.globalData, this);\n  };\n\n  SVGRenderer.prototype.createText = function (data) {\n    return new SVGTextElement(data, this.globalData, this);\n  };\n\n  SVGRenderer.prototype.createImage = function (data) {\n    return new IImageElement(data, this.globalData, this);\n  };\n\n  SVGRenderer.prototype.createComp = function (data) {\n    return new SVGCompElement(data, this.globalData, this);\n  };\n\n  SVGRenderer.prototype.createSolid = function (data) {\n    return new ISolidElement(data, this.globalData, this);\n  };\n\n  SVGRenderer.prototype.configAnimation = function (animData) {\n    this.svgElement.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n\n    if (this.renderConfig.viewBoxSize) {\n      this.svgElement.setAttribute('viewBox', this.renderConfig.viewBoxSize);\n    } else {\n      this.svgElement.setAttribute('viewBox', '0 0 ' + animData.w + ' ' + animData.h);\n    }\n\n    if (!this.renderConfig.viewBoxOnly) {\n      this.svgElement.setAttribute('width', animData.w);\n      this.svgElement.setAttribute('height', animData.h);\n      this.svgElement.style.width = '100%';\n      this.svgElement.style.height = '100%';\n      this.svgElement.style.transform = 'translate3d(0,0,0)';\n    }\n\n    if (this.renderConfig.className) {\n      this.svgElement.setAttribute('class', this.renderConfig.className);\n    }\n\n    if (this.renderConfig.id) {\n      this.svgElement.setAttribute('id', this.renderConfig.id);\n    }\n\n    if (this.renderConfig.focusable !== undefined) {\n      this.svgElement.setAttribute('focusable', this.renderConfig.focusable);\n    }\n\n    this.svgElement.setAttribute('preserveAspectRatio', this.renderConfig.preserveAspectRatio); //this.layerElement.style.transform = 'translate3d(0,0,0)';\n    //this.layerElement.style.transformOrigin = this.layerElement.style.mozTransformOrigin = this.layerElement.style.webkitTransformOrigin = this.layerElement.style['-webkit-transform'] = \"0px 0px 0px\";\n\n    this.animationItem.wrapper.appendChild(this.svgElement); //Mask animation\n\n    var defs = this.globalData.defs;\n    this.setupGlobalData(animData, defs);\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\n    this.data = animData;\n    var maskElement = createNS('clipPath');\n    var rect = createNS('rect');\n    rect.setAttribute('width', animData.w);\n    rect.setAttribute('height', animData.h);\n    rect.setAttribute('x', 0);\n    rect.setAttribute('y', 0);\n    var maskId = createElementID();\n    maskElement.setAttribute('id', maskId);\n    maskElement.appendChild(rect);\n    this.layerElement.setAttribute(\"clip-path\", \"url(\" + locationHref + \"#\" + maskId + \")\");\n    defs.appendChild(maskElement);\n    this.layers = animData.layers;\n    this.elements = createSizedArray(animData.layers.length);\n  };\n\n  SVGRenderer.prototype.destroy = function () {\n    this.animationItem.wrapper.innerText = '';\n    this.layerElement = null;\n    this.globalData.defs = null;\n    var i,\n        len = this.layers ? this.layers.length : 0;\n\n    for (i = 0; i < len; i++) {\n      if (this.elements[i]) {\n        this.elements[i].destroy();\n      }\n    }\n\n    this.elements.length = 0;\n    this.destroyed = true;\n    this.animationItem = null;\n  };\n\n  SVGRenderer.prototype.updateContainerSize = function () {};\n\n  SVGRenderer.prototype.buildItem = function (pos) {\n    var elements = this.elements;\n\n    if (elements[pos] || this.layers[pos].ty == 99) {\n      return;\n    }\n\n    elements[pos] = true;\n    var element = this.createItem(this.layers[pos]);\n    elements[pos] = element;\n\n    if (expressionsPlugin) {\n      if (this.layers[pos].ty === 0) {\n        this.globalData.projectInterface.registerComposition(element);\n      }\n\n      element.initExpressions();\n    }\n\n    this.appendElementInPos(element, pos);\n\n    if (this.layers[pos].tt) {\n      if (!this.elements[pos - 1] || this.elements[pos - 1] === true) {\n        this.buildItem(pos - 1);\n        this.addPendingElement(element);\n      } else {\n        element.setMatte(elements[pos - 1].layerId);\n      }\n    }\n  };\n\n  SVGRenderer.prototype.checkPendingElements = function () {\n    while (this.pendingElements.length) {\n      var element = this.pendingElements.pop();\n      element.checkParenting();\n\n      if (element.data.tt) {\n        var i = 0,\n            len = this.elements.length;\n\n        while (i < len) {\n          if (this.elements[i] === element) {\n            element.setMatte(this.elements[i - 1].layerId);\n            break;\n          }\n\n          i += 1;\n        }\n      }\n    }\n  };\n\n  SVGRenderer.prototype.renderFrame = function (num) {\n    if (this.renderedFrame === num || this.destroyed) {\n      return;\n    }\n\n    if (num === null) {\n      num = this.renderedFrame;\n    } else {\n      this.renderedFrame = num;\n    } // console.log('-------');\n    // console.log('FRAME ',num);\n\n\n    this.globalData.frameNum = num;\n    this.globalData.frameId += 1;\n    this.globalData.projectInterface.currentFrame = num;\n    this.globalData._mdf = false;\n    var i,\n        len = this.layers.length;\n\n    if (!this.completeLayers) {\n      this.checkLayers(num);\n    }\n\n    for (i = len - 1; i >= 0; i--) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].prepareFrame(num - this.layers[i].st);\n      }\n    }\n\n    if (this.globalData._mdf) {\n      for (i = 0; i < len; i += 1) {\n        if (this.completeLayers || this.elements[i]) {\n          this.elements[i].renderFrame();\n        }\n      }\n    }\n  };\n\n  SVGRenderer.prototype.appendElementInPos = function (element, pos) {\n    var newElement = element.getBaseElement();\n\n    if (!newElement) {\n      return;\n    }\n\n    var i = 0;\n    var nextElement;\n\n    while (i < pos) {\n      if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement()) {\n        nextElement = this.elements[i].getBaseElement();\n      }\n\n      i += 1;\n    }\n\n    if (nextElement) {\n      this.layerElement.insertBefore(newElement, nextElement);\n    } else {\n      this.layerElement.appendChild(newElement);\n    }\n  };\n\n  SVGRenderer.prototype.hide = function () {\n    this.layerElement.style.display = 'none';\n  };\n\n  SVGRenderer.prototype.show = function () {\n    this.layerElement.style.display = 'block';\n  };\n\n  function CanvasRenderer(animationItem, config) {\n    this.animationItem = animationItem;\n    this.renderConfig = {\n      clearCanvas: config && config.clearCanvas !== undefined ? config.clearCanvas : true,\n      context: config && config.context || null,\n      progressiveLoad: config && config.progressiveLoad || false,\n      preserveAspectRatio: config && config.preserveAspectRatio || 'xMidYMid meet',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      className: config && config.className || '',\n      id: config && config.id || ''\n    };\n    this.renderConfig.dpr = config && config.dpr || 1;\n\n    if (this.animationItem.wrapper) {\n      this.renderConfig.dpr = config && config.dpr || window.devicePixelRatio || 1;\n    }\n\n    this.renderedFrame = -1;\n    this.globalData = {\n      frameNum: -1,\n      _mdf: false,\n      renderConfig: this.renderConfig,\n      currentGlobalAlpha: -1\n    };\n    this.contextData = new CVContextData();\n    this.elements = [];\n    this.pendingElements = [];\n    this.transformMat = new Matrix();\n    this.completeLayers = false;\n    this.rendererType = 'canvas';\n  }\n\n  extendPrototype([BaseRenderer], CanvasRenderer);\n\n  CanvasRenderer.prototype.createShape = function (data) {\n    return new CVShapeElement(data, this.globalData, this);\n  };\n\n  CanvasRenderer.prototype.createText = function (data) {\n    return new CVTextElement(data, this.globalData, this);\n  };\n\n  CanvasRenderer.prototype.createImage = function (data) {\n    return new CVImageElement(data, this.globalData, this);\n  };\n\n  CanvasRenderer.prototype.createComp = function (data) {\n    return new CVCompElement(data, this.globalData, this);\n  };\n\n  CanvasRenderer.prototype.createSolid = function (data) {\n    return new CVSolidElement(data, this.globalData, this);\n  };\n\n  CanvasRenderer.prototype.createNull = SVGRenderer.prototype.createNull;\n\n  CanvasRenderer.prototype.ctxTransform = function (props) {\n    if (props[0] === 1 && props[1] === 0 && props[4] === 0 && props[5] === 1 && props[12] === 0 && props[13] === 0) {\n      return;\n    }\n\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.transform(props[0], props[1], props[4], props[5], props[12], props[13]);\n      return;\n    }\n\n    this.transformMat.cloneFromProps(props);\n    var cProps = this.contextData.cTr.props;\n    this.transformMat.transform(cProps[0], cProps[1], cProps[2], cProps[3], cProps[4], cProps[5], cProps[6], cProps[7], cProps[8], cProps[9], cProps[10], cProps[11], cProps[12], cProps[13], cProps[14], cProps[15]); //this.contextData.cTr.transform(props[0],props[1],props[2],props[3],props[4],props[5],props[6],props[7],props[8],props[9],props[10],props[11],props[12],props[13],props[14],props[15]);\n\n    this.contextData.cTr.cloneFromProps(this.transformMat.props);\n    var trProps = this.contextData.cTr.props;\n    this.canvasContext.setTransform(trProps[0], trProps[1], trProps[4], trProps[5], trProps[12], trProps[13]);\n  };\n\n  CanvasRenderer.prototype.ctxOpacity = function (op) {\n    /*if(op === 1){\r\n        return;\r\n    }*/\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.globalAlpha *= op < 0 ? 0 : op;\n      this.globalData.currentGlobalAlpha = this.contextData.cO;\n      return;\n    }\n\n    this.contextData.cO *= op < 0 ? 0 : op;\n\n    if (this.globalData.currentGlobalAlpha !== this.contextData.cO) {\n      this.canvasContext.globalAlpha = this.contextData.cO;\n      this.globalData.currentGlobalAlpha = this.contextData.cO;\n    }\n  };\n\n  CanvasRenderer.prototype.reset = function () {\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.restore();\n      return;\n    }\n\n    this.contextData.reset();\n  };\n\n  CanvasRenderer.prototype.save = function (actionFlag) {\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.save();\n      return;\n    }\n\n    if (actionFlag) {\n      this.canvasContext.save();\n    }\n\n    var props = this.contextData.cTr.props;\n\n    if (this.contextData._length <= this.contextData.cArrPos) {\n      this.contextData.duplicate();\n    }\n\n    var i,\n        arr = this.contextData.saved[this.contextData.cArrPos];\n\n    for (i = 0; i < 16; i += 1) {\n      arr[i] = props[i];\n    }\n\n    this.contextData.savedOp[this.contextData.cArrPos] = this.contextData.cO;\n    this.contextData.cArrPos += 1;\n  };\n\n  CanvasRenderer.prototype.restore = function (actionFlag) {\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.restore();\n      return;\n    }\n\n    if (actionFlag) {\n      this.canvasContext.restore();\n      this.globalData.blendMode = 'source-over';\n    }\n\n    this.contextData.cArrPos -= 1;\n    var popped = this.contextData.saved[this.contextData.cArrPos];\n    var i,\n        arr = this.contextData.cTr.props;\n\n    for (i = 0; i < 16; i += 1) {\n      arr[i] = popped[i];\n    }\n\n    this.canvasContext.setTransform(popped[0], popped[1], popped[4], popped[5], popped[12], popped[13]);\n    popped = this.contextData.savedOp[this.contextData.cArrPos];\n    this.contextData.cO = popped;\n\n    if (this.globalData.currentGlobalAlpha !== popped) {\n      this.canvasContext.globalAlpha = popped;\n      this.globalData.currentGlobalAlpha = popped;\n    }\n  };\n\n  CanvasRenderer.prototype.configAnimation = function (animData) {\n    if (this.animationItem.wrapper) {\n      this.animationItem.container = createTag('canvas');\n      this.animationItem.container.style.width = '100%';\n      this.animationItem.container.style.height = '100%'; //this.animationItem.container.style.transform = 'translate3d(0,0,0)';\n      //this.animationItem.container.style.webkitTransform = 'translate3d(0,0,0)';\n\n      this.animationItem.container.style.transformOrigin = this.animationItem.container.style.mozTransformOrigin = this.animationItem.container.style.webkitTransformOrigin = this.animationItem.container.style['-webkit-transform'] = \"0px 0px 0px\";\n      this.animationItem.wrapper.appendChild(this.animationItem.container);\n      this.canvasContext = this.animationItem.container.getContext('2d');\n\n      if (this.renderConfig.className) {\n        this.animationItem.container.setAttribute('class', this.renderConfig.className);\n      }\n\n      if (this.renderConfig.id) {\n        this.animationItem.container.setAttribute('id', this.renderConfig.id);\n      }\n    } else {\n      this.canvasContext = this.renderConfig.context;\n    }\n\n    this.data = animData;\n    this.layers = animData.layers;\n    this.transformCanvas = {\n      w: animData.w,\n      h: animData.h,\n      sx: 0,\n      sy: 0,\n      tx: 0,\n      ty: 0\n    };\n    this.setupGlobalData(animData, document.body);\n    this.globalData.canvasContext = this.canvasContext;\n    this.globalData.renderer = this;\n    this.globalData.isDashed = false;\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\n    this.globalData.transformCanvas = this.transformCanvas;\n    this.elements = createSizedArray(animData.layers.length);\n    this.updateContainerSize();\n  };\n\n  CanvasRenderer.prototype.updateContainerSize = function () {\n    this.reset();\n    var elementWidth, elementHeight;\n\n    if (this.animationItem.wrapper && this.animationItem.container) {\n      elementWidth = this.animationItem.wrapper.offsetWidth;\n      elementHeight = this.animationItem.wrapper.offsetHeight;\n      this.animationItem.container.setAttribute('width', elementWidth * this.renderConfig.dpr);\n      this.animationItem.container.setAttribute('height', elementHeight * this.renderConfig.dpr);\n    } else {\n      elementWidth = this.canvasContext.canvas.width * this.renderConfig.dpr;\n      elementHeight = this.canvasContext.canvas.height * this.renderConfig.dpr;\n    }\n\n    var elementRel, animationRel;\n\n    if (this.renderConfig.preserveAspectRatio.indexOf('meet') !== -1 || this.renderConfig.preserveAspectRatio.indexOf('slice') !== -1) {\n      var par = this.renderConfig.preserveAspectRatio.split(' ');\n      var fillType = par[1] || 'meet';\n      var pos = par[0] || 'xMidYMid';\n      var xPos = pos.substr(0, 4);\n      var yPos = pos.substr(4);\n      elementRel = elementWidth / elementHeight;\n      animationRel = this.transformCanvas.w / this.transformCanvas.h;\n\n      if (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice') {\n        this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\n        this.transformCanvas.sy = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\n      } else {\n        this.transformCanvas.sx = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\n        this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\n      }\n\n      if (xPos === 'xMid' && (animationRel < elementRel && fillType === 'meet' || animationRel > elementRel && fillType === 'slice')) {\n        this.transformCanvas.tx = (elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) / 2 * this.renderConfig.dpr;\n      } else if (xPos === 'xMax' && (animationRel < elementRel && fillType === 'meet' || animationRel > elementRel && fillType === 'slice')) {\n        this.transformCanvas.tx = (elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) * this.renderConfig.dpr;\n      } else {\n        this.transformCanvas.tx = 0;\n      }\n\n      if (yPos === 'YMid' && (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice')) {\n        this.transformCanvas.ty = (elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w)) / 2 * this.renderConfig.dpr;\n      } else if (yPos === 'YMax' && (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice')) {\n        this.transformCanvas.ty = (elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w)) * this.renderConfig.dpr;\n      } else {\n        this.transformCanvas.ty = 0;\n      }\n    } else if (this.renderConfig.preserveAspectRatio == 'none') {\n      this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\n      this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\n      this.transformCanvas.tx = 0;\n      this.transformCanvas.ty = 0;\n    } else {\n      this.transformCanvas.sx = this.renderConfig.dpr;\n      this.transformCanvas.sy = this.renderConfig.dpr;\n      this.transformCanvas.tx = 0;\n      this.transformCanvas.ty = 0;\n    }\n\n    this.transformCanvas.props = [this.transformCanvas.sx, 0, 0, 0, 0, this.transformCanvas.sy, 0, 0, 0, 0, 1, 0, this.transformCanvas.tx, this.transformCanvas.ty, 0, 1];\n    /*var i, len = this.elements.length;\r\n    for(i=0;i<len;i+=1){\r\n        if(this.elements[i] && this.elements[i].data.ty === 0){\r\n            this.elements[i].resize(this.globalData.transformCanvas);\r\n        }\r\n    }*/\n\n    this.ctxTransform(this.transformCanvas.props);\n    this.canvasContext.beginPath();\n    this.canvasContext.rect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\n    this.canvasContext.closePath();\n    this.canvasContext.clip();\n    this.renderFrame(this.renderedFrame, true);\n  };\n\n  CanvasRenderer.prototype.destroy = function () {\n    if (this.renderConfig.clearCanvas) {\n      this.animationItem.wrapper.innerText = '';\n    }\n\n    var i,\n        len = this.layers ? this.layers.length : 0;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.elements[i]) {\n        this.elements[i].destroy();\n      }\n    }\n\n    this.elements.length = 0;\n    this.globalData.canvasContext = null;\n    this.animationItem.container = null;\n    this.destroyed = true;\n  };\n\n  CanvasRenderer.prototype.renderFrame = function (num, forceRender) {\n    if (this.renderedFrame === num && this.renderConfig.clearCanvas === true && !forceRender || this.destroyed || num === -1) {\n      return;\n    }\n\n    this.renderedFrame = num;\n    this.globalData.frameNum = num - this.animationItem._isFirstFrame;\n    this.globalData.frameId += 1;\n    this.globalData._mdf = !this.renderConfig.clearCanvas || forceRender;\n    this.globalData.projectInterface.currentFrame = num; // console.log('--------');\n    // console.log('NEW: ',num);\n\n    var i,\n        len = this.layers.length;\n\n    if (!this.completeLayers) {\n      this.checkLayers(num);\n    }\n\n    for (i = 0; i < len; i++) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].prepareFrame(num - this.layers[i].st);\n      }\n    }\n\n    if (this.globalData._mdf) {\n      if (this.renderConfig.clearCanvas === true) {\n        this.canvasContext.clearRect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\n      } else {\n        this.save();\n      }\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        if (this.completeLayers || this.elements[i]) {\n          this.elements[i].renderFrame();\n        }\n      }\n\n      if (this.renderConfig.clearCanvas !== true) {\n        this.restore();\n      }\n    }\n  };\n\n  CanvasRenderer.prototype.buildItem = function (pos) {\n    var elements = this.elements;\n\n    if (elements[pos] || this.layers[pos].ty == 99) {\n      return;\n    }\n\n    var element = this.createItem(this.layers[pos], this, this.globalData);\n    elements[pos] = element;\n    element.initExpressions();\n    /*if(this.layers[pos].ty === 0){\r\n        element.resize(this.globalData.transformCanvas);\r\n    }*/\n  };\n\n  CanvasRenderer.prototype.checkPendingElements = function () {\n    while (this.pendingElements.length) {\n      var element = this.pendingElements.pop();\n      element.checkParenting();\n    }\n  };\n\n  CanvasRenderer.prototype.hide = function () {\n    this.animationItem.container.style.display = 'none';\n  };\n\n  CanvasRenderer.prototype.show = function () {\n    this.animationItem.container.style.display = 'block';\n  };\n\n  function HybridRenderer(animationItem, config) {\n    this.animationItem = animationItem;\n    this.layers = null;\n    this.renderedFrame = -1;\n    this.renderConfig = {\n      className: config && config.className || '',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      hideOnTransparent: config && config.hideOnTransparent === false ? false : true,\n      filterSize: {\n        width: config && config.filterSize && config.filterSize.width || '400%',\n        height: config && config.filterSize && config.filterSize.height || '400%',\n        x: config && config.filterSize && config.filterSize.x || '-100%',\n        y: config && config.filterSize && config.filterSize.y || '-100%'\n      }\n    };\n    this.globalData = {\n      _mdf: false,\n      frameNum: -1,\n      renderConfig: this.renderConfig\n    };\n    this.pendingElements = [];\n    this.elements = [];\n    this.threeDElements = [];\n    this.destroyed = false;\n    this.camera = null;\n    this.supports3d = true;\n    this.rendererType = 'html';\n  }\n\n  extendPrototype([BaseRenderer], HybridRenderer);\n  HybridRenderer.prototype.buildItem = SVGRenderer.prototype.buildItem;\n\n  HybridRenderer.prototype.checkPendingElements = function () {\n    while (this.pendingElements.length) {\n      var element = this.pendingElements.pop();\n      element.checkParenting();\n    }\n  };\n\n  HybridRenderer.prototype.appendElementInPos = function (element, pos) {\n    var newDOMElement = element.getBaseElement();\n\n    if (!newDOMElement) {\n      return;\n    }\n\n    var layer = this.layers[pos];\n\n    if (!layer.ddd || !this.supports3d) {\n      if (this.threeDElements) {\n        this.addTo3dContainer(newDOMElement, pos);\n      } else {\n        var i = 0;\n        var nextDOMElement, nextLayer, tmpDOMElement;\n\n        while (i < pos) {\n          if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement) {\n            nextLayer = this.elements[i];\n            tmpDOMElement = this.layers[i].ddd ? this.getThreeDContainerByPos(i) : nextLayer.getBaseElement();\n            nextDOMElement = tmpDOMElement || nextDOMElement;\n          }\n\n          i += 1;\n        }\n\n        if (nextDOMElement) {\n          if (!layer.ddd || !this.supports3d) {\n            this.layerElement.insertBefore(newDOMElement, nextDOMElement);\n          }\n        } else {\n          if (!layer.ddd || !this.supports3d) {\n            this.layerElement.appendChild(newDOMElement);\n          }\n        }\n      }\n    } else {\n      this.addTo3dContainer(newDOMElement, pos);\n    }\n  };\n\n  HybridRenderer.prototype.createShape = function (data) {\n    if (!this.supports3d) {\n      return new SVGShapeElement(data, this.globalData, this);\n    }\n\n    return new HShapeElement(data, this.globalData, this);\n  };\n\n  HybridRenderer.prototype.createText = function (data) {\n    if (!this.supports3d) {\n      return new SVGTextElement(data, this.globalData, this);\n    }\n\n    return new HTextElement(data, this.globalData, this);\n  };\n\n  HybridRenderer.prototype.createCamera = function (data) {\n    this.camera = new HCameraElement(data, this.globalData, this);\n    return this.camera;\n  };\n\n  HybridRenderer.prototype.createImage = function (data) {\n    if (!this.supports3d) {\n      return new IImageElement(data, this.globalData, this);\n    }\n\n    return new HImageElement(data, this.globalData, this);\n  };\n\n  HybridRenderer.prototype.createComp = function (data) {\n    if (!this.supports3d) {\n      return new SVGCompElement(data, this.globalData, this);\n    }\n\n    return new HCompElement(data, this.globalData, this);\n  };\n\n  HybridRenderer.prototype.createSolid = function (data) {\n    if (!this.supports3d) {\n      return new ISolidElement(data, this.globalData, this);\n    }\n\n    return new HSolidElement(data, this.globalData, this);\n  };\n\n  HybridRenderer.prototype.createNull = SVGRenderer.prototype.createNull;\n\n  HybridRenderer.prototype.getThreeDContainerByPos = function (pos) {\n    var i = 0,\n        len = this.threeDElements.length;\n\n    while (i < len) {\n      if (this.threeDElements[i].startPos <= pos && this.threeDElements[i].endPos >= pos) {\n        return this.threeDElements[i].perspectiveElem;\n      }\n\n      i += 1;\n    }\n  };\n\n  HybridRenderer.prototype.createThreeDContainer = function (pos, type) {\n    var perspectiveElem = createTag('div');\n    styleDiv(perspectiveElem);\n    var container = createTag('div');\n    styleDiv(container);\n\n    if (type === '3d') {\n      perspectiveElem.style.width = this.globalData.compSize.w + 'px';\n      perspectiveElem.style.height = this.globalData.compSize.h + 'px';\n      perspectiveElem.style.transformOrigin = perspectiveElem.style.mozTransformOrigin = perspectiveElem.style.webkitTransformOrigin = \"50% 50%\";\n      container.style.transform = container.style.webkitTransform = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\n    }\n\n    perspectiveElem.appendChild(container); //this.resizerElem.appendChild(perspectiveElem);\n\n    var threeDContainerData = {\n      container: container,\n      perspectiveElem: perspectiveElem,\n      startPos: pos,\n      endPos: pos,\n      type: type\n    };\n    this.threeDElements.push(threeDContainerData);\n    return threeDContainerData;\n  };\n\n  HybridRenderer.prototype.build3dContainers = function () {\n    var i,\n        len = this.layers.length;\n    var lastThreeDContainerData;\n    var currentContainer = '';\n\n    for (i = 0; i < len; i += 1) {\n      if (this.layers[i].ddd && this.layers[i].ty !== 3) {\n        if (currentContainer !== '3d') {\n          currentContainer = '3d';\n          lastThreeDContainerData = this.createThreeDContainer(i, '3d');\n        }\n\n        lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i);\n      } else {\n        if (currentContainer !== '2d') {\n          currentContainer = '2d';\n          lastThreeDContainerData = this.createThreeDContainer(i, '2d');\n        }\n\n        lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i);\n      }\n    }\n\n    len = this.threeDElements.length;\n\n    for (i = len - 1; i >= 0; i--) {\n      this.resizerElem.appendChild(this.threeDElements[i].perspectiveElem);\n    }\n  };\n\n  HybridRenderer.prototype.addTo3dContainer = function (elem, pos) {\n    var i = 0,\n        len = this.threeDElements.length;\n\n    while (i < len) {\n      if (pos <= this.threeDElements[i].endPos) {\n        var j = this.threeDElements[i].startPos;\n        var nextElement;\n\n        while (j < pos) {\n          if (this.elements[j] && this.elements[j].getBaseElement) {\n            nextElement = this.elements[j].getBaseElement();\n          }\n\n          j += 1;\n        }\n\n        if (nextElement) {\n          this.threeDElements[i].container.insertBefore(elem, nextElement);\n        } else {\n          this.threeDElements[i].container.appendChild(elem);\n        }\n\n        break;\n      }\n\n      i += 1;\n    }\n  };\n\n  HybridRenderer.prototype.configAnimation = function (animData) {\n    var resizerElem = createTag('div');\n    var wrapper = this.animationItem.wrapper;\n    resizerElem.style.width = animData.w + 'px';\n    resizerElem.style.height = animData.h + 'px';\n    this.resizerElem = resizerElem;\n    styleDiv(resizerElem);\n    resizerElem.style.transformStyle = resizerElem.style.webkitTransformStyle = resizerElem.style.mozTransformStyle = \"flat\";\n\n    if (this.renderConfig.className) {\n      resizerElem.setAttribute('class', this.renderConfig.className);\n    }\n\n    wrapper.appendChild(resizerElem);\n    resizerElem.style.overflow = 'hidden';\n    var svg = createNS('svg');\n    svg.setAttribute('width', '1');\n    svg.setAttribute('height', '1');\n    styleDiv(svg);\n    this.resizerElem.appendChild(svg);\n    var defs = createNS('defs');\n    svg.appendChild(defs);\n    this.data = animData; //Mask animation\n\n    this.setupGlobalData(animData, svg);\n    this.globalData.defs = defs;\n    this.layers = animData.layers;\n    this.layerElement = this.resizerElem;\n    this.build3dContainers();\n    this.updateContainerSize();\n  };\n\n  HybridRenderer.prototype.destroy = function () {\n    this.animationItem.wrapper.innerText = '';\n    this.animationItem.container = null;\n    this.globalData.defs = null;\n    var i,\n        len = this.layers ? this.layers.length : 0;\n\n    for (i = 0; i < len; i++) {\n      this.elements[i].destroy();\n    }\n\n    this.elements.length = 0;\n    this.destroyed = true;\n    this.animationItem = null;\n  };\n\n  HybridRenderer.prototype.updateContainerSize = function () {\n    var elementWidth = this.animationItem.wrapper.offsetWidth;\n    var elementHeight = this.animationItem.wrapper.offsetHeight;\n    var elementRel = elementWidth / elementHeight;\n    var animationRel = this.globalData.compSize.w / this.globalData.compSize.h;\n    var sx, sy, tx, ty;\n\n    if (animationRel > elementRel) {\n      sx = elementWidth / this.globalData.compSize.w;\n      sy = elementWidth / this.globalData.compSize.w;\n      tx = 0;\n      ty = (elementHeight - this.globalData.compSize.h * (elementWidth / this.globalData.compSize.w)) / 2;\n    } else {\n      sx = elementHeight / this.globalData.compSize.h;\n      sy = elementHeight / this.globalData.compSize.h;\n      tx = (elementWidth - this.globalData.compSize.w * (elementHeight / this.globalData.compSize.h)) / 2;\n      ty = 0;\n    }\n\n    this.resizerElem.style.transform = this.resizerElem.style.webkitTransform = 'matrix3d(' + sx + ',0,0,0,0,' + sy + ',0,0,0,0,1,0,' + tx + ',' + ty + ',0,1)';\n  };\n\n  HybridRenderer.prototype.renderFrame = SVGRenderer.prototype.renderFrame;\n\n  HybridRenderer.prototype.hide = function () {\n    this.resizerElem.style.display = 'none';\n  };\n\n  HybridRenderer.prototype.show = function () {\n    this.resizerElem.style.display = 'block';\n  };\n\n  HybridRenderer.prototype.initItems = function () {\n    this.buildAllItems();\n\n    if (this.camera) {\n      this.camera.setup();\n    } else {\n      var cWidth = this.globalData.compSize.w;\n      var cHeight = this.globalData.compSize.h;\n      var i,\n          len = this.threeDElements.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.threeDElements[i].perspectiveElem.style.perspective = this.threeDElements[i].perspectiveElem.style.webkitPerspective = Math.sqrt(Math.pow(cWidth, 2) + Math.pow(cHeight, 2)) + 'px';\n      }\n    }\n  };\n\n  HybridRenderer.prototype.searchExtraCompositions = function (assets) {\n    var i,\n        len = assets.length;\n    var floatingContainer = createTag('div');\n\n    for (i = 0; i < len; i += 1) {\n      if (assets[i].xt) {\n        var comp = this.createComp(assets[i], floatingContainer, this.globalData.comp, null);\n        comp.initExpressions();\n        this.globalData.projectInterface.registerComposition(comp);\n      }\n    }\n  };\n\n  function MaskElement(data, element, globalData) {\n    this.data = data;\n    this.element = element;\n    this.globalData = globalData;\n    this.storedData = [];\n    this.masksProperties = this.data.masksProperties || [];\n    this.maskElement = null;\n    var defs = this.globalData.defs;\n    var i,\n        len = this.masksProperties ? this.masksProperties.length : 0;\n    this.viewData = createSizedArray(len);\n    this.solidPath = '';\n    var path,\n        properties = this.masksProperties;\n    var count = 0;\n    var currentMasks = [];\n    var j, jLen;\n    var layerId = createElementID();\n    var rect, expansor, feMorph, x;\n    var maskType = 'clipPath',\n        maskRef = 'clip-path';\n\n    for (i = 0; i < len; i++) {\n      if (properties[i].mode !== 'a' && properties[i].mode !== 'n' || properties[i].inv || properties[i].o.k !== 100 || properties[i].o.x) {\n        maskType = 'mask';\n        maskRef = 'mask';\n      }\n\n      if ((properties[i].mode == 's' || properties[i].mode == 'i') && count === 0) {\n        rect = createNS('rect');\n        rect.setAttribute('fill', '#ffffff');\n        rect.setAttribute('width', this.element.comp.data.w || 0);\n        rect.setAttribute('height', this.element.comp.data.h || 0);\n        currentMasks.push(rect);\n      } else {\n        rect = null;\n      }\n\n      path = createNS('path');\n\n      if (properties[i].mode == 'n') {\n        // TODO move this to a factory or to a constructor\n        this.viewData[i] = {\n          op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\n          prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\n          elem: path,\n          lastPath: ''\n        };\n        defs.appendChild(path);\n        continue;\n      }\n\n      count += 1;\n      path.setAttribute('fill', properties[i].mode === 's' ? '#000000' : '#ffffff');\n      path.setAttribute('clip-rule', 'nonzero');\n      var filterID;\n\n      if (properties[i].x.k !== 0) {\n        maskType = 'mask';\n        maskRef = 'mask';\n        x = PropertyFactory.getProp(this.element, properties[i].x, 0, null, this.element);\n        filterID = createElementID();\n        expansor = createNS('filter');\n        expansor.setAttribute('id', filterID);\n        feMorph = createNS('feMorphology');\n        feMorph.setAttribute('operator', 'erode');\n        feMorph.setAttribute('in', 'SourceGraphic');\n        feMorph.setAttribute('radius', '0');\n        expansor.appendChild(feMorph);\n        defs.appendChild(expansor);\n        path.setAttribute('stroke', properties[i].mode === 's' ? '#000000' : '#ffffff');\n      } else {\n        feMorph = null;\n        x = null;\n      } // TODO move this to a factory or to a constructor\n\n\n      this.storedData[i] = {\n        elem: path,\n        x: x,\n        expan: feMorph,\n        lastPath: '',\n        lastOperator: '',\n        filterId: filterID,\n        lastRadius: 0\n      };\n\n      if (properties[i].mode == 'i') {\n        jLen = currentMasks.length;\n        var g = createNS('g');\n\n        for (j = 0; j < jLen; j += 1) {\n          g.appendChild(currentMasks[j]);\n        }\n\n        var mask = createNS('mask');\n        mask.setAttribute('mask-type', 'alpha');\n        mask.setAttribute('id', layerId + '_' + count);\n        mask.appendChild(path);\n        defs.appendChild(mask);\n        g.setAttribute('mask', 'url(' + locationHref + '#' + layerId + '_' + count + ')');\n        currentMasks.length = 0;\n        currentMasks.push(g);\n      } else {\n        currentMasks.push(path);\n      }\n\n      if (properties[i].inv && !this.solidPath) {\n        this.solidPath = this.createLayerSolidPath();\n      } // TODO move this to a factory or to a constructor\n\n\n      this.viewData[i] = {\n        elem: path,\n        lastPath: '',\n        op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\n        prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\n        invRect: rect\n      };\n\n      if (!this.viewData[i].prop.k) {\n        this.drawPath(properties[i], this.viewData[i].prop.v, this.viewData[i]);\n      }\n    }\n\n    this.maskElement = createNS(maskType);\n    len = currentMasks.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.maskElement.appendChild(currentMasks[i]);\n    }\n\n    if (count > 0) {\n      this.maskElement.setAttribute('id', layerId);\n      this.element.maskedElement.setAttribute(maskRef, \"url(\" + locationHref + \"#\" + layerId + \")\");\n      defs.appendChild(this.maskElement);\n    }\n\n    if (this.viewData.length) {\n      this.element.addRenderableComponent(this);\n    }\n  }\n\n  MaskElement.prototype.getMaskProperty = function (pos) {\n    return this.viewData[pos].prop;\n  };\n\n  MaskElement.prototype.renderFrame = function (isFirstFrame) {\n    var finalMat = this.element.finalTransform.mat;\n    var i,\n        len = this.masksProperties.length;\n\n    for (i = 0; i < len; i++) {\n      if (this.viewData[i].prop._mdf || isFirstFrame) {\n        this.drawPath(this.masksProperties[i], this.viewData[i].prop.v, this.viewData[i]);\n      }\n\n      if (this.viewData[i].op._mdf || isFirstFrame) {\n        this.viewData[i].elem.setAttribute('fill-opacity', this.viewData[i].op.v);\n      }\n\n      if (this.masksProperties[i].mode !== 'n') {\n        if (this.viewData[i].invRect && (this.element.finalTransform.mProp._mdf || isFirstFrame)) {\n          this.viewData[i].invRect.setAttribute('transform', finalMat.getInverseMatrix().to2dCSS());\n        }\n\n        if (this.storedData[i].x && (this.storedData[i].x._mdf || isFirstFrame)) {\n          var feMorph = this.storedData[i].expan;\n\n          if (this.storedData[i].x.v < 0) {\n            if (this.storedData[i].lastOperator !== 'erode') {\n              this.storedData[i].lastOperator = 'erode';\n              this.storedData[i].elem.setAttribute('filter', 'url(' + locationHref + '#' + this.storedData[i].filterId + ')');\n            }\n\n            feMorph.setAttribute('radius', -this.storedData[i].x.v);\n          } else {\n            if (this.storedData[i].lastOperator !== 'dilate') {\n              this.storedData[i].lastOperator = 'dilate';\n              this.storedData[i].elem.setAttribute('filter', null);\n            }\n\n            this.storedData[i].elem.setAttribute('stroke-width', this.storedData[i].x.v * 2);\n          }\n        }\n      }\n    }\n  };\n\n  MaskElement.prototype.getMaskelement = function () {\n    return this.maskElement;\n  };\n\n  MaskElement.prototype.createLayerSolidPath = function () {\n    var path = 'M0,0 ';\n    path += ' h' + this.globalData.compSize.w;\n    path += ' v' + this.globalData.compSize.h;\n    path += ' h-' + this.globalData.compSize.w;\n    path += ' v-' + this.globalData.compSize.h + ' ';\n    return path;\n  };\n\n  MaskElement.prototype.drawPath = function (pathData, pathNodes, viewData) {\n    var pathString = \" M\" + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\n    var i, len;\n    len = pathNodes._length;\n\n    for (i = 1; i < len; i += 1) {\n      //pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[i][0]+','+pathNodes.i[i][1] + \" \"+pathNodes.v[i][0]+','+pathNodes.v[i][1];\n      pathString += \" C\" + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + \" \" + pathNodes.i[i][0] + ',' + pathNodes.i[i][1] + \" \" + pathNodes.v[i][0] + ',' + pathNodes.v[i][1];\n    } //pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[0][0]+','+pathNodes.i[0][1] + \" \"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\n\n\n    if (pathNodes.c && len > 1) {\n      pathString += \" C\" + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + \" \" + pathNodes.i[0][0] + ',' + pathNodes.i[0][1] + \" \" + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\n    } //pathNodes.__renderedString = pathString;\n\n\n    if (viewData.lastPath !== pathString) {\n      var pathShapeValue = '';\n\n      if (viewData.elem) {\n        if (pathNodes.c) {\n          pathShapeValue = pathData.inv ? this.solidPath + pathString : pathString;\n        }\n\n        viewData.elem.setAttribute('d', pathShapeValue);\n      }\n\n      viewData.lastPath = pathString;\n    }\n  };\n\n  MaskElement.prototype.destroy = function () {\n    this.element = null;\n    this.globalData = null;\n    this.maskElement = null;\n    this.data = null;\n    this.masksProperties = null;\n  };\n  /**\r\n   * @file \r\n   * Handles AE's layer parenting property.\r\n   *\r\n   */\n\n\n  function HierarchyElement() {}\n\n  HierarchyElement.prototype = {\n    /**\r\n        * @function \r\n        * Initializes hierarchy properties\r\n        *\r\n        */\n    initHierarchy: function initHierarchy() {\n      //element's parent list\n      this.hierarchy = []; //if element is parent of another layer _isParent will be true\n\n      this._isParent = false;\n      this.checkParenting();\n    },\n\n    /**\r\n        * @function \r\n        * Sets layer's hierarchy.\r\n        * @param {array} hierarch\r\n        * layer's parent list\r\n        *\r\n        */\n    setHierarchy: function setHierarchy(hierarchy) {\n      this.hierarchy = hierarchy;\n    },\n\n    /**\r\n        * @function \r\n        * Sets layer as parent.\r\n        *\r\n        */\n    setAsParent: function setAsParent() {\n      this._isParent = true;\n    },\n\n    /**\r\n        * @function \r\n        * Searches layer's parenting chain\r\n        *\r\n        */\n    checkParenting: function checkParenting() {\n      if (this.data.parent !== undefined) {\n        this.comp.buildElementParenting(this, this.data.parent, []);\n      }\n    }\n  };\n  /**\r\n   * @file \r\n   * Handles element's layer frame update.\r\n   * Checks layer in point and out point\r\n   *\r\n   */\n\n  function FrameElement() {}\n\n  FrameElement.prototype = {\n    /**\r\n     * @function \r\n     * Initializes frame related properties.\r\n     *\r\n     */\n    initFrame: function initFrame() {\n      //set to true when inpoint is rendered\n      this._isFirstFrame = false; //list of animated properties\n\n      this.dynamicProperties = []; // If layer has been modified in current tick this will be true\n\n      this._mdf = false;\n    },\n\n    /**\r\n     * @function \r\n     * Calculates all dynamic values\r\n     *\r\n     * @param {number} num\r\n     * current frame number in Layer's time\r\n     * @param {boolean} isVisible\r\n     * if layers is currently in range\r\n     * \r\n     */\n    prepareProperties: function prepareProperties(num, isVisible) {\n      var i,\n          len = this.dynamicProperties.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (isVisible || this._isParent && this.dynamicProperties[i].propType === 'transform') {\n          this.dynamicProperties[i].getValue();\n\n          if (this.dynamicProperties[i]._mdf) {\n            this.globalData._mdf = true;\n            this._mdf = true;\n          }\n        }\n      }\n    },\n    addDynamicProperty: function addDynamicProperty(prop) {\n      if (this.dynamicProperties.indexOf(prop) === -1) {\n        this.dynamicProperties.push(prop);\n      }\n    }\n  };\n\n  function TransformElement() {}\n\n  TransformElement.prototype = {\n    initTransform: function initTransform() {\n      this.finalTransform = {\n        mProp: this.data.ks ? TransformPropertyFactory.getTransformProperty(this, this.data.ks, this) : {\n          o: 0\n        },\n        _matMdf: false,\n        _opMdf: false,\n        mat: new Matrix()\n      };\n\n      if (this.data.ao) {\n        this.finalTransform.mProp.autoOriented = true;\n      } //TODO: check TYPE 11: Guided elements\n\n\n      if (this.data.ty !== 11) {//this.createElements();\n      }\n    },\n    renderTransform: function renderTransform() {\n      this.finalTransform._opMdf = this.finalTransform.mProp.o._mdf || this._isFirstFrame;\n      this.finalTransform._matMdf = this.finalTransform.mProp._mdf || this._isFirstFrame;\n\n      if (this.hierarchy) {\n        var mat;\n        var finalMat = this.finalTransform.mat;\n        var i = 0,\n            len = this.hierarchy.length; //Checking if any of the transformation matrices in the hierarchy chain has changed.\n\n        if (!this.finalTransform._matMdf) {\n          while (i < len) {\n            if (this.hierarchy[i].finalTransform.mProp._mdf) {\n              this.finalTransform._matMdf = true;\n              break;\n            }\n\n            i += 1;\n          }\n        }\n\n        if (this.finalTransform._matMdf) {\n          mat = this.finalTransform.mProp.v.props;\n          finalMat.cloneFromProps(mat);\n\n          for (i = 0; i < len; i += 1) {\n            mat = this.hierarchy[i].finalTransform.mProp.v.props;\n            finalMat.transform(mat[0], mat[1], mat[2], mat[3], mat[4], mat[5], mat[6], mat[7], mat[8], mat[9], mat[10], mat[11], mat[12], mat[13], mat[14], mat[15]);\n          }\n        }\n      }\n    },\n    globalToLocal: function globalToLocal(pt) {\n      var transforms = [];\n      transforms.push(this.finalTransform);\n      var flag = true;\n      var comp = this.comp;\n\n      while (flag) {\n        if (comp.finalTransform) {\n          if (comp.data.hasMask) {\n            transforms.splice(0, 0, comp.finalTransform);\n          }\n\n          comp = comp.comp;\n        } else {\n          flag = false;\n        }\n      }\n\n      var i,\n          len = transforms.length,\n          ptNew;\n\n      for (i = 0; i < len; i += 1) {\n        ptNew = transforms[i].mat.applyToPointArray(0, 0, 0); //ptNew = transforms[i].mat.applyToPointArray(pt[0],pt[1],pt[2]);\n\n        pt = [pt[0] - ptNew[0], pt[1] - ptNew[1], 0];\n      }\n\n      return pt;\n    },\n    mHelper: new Matrix()\n  };\n\n  function RenderableElement() {}\n\n  RenderableElement.prototype = {\n    initRenderable: function initRenderable() {\n      //layer's visibility related to inpoint and outpoint. Rename isVisible to isInRange\n      this.isInRange = false; //layer's display state\n\n      this.hidden = false; // If layer's transparency equals 0, it can be hidden\n\n      this.isTransparent = false; //list of animated components\n\n      this.renderableComponents = [];\n    },\n    addRenderableComponent: function addRenderableComponent(component) {\n      if (this.renderableComponents.indexOf(component) === -1) {\n        this.renderableComponents.push(component);\n      }\n    },\n    removeRenderableComponent: function removeRenderableComponent(component) {\n      if (this.renderableComponents.indexOf(component) !== -1) {\n        this.renderableComponents.splice(this.renderableComponents.indexOf(component), 1);\n      }\n    },\n    prepareRenderableFrame: function prepareRenderableFrame(num) {\n      this.checkLayerLimits(num);\n    },\n    checkTransparency: function checkTransparency() {\n      if (this.finalTransform.mProp.o.v <= 0) {\n        if (!this.isTransparent && this.globalData.renderConfig.hideOnTransparent) {\n          this.isTransparent = true;\n          this.hide();\n        }\n      } else if (this.isTransparent) {\n        this.isTransparent = false;\n        this.show();\n      }\n    },\n\n    /**\r\n     * @function \r\n     * Initializes frame related properties.\r\n     *\r\n     * @param {number} num\r\n     * current frame number in Layer's time\r\n     * \r\n     */\n    checkLayerLimits: function checkLayerLimits(num) {\n      if (this.data.ip - this.data.st <= num && this.data.op - this.data.st > num) {\n        if (this.isInRange !== true) {\n          this.globalData._mdf = true;\n          this._mdf = true;\n          this.isInRange = true;\n          this.show();\n        }\n      } else {\n        if (this.isInRange !== false) {\n          this.globalData._mdf = true;\n          this.isInRange = false;\n          this.hide();\n        }\n      }\n    },\n    renderRenderable: function renderRenderable() {\n      var i,\n          len = this.renderableComponents.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.renderableComponents[i].renderFrame(this._isFirstFrame);\n      }\n      /*this.maskManager.renderFrame(this.finalTransform.mat);\r\n      this.renderableEffectsManager.renderFrame(this._isFirstFrame);*/\n\n    },\n    sourceRectAtTime: function sourceRectAtTime() {\n      return {\n        top: 0,\n        left: 0,\n        width: 100,\n        height: 100\n      };\n    },\n    getLayerSize: function getLayerSize() {\n      if (this.data.ty === 5) {\n        return {\n          w: this.data.textData.width,\n          h: this.data.textData.height\n        };\n      } else {\n        return {\n          w: this.data.width,\n          h: this.data.height\n        };\n      }\n    }\n  };\n\n  function RenderableDOMElement() {}\n\n  (function () {\n    var _prototype = {\n      initElement: function initElement(data, globalData, comp) {\n        this.initFrame();\n        this.initBaseData(data, globalData, comp);\n        this.initTransform(data, globalData, comp);\n        this.initHierarchy();\n        this.initRenderable();\n        this.initRendererElement();\n        this.createContainerElements();\n        this.createRenderableComponents();\n        this.createContent();\n        this.hide();\n      },\n      hide: function hide() {\n        if (!this.hidden && (!this.isInRange || this.isTransparent)) {\n          var elem = this.baseElement || this.layerElement;\n          elem.style.display = 'none';\n          this.hidden = true;\n        }\n      },\n      show: function show() {\n        if (this.isInRange && !this.isTransparent) {\n          if (!this.data.hd) {\n            var elem = this.baseElement || this.layerElement;\n            elem.style.display = 'block';\n          }\n\n          this.hidden = false;\n          this._isFirstFrame = true;\n        }\n      },\n      renderFrame: function renderFrame() {\n        //If it is exported as hidden (data.hd === true) no need to render\n        //If it is not visible no need to render\n        if (this.data.hd || this.hidden) {\n          return;\n        }\n\n        this.renderTransform();\n        this.renderRenderable();\n        this.renderElement();\n        this.renderInnerContent();\n\n        if (this._isFirstFrame) {\n          this._isFirstFrame = false;\n        }\n      },\n      renderInnerContent: function renderInnerContent() {},\n      prepareFrame: function prepareFrame(num) {\n        this._mdf = false;\n        this.prepareRenderableFrame(num);\n        this.prepareProperties(num, this.isInRange);\n        this.checkTransparency();\n      },\n      destroy: function destroy() {\n        this.innerElem = null;\n        this.destroyBaseElement();\n      }\n    };\n    extendPrototype([RenderableElement, createProxyFunction(_prototype)], RenderableDOMElement);\n  })();\n\n  function ProcessedElement(element, position) {\n    this.elem = element;\n    this.pos = position;\n  }\n\n  function SVGStyleData(data, level) {\n    this.data = data;\n    this.type = data.ty;\n    this.d = '';\n    this.lvl = level;\n    this._mdf = false;\n    this.closed = data.hd === true;\n    this.pElem = createNS('path');\n    this.msElem = null;\n  }\n\n  SVGStyleData.prototype.reset = function () {\n    this.d = '';\n    this._mdf = false;\n  };\n\n  function SVGShapeData(transformers, level, shape) {\n    this.caches = [];\n    this.styles = [];\n    this.transformers = transformers;\n    this.lStr = '';\n    this.sh = shape;\n    this.lvl = level; //TODO find if there are some cases where _isAnimated can be false. \n    // For now, since shapes add up with other shapes. They have to be calculated every time.\n    // One way of finding out is checking if all styles associated to this shape depend only of this shape\n\n    this._isAnimated = !!shape.k; // TODO: commenting this for now since all shapes are animated\n\n    var i = 0,\n        len = transformers.length;\n\n    while (i < len) {\n      if (transformers[i].mProps.dynamicProperties.length) {\n        this._isAnimated = true;\n        break;\n      }\n\n      i += 1;\n    }\n  }\n\n  SVGShapeData.prototype.setAsAnimated = function () {\n    this._isAnimated = true;\n  };\n\n  function SVGTransformData(mProps, op, container) {\n    this.transform = {\n      mProps: mProps,\n      op: op,\n      container: container\n    };\n    this.elements = [];\n    this._isAnimated = this.transform.mProps.dynamicProperties.length || this.transform.op.effectsSequence.length;\n  }\n\n  function SVGStrokeStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\n    this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\n    this.d = new DashProperty(elem, data.d || {}, 'svg', this);\n    this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\n    this.style = styleOb;\n    this._isAnimated = !!this._isAnimated;\n  }\n\n  extendPrototype([DynamicPropertyContainer], SVGStrokeStyleData);\n\n  function SVGFillStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\n    this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\n    this.style = styleOb;\n  }\n\n  extendPrototype([DynamicPropertyContainer], SVGFillStyleData);\n\n  function SVGGradientFillStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.initGradientData(elem, data, styleOb);\n  }\n\n  SVGGradientFillStyleData.prototype.initGradientData = function (elem, data, styleOb) {\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\n    this.s = PropertyFactory.getProp(elem, data.s, 1, null, this);\n    this.e = PropertyFactory.getProp(elem, data.e, 1, null, this);\n    this.h = PropertyFactory.getProp(elem, data.h || {\n      k: 0\n    }, 0, 0.01, this);\n    this.a = PropertyFactory.getProp(elem, data.a || {\n      k: 0\n    }, 0, degToRads, this);\n    this.g = new GradientProperty(elem, data.g, this);\n    this.style = styleOb;\n    this.stops = [];\n    this.setGradientData(styleOb.pElem, data);\n    this.setGradientOpacity(data, styleOb);\n    this._isAnimated = !!this._isAnimated;\n  };\n\n  SVGGradientFillStyleData.prototype.setGradientData = function (pathElement, data) {\n    var gradientId = createElementID();\n    var gfill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\n    gfill.setAttribute('id', gradientId);\n    gfill.setAttribute('spreadMethod', 'pad');\n    gfill.setAttribute('gradientUnits', 'userSpaceOnUse');\n    var stops = [];\n    var stop, j, jLen;\n    jLen = data.g.p * 4;\n\n    for (j = 0; j < jLen; j += 4) {\n      stop = createNS('stop');\n      gfill.appendChild(stop);\n      stops.push(stop);\n    }\n\n    pathElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + locationHref + '#' + gradientId + ')');\n    this.gf = gfill;\n    this.cst = stops;\n  };\n\n  SVGGradientFillStyleData.prototype.setGradientOpacity = function (data, styleOb) {\n    if (this.g._hasOpacity && !this.g._collapsable) {\n      var stop, j, jLen;\n      var mask = createNS(\"mask\");\n      var maskElement = createNS('path');\n      mask.appendChild(maskElement);\n      var opacityId = createElementID();\n      var maskId = createElementID();\n      mask.setAttribute('id', maskId);\n      var opFill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\n      opFill.setAttribute('id', opacityId);\n      opFill.setAttribute('spreadMethod', 'pad');\n      opFill.setAttribute('gradientUnits', 'userSpaceOnUse');\n      jLen = data.g.k.k[0].s ? data.g.k.k[0].s.length : data.g.k.k.length;\n      var stops = this.stops;\n\n      for (j = data.g.p * 4; j < jLen; j += 2) {\n        stop = createNS('stop');\n        stop.setAttribute('stop-color', 'rgb(255,255,255)');\n        opFill.appendChild(stop);\n        stops.push(stop);\n      }\n\n      maskElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + locationHref + '#' + opacityId + ')');\n      this.of = opFill;\n      this.ms = mask;\n      this.ost = stops;\n      this.maskId = maskId;\n      styleOb.msElem = maskElement;\n    }\n  };\n\n  extendPrototype([DynamicPropertyContainer], SVGGradientFillStyleData);\n\n  function SVGGradientStrokeStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\n    this.d = new DashProperty(elem, data.d || {}, 'svg', this);\n    this.initGradientData(elem, data, styleOb);\n    this._isAnimated = !!this._isAnimated;\n  }\n\n  extendPrototype([SVGGradientFillStyleData, DynamicPropertyContainer], SVGGradientStrokeStyleData);\n\n  function ShapeGroupData() {\n    this.it = [];\n    this.prevViewData = [];\n    this.gr = createNS('g');\n  }\n\n  var SVGElementsRenderer = function () {\n    var _identityMatrix = new Matrix();\n\n    var _matrixHelper = new Matrix();\n\n    var ob = {\n      createRenderFunction: createRenderFunction\n    };\n\n    function createRenderFunction(data) {\n      var ty = data.ty;\n\n      switch (data.ty) {\n        case 'fl':\n          return renderFill;\n\n        case 'gf':\n          return renderGradient;\n\n        case 'gs':\n          return renderGradientStroke;\n\n        case 'st':\n          return renderStroke;\n\n        case 'sh':\n        case 'el':\n        case 'rc':\n        case 'sr':\n          return renderPath;\n\n        case 'tr':\n          return renderContentTransform;\n      }\n    }\n\n    function renderContentTransform(styleData, itemData, isFirstFrame) {\n      if (isFirstFrame || itemData.transform.op._mdf) {\n        itemData.transform.container.setAttribute('opacity', itemData.transform.op.v);\n      }\n\n      if (isFirstFrame || itemData.transform.mProps._mdf) {\n        itemData.transform.container.setAttribute('transform', itemData.transform.mProps.v.to2dCSS());\n      }\n    }\n\n    function renderPath(styleData, itemData, isFirstFrame) {\n      var j,\n          jLen,\n          pathStringTransformed,\n          redraw,\n          pathNodes,\n          l,\n          lLen = itemData.styles.length;\n      var lvl = itemData.lvl;\n      var paths, mat, props, iterations, k;\n\n      for (l = 0; l < lLen; l += 1) {\n        redraw = itemData.sh._mdf || isFirstFrame;\n\n        if (itemData.styles[l].lvl < lvl) {\n          mat = _matrixHelper.reset();\n          iterations = lvl - itemData.styles[l].lvl;\n          k = itemData.transformers.length - 1;\n\n          while (!redraw && iterations > 0) {\n            redraw = itemData.transformers[k].mProps._mdf || redraw;\n            iterations--;\n            k--;\n          }\n\n          if (redraw) {\n            iterations = lvl - itemData.styles[l].lvl;\n            k = itemData.transformers.length - 1;\n\n            while (iterations > 0) {\n              props = itemData.transformers[k].mProps.v.props;\n              mat.transform(props[0], props[1], props[2], props[3], props[4], props[5], props[6], props[7], props[8], props[9], props[10], props[11], props[12], props[13], props[14], props[15]);\n              iterations--;\n              k--;\n            }\n          }\n        } else {\n          mat = _identityMatrix;\n        }\n\n        paths = itemData.sh.paths;\n        jLen = paths._length;\n\n        if (redraw) {\n          pathStringTransformed = '';\n\n          for (j = 0; j < jLen; j += 1) {\n            pathNodes = paths.shapes[j];\n\n            if (pathNodes && pathNodes._length) {\n              pathStringTransformed += buildShapeString(pathNodes, pathNodes._length, pathNodes.c, mat);\n            }\n          }\n\n          itemData.caches[l] = pathStringTransformed;\n        } else {\n          pathStringTransformed = itemData.caches[l];\n        }\n\n        itemData.styles[l].d += styleData.hd === true ? '' : pathStringTransformed;\n        itemData.styles[l]._mdf = redraw || itemData.styles[l]._mdf;\n      }\n    }\n\n    function renderFill(styleData, itemData, isFirstFrame) {\n      var styleElem = itemData.style;\n\n      if (itemData.c._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('fill', 'rgb(' + bm_floor(itemData.c.v[0]) + ',' + bm_floor(itemData.c.v[1]) + ',' + bm_floor(itemData.c.v[2]) + ')');\n      }\n\n      if (itemData.o._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('fill-opacity', itemData.o.v);\n      }\n    }\n\n    ;\n\n    function renderGradientStroke(styleData, itemData, isFirstFrame) {\n      renderGradient(styleData, itemData, isFirstFrame);\n      renderStroke(styleData, itemData, isFirstFrame);\n    }\n\n    function renderGradient(styleData, itemData, isFirstFrame) {\n      var gfill = itemData.gf;\n      var hasOpacity = itemData.g._hasOpacity;\n      var pt1 = itemData.s.v,\n          pt2 = itemData.e.v;\n\n      if (itemData.o._mdf || isFirstFrame) {\n        var attr = styleData.ty === 'gf' ? 'fill-opacity' : 'stroke-opacity';\n        itemData.style.pElem.setAttribute(attr, itemData.o.v);\n      }\n\n      if (itemData.s._mdf || isFirstFrame) {\n        var attr1 = styleData.t === 1 ? 'x1' : 'cx';\n        var attr2 = attr1 === 'x1' ? 'y1' : 'cy';\n        gfill.setAttribute(attr1, pt1[0]);\n        gfill.setAttribute(attr2, pt1[1]);\n\n        if (hasOpacity && !itemData.g._collapsable) {\n          itemData.of.setAttribute(attr1, pt1[0]);\n          itemData.of.setAttribute(attr2, pt1[1]);\n        }\n      }\n\n      var stops, i, len, stop;\n\n      if (itemData.g._cmdf || isFirstFrame) {\n        stops = itemData.cst;\n        var cValues = itemData.g.c;\n        len = stops.length;\n\n        for (i = 0; i < len; i += 1) {\n          stop = stops[i];\n          stop.setAttribute('offset', cValues[i * 4] + '%');\n          stop.setAttribute('stop-color', 'rgb(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ')');\n        }\n      }\n\n      if (hasOpacity && (itemData.g._omdf || isFirstFrame)) {\n        var oValues = itemData.g.o;\n\n        if (itemData.g._collapsable) {\n          stops = itemData.cst;\n        } else {\n          stops = itemData.ost;\n        }\n\n        len = stops.length;\n\n        for (i = 0; i < len; i += 1) {\n          stop = stops[i];\n\n          if (!itemData.g._collapsable) {\n            stop.setAttribute('offset', oValues[i * 2] + '%');\n          }\n\n          stop.setAttribute('stop-opacity', oValues[i * 2 + 1]);\n        }\n      }\n\n      if (styleData.t === 1) {\n        if (itemData.e._mdf || isFirstFrame) {\n          gfill.setAttribute('x2', pt2[0]);\n          gfill.setAttribute('y2', pt2[1]);\n\n          if (hasOpacity && !itemData.g._collapsable) {\n            itemData.of.setAttribute('x2', pt2[0]);\n            itemData.of.setAttribute('y2', pt2[1]);\n          }\n        }\n      } else {\n        var rad;\n\n        if (itemData.s._mdf || itemData.e._mdf || isFirstFrame) {\n          rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n          gfill.setAttribute('r', rad);\n\n          if (hasOpacity && !itemData.g._collapsable) {\n            itemData.of.setAttribute('r', rad);\n          }\n        }\n\n        if (itemData.e._mdf || itemData.h._mdf || itemData.a._mdf || isFirstFrame) {\n          if (!rad) {\n            rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n          }\n\n          var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\n          var percent = itemData.h.v >= 1 ? 0.99 : itemData.h.v <= -1 ? -0.99 : itemData.h.v;\n          var dist = rad * percent;\n          var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\n          var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\n          gfill.setAttribute('fx', x);\n          gfill.setAttribute('fy', y);\n\n          if (hasOpacity && !itemData.g._collapsable) {\n            itemData.of.setAttribute('fx', x);\n            itemData.of.setAttribute('fy', y);\n          }\n        } //gfill.setAttribute('fy','200');\n\n      }\n    }\n\n    ;\n\n    function renderStroke(styleData, itemData, isFirstFrame) {\n      var styleElem = itemData.style;\n      var d = itemData.d;\n\n      if (d && (d._mdf || isFirstFrame) && d.dashStr) {\n        styleElem.pElem.setAttribute('stroke-dasharray', d.dashStr);\n        styleElem.pElem.setAttribute('stroke-dashoffset', d.dashoffset[0]);\n      }\n\n      if (itemData.c && (itemData.c._mdf || isFirstFrame)) {\n        styleElem.pElem.setAttribute('stroke', 'rgb(' + bm_floor(itemData.c.v[0]) + ',' + bm_floor(itemData.c.v[1]) + ',' + bm_floor(itemData.c.v[2]) + ')');\n      }\n\n      if (itemData.o._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('stroke-opacity', itemData.o.v);\n      }\n\n      if (itemData.w._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('stroke-width', itemData.w.v);\n\n        if (styleElem.msElem) {\n          styleElem.msElem.setAttribute('stroke-width', itemData.w.v);\n        }\n      }\n    }\n\n    ;\n    return ob;\n  }();\n\n  function ShapeTransformManager() {\n    this.sequences = {};\n    this.sequenceList = [];\n    this.transform_key_count = 0;\n  }\n\n  ShapeTransformManager.prototype = {\n    addTransformSequence: function addTransformSequence(transforms) {\n      var i,\n          len = transforms.length;\n      var key = '_';\n\n      for (i = 0; i < len; i += 1) {\n        key += transforms[i].transform.key + '_';\n      }\n\n      var sequence = this.sequences[key];\n\n      if (!sequence) {\n        sequence = {\n          transforms: [].concat(transforms),\n          finalTransform: new Matrix(),\n          _mdf: false\n        };\n        this.sequences[key] = sequence;\n        this.sequenceList.push(sequence);\n      }\n\n      return sequence;\n    },\n    processSequence: function processSequence(sequence, isFirstFrame) {\n      var i = 0,\n          len = sequence.transforms.length,\n          _mdf = isFirstFrame;\n\n      while (i < len && !isFirstFrame) {\n        if (sequence.transforms[i].transform.mProps._mdf) {\n          _mdf = true;\n          break;\n        }\n\n        i += 1;\n      }\n\n      if (_mdf) {\n        var props;\n        sequence.finalTransform.reset();\n\n        for (i = len - 1; i >= 0; i -= 1) {\n          props = sequence.transforms[i].transform.mProps.v.props;\n          sequence.finalTransform.transform(props[0], props[1], props[2], props[3], props[4], props[5], props[6], props[7], props[8], props[9], props[10], props[11], props[12], props[13], props[14], props[15]);\n        }\n      }\n\n      sequence._mdf = _mdf;\n    },\n    processSequences: function processSequences(isFirstFrame) {\n      var i,\n          len = this.sequenceList.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.processSequence(this.sequenceList[i], isFirstFrame);\n      }\n    },\n    getNewKey: function getNewKey() {\n      return '_' + this.transform_key_count++;\n    }\n  };\n\n  function CVShapeData(element, data, styles, transformsManager) {\n    this.styledShapes = [];\n    this.tr = [0, 0, 0, 0, 0, 0];\n    var ty = 4;\n\n    if (data.ty == 'rc') {\n      ty = 5;\n    } else if (data.ty == 'el') {\n      ty = 6;\n    } else if (data.ty == 'sr') {\n      ty = 7;\n    }\n\n    this.sh = ShapePropertyFactory.getShapeProp(element, data, ty, element);\n    var i,\n        len = styles.length,\n        styledShape;\n\n    for (i = 0; i < len; i += 1) {\n      if (!styles[i].closed) {\n        styledShape = {\n          transforms: transformsManager.addTransformSequence(styles[i].transforms),\n          trNodes: []\n        };\n        this.styledShapes.push(styledShape);\n        styles[i].elements.push(styledShape);\n      }\n    }\n  }\n\n  CVShapeData.prototype.setAsAnimated = SVGShapeData.prototype.setAsAnimated;\n\n  function BaseElement() {}\n\n  BaseElement.prototype = {\n    checkMasks: function checkMasks() {\n      if (!this.data.hasMask) {\n        return false;\n      }\n\n      var i = 0,\n          len = this.data.masksProperties.length;\n\n      while (i < len) {\n        if (this.data.masksProperties[i].mode !== 'n' && this.data.masksProperties[i].cl !== false) {\n          return true;\n        }\n\n        i += 1;\n      }\n\n      return false;\n    },\n    initExpressions: function initExpressions() {\n      this.layerInterface = LayerExpressionInterface(this);\n\n      if (this.data.hasMask && this.maskManager) {\n        this.layerInterface.registerMaskInterface(this.maskManager);\n      }\n\n      var effectsInterface = EffectsExpressionInterface.createEffectsInterface(this, this.layerInterface);\n      this.layerInterface.registerEffectsInterface(effectsInterface);\n\n      if (this.data.ty === 0 || this.data.xt) {\n        this.compInterface = CompExpressionInterface(this);\n      } else if (this.data.ty === 4) {\n        this.layerInterface.shapeInterface = ShapeExpressionInterface(this.shapesData, this.itemsData, this.layerInterface);\n        this.layerInterface.content = this.layerInterface.shapeInterface;\n      } else if (this.data.ty === 5) {\n        this.layerInterface.textInterface = TextExpressionInterface(this);\n        this.layerInterface.text = this.layerInterface.textInterface;\n      }\n    },\n    setBlendMode: function setBlendMode() {\n      var blendModeValue = getBlendMode(this.data.bm);\n      var elem = this.baseElement || this.layerElement;\n      elem.style['mix-blend-mode'] = blendModeValue;\n    },\n    initBaseData: function initBaseData(data, globalData, comp) {\n      this.globalData = globalData;\n      this.comp = comp;\n      this.data = data;\n      this.layerId = createElementID(); //Stretch factor for old animations missing this property.\n\n      if (!this.data.sr) {\n        this.data.sr = 1;\n      } // effects manager\n\n\n      this.effectsManager = new EffectsManager(this.data, this, this.dynamicProperties);\n    },\n    getType: function getType() {\n      return this.type;\n    },\n    sourceRectAtTime: function sourceRectAtTime() {}\n  };\n\n  function NullElement(data, globalData, comp) {\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.initFrame();\n    this.initTransform(data, globalData, comp);\n    this.initHierarchy();\n  }\n\n  NullElement.prototype.prepareFrame = function (num) {\n    this.prepareProperties(num, true);\n  };\n\n  NullElement.prototype.renderFrame = function () {};\n\n  NullElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  NullElement.prototype.destroy = function () {};\n\n  NullElement.prototype.sourceRectAtTime = function () {};\n\n  NullElement.prototype.hide = function () {};\n\n  extendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement], NullElement);\n\n  function SVGBaseElement() {}\n\n  SVGBaseElement.prototype = {\n    initRendererElement: function initRendererElement() {\n      this.layerElement = createNS('g');\n    },\n    createContainerElements: function createContainerElements() {\n      this.matteElement = createNS('g');\n      this.transformedElement = this.layerElement;\n      this.maskedElement = this.layerElement;\n      this._sizeChanged = false;\n      var layerElementParent = null; //If this layer acts as a mask for the following layer\n\n      var filId, fil, gg;\n\n      if (this.data.td) {\n        if (this.data.td == 3 || this.data.td == 1) {\n          var masker = createNS('mask');\n          masker.setAttribute('id', this.layerId);\n          masker.setAttribute('mask-type', this.data.td == 3 ? 'luminance' : 'alpha');\n          masker.appendChild(this.layerElement);\n          layerElementParent = masker;\n          this.globalData.defs.appendChild(masker); // This is only for IE and Edge when mask if of type alpha\n\n          if (!featureSupport.maskType && this.data.td == 1) {\n            masker.setAttribute('mask-type', 'luminance');\n            filId = createElementID();\n            fil = filtersFactory.createFilter(filId);\n            this.globalData.defs.appendChild(fil);\n            fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\n            gg = createNS('g');\n            gg.appendChild(this.layerElement);\n            layerElementParent = gg;\n            masker.appendChild(gg);\n            gg.setAttribute('filter', 'url(' + locationHref + '#' + filId + ')');\n          }\n        } else if (this.data.td == 2) {\n          var maskGroup = createNS('mask');\n          maskGroup.setAttribute('id', this.layerId);\n          maskGroup.setAttribute('mask-type', 'alpha');\n          var maskGrouper = createNS('g');\n          maskGroup.appendChild(maskGrouper);\n          filId = createElementID();\n          fil = filtersFactory.createFilter(filId); ////\n          // This solution doesn't work on Android when meta tag with viewport attribute is set\n\n          /*var feColorMatrix = createNS('feColorMatrix');\r\n          feColorMatrix.setAttribute('type', 'matrix');\r\n          feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n          feColorMatrix.setAttribute('values','1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 -1 1');\r\n          fil.appendChild(feColorMatrix);*/\n          ////\n\n          var feCTr = createNS('feComponentTransfer');\n          feCTr.setAttribute('in', 'SourceGraphic');\n          fil.appendChild(feCTr);\n          var feFunc = createNS('feFuncA');\n          feFunc.setAttribute('type', 'table');\n          feFunc.setAttribute('tableValues', '1.0 0.0');\n          feCTr.appendChild(feFunc); ////\n\n          this.globalData.defs.appendChild(fil);\n          var alphaRect = createNS('rect');\n          alphaRect.setAttribute('width', this.comp.data.w);\n          alphaRect.setAttribute('height', this.comp.data.h);\n          alphaRect.setAttribute('x', '0');\n          alphaRect.setAttribute('y', '0');\n          alphaRect.setAttribute('fill', '#ffffff');\n          alphaRect.setAttribute('opacity', '0');\n          maskGrouper.setAttribute('filter', 'url(' + locationHref + '#' + filId + ')');\n          maskGrouper.appendChild(alphaRect);\n          maskGrouper.appendChild(this.layerElement);\n          layerElementParent = maskGrouper;\n\n          if (!featureSupport.maskType) {\n            maskGroup.setAttribute('mask-type', 'luminance');\n            fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\n            gg = createNS('g');\n            maskGrouper.appendChild(alphaRect);\n            gg.appendChild(this.layerElement);\n            layerElementParent = gg;\n            maskGrouper.appendChild(gg);\n          }\n\n          this.globalData.defs.appendChild(maskGroup);\n        }\n      } else if (this.data.tt) {\n        this.matteElement.appendChild(this.layerElement);\n        layerElementParent = this.matteElement;\n        this.baseElement = this.matteElement;\n      } else {\n        this.baseElement = this.layerElement;\n      }\n\n      if (this.data.ln) {\n        this.layerElement.setAttribute('id', this.data.ln);\n      }\n\n      if (this.data.cl) {\n        this.layerElement.setAttribute('class', this.data.cl);\n      } //Clipping compositions to hide content that exceeds boundaries. If collapsed transformations is on, component should not be clipped\n\n\n      if (this.data.ty === 0 && !this.data.hd) {\n        var cp = createNS('clipPath');\n        var pt = createNS('path');\n        pt.setAttribute('d', 'M0,0 L' + this.data.w + ',0' + ' L' + this.data.w + ',' + this.data.h + ' L0,' + this.data.h + 'z');\n        var clipId = createElementID();\n        cp.setAttribute('id', clipId);\n        cp.appendChild(pt);\n        this.globalData.defs.appendChild(cp);\n\n        if (this.checkMasks()) {\n          var cpGroup = createNS('g');\n          cpGroup.setAttribute('clip-path', 'url(' + locationHref + '#' + clipId + ')');\n          cpGroup.appendChild(this.layerElement);\n          this.transformedElement = cpGroup;\n\n          if (layerElementParent) {\n            layerElementParent.appendChild(this.transformedElement);\n          } else {\n            this.baseElement = this.transformedElement;\n          }\n        } else {\n          this.layerElement.setAttribute('clip-path', 'url(' + locationHref + '#' + clipId + ')');\n        }\n      }\n\n      if (this.data.bm !== 0) {\n        this.setBlendMode();\n      }\n    },\n    renderElement: function renderElement() {\n      if (this.finalTransform._matMdf) {\n        this.transformedElement.setAttribute('transform', this.finalTransform.mat.to2dCSS());\n      }\n\n      if (this.finalTransform._opMdf) {\n        this.transformedElement.setAttribute('opacity', this.finalTransform.mProp.o.v);\n      }\n    },\n    destroyBaseElement: function destroyBaseElement() {\n      this.layerElement = null;\n      this.matteElement = null;\n      this.maskManager.destroy();\n    },\n    getBaseElement: function getBaseElement() {\n      if (this.data.hd) {\n        return null;\n      }\n\n      return this.baseElement;\n    },\n    createRenderableComponents: function createRenderableComponents() {\n      this.maskManager = new MaskElement(this.data, this, this.globalData);\n      this.renderableEffectsManager = new SVGEffects(this);\n    },\n    setMatte: function setMatte(id) {\n      if (!this.matteElement) {\n        return;\n      }\n\n      this.matteElement.setAttribute(\"mask\", \"url(\" + locationHref + \"#\" + id + \")\");\n    }\n  };\n\n  function IShapeElement() {}\n\n  IShapeElement.prototype = {\n    addShapeToModifiers: function addShapeToModifiers(data) {\n      var i,\n          len = this.shapeModifiers.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.shapeModifiers[i].addShape(data);\n      }\n    },\n    isShapeInAnimatedModifiers: function isShapeInAnimatedModifiers(data) {\n      var i = 0,\n          len = this.shapeModifiers.length;\n\n      while (i < len) {\n        if (this.shapeModifiers[i].isAnimatedWithShape(data)) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n    renderModifiers: function renderModifiers() {\n      if (!this.shapeModifiers.length) {\n        return;\n      }\n\n      var i,\n          len = this.shapes.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.shapes[i].sh.reset();\n      }\n\n      len = this.shapeModifiers.length;\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        this.shapeModifiers[i].processShapes(this._isFirstFrame);\n      }\n    },\n    lcEnum: {\n      '1': 'butt',\n      '2': 'round',\n      '3': 'square'\n    },\n    ljEnum: {\n      '1': 'miter',\n      '2': 'round',\n      '3': 'bevel'\n    },\n    searchProcessedElement: function searchProcessedElement(elem) {\n      var elements = this.processedElements;\n      var i = 0,\n          len = elements.length;\n\n      while (i < len) {\n        if (elements[i].elem === elem) {\n          return elements[i].pos;\n        }\n\n        i += 1;\n      }\n\n      return 0;\n    },\n    addProcessedElement: function addProcessedElement(elem, pos) {\n      var elements = this.processedElements;\n      var i = elements.length;\n\n      while (i) {\n        i -= 1;\n\n        if (elements[i].elem === elem) {\n          elements[i].pos = pos;\n          return;\n        }\n      }\n\n      elements.push(new ProcessedElement(elem, pos));\n    },\n    prepareFrame: function prepareFrame(num) {\n      this.prepareRenderableFrame(num);\n      this.prepareProperties(num, this.isInRange);\n    }\n  };\n\n  function ITextElement() {}\n\n  ITextElement.prototype.initElement = function (data, globalData, comp) {\n    this.lettersChangedFlag = true;\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.textProperty = new TextProperty(this, data.t, this.dynamicProperties);\n    this.textAnimator = new TextAnimatorProperty(data.t, this.renderType, this);\n    this.initTransform(data, globalData, comp);\n    this.initHierarchy();\n    this.initRenderable();\n    this.initRendererElement();\n    this.createContainerElements();\n    this.createRenderableComponents();\n    this.createContent();\n    this.hide();\n    this.textAnimator.searchProperties(this.dynamicProperties);\n  };\n\n  ITextElement.prototype.prepareFrame = function (num) {\n    this._mdf = false;\n    this.prepareRenderableFrame(num);\n    this.prepareProperties(num, this.isInRange);\n\n    if (this.textProperty._mdf || this.textProperty._isFirstFrame) {\n      this.buildNewText();\n      this.textProperty._isFirstFrame = false;\n      this.textProperty._mdf = false;\n    }\n  };\n\n  ITextElement.prototype.createPathShape = function (matrixHelper, shapes) {\n    var j,\n        jLen = shapes.length;\n    var k, kLen, pathNodes;\n    var shapeStr = '';\n\n    for (j = 0; j < jLen; j += 1) {\n      pathNodes = shapes[j].ks.k;\n      shapeStr += buildShapeString(pathNodes, pathNodes.i.length, true, matrixHelper);\n    }\n\n    return shapeStr;\n  };\n\n  ITextElement.prototype.updateDocumentData = function (newData, index) {\n    this.textProperty.updateDocumentData(newData, index);\n  };\n\n  ITextElement.prototype.canResizeFont = function (_canResize) {\n    this.textProperty.canResizeFont(_canResize);\n  };\n\n  ITextElement.prototype.setMinimumFontSize = function (_fontSize) {\n    this.textProperty.setMinimumFontSize(_fontSize);\n  };\n\n  ITextElement.prototype.applyTextPropertiesToMatrix = function (documentData, matrixHelper, lineNumber, xPos, yPos) {\n    if (documentData.ps) {\n      matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\n    }\n\n    matrixHelper.translate(0, -documentData.ls, 0);\n\n    switch (documentData.j) {\n      case 1:\n        matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]), 0, 0);\n        break;\n\n      case 2:\n        matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]) / 2, 0, 0);\n        break;\n    }\n\n    matrixHelper.translate(xPos, yPos, 0);\n  };\n\n  ITextElement.prototype.buildColor = function (colorData) {\n    return 'rgb(' + Math.round(colorData[0] * 255) + ',' + Math.round(colorData[1] * 255) + ',' + Math.round(colorData[2] * 255) + ')';\n  };\n\n  ITextElement.prototype.emptyProp = new LetterProps();\n\n  ITextElement.prototype.destroy = function () {};\n\n  function ICompElement() {}\n\n  extendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement], ICompElement);\n\n  ICompElement.prototype.initElement = function (data, globalData, comp) {\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.initTransform(data, globalData, comp);\n    this.initRenderable();\n    this.initHierarchy();\n    this.initRendererElement();\n    this.createContainerElements();\n    this.createRenderableComponents();\n\n    if (this.data.xt || !globalData.progressiveLoad) {\n      this.buildAllItems();\n    }\n\n    this.hide();\n  };\n  /*ICompElement.prototype.hide = function(){\r\n      if(!this.hidden){\r\n          this.hideElement();\r\n          var i,len = this.elements.length;\r\n          for( i = 0; i < len; i+=1 ){\r\n              if(this.elements[i]){\r\n                  this.elements[i].hide();\r\n              }\r\n          }\r\n      }\r\n  };*/\n\n\n  ICompElement.prototype.prepareFrame = function (num) {\n    this._mdf = false;\n    this.prepareRenderableFrame(num);\n    this.prepareProperties(num, this.isInRange);\n\n    if (!this.isInRange && !this.data.xt) {\n      return;\n    }\n\n    if (!this.tm._placeholder) {\n      var timeRemapped = this.tm.v;\n\n      if (timeRemapped === this.data.op) {\n        timeRemapped = this.data.op - 1;\n      }\n\n      this.renderedFrame = timeRemapped;\n    } else {\n      this.renderedFrame = num / this.data.sr;\n    }\n\n    var i,\n        len = this.elements.length;\n\n    if (!this.completeLayers) {\n      this.checkLayers(this.renderedFrame);\n    } //This iteration needs to be backwards because of how expressions connect between each other\n\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].prepareFrame(this.renderedFrame - this.layers[i].st);\n\n        if (this.elements[i]._mdf) {\n          this._mdf = true;\n        }\n      }\n    }\n  };\n\n  ICompElement.prototype.renderInnerContent = function () {\n    var i,\n        len = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].renderFrame();\n      }\n    }\n  };\n\n  ICompElement.prototype.setElements = function (elems) {\n    this.elements = elems;\n  };\n\n  ICompElement.prototype.getElements = function () {\n    return this.elements;\n  };\n\n  ICompElement.prototype.destroyElements = function () {\n    var i,\n        len = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.elements[i]) {\n        this.elements[i].destroy();\n      }\n    }\n  };\n\n  ICompElement.prototype.destroy = function () {\n    this.destroyElements();\n    this.destroyBaseElement();\n  };\n\n  function IImageElement(data, globalData, comp) {\n    this.assetData = globalData.getAssetData(data.refId);\n    this.initElement(data, globalData, comp);\n    this.sourceRect = {\n      top: 0,\n      left: 0,\n      width: this.assetData.w,\n      height: this.assetData.h\n    };\n  }\n\n  extendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], IImageElement);\n\n  IImageElement.prototype.createContent = function () {\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\n    this.innerElem = createNS('image');\n    this.innerElem.setAttribute('width', this.assetData.w + \"px\");\n    this.innerElem.setAttribute('height', this.assetData.h + \"px\");\n    this.innerElem.setAttribute('preserveAspectRatio', this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio);\n    this.innerElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\n    this.layerElement.appendChild(this.innerElem);\n  };\n\n  IImageElement.prototype.sourceRectAtTime = function () {\n    return this.sourceRect;\n  };\n\n  function ISolidElement(data, globalData, comp) {\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([IImageElement], ISolidElement);\n\n  ISolidElement.prototype.createContent = function () {\n    var rect = createNS('rect'); ////rect.style.width = this.data.sw;\n    ////rect.style.height = this.data.sh;\n    ////rect.style.fill = this.data.sc;\n\n    rect.setAttribute('width', this.data.sw);\n    rect.setAttribute('height', this.data.sh);\n    rect.setAttribute('fill', this.data.sc);\n    this.layerElement.appendChild(rect);\n  };\n\n  function AudioElement(data, globalData, comp) {\n    this.initFrame();\n    this.initRenderable();\n    this.assetData = globalData.getAssetData(data.refId);\n    this.initBaseData(data, globalData, comp);\n    this._isPlaying = false;\n    this._canPlay = false;\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\n    this.audio = this.globalData.audioController.createAudio(assetPath);\n    this._currentTime = 0;\n    this.globalData.audioController.addAudio(this);\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n  }\n\n  AudioElement.prototype.prepareFrame = function (num) {\n    this.prepareRenderableFrame(num, true);\n    this.prepareProperties(num, true);\n\n    if (!this.tm._placeholder) {\n      var timeRemapped = this.tm.v;\n      this._currentTime = timeRemapped;\n    } else {\n      this._currentTime = num / this.data.sr;\n    }\n  };\n\n  extendPrototype([RenderableElement, BaseElement, FrameElement], AudioElement);\n\n  AudioElement.prototype.renderFrame = function () {\n    if (this.isInRange && this._canPlay) {\n      if (!this._isPlaying) {\n        this.audio.play();\n        this.audio.seek(this._currentTime / this.globalData.frameRate);\n        this._isPlaying = true;\n      } else if (!this.audio.playing() || Math.abs(this._currentTime / this.globalData.frameRate - this.audio.seek()) > 0.1) {\n        this.audio.seek(this._currentTime / this.globalData.frameRate);\n      }\n    }\n  };\n\n  AudioElement.prototype.show = function () {// this.audio.play()\n  };\n\n  AudioElement.prototype.hide = function () {\n    this.audio.pause();\n    this._isPlaying = false;\n  };\n\n  AudioElement.prototype.pause = function () {\n    this.audio.pause();\n    this._isPlaying = false;\n    this._canPlay = false;\n  };\n\n  AudioElement.prototype.resume = function () {\n    this._canPlay = true;\n  };\n\n  AudioElement.prototype.setRate = function (rateValue) {\n    this.audio.rate(rateValue);\n  };\n\n  AudioElement.prototype.volume = function (volumeValue) {\n    this.audio.volume(volumeValue);\n  };\n\n  AudioElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  AudioElement.prototype.destroy = function () {};\n\n  AudioElement.prototype.sourceRectAtTime = function () {};\n\n  AudioElement.prototype.initExpressions = function () {};\n\n  function SVGCompElement(data, globalData, comp) {\n    this.layers = data.layers;\n    this.supports3d = true;\n    this.completeLayers = false;\n    this.pendingElements = [];\n    this.elements = this.layers ? createSizedArray(this.layers.length) : []; //this.layerElement = createNS('g');\n\n    this.initElement(data, globalData, comp);\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n  }\n\n  extendPrototype([SVGRenderer, ICompElement, SVGBaseElement], SVGCompElement);\n\n  function SVGTextElement(data, globalData, comp) {\n    this.textSpans = [];\n    this.renderType = 'svg';\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], SVGTextElement);\n\n  SVGTextElement.prototype.createContent = function () {\n    if (this.data.singleShape && !this.globalData.fontManager.chars) {\n      this.textContainer = createNS('text');\n    }\n  };\n\n  SVGTextElement.prototype.buildTextContents = function (textArray) {\n    var i = 0,\n        len = textArray.length;\n    var textContents = [],\n        currentTextContent = '';\n\n    while (i < len) {\n      if (textArray[i] === String.fromCharCode(13) || textArray[i] === String.fromCharCode(3)) {\n        textContents.push(currentTextContent);\n        currentTextContent = '';\n      } else {\n        currentTextContent += textArray[i];\n      }\n\n      i += 1;\n    }\n\n    textContents.push(currentTextContent);\n    return textContents;\n  };\n\n  SVGTextElement.prototype.buildNewText = function () {\n    var i, len;\n    var documentData = this.textProperty.currentData;\n    this.renderedLetters = createSizedArray(documentData ? documentData.l.length : 0);\n\n    if (documentData.fc) {\n      this.layerElement.setAttribute('fill', this.buildColor(documentData.fc));\n    } else {\n      this.layerElement.setAttribute('fill', 'rgba(0,0,0,0)');\n    }\n\n    if (documentData.sc) {\n      this.layerElement.setAttribute('stroke', this.buildColor(documentData.sc));\n      this.layerElement.setAttribute('stroke-width', documentData.sw);\n    }\n\n    this.layerElement.setAttribute('font-size', documentData.finalSize);\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\n\n    if (fontData.fClass) {\n      this.layerElement.setAttribute('class', fontData.fClass);\n    } else {\n      this.layerElement.setAttribute('font-family', fontData.fFamily);\n      var fWeight = documentData.fWeight,\n          fStyle = documentData.fStyle;\n      this.layerElement.setAttribute('font-style', fStyle);\n      this.layerElement.setAttribute('font-weight', fWeight);\n    }\n\n    this.layerElement.setAttribute('aria-label', documentData.t);\n    var letters = documentData.l || [];\n    var usesGlyphs = !!this.globalData.fontManager.chars;\n    len = letters.length;\n    var tSpan;\n    var matrixHelper = this.mHelper;\n    var shapes,\n        shapeStr = '',\n        singleShape = this.data.singleShape;\n    var xPos = 0,\n        yPos = 0,\n        firstLine = true;\n    var trackingOffset = documentData.tr / 1000 * documentData.finalSize;\n\n    if (singleShape && !usesGlyphs && !documentData.sz) {\n      var tElement = this.textContainer;\n      var justify = 'start';\n\n      switch (documentData.j) {\n        case 1:\n          justify = 'end';\n          break;\n\n        case 2:\n          justify = 'middle';\n          break;\n      }\n\n      tElement.setAttribute('text-anchor', justify);\n      tElement.setAttribute('letter-spacing', trackingOffset);\n      var textContent = this.buildTextContents(documentData.finalText);\n      len = textContent.length;\n      yPos = documentData.ps ? documentData.ps[1] + documentData.ascent : 0;\n\n      for (i = 0; i < len; i += 1) {\n        tSpan = this.textSpans[i] || createNS('tspan');\n        tSpan.textContent = textContent[i];\n        tSpan.setAttribute('x', 0);\n        tSpan.setAttribute('y', yPos);\n        tSpan.style.display = 'inherit';\n        tElement.appendChild(tSpan);\n        this.textSpans[i] = tSpan;\n        yPos += documentData.finalLineHeight;\n      }\n\n      this.layerElement.appendChild(tElement);\n    } else {\n      var cachedSpansLength = this.textSpans.length;\n      var shapeData, charData;\n\n      for (i = 0; i < len; i += 1) {\n        if (!usesGlyphs || !singleShape || i === 0) {\n          tSpan = cachedSpansLength > i ? this.textSpans[i] : createNS(usesGlyphs ? 'path' : 'text');\n\n          if (cachedSpansLength <= i) {\n            tSpan.setAttribute('stroke-linecap', 'butt');\n            tSpan.setAttribute('stroke-linejoin', 'round');\n            tSpan.setAttribute('stroke-miterlimit', '4');\n            this.textSpans[i] = tSpan;\n            this.layerElement.appendChild(tSpan);\n          }\n\n          tSpan.style.display = 'inherit';\n        }\n\n        matrixHelper.reset();\n        matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\n\n        if (singleShape) {\n          if (letters[i].n) {\n            xPos = -trackingOffset;\n            yPos += documentData.yOffset;\n            yPos += firstLine ? 1 : 0;\n            firstLine = false;\n          }\n\n          this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\n          xPos += letters[i].l || 0; //xPos += letters[i].val === ' ' ? 0 : trackingOffset;\n\n          xPos += trackingOffset;\n        }\n\n        if (usesGlyphs) {\n          charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\n          shapeData = charData && charData.data || {};\n          shapes = shapeData.shapes ? shapeData.shapes[0].it : [];\n\n          if (!singleShape) {\n            tSpan.setAttribute('d', this.createPathShape(matrixHelper, shapes));\n          } else {\n            shapeStr += this.createPathShape(matrixHelper, shapes);\n          }\n        } else {\n          if (singleShape) {\n            tSpan.setAttribute(\"transform\", \"translate(\" + matrixHelper.props[12] + \",\" + matrixHelper.props[13] + \")\");\n          }\n\n          tSpan.textContent = letters[i].val;\n          tSpan.setAttributeNS(\"http://www.w3.org/XML/1998/namespace\", \"xml:space\", \"preserve\");\n        } //\n\n      }\n\n      if (singleShape && tSpan) {\n        tSpan.setAttribute('d', shapeStr);\n      }\n    }\n\n    while (i < this.textSpans.length) {\n      this.textSpans[i].style.display = 'none';\n      i += 1;\n    }\n\n    this._sizeChanged = true;\n  };\n\n  SVGTextElement.prototype.sourceRectAtTime = function (time) {\n    this.prepareFrame(this.comp.renderedFrame - this.data.st);\n    this.renderInnerContent();\n\n    if (this._sizeChanged) {\n      this._sizeChanged = false;\n      var textBox = this.layerElement.getBBox();\n      this.bbox = {\n        top: textBox.y,\n        left: textBox.x,\n        width: textBox.width,\n        height: textBox.height\n      };\n    }\n\n    return this.bbox;\n  };\n\n  SVGTextElement.prototype.renderInnerContent = function () {\n    if (!this.data.singleShape) {\n      this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\n\n      if (this.lettersChangedFlag || this.textAnimator.lettersChangedFlag) {\n        this._sizeChanged = true;\n        var i, len;\n        var renderedLetters = this.textAnimator.renderedLetters;\n        var letters = this.textProperty.currentData.l;\n        len = letters.length;\n        var renderedLetter, textSpan;\n\n        for (i = 0; i < len; i += 1) {\n          if (letters[i].n) {\n            continue;\n          }\n\n          renderedLetter = renderedLetters[i];\n          textSpan = this.textSpans[i];\n\n          if (renderedLetter._mdf.m) {\n            textSpan.setAttribute('transform', renderedLetter.m);\n          }\n\n          if (renderedLetter._mdf.o) {\n            textSpan.setAttribute('opacity', renderedLetter.o);\n          }\n\n          if (renderedLetter._mdf.sw) {\n            textSpan.setAttribute('stroke-width', renderedLetter.sw);\n          }\n\n          if (renderedLetter._mdf.sc) {\n            textSpan.setAttribute('stroke', renderedLetter.sc);\n          }\n\n          if (renderedLetter._mdf.fc) {\n            textSpan.setAttribute('fill', renderedLetter.fc);\n          }\n        }\n      }\n    }\n  };\n\n  function SVGShapeElement(data, globalData, comp) {\n    //List of drawable elements\n    this.shapes = []; // Full shape data\n\n    this.shapesData = data.shapes; //List of styles that will be applied to shapes\n\n    this.stylesList = []; //List of modifiers that will be applied to shapes\n\n    this.shapeModifiers = []; //List of items in shape tree\n\n    this.itemsData = []; //List of items in previous shape tree\n\n    this.processedElements = []; // List of animated components\n\n    this.animatedContents = [];\n    this.initElement(data, globalData, comp); //Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n    // List of elements that have been created\n\n    this.prevViewData = []; //Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n  }\n\n  extendPrototype([BaseElement, TransformElement, SVGBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableDOMElement], SVGShapeElement);\n\n  SVGShapeElement.prototype.initSecondaryElement = function () {};\n\n  SVGShapeElement.prototype.identityMatrix = new Matrix();\n\n  SVGShapeElement.prototype.buildExpressionInterface = function () {};\n\n  SVGShapeElement.prototype.createContent = function () {\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\n    this.filterUniqueShapes();\n  };\n  /*\r\n  This method searches for multiple shapes that affect a single element and one of them is animated\r\n  */\n\n\n  SVGShapeElement.prototype.filterUniqueShapes = function () {\n    var i,\n        len = this.shapes.length,\n        shape;\n    var j,\n        jLen = this.stylesList.length;\n    var style,\n        count = 0;\n    var tempShapes = [];\n    var areAnimated = false;\n\n    for (j = 0; j < jLen; j += 1) {\n      style = this.stylesList[j];\n      areAnimated = false;\n      tempShapes.length = 0;\n\n      for (i = 0; i < len; i += 1) {\n        shape = this.shapes[i];\n\n        if (shape.styles.indexOf(style) !== -1) {\n          tempShapes.push(shape);\n          areAnimated = shape._isAnimated || areAnimated;\n        }\n      }\n\n      if (tempShapes.length > 1 && areAnimated) {\n        this.setShapesAsAnimated(tempShapes);\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.setShapesAsAnimated = function (shapes) {\n    var i,\n        len = shapes.length;\n\n    for (i = 0; i < len; i += 1) {\n      shapes[i].setAsAnimated();\n    }\n  };\n\n  SVGShapeElement.prototype.createStyleElement = function (data, level) {\n    //TODO: prevent drawing of hidden styles\n    var elementData;\n    var styleOb = new SVGStyleData(data, level);\n    var pathElement = styleOb.pElem;\n\n    if (data.ty === 'st') {\n      elementData = new SVGStrokeStyleData(this, data, styleOb);\n    } else if (data.ty === 'fl') {\n      elementData = new SVGFillStyleData(this, data, styleOb);\n    } else if (data.ty === 'gf' || data.ty === 'gs') {\n      var gradientConstructor = data.ty === 'gf' ? SVGGradientFillStyleData : SVGGradientStrokeStyleData;\n      elementData = new gradientConstructor(this, data, styleOb);\n      this.globalData.defs.appendChild(elementData.gf);\n\n      if (elementData.maskId) {\n        this.globalData.defs.appendChild(elementData.ms);\n        this.globalData.defs.appendChild(elementData.of);\n        pathElement.setAttribute('mask', 'url(' + locationHref + '#' + elementData.maskId + ')');\n      }\n    }\n\n    if (data.ty === 'st' || data.ty === 'gs') {\n      pathElement.setAttribute('stroke-linecap', this.lcEnum[data.lc] || 'round');\n      pathElement.setAttribute('stroke-linejoin', this.ljEnum[data.lj] || 'round');\n      pathElement.setAttribute('fill-opacity', '0');\n\n      if (data.lj === 1) {\n        pathElement.setAttribute('stroke-miterlimit', data.ml);\n      }\n    }\n\n    if (data.r === 2) {\n      pathElement.setAttribute('fill-rule', 'evenodd');\n    }\n\n    if (data.ln) {\n      pathElement.setAttribute('id', data.ln);\n    }\n\n    if (data.cl) {\n      pathElement.setAttribute('class', data.cl);\n    }\n\n    if (data.bm) {\n      pathElement.style['mix-blend-mode'] = getBlendMode(data.bm);\n    }\n\n    this.stylesList.push(styleOb);\n    this.addToAnimatedContents(data, elementData);\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.createGroupElement = function (data) {\n    var elementData = new ShapeGroupData();\n\n    if (data.ln) {\n      elementData.gr.setAttribute('id', data.ln);\n    }\n\n    if (data.cl) {\n      elementData.gr.setAttribute('class', data.cl);\n    }\n\n    if (data.bm) {\n      elementData.gr.style['mix-blend-mode'] = getBlendMode(data.bm);\n    }\n\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.createTransformElement = function (data, container) {\n    var transformProperty = TransformPropertyFactory.getTransformProperty(this, data, this);\n    var elementData = new SVGTransformData(transformProperty, transformProperty.o, container);\n    this.addToAnimatedContents(data, elementData);\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.createShapeElement = function (data, ownTransformers, level) {\n    var ty = 4;\n\n    if (data.ty === 'rc') {\n      ty = 5;\n    } else if (data.ty === 'el') {\n      ty = 6;\n    } else if (data.ty === 'sr') {\n      ty = 7;\n    }\n\n    var shapeProperty = ShapePropertyFactory.getShapeProp(this, data, ty, this);\n    var elementData = new SVGShapeData(ownTransformers, level, shapeProperty);\n    this.shapes.push(elementData);\n    this.addShapeToModifiers(elementData);\n    this.addToAnimatedContents(data, elementData);\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.addToAnimatedContents = function (data, element) {\n    var i = 0,\n        len = this.animatedContents.length;\n\n    while (i < len) {\n      if (this.animatedContents[i].element === element) {\n        return;\n      }\n\n      i += 1;\n    }\n\n    this.animatedContents.push({\n      fn: SVGElementsRenderer.createRenderFunction(data),\n      element: element,\n      data: data\n    });\n  };\n\n  SVGShapeElement.prototype.setElementStyles = function (elementData) {\n    var arr = elementData.styles;\n    var j,\n        jLen = this.stylesList.length;\n\n    for (j = 0; j < jLen; j += 1) {\n      if (!this.stylesList[j].closed) {\n        arr.push(this.stylesList[j]);\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.reloadShapes = function () {\n    this._isFirstFrame = true;\n    var i,\n        len = this.itemsData.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.prevViewData[i] = this.itemsData[i];\n    }\n\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\n    this.filterUniqueShapes();\n    len = this.dynamicProperties.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.dynamicProperties[i].getValue();\n    }\n\n    this.renderModifiers();\n  };\n\n  SVGShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, container, level, transformers, render) {\n    var ownTransformers = [].concat(transformers);\n    var i,\n        len = arr.length - 1;\n    var j, jLen;\n    var ownStyles = [],\n        ownModifiers = [],\n        styleOb,\n        currentTransform,\n        modifier,\n        processedPos;\n\n    for (i = len; i >= 0; i -= 1) {\n      processedPos = this.searchProcessedElement(arr[i]);\n\n      if (!processedPos) {\n        arr[i]._render = render;\n      } else {\n        itemsData[i] = prevViewData[processedPos - 1];\n      }\n\n      if (arr[i].ty == 'fl' || arr[i].ty == 'st' || arr[i].ty == 'gf' || arr[i].ty == 'gs') {\n        if (!processedPos) {\n          itemsData[i] = this.createStyleElement(arr[i], level);\n        } else {\n          itemsData[i].style.closed = false;\n        }\n\n        if (arr[i]._render) {\n          container.appendChild(itemsData[i].style.pElem);\n        }\n\n        ownStyles.push(itemsData[i].style);\n      } else if (arr[i].ty == 'gr') {\n        if (!processedPos) {\n          itemsData[i] = this.createGroupElement(arr[i]);\n        } else {\n          jLen = itemsData[i].it.length;\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsData[i].prevViewData[j] = itemsData[i].it[j];\n          }\n        }\n\n        this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, itemsData[i].gr, level + 1, ownTransformers, render);\n\n        if (arr[i]._render) {\n          container.appendChild(itemsData[i].gr);\n        }\n      } else if (arr[i].ty == 'tr') {\n        if (!processedPos) {\n          itemsData[i] = this.createTransformElement(arr[i], container);\n        }\n\n        currentTransform = itemsData[i].transform;\n        ownTransformers.push(currentTransform);\n      } else if (arr[i].ty == 'sh' || arr[i].ty == 'rc' || arr[i].ty == 'el' || arr[i].ty == 'sr') {\n        if (!processedPos) {\n          itemsData[i] = this.createShapeElement(arr[i], ownTransformers, level);\n        }\n\n        this.setElementStyles(itemsData[i]);\n      } else if (arr[i].ty == 'tm' || arr[i].ty == 'rd' || arr[i].ty == 'ms' || arr[i].ty == 'pb') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          modifier.init(this, arr[i]);\n          itemsData[i] = modifier;\n          this.shapeModifiers.push(modifier);\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = false;\n        }\n\n        ownModifiers.push(modifier);\n      } else if (arr[i].ty == 'rp') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          itemsData[i] = modifier;\n          modifier.init(this, arr, i, itemsData);\n          this.shapeModifiers.push(modifier);\n          render = false;\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = true;\n        }\n\n        ownModifiers.push(modifier);\n      }\n\n      this.addProcessedElement(arr[i], i + 1);\n    }\n\n    len = ownStyles.length;\n\n    for (i = 0; i < len; i += 1) {\n      ownStyles[i].closed = true;\n    }\n\n    len = ownModifiers.length;\n\n    for (i = 0; i < len; i += 1) {\n      ownModifiers[i].closed = true;\n    }\n  };\n\n  SVGShapeElement.prototype.renderInnerContent = function () {\n    this.renderModifiers();\n    var i,\n        len = this.stylesList.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.stylesList[i].reset();\n    }\n\n    this.renderShape();\n\n    for (i = 0; i < len; i += 1) {\n      if (this.stylesList[i]._mdf || this._isFirstFrame) {\n        if (this.stylesList[i].msElem) {\n          this.stylesList[i].msElem.setAttribute('d', this.stylesList[i].d); //Adding M0 0 fixes same mask bug on all browsers\n\n          this.stylesList[i].d = 'M0 0' + this.stylesList[i].d;\n        }\n\n        this.stylesList[i].pElem.setAttribute('d', this.stylesList[i].d || 'M0 0');\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.renderShape = function () {\n    var i,\n        len = this.animatedContents.length;\n    var animatedContent;\n\n    for (i = 0; i < len; i += 1) {\n      animatedContent = this.animatedContents[i];\n\n      if ((this._isFirstFrame || animatedContent.element._isAnimated) && animatedContent.data !== true) {\n        animatedContent.fn(animatedContent.data, animatedContent.element, this._isFirstFrame);\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.destroy = function () {\n    this.destroyBaseElement();\n    this.shapesData = null;\n    this.itemsData = null;\n  };\n\n  function SVGTintFilter(filter, filterManager) {\n    this.filterManager = filterManager;\n    var feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\n    feColorMatrix.setAttribute('values', '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\n    feColorMatrix.setAttribute('result', 'f1');\n    filter.appendChild(feColorMatrix);\n    feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\n    feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\n    feColorMatrix.setAttribute('result', 'f2');\n    filter.appendChild(feColorMatrix);\n    this.matrixFilter = feColorMatrix;\n\n    if (filterManager.effectElements[2].p.v !== 100 || filterManager.effectElements[2].p.k) {\n      var feMerge = createNS('feMerge');\n      filter.appendChild(feMerge);\n      var feMergeNode;\n      feMergeNode = createNS('feMergeNode');\n      feMergeNode.setAttribute('in', 'SourceGraphic');\n      feMerge.appendChild(feMergeNode);\n      feMergeNode = createNS('feMergeNode');\n      feMergeNode.setAttribute('in', 'f2');\n      feMerge.appendChild(feMergeNode);\n    }\n  }\n\n  SVGTintFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var colorBlack = this.filterManager.effectElements[0].p.v;\n      var colorWhite = this.filterManager.effectElements[1].p.v;\n      var opacity = this.filterManager.effectElements[2].p.v / 100;\n      this.matrixFilter.setAttribute('values', colorWhite[0] - colorBlack[0] + ' 0 0 0 ' + colorBlack[0] + ' ' + (colorWhite[1] - colorBlack[1]) + ' 0 0 0 ' + colorBlack[1] + ' ' + (colorWhite[2] - colorBlack[2]) + ' 0 0 0 ' + colorBlack[2] + ' 0 0 0 ' + opacity + ' 0');\n    }\n  };\n\n  function SVGFillFilter(filter, filterManager) {\n    this.filterManager = filterManager;\n    var feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\n    feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\n    filter.appendChild(feColorMatrix);\n    this.matrixFilter = feColorMatrix;\n  }\n\n  SVGFillFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var color = this.filterManager.effectElements[2].p.v;\n      var opacity = this.filterManager.effectElements[6].p.v;\n      this.matrixFilter.setAttribute('values', '0 0 0 0 ' + color[0] + ' 0 0 0 0 ' + color[1] + ' 0 0 0 0 ' + color[2] + ' 0 0 0 ' + opacity + ' 0');\n    }\n  };\n\n  function SVGGaussianBlurEffect(filter, filterManager) {\n    // Outset the filter region by 100% on all sides to accommodate blur expansion.\n    filter.setAttribute('x', '-100%');\n    filter.setAttribute('y', '-100%');\n    filter.setAttribute('width', '300%');\n    filter.setAttribute('height', '300%');\n    this.filterManager = filterManager;\n    var feGaussianBlur = createNS('feGaussianBlur');\n    filter.appendChild(feGaussianBlur);\n    this.feGaussianBlur = feGaussianBlur;\n  }\n\n  SVGGaussianBlurEffect.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      // Empirical value, matching AE's blur appearance.\n      var kBlurrinessToSigma = 0.3;\n      var sigma = this.filterManager.effectElements[0].p.v * kBlurrinessToSigma; // Dimensions mapping:\n      //\n      //   1 -> horizontal & vertical\n      //   2 -> horizontal only\n      //   3 -> vertical only\n      //\n\n      var dimensions = this.filterManager.effectElements[1].p.v;\n      var sigmaX = dimensions == 3 ? 0 : sigma;\n      var sigmaY = dimensions == 2 ? 0 : sigma;\n      this.feGaussianBlur.setAttribute('stdDeviation', sigmaX + \" \" + sigmaY); // Repeat edges mapping:\n      //\n      //   0 -> off -> duplicate\n      //   1 -> on  -> wrap\n\n      var edgeMode = this.filterManager.effectElements[2].p.v == 1 ? 'wrap' : 'duplicate';\n      this.feGaussianBlur.setAttribute('edgeMode', edgeMode);\n    }\n  };\n\n  function SVGStrokeEffect(elem, filterManager) {\n    this.initialized = false;\n    this.filterManager = filterManager;\n    this.elem = elem;\n    this.paths = [];\n  }\n\n  SVGStrokeEffect.prototype.initialize = function () {\n    var elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\n    var path, groupPath, i, len;\n\n    if (this.filterManager.effectElements[1].p.v === 1) {\n      len = this.elem.maskManager.masksProperties.length;\n      i = 0;\n    } else {\n      i = this.filterManager.effectElements[0].p.v - 1;\n      len = i + 1;\n    }\n\n    groupPath = createNS('g');\n    groupPath.setAttribute('fill', 'none');\n    groupPath.setAttribute('stroke-linecap', 'round');\n    groupPath.setAttribute('stroke-dashoffset', 1);\n\n    for (i; i < len; i += 1) {\n      path = createNS('path');\n      groupPath.appendChild(path);\n      this.paths.push({\n        p: path,\n        m: i\n      });\n    }\n\n    if (this.filterManager.effectElements[10].p.v === 3) {\n      var mask = createNS('mask');\n      var id = createElementID();\n      mask.setAttribute('id', id);\n      mask.setAttribute('mask-type', 'alpha');\n      mask.appendChild(groupPath);\n      this.elem.globalData.defs.appendChild(mask);\n      var g = createNS('g');\n      g.setAttribute('mask', 'url(' + locationHref + '#' + id + ')');\n\n      while (elemChildren[0]) {\n        g.appendChild(elemChildren[0]);\n      }\n\n      this.elem.layerElement.appendChild(g);\n      this.masker = mask;\n      groupPath.setAttribute('stroke', '#fff');\n    } else if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\n      if (this.filterManager.effectElements[10].p.v === 2) {\n        elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\n\n        while (elemChildren.length) {\n          this.elem.layerElement.removeChild(elemChildren[0]);\n        }\n      }\n\n      this.elem.layerElement.appendChild(groupPath);\n      this.elem.layerElement.removeAttribute('mask');\n      groupPath.setAttribute('stroke', '#fff');\n    }\n\n    this.initialized = true;\n    this.pathMasker = groupPath;\n  };\n\n  SVGStrokeEffect.prototype.renderFrame = function (forceRender) {\n    if (!this.initialized) {\n      this.initialize();\n    }\n\n    var i,\n        len = this.paths.length;\n    var mask, path;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.paths[i].m === -1) {\n        continue;\n      }\n\n      mask = this.elem.maskManager.viewData[this.paths[i].m];\n      path = this.paths[i].p;\n\n      if (forceRender || this.filterManager._mdf || mask.prop._mdf) {\n        path.setAttribute('d', mask.lastPath);\n      }\n\n      if (forceRender || this.filterManager.effectElements[9].p._mdf || this.filterManager.effectElements[4].p._mdf || this.filterManager.effectElements[7].p._mdf || this.filterManager.effectElements[8].p._mdf || mask.prop._mdf) {\n        var dasharrayValue;\n\n        if (this.filterManager.effectElements[7].p.v !== 0 || this.filterManager.effectElements[8].p.v !== 100) {\n          var s = Math.min(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) / 100;\n          var e = Math.max(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) / 100;\n          var l = path.getTotalLength();\n          dasharrayValue = '0 0 0 ' + l * s + ' ';\n          var lineLength = l * (e - s);\n          var segment = 1 + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v / 100;\n          var units = Math.floor(lineLength / segment);\n          var j;\n\n          for (j = 0; j < units; j += 1) {\n            dasharrayValue += '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v / 100 + ' ';\n          }\n\n          dasharrayValue += '0 ' + l * 10 + ' 0 0';\n        } else {\n          dasharrayValue = '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v / 100;\n        }\n\n        path.setAttribute('stroke-dasharray', dasharrayValue);\n      }\n    }\n\n    if (forceRender || this.filterManager.effectElements[4].p._mdf) {\n      this.pathMasker.setAttribute('stroke-width', this.filterManager.effectElements[4].p.v * 2);\n    }\n\n    if (forceRender || this.filterManager.effectElements[6].p._mdf) {\n      this.pathMasker.setAttribute('opacity', this.filterManager.effectElements[6].p.v);\n    }\n\n    if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\n      if (forceRender || this.filterManager.effectElements[3].p._mdf) {\n        var color = this.filterManager.effectElements[3].p.v;\n        this.pathMasker.setAttribute('stroke', 'rgb(' + bm_floor(color[0] * 255) + ',' + bm_floor(color[1] * 255) + ',' + bm_floor(color[2] * 255) + ')');\n      }\n    }\n  };\n\n  function SVGTritoneFilter(filter, filterManager) {\n    this.filterManager = filterManager;\n    var feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\n    feColorMatrix.setAttribute('values', '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\n    feColorMatrix.setAttribute('result', 'f1');\n    filter.appendChild(feColorMatrix);\n    var feComponentTransfer = createNS('feComponentTransfer');\n    feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\n    filter.appendChild(feComponentTransfer);\n    this.matrixFilter = feComponentTransfer;\n    var feFuncR = createNS('feFuncR');\n    feFuncR.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFuncR);\n    this.feFuncR = feFuncR;\n    var feFuncG = createNS('feFuncG');\n    feFuncG.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFuncG);\n    this.feFuncG = feFuncG;\n    var feFuncB = createNS('feFuncB');\n    feFuncB.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFuncB);\n    this.feFuncB = feFuncB;\n  }\n\n  SVGTritoneFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var color1 = this.filterManager.effectElements[0].p.v;\n      var color2 = this.filterManager.effectElements[1].p.v;\n      var color3 = this.filterManager.effectElements[2].p.v;\n      var tableR = color3[0] + ' ' + color2[0] + ' ' + color1[0];\n      var tableG = color3[1] + ' ' + color2[1] + ' ' + color1[1];\n      var tableB = color3[2] + ' ' + color2[2] + ' ' + color1[2];\n      this.feFuncR.setAttribute('tableValues', tableR);\n      this.feFuncG.setAttribute('tableValues', tableG);\n      this.feFuncB.setAttribute('tableValues', tableB); //var opacity = this.filterManager.effectElements[2].p.v/100;\n      //this.matrixFilter.setAttribute('values',(colorWhite[0]- colorBlack[0])+' 0 0 0 '+ colorBlack[0] +' '+ (colorWhite[1]- colorBlack[1]) +' 0 0 0 '+ colorBlack[1] +' '+ (colorWhite[2]- colorBlack[2]) +' 0 0 0 '+ colorBlack[2] +' 0 0 0 ' + opacity + ' 0');\n    }\n  };\n\n  function SVGProLevelsFilter(filter, filterManager) {\n    this.filterManager = filterManager;\n    var effectElements = this.filterManager.effectElements;\n    var feComponentTransfer = createNS('feComponentTransfer');\n    var feFuncR, feFuncG, feFuncB;\n\n    if (effectElements[10].p.k || effectElements[10].p.v !== 0 || effectElements[11].p.k || effectElements[11].p.v !== 1 || effectElements[12].p.k || effectElements[12].p.v !== 1 || effectElements[13].p.k || effectElements[13].p.v !== 0 || effectElements[14].p.k || effectElements[14].p.v !== 1) {\n      this.feFuncR = this.createFeFunc('feFuncR', feComponentTransfer);\n    }\n\n    if (effectElements[17].p.k || effectElements[17].p.v !== 0 || effectElements[18].p.k || effectElements[18].p.v !== 1 || effectElements[19].p.k || effectElements[19].p.v !== 1 || effectElements[20].p.k || effectElements[20].p.v !== 0 || effectElements[21].p.k || effectElements[21].p.v !== 1) {\n      this.feFuncG = this.createFeFunc('feFuncG', feComponentTransfer);\n    }\n\n    if (effectElements[24].p.k || effectElements[24].p.v !== 0 || effectElements[25].p.k || effectElements[25].p.v !== 1 || effectElements[26].p.k || effectElements[26].p.v !== 1 || effectElements[27].p.k || effectElements[27].p.v !== 0 || effectElements[28].p.k || effectElements[28].p.v !== 1) {\n      this.feFuncB = this.createFeFunc('feFuncB', feComponentTransfer);\n    }\n\n    if (effectElements[31].p.k || effectElements[31].p.v !== 0 || effectElements[32].p.k || effectElements[32].p.v !== 1 || effectElements[33].p.k || effectElements[33].p.v !== 1 || effectElements[34].p.k || effectElements[34].p.v !== 0 || effectElements[35].p.k || effectElements[35].p.v !== 1) {\n      this.feFuncA = this.createFeFunc('feFuncA', feComponentTransfer);\n    }\n\n    if (this.feFuncR || this.feFuncG || this.feFuncB || this.feFuncA) {\n      feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\n      filter.appendChild(feComponentTransfer);\n      feComponentTransfer = createNS('feComponentTransfer');\n    }\n\n    if (effectElements[3].p.k || effectElements[3].p.v !== 0 || effectElements[4].p.k || effectElements[4].p.v !== 1 || effectElements[5].p.k || effectElements[5].p.v !== 1 || effectElements[6].p.k || effectElements[6].p.v !== 0 || effectElements[7].p.k || effectElements[7].p.v !== 1) {\n      feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\n      filter.appendChild(feComponentTransfer);\n      this.feFuncRComposed = this.createFeFunc('feFuncR', feComponentTransfer);\n      this.feFuncGComposed = this.createFeFunc('feFuncG', feComponentTransfer);\n      this.feFuncBComposed = this.createFeFunc('feFuncB', feComponentTransfer);\n    }\n  }\n\n  SVGProLevelsFilter.prototype.createFeFunc = function (type, feComponentTransfer) {\n    var feFunc = createNS(type);\n    feFunc.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFunc);\n    return feFunc;\n  };\n\n  SVGProLevelsFilter.prototype.getTableValue = function (inputBlack, inputWhite, gamma, outputBlack, outputWhite) {\n    var cnt = 0;\n    var segments = 256;\n    var perc;\n    var min = Math.min(inputBlack, inputWhite);\n    var max = Math.max(inputBlack, inputWhite);\n    var table = Array.call(null, {\n      length: segments\n    });\n    var colorValue;\n    var pos = 0;\n    var outputDelta = outputWhite - outputBlack;\n    var inputDelta = inputWhite - inputBlack;\n\n    while (cnt <= 256) {\n      perc = cnt / 256;\n\n      if (perc <= min) {\n        colorValue = inputDelta < 0 ? outputWhite : outputBlack;\n      } else if (perc >= max) {\n        colorValue = inputDelta < 0 ? outputBlack : outputWhite;\n      } else {\n        colorValue = outputBlack + outputDelta * Math.pow((perc - inputBlack) / inputDelta, 1 / gamma);\n      }\n\n      table[pos++] = colorValue;\n      cnt += 256 / (segments - 1);\n    }\n\n    return table.join(' ');\n  };\n\n  SVGProLevelsFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var val, cnt, perc, bezier;\n      var effectElements = this.filterManager.effectElements;\n\n      if (this.feFuncRComposed && (forceRender || effectElements[3].p._mdf || effectElements[4].p._mdf || effectElements[5].p._mdf || effectElements[6].p._mdf || effectElements[7].p._mdf)) {\n        val = this.getTableValue(effectElements[3].p.v, effectElements[4].p.v, effectElements[5].p.v, effectElements[6].p.v, effectElements[7].p.v);\n        this.feFuncRComposed.setAttribute('tableValues', val);\n        this.feFuncGComposed.setAttribute('tableValues', val);\n        this.feFuncBComposed.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncR && (forceRender || effectElements[10].p._mdf || effectElements[11].p._mdf || effectElements[12].p._mdf || effectElements[13].p._mdf || effectElements[14].p._mdf)) {\n        val = this.getTableValue(effectElements[10].p.v, effectElements[11].p.v, effectElements[12].p.v, effectElements[13].p.v, effectElements[14].p.v);\n        this.feFuncR.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncG && (forceRender || effectElements[17].p._mdf || effectElements[18].p._mdf || effectElements[19].p._mdf || effectElements[20].p._mdf || effectElements[21].p._mdf)) {\n        val = this.getTableValue(effectElements[17].p.v, effectElements[18].p.v, effectElements[19].p.v, effectElements[20].p.v, effectElements[21].p.v);\n        this.feFuncG.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncB && (forceRender || effectElements[24].p._mdf || effectElements[25].p._mdf || effectElements[26].p._mdf || effectElements[27].p._mdf || effectElements[28].p._mdf)) {\n        val = this.getTableValue(effectElements[24].p.v, effectElements[25].p.v, effectElements[26].p.v, effectElements[27].p.v, effectElements[28].p.v);\n        this.feFuncB.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncA && (forceRender || effectElements[31].p._mdf || effectElements[32].p._mdf || effectElements[33].p._mdf || effectElements[34].p._mdf || effectElements[35].p._mdf)) {\n        val = this.getTableValue(effectElements[31].p.v, effectElements[32].p.v, effectElements[33].p.v, effectElements[34].p.v, effectElements[35].p.v);\n        this.feFuncA.setAttribute('tableValues', val);\n      }\n    }\n  };\n\n  function SVGDropShadowEffect(filter, filterManager) {\n    var filterSize = filterManager.container.globalData.renderConfig.filterSize;\n    filter.setAttribute('x', filterSize.x);\n    filter.setAttribute('y', filterSize.y);\n    filter.setAttribute('width', filterSize.width);\n    filter.setAttribute('height', filterSize.height);\n    this.filterManager = filterManager;\n    var feGaussianBlur = createNS('feGaussianBlur');\n    feGaussianBlur.setAttribute('in', 'SourceAlpha');\n    feGaussianBlur.setAttribute('result', 'drop_shadow_1');\n    feGaussianBlur.setAttribute('stdDeviation', '0');\n    this.feGaussianBlur = feGaussianBlur;\n    filter.appendChild(feGaussianBlur);\n    var feOffset = createNS('feOffset');\n    feOffset.setAttribute('dx', '25');\n    feOffset.setAttribute('dy', '0');\n    feOffset.setAttribute('in', 'drop_shadow_1');\n    feOffset.setAttribute('result', 'drop_shadow_2');\n    this.feOffset = feOffset;\n    filter.appendChild(feOffset);\n    var feFlood = createNS('feFlood');\n    feFlood.setAttribute('flood-color', '#00ff00');\n    feFlood.setAttribute('flood-opacity', '1');\n    feFlood.setAttribute('result', 'drop_shadow_3');\n    this.feFlood = feFlood;\n    filter.appendChild(feFlood);\n    var feComposite = createNS('feComposite');\n    feComposite.setAttribute('in', 'drop_shadow_3');\n    feComposite.setAttribute('in2', 'drop_shadow_2');\n    feComposite.setAttribute('operator', 'in');\n    feComposite.setAttribute('result', 'drop_shadow_4');\n    filter.appendChild(feComposite);\n    var feMerge = createNS('feMerge');\n    filter.appendChild(feMerge);\n    var feMergeNode;\n    feMergeNode = createNS('feMergeNode');\n    feMerge.appendChild(feMergeNode);\n    feMergeNode = createNS('feMergeNode');\n    feMergeNode.setAttribute('in', 'SourceGraphic');\n    this.feMergeNode = feMergeNode;\n    this.feMerge = feMerge;\n    this.originalNodeAdded = false;\n    feMerge.appendChild(feMergeNode);\n  }\n\n  SVGDropShadowEffect.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      if (forceRender || this.filterManager.effectElements[4].p._mdf) {\n        this.feGaussianBlur.setAttribute('stdDeviation', this.filterManager.effectElements[4].p.v / 4);\n      }\n\n      if (forceRender || this.filterManager.effectElements[0].p._mdf) {\n        var col = this.filterManager.effectElements[0].p.v;\n        this.feFlood.setAttribute('flood-color', rgbToHex(Math.round(col[0] * 255), Math.round(col[1] * 255), Math.round(col[2] * 255)));\n      }\n\n      if (forceRender || this.filterManager.effectElements[1].p._mdf) {\n        this.feFlood.setAttribute('flood-opacity', this.filterManager.effectElements[1].p.v / 255);\n      }\n\n      if (forceRender || this.filterManager.effectElements[2].p._mdf || this.filterManager.effectElements[3].p._mdf) {\n        var distance = this.filterManager.effectElements[3].p.v;\n        var angle = (this.filterManager.effectElements[2].p.v - 90) * degToRads;\n        var x = distance * Math.cos(angle);\n        var y = distance * Math.sin(angle);\n        this.feOffset.setAttribute('dx', x);\n        this.feOffset.setAttribute('dy', y);\n      }\n      /*if(forceRender || this.filterManager.effectElements[5].p._mdf){\r\n          if(this.filterManager.effectElements[5].p.v === 1 && this.originalNodeAdded) {\r\n              this.feMerge.removeChild(this.feMergeNode);\r\n              this.originalNodeAdded = false;\r\n          } else if(this.filterManager.effectElements[5].p.v === 0 && !this.originalNodeAdded) {\r\n              this.feMerge.appendChild(this.feMergeNode);\r\n              this.originalNodeAdded = true;\r\n          }\r\n      }*/\n\n    }\n  };\n\n  var _svgMatteSymbols = [];\n\n  function SVGMatte3Effect(filterElem, filterManager, elem) {\n    this.initialized = false;\n    this.filterManager = filterManager;\n    this.filterElem = filterElem;\n    this.elem = elem;\n    elem.matteElement = createNS('g');\n    elem.matteElement.appendChild(elem.layerElement);\n    elem.matteElement.appendChild(elem.transformedElement);\n    elem.baseElement = elem.matteElement;\n  }\n\n  SVGMatte3Effect.prototype.findSymbol = function (mask) {\n    var i = 0,\n        len = _svgMatteSymbols.length;\n\n    while (i < len) {\n      if (_svgMatteSymbols[i] === mask) {\n        return _svgMatteSymbols[i];\n      }\n\n      i += 1;\n    }\n\n    return null;\n  };\n\n  SVGMatte3Effect.prototype.replaceInParent = function (mask, symbolId) {\n    var parentNode = mask.layerElement.parentNode;\n\n    if (!parentNode) {\n      return;\n    }\n\n    var children = parentNode.children;\n    var i = 0,\n        len = children.length;\n\n    while (i < len) {\n      if (children[i] === mask.layerElement) {\n        break;\n      }\n\n      i += 1;\n    }\n\n    var nextChild;\n\n    if (i <= len - 2) {\n      nextChild = children[i + 1];\n    }\n\n    var useElem = createNS('use');\n    useElem.setAttribute('href', '#' + symbolId);\n\n    if (nextChild) {\n      parentNode.insertBefore(useElem, nextChild);\n    } else {\n      parentNode.appendChild(useElem);\n    }\n  };\n\n  SVGMatte3Effect.prototype.setElementAsMask = function (elem, mask) {\n    if (!this.findSymbol(mask)) {\n      var symbolId = createElementID();\n      var masker = createNS('mask');\n      masker.setAttribute('id', mask.layerId);\n      masker.setAttribute('mask-type', 'alpha');\n\n      _svgMatteSymbols.push(mask);\n\n      var defs = elem.globalData.defs;\n      defs.appendChild(masker);\n      var symbol = createNS('symbol');\n      symbol.setAttribute('id', symbolId);\n      this.replaceInParent(mask, symbolId);\n      symbol.appendChild(mask.layerElement);\n      defs.appendChild(symbol);\n      var useElem = createNS('use');\n      useElem.setAttribute('href', '#' + symbolId);\n      masker.appendChild(useElem);\n      mask.data.hd = false;\n      mask.show();\n    }\n\n    elem.setMatte(mask.layerId);\n  };\n\n  SVGMatte3Effect.prototype.initialize = function () {\n    var ind = this.filterManager.effectElements[0].p.v;\n    var elements = this.elem.comp.elements;\n    var i = 0,\n        len = elements.length;\n\n    while (i < len) {\n      if (elements[i] && elements[i].data.ind === ind) {\n        this.setElementAsMask(this.elem, elements[i]);\n      }\n\n      i += 1;\n    }\n\n    this.initialized = true;\n  };\n\n  SVGMatte3Effect.prototype.renderFrame = function () {\n    if (!this.initialized) {\n      this.initialize();\n    }\n  };\n\n  function SVGEffects(elem) {\n    var i,\n        len = elem.data.ef ? elem.data.ef.length : 0;\n    var filId = createElementID();\n    var fil = filtersFactory.createFilter(filId);\n    var count = 0;\n    this.filters = [];\n    var filterManager;\n\n    for (i = 0; i < len; i += 1) {\n      filterManager = null;\n\n      if (elem.data.ef[i].ty === 20) {\n        count += 1;\n        filterManager = new SVGTintFilter(fil, elem.effectsManager.effectElements[i]);\n      } else if (elem.data.ef[i].ty === 21) {\n        count += 1;\n        filterManager = new SVGFillFilter(fil, elem.effectsManager.effectElements[i]);\n      } else if (elem.data.ef[i].ty === 22) {\n        filterManager = new SVGStrokeEffect(elem, elem.effectsManager.effectElements[i]);\n      } else if (elem.data.ef[i].ty === 23) {\n        count += 1;\n        filterManager = new SVGTritoneFilter(fil, elem.effectsManager.effectElements[i]);\n      } else if (elem.data.ef[i].ty === 24) {\n        count += 1;\n        filterManager = new SVGProLevelsFilter(fil, elem.effectsManager.effectElements[i]);\n      } else if (elem.data.ef[i].ty === 25) {\n        count += 1;\n        filterManager = new SVGDropShadowEffect(fil, elem.effectsManager.effectElements[i]);\n      } else if (elem.data.ef[i].ty === 28) {\n        //count += 1;\n        filterManager = new SVGMatte3Effect(fil, elem.effectsManager.effectElements[i], elem);\n      } else if (elem.data.ef[i].ty === 29) {\n        count += 1;\n        filterManager = new SVGGaussianBlurEffect(fil, elem.effectsManager.effectElements[i]);\n      }\n\n      if (filterManager) {\n        this.filters.push(filterManager);\n      }\n    }\n\n    if (count) {\n      elem.globalData.defs.appendChild(fil);\n      elem.layerElement.setAttribute('filter', 'url(' + locationHref + '#' + filId + ')');\n    }\n\n    if (this.filters.length) {\n      elem.addRenderableComponent(this);\n    }\n  }\n\n  SVGEffects.prototype.renderFrame = function (_isFirstFrame) {\n    var i,\n        len = this.filters.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.filters[i].renderFrame(_isFirstFrame);\n    }\n  };\n\n  function CVContextData() {\n    this.saved = [];\n    this.cArrPos = 0;\n    this.cTr = new Matrix();\n    this.cO = 1;\n    var i,\n        len = 15;\n    this.savedOp = createTypedArray('float32', len);\n\n    for (i = 0; i < len; i += 1) {\n      this.saved[i] = createTypedArray('float32', 16);\n    }\n\n    this._length = len;\n  }\n\n  CVContextData.prototype.duplicate = function () {\n    var newLength = this._length * 2;\n    var currentSavedOp = this.savedOp;\n    this.savedOp = createTypedArray('float32', newLength);\n    this.savedOp.set(currentSavedOp);\n    var i = 0;\n\n    for (i = this._length; i < newLength; i += 1) {\n      this.saved[i] = createTypedArray('float32', 16);\n    }\n\n    this._length = newLength;\n  };\n\n  CVContextData.prototype.reset = function () {\n    this.cArrPos = 0;\n    this.cTr.reset();\n    this.cO = 1;\n  };\n\n  function CVBaseElement() {}\n\n  CVBaseElement.prototype = {\n    createElements: function createElements() {},\n    initRendererElement: function initRendererElement() {},\n    createContainerElements: function createContainerElements() {\n      this.canvasContext = this.globalData.canvasContext;\n      this.renderableEffectsManager = new CVEffects(this);\n    },\n    createContent: function createContent() {},\n    setBlendMode: function setBlendMode() {\n      var globalData = this.globalData;\n\n      if (globalData.blendMode !== this.data.bm) {\n        globalData.blendMode = this.data.bm;\n        var blendModeValue = getBlendMode(this.data.bm);\n        globalData.canvasContext.globalCompositeOperation = blendModeValue;\n      }\n    },\n    createRenderableComponents: function createRenderableComponents() {\n      this.maskManager = new CVMaskElement(this.data, this);\n    },\n    hideElement: function hideElement() {\n      if (!this.hidden && (!this.isInRange || this.isTransparent)) {\n        this.hidden = true;\n      }\n    },\n    showElement: function showElement() {\n      if (this.isInRange && !this.isTransparent) {\n        this.hidden = false;\n        this._isFirstFrame = true;\n        this.maskManager._isFirstFrame = true;\n      }\n    },\n    renderFrame: function renderFrame() {\n      if (this.hidden || this.data.hd) {\n        return;\n      }\n\n      this.renderTransform();\n      this.renderRenderable();\n      this.setBlendMode();\n      var forceRealStack = this.data.ty === 0;\n      this.globalData.renderer.save(forceRealStack);\n      this.globalData.renderer.ctxTransform(this.finalTransform.mat.props);\n      this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v);\n      this.renderInnerContent();\n      this.globalData.renderer.restore(forceRealStack);\n\n      if (this.maskManager.hasMasks) {\n        this.globalData.renderer.restore(true);\n      }\n\n      if (this._isFirstFrame) {\n        this._isFirstFrame = false;\n      }\n    },\n    destroy: function destroy() {\n      this.canvasContext = null;\n      this.data = null;\n      this.globalData = null;\n      this.maskManager.destroy();\n    },\n    mHelper: new Matrix()\n  };\n  CVBaseElement.prototype.hide = CVBaseElement.prototype.hideElement;\n  CVBaseElement.prototype.show = CVBaseElement.prototype.showElement;\n\n  function CVImageElement(data, globalData, comp) {\n    this.assetData = globalData.getAssetData(data.refId);\n    this.img = globalData.imageLoader.getImage(this.assetData);\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVImageElement);\n  CVImageElement.prototype.initElement = SVGShapeElement.prototype.initElement;\n  CVImageElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\n\n  CVImageElement.prototype.createContent = function () {\n    if (this.img.width && (this.assetData.w !== this.img.width || this.assetData.h !== this.img.height)) {\n      var canvas = createTag('canvas');\n      canvas.width = this.assetData.w;\n      canvas.height = this.assetData.h;\n      var ctx = canvas.getContext('2d');\n      var imgW = this.img.width;\n      var imgH = this.img.height;\n      var imgRel = imgW / imgH;\n      var canvasRel = this.assetData.w / this.assetData.h;\n      var widthCrop, heightCrop;\n      var par = this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio;\n\n      if (imgRel > canvasRel && par === 'xMidYMid slice' || imgRel < canvasRel && par !== 'xMidYMid slice') {\n        heightCrop = imgH;\n        widthCrop = heightCrop * canvasRel;\n      } else {\n        widthCrop = imgW;\n        heightCrop = widthCrop / canvasRel;\n      }\n\n      ctx.drawImage(this.img, (imgW - widthCrop) / 2, (imgH - heightCrop) / 2, widthCrop, heightCrop, 0, 0, this.assetData.w, this.assetData.h);\n      this.img = canvas;\n    }\n  };\n\n  CVImageElement.prototype.renderInnerContent = function (parentMatrix) {\n    this.canvasContext.drawImage(this.img, 0, 0);\n  };\n\n  CVImageElement.prototype.destroy = function () {\n    this.img = null;\n  };\n\n  function CVCompElement(data, globalData, comp) {\n    this.completeLayers = false;\n    this.layers = data.layers;\n    this.pendingElements = [];\n    this.elements = createSizedArray(this.layers.length);\n    this.initElement(data, globalData, comp);\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n  }\n\n  extendPrototype([CanvasRenderer, ICompElement, CVBaseElement], CVCompElement);\n\n  CVCompElement.prototype.renderInnerContent = function () {\n    var ctx = this.canvasContext;\n    ctx.beginPath();\n    ctx.moveTo(0, 0);\n    ctx.lineTo(this.data.w, 0);\n    ctx.lineTo(this.data.w, this.data.h);\n    ctx.lineTo(0, this.data.h);\n    ctx.lineTo(0, 0);\n    ctx.clip();\n    var i,\n        len = this.layers.length;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].renderFrame();\n      }\n    }\n  };\n\n  CVCompElement.prototype.destroy = function () {\n    var i,\n        len = this.layers.length;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.elements[i]) {\n        this.elements[i].destroy();\n      }\n    }\n\n    this.layers = null;\n    this.elements = null;\n  };\n\n  function CVMaskElement(data, element) {\n    this.data = data;\n    this.element = element;\n    this.masksProperties = this.data.masksProperties || [];\n    this.viewData = createSizedArray(this.masksProperties.length);\n    var i,\n        len = this.masksProperties.length,\n        hasMasks = false;\n\n    for (i = 0; i < len; i++) {\n      if (this.masksProperties[i].mode !== 'n') {\n        hasMasks = true;\n      }\n\n      this.viewData[i] = ShapePropertyFactory.getShapeProp(this.element, this.masksProperties[i], 3);\n    }\n\n    this.hasMasks = hasMasks;\n\n    if (hasMasks) {\n      this.element.addRenderableComponent(this);\n    }\n  }\n\n  CVMaskElement.prototype.renderFrame = function () {\n    if (!this.hasMasks) {\n      return;\n    }\n\n    var transform = this.element.finalTransform.mat;\n    var ctx = this.element.canvasContext;\n    var i,\n        len = this.masksProperties.length;\n    var pt, pts, data;\n    ctx.beginPath();\n\n    for (i = 0; i < len; i++) {\n      if (this.masksProperties[i].mode !== 'n') {\n        if (this.masksProperties[i].inv) {\n          ctx.moveTo(0, 0);\n          ctx.lineTo(this.element.globalData.compSize.w, 0);\n          ctx.lineTo(this.element.globalData.compSize.w, this.element.globalData.compSize.h);\n          ctx.lineTo(0, this.element.globalData.compSize.h);\n          ctx.lineTo(0, 0);\n        }\n\n        data = this.viewData[i].v;\n        pt = transform.applyToPointArray(data.v[0][0], data.v[0][1], 0);\n        ctx.moveTo(pt[0], pt[1]);\n        var j,\n            jLen = data._length;\n\n        for (j = 1; j < jLen; j++) {\n          pts = transform.applyToTriplePoints(data.o[j - 1], data.i[j], data.v[j]);\n          ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\n        }\n\n        pts = transform.applyToTriplePoints(data.o[j - 1], data.i[0], data.v[0]);\n        ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\n      }\n    }\n\n    this.element.globalData.renderer.save(true);\n    ctx.clip();\n  };\n\n  CVMaskElement.prototype.getMaskProperty = MaskElement.prototype.getMaskProperty;\n\n  CVMaskElement.prototype.destroy = function () {\n    this.element = null;\n  };\n\n  function CVShapeElement(data, globalData, comp) {\n    this.shapes = [];\n    this.shapesData = data.shapes;\n    this.stylesList = [];\n    this.itemsData = [];\n    this.prevViewData = [];\n    this.shapeModifiers = [];\n    this.processedElements = [];\n    this.transformsManager = new ShapeTransformManager();\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableElement], CVShapeElement);\n  CVShapeElement.prototype.initElement = RenderableDOMElement.prototype.initElement;\n  CVShapeElement.prototype.transformHelper = {\n    opacity: 1,\n    _opMdf: false\n  };\n  CVShapeElement.prototype.dashResetter = [];\n\n  CVShapeElement.prototype.createContent = function () {\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\n  };\n\n  CVShapeElement.prototype.createStyleElement = function (data, transforms) {\n    var styleElem = {\n      data: data,\n      type: data.ty,\n      preTransforms: this.transformsManager.addTransformSequence(transforms),\n      transforms: [],\n      elements: [],\n      closed: data.hd === true\n    };\n    var elementData = {};\n\n    if (data.ty == 'fl' || data.ty == 'st') {\n      elementData.c = PropertyFactory.getProp(this, data.c, 1, 255, this);\n\n      if (!elementData.c.k) {\n        styleElem.co = 'rgb(' + bm_floor(elementData.c.v[0]) + ',' + bm_floor(elementData.c.v[1]) + ',' + bm_floor(elementData.c.v[2]) + ')';\n      }\n    } else if (data.ty === 'gf' || data.ty === 'gs') {\n      elementData.s = PropertyFactory.getProp(this, data.s, 1, null, this);\n      elementData.e = PropertyFactory.getProp(this, data.e, 1, null, this);\n      elementData.h = PropertyFactory.getProp(this, data.h || {\n        k: 0\n      }, 0, 0.01, this);\n      elementData.a = PropertyFactory.getProp(this, data.a || {\n        k: 0\n      }, 0, degToRads, this);\n      elementData.g = new GradientProperty(this, data.g, this);\n    }\n\n    elementData.o = PropertyFactory.getProp(this, data.o, 0, 0.01, this);\n\n    if (data.ty == 'st' || data.ty == 'gs') {\n      styleElem.lc = this.lcEnum[data.lc] || 'round';\n      styleElem.lj = this.ljEnum[data.lj] || 'round';\n\n      if (data.lj == 1) {\n        styleElem.ml = data.ml;\n      }\n\n      elementData.w = PropertyFactory.getProp(this, data.w, 0, null, this);\n\n      if (!elementData.w.k) {\n        styleElem.wi = elementData.w.v;\n      }\n\n      if (data.d) {\n        var d = new DashProperty(this, data.d, 'canvas', this);\n        elementData.d = d;\n\n        if (!elementData.d.k) {\n          styleElem.da = elementData.d.dashArray;\n          styleElem.do = elementData.d.dashoffset[0];\n        }\n      }\n    } else {\n      styleElem.r = data.r === 2 ? 'evenodd' : 'nonzero';\n    }\n\n    this.stylesList.push(styleElem);\n    elementData.style = styleElem;\n    return elementData;\n  };\n\n  CVShapeElement.prototype.createGroupElement = function (data) {\n    var elementData = {\n      it: [],\n      prevViewData: []\n    };\n    return elementData;\n  };\n\n  CVShapeElement.prototype.createTransformElement = function (data) {\n    var elementData = {\n      transform: {\n        opacity: 1,\n        _opMdf: false,\n        key: this.transformsManager.getNewKey(),\n        op: PropertyFactory.getProp(this, data.o, 0, 0.01, this),\n        mProps: TransformPropertyFactory.getTransformProperty(this, data, this)\n      }\n    };\n    return elementData;\n  };\n\n  CVShapeElement.prototype.createShapeElement = function (data) {\n    var elementData = new CVShapeData(this, data, this.stylesList, this.transformsManager);\n    this.shapes.push(elementData);\n    this.addShapeToModifiers(elementData);\n    return elementData;\n  };\n\n  CVShapeElement.prototype.reloadShapes = function () {\n    this._isFirstFrame = true;\n    var i,\n        len = this.itemsData.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.prevViewData[i] = this.itemsData[i];\n    }\n\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\n    len = this.dynamicProperties.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.dynamicProperties[i].getValue();\n    }\n\n    this.renderModifiers();\n    this.transformsManager.processSequences(this._isFirstFrame);\n  };\n\n  CVShapeElement.prototype.addTransformToStyleList = function (transform) {\n    var i,\n        len = this.stylesList.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (!this.stylesList[i].closed) {\n        this.stylesList[i].transforms.push(transform);\n      }\n    }\n  };\n\n  CVShapeElement.prototype.removeTransformFromStyleList = function () {\n    var i,\n        len = this.stylesList.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (!this.stylesList[i].closed) {\n        this.stylesList[i].transforms.pop();\n      }\n    }\n  };\n\n  CVShapeElement.prototype.closeStyles = function (styles) {\n    var i,\n        len = styles.length,\n        j,\n        jLen;\n\n    for (i = 0; i < len; i += 1) {\n      styles[i].closed = true;\n    }\n  };\n\n  CVShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, shouldRender, transforms) {\n    var i,\n        len = arr.length - 1;\n    var j, jLen;\n    var ownStyles = [],\n        ownModifiers = [],\n        processedPos,\n        modifier,\n        currentTransform;\n    var ownTransforms = [].concat(transforms);\n\n    for (i = len; i >= 0; i -= 1) {\n      processedPos = this.searchProcessedElement(arr[i]);\n\n      if (!processedPos) {\n        arr[i]._shouldRender = shouldRender;\n      } else {\n        itemsData[i] = prevViewData[processedPos - 1];\n      }\n\n      if (arr[i].ty == 'fl' || arr[i].ty == 'st' || arr[i].ty == 'gf' || arr[i].ty == 'gs') {\n        if (!processedPos) {\n          itemsData[i] = this.createStyleElement(arr[i], ownTransforms);\n        } else {\n          itemsData[i].style.closed = false;\n        }\n\n        ownStyles.push(itemsData[i].style);\n      } else if (arr[i].ty == 'gr') {\n        if (!processedPos) {\n          itemsData[i] = this.createGroupElement(arr[i]);\n        } else {\n          jLen = itemsData[i].it.length;\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsData[i].prevViewData[j] = itemsData[i].it[j];\n          }\n        }\n\n        this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, shouldRender, ownTransforms);\n      } else if (arr[i].ty == 'tr') {\n        if (!processedPos) {\n          currentTransform = this.createTransformElement(arr[i]);\n          itemsData[i] = currentTransform;\n        }\n\n        ownTransforms.push(itemsData[i]);\n        this.addTransformToStyleList(itemsData[i]);\n      } else if (arr[i].ty == 'sh' || arr[i].ty == 'rc' || arr[i].ty == 'el' || arr[i].ty == 'sr') {\n        if (!processedPos) {\n          itemsData[i] = this.createShapeElement(arr[i]);\n        }\n      } else if (arr[i].ty == 'tm' || arr[i].ty == 'rd' || arr[i].ty == 'pb') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          modifier.init(this, arr[i]);\n          itemsData[i] = modifier;\n          this.shapeModifiers.push(modifier);\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = false;\n        }\n\n        ownModifiers.push(modifier);\n      } else if (arr[i].ty == 'rp') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          itemsData[i] = modifier;\n          modifier.init(this, arr, i, itemsData);\n          this.shapeModifiers.push(modifier);\n          shouldRender = false;\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = true;\n        }\n\n        ownModifiers.push(modifier);\n      }\n\n      this.addProcessedElement(arr[i], i + 1);\n    }\n\n    this.removeTransformFromStyleList();\n    this.closeStyles(ownStyles);\n    len = ownModifiers.length;\n\n    for (i = 0; i < len; i += 1) {\n      ownModifiers[i].closed = true;\n    }\n  };\n\n  CVShapeElement.prototype.renderInnerContent = function () {\n    this.transformHelper.opacity = 1;\n    this.transformHelper._opMdf = false;\n    this.renderModifiers();\n    this.transformsManager.processSequences(this._isFirstFrame);\n    this.renderShape(this.transformHelper, this.shapesData, this.itemsData, true);\n  };\n\n  CVShapeElement.prototype.renderShapeTransform = function (parentTransform, groupTransform) {\n    var props, groupMatrix;\n\n    if (parentTransform._opMdf || groupTransform.op._mdf || this._isFirstFrame) {\n      groupTransform.opacity = parentTransform.opacity;\n      groupTransform.opacity *= groupTransform.op.v;\n      groupTransform._opMdf = true;\n    }\n  };\n\n  CVShapeElement.prototype.drawLayer = function () {\n    var i,\n        len = this.stylesList.length;\n    var j,\n        jLen,\n        k,\n        kLen,\n        elems,\n        nodes,\n        renderer = this.globalData.renderer,\n        ctx = this.globalData.canvasContext,\n        type,\n        currentStyle;\n\n    for (i = 0; i < len; i += 1) {\n      currentStyle = this.stylesList[i];\n      type = currentStyle.type; //Skipping style when\n      //Stroke width equals 0\n      //style should not be rendered (extra unused repeaters)\n      //current opacity equals 0\n      //global opacity equals 0\n\n      if ((type === 'st' || type === 'gs') && currentStyle.wi === 0 || !currentStyle.data._shouldRender || currentStyle.coOp === 0 || this.globalData.currentGlobalAlpha === 0) {\n        continue;\n      }\n\n      renderer.save();\n      elems = currentStyle.elements;\n\n      if (type === 'st' || type === 'gs') {\n        ctx.strokeStyle = type === 'st' ? currentStyle.co : currentStyle.grd;\n        ctx.lineWidth = currentStyle.wi;\n        ctx.lineCap = currentStyle.lc;\n        ctx.lineJoin = currentStyle.lj;\n        ctx.miterLimit = currentStyle.ml || 0;\n      } else {\n        ctx.fillStyle = type === 'fl' ? currentStyle.co : currentStyle.grd;\n      }\n\n      renderer.ctxOpacity(currentStyle.coOp);\n\n      if (type !== 'st' && type !== 'gs') {\n        ctx.beginPath();\n      }\n\n      renderer.ctxTransform(currentStyle.preTransforms.finalTransform.props);\n      jLen = elems.length;\n\n      for (j = 0; j < jLen; j += 1) {\n        if (type === 'st' || type === 'gs') {\n          ctx.beginPath();\n\n          if (currentStyle.da) {\n            ctx.setLineDash(currentStyle.da);\n            ctx.lineDashOffset = currentStyle.do;\n          }\n        }\n\n        nodes = elems[j].trNodes;\n        kLen = nodes.length;\n\n        for (k = 0; k < kLen; k += 1) {\n          if (nodes[k].t == 'm') {\n            ctx.moveTo(nodes[k].p[0], nodes[k].p[1]);\n          } else if (nodes[k].t == 'c') {\n            ctx.bezierCurveTo(nodes[k].pts[0], nodes[k].pts[1], nodes[k].pts[2], nodes[k].pts[3], nodes[k].pts[4], nodes[k].pts[5]);\n          } else {\n            ctx.closePath();\n          }\n        }\n\n        if (type === 'st' || type === 'gs') {\n          ctx.stroke();\n\n          if (currentStyle.da) {\n            ctx.setLineDash(this.dashResetter);\n          }\n        }\n      }\n\n      if (type !== 'st' && type !== 'gs') {\n        ctx.fill(currentStyle.r);\n      }\n\n      renderer.restore();\n    }\n  };\n\n  CVShapeElement.prototype.renderShape = function (parentTransform, items, data, isMain) {\n    var i,\n        len = items.length - 1;\n    var groupTransform;\n    groupTransform = parentTransform;\n\n    for (i = len; i >= 0; i -= 1) {\n      if (items[i].ty == 'tr') {\n        groupTransform = data[i].transform;\n        this.renderShapeTransform(parentTransform, groupTransform);\n      } else if (items[i].ty == 'sh' || items[i].ty == 'el' || items[i].ty == 'rc' || items[i].ty == 'sr') {\n        this.renderPath(items[i], data[i]);\n      } else if (items[i].ty == 'fl') {\n        this.renderFill(items[i], data[i], groupTransform);\n      } else if (items[i].ty == 'st') {\n        this.renderStroke(items[i], data[i], groupTransform);\n      } else if (items[i].ty == 'gf' || items[i].ty == 'gs') {\n        this.renderGradientFill(items[i], data[i], groupTransform);\n      } else if (items[i].ty == 'gr') {\n        this.renderShape(groupTransform, items[i].it, data[i].it);\n      } else if (items[i].ty == 'tm') {//\n      }\n    }\n\n    if (isMain) {\n      this.drawLayer();\n    }\n  };\n\n  CVShapeElement.prototype.renderStyledShape = function (styledShape, shape) {\n    if (this._isFirstFrame || shape._mdf || styledShape.transforms._mdf) {\n      var shapeNodes = styledShape.trNodes;\n      var paths = shape.paths;\n      var i,\n          len,\n          j,\n          jLen = paths._length;\n      shapeNodes.length = 0;\n      var groupTransformMat = styledShape.transforms.finalTransform;\n\n      for (j = 0; j < jLen; j += 1) {\n        var pathNodes = paths.shapes[j];\n\n        if (pathNodes && pathNodes.v) {\n          len = pathNodes._length;\n\n          for (i = 1; i < len; i += 1) {\n            if (i === 1) {\n              shapeNodes.push({\n                t: 'm',\n                p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)\n              });\n            }\n\n            shapeNodes.push({\n              t: 'c',\n              pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[i], pathNodes.v[i])\n            });\n          }\n\n          if (len === 1) {\n            shapeNodes.push({\n              t: 'm',\n              p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)\n            });\n          }\n\n          if (pathNodes.c && len) {\n            shapeNodes.push({\n              t: 'c',\n              pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[0], pathNodes.v[0])\n            });\n            shapeNodes.push({\n              t: 'z'\n            });\n          }\n        }\n      }\n\n      styledShape.trNodes = shapeNodes;\n    }\n  };\n\n  CVShapeElement.prototype.renderPath = function (pathData, itemData) {\n    if (pathData.hd !== true && pathData._shouldRender) {\n      var i,\n          len = itemData.styledShapes.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.renderStyledShape(itemData.styledShapes[i], itemData.sh);\n      }\n    }\n  };\n\n  CVShapeElement.prototype.renderFill = function (styleData, itemData, groupTransform) {\n    var styleElem = itemData.style;\n\n    if (itemData.c._mdf || this._isFirstFrame) {\n      styleElem.co = 'rgb(' + bm_floor(itemData.c.v[0]) + ',' + bm_floor(itemData.c.v[1]) + ',' + bm_floor(itemData.c.v[2]) + ')';\n    }\n\n    if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\n      styleElem.coOp = itemData.o.v * groupTransform.opacity;\n    }\n  };\n\n  CVShapeElement.prototype.renderGradientFill = function (styleData, itemData, groupTransform) {\n    var styleElem = itemData.style;\n\n    if (!styleElem.grd || itemData.g._mdf || itemData.s._mdf || itemData.e._mdf || styleData.t !== 1 && (itemData.h._mdf || itemData.a._mdf)) {\n      var ctx = this.globalData.canvasContext;\n      var grd;\n      var pt1 = itemData.s.v,\n          pt2 = itemData.e.v;\n\n      if (styleData.t === 1) {\n        grd = ctx.createLinearGradient(pt1[0], pt1[1], pt2[0], pt2[1]);\n      } else {\n        var rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n        var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\n        var percent = itemData.h.v >= 1 ? 0.99 : itemData.h.v <= -1 ? -0.99 : itemData.h.v;\n        var dist = rad * percent;\n        var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\n        var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\n        var grd = ctx.createRadialGradient(x, y, 0, pt1[0], pt1[1], rad);\n      }\n\n      var i,\n          len = styleData.g.p;\n      var cValues = itemData.g.c;\n      var opacity = 1;\n\n      for (i = 0; i < len; i += 1) {\n        if (itemData.g._hasOpacity && itemData.g._collapsable) {\n          opacity = itemData.g.o[i * 2 + 1];\n        }\n\n        grd.addColorStop(cValues[i * 4] / 100, 'rgba(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ',' + opacity + ')');\n      }\n\n      styleElem.grd = grd;\n    }\n\n    styleElem.coOp = itemData.o.v * groupTransform.opacity;\n  };\n\n  CVShapeElement.prototype.renderStroke = function (styleData, itemData, groupTransform) {\n    var styleElem = itemData.style;\n    var d = itemData.d;\n\n    if (d && (d._mdf || this._isFirstFrame)) {\n      styleElem.da = d.dashArray;\n      styleElem.do = d.dashoffset[0];\n    }\n\n    if (itemData.c._mdf || this._isFirstFrame) {\n      styleElem.co = 'rgb(' + bm_floor(itemData.c.v[0]) + ',' + bm_floor(itemData.c.v[1]) + ',' + bm_floor(itemData.c.v[2]) + ')';\n    }\n\n    if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\n      styleElem.coOp = itemData.o.v * groupTransform.opacity;\n    }\n\n    if (itemData.w._mdf || this._isFirstFrame) {\n      styleElem.wi = itemData.w.v;\n    }\n  };\n\n  CVShapeElement.prototype.destroy = function () {\n    this.shapesData = null;\n    this.globalData = null;\n    this.canvasContext = null;\n    this.stylesList.length = 0;\n    this.itemsData.length = 0;\n  };\n\n  function CVSolidElement(data, globalData, comp) {\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVSolidElement);\n  CVSolidElement.prototype.initElement = SVGShapeElement.prototype.initElement;\n  CVSolidElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\n\n  CVSolidElement.prototype.renderInnerContent = function () {\n    var ctx = this.canvasContext;\n    ctx.fillStyle = this.data.sc;\n    ctx.fillRect(0, 0, this.data.sw, this.data.sh); //\n  };\n\n  function CVTextElement(data, globalData, comp) {\n    this.textSpans = [];\n    this.yOffset = 0;\n    this.fillColorAnim = false;\n    this.strokeColorAnim = false;\n    this.strokeWidthAnim = false;\n    this.stroke = false;\n    this.fill = false;\n    this.justifyOffset = 0;\n    this.currentRender = null;\n    this.renderType = 'canvas';\n    this.values = {\n      fill: 'rgba(0,0,0,0)',\n      stroke: 'rgba(0,0,0,0)',\n      sWidth: 0,\n      fValue: ''\n    };\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement, ITextElement], CVTextElement);\n  CVTextElement.prototype.tHelper = createTag('canvas').getContext('2d');\n\n  CVTextElement.prototype.buildNewText = function () {\n    var documentData = this.textProperty.currentData;\n    this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\n    var hasFill = false;\n\n    if (documentData.fc) {\n      hasFill = true;\n      this.values.fill = this.buildColor(documentData.fc);\n    } else {\n      this.values.fill = 'rgba(0,0,0,0)';\n    }\n\n    this.fill = hasFill;\n    var hasStroke = false;\n\n    if (documentData.sc) {\n      hasStroke = true;\n      this.values.stroke = this.buildColor(documentData.sc);\n      this.values.sWidth = documentData.sw;\n    }\n\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\n    var i, len;\n    var letters = documentData.l;\n    var matrixHelper = this.mHelper;\n    this.stroke = hasStroke;\n    this.values.fValue = documentData.finalSize + 'px ' + this.globalData.fontManager.getFontByName(documentData.f).fFamily;\n    len = documentData.finalText.length; //this.tHelper.font = this.values.fValue;\n\n    var charData,\n        shapeData,\n        k,\n        kLen,\n        shapes,\n        j,\n        jLen,\n        pathNodes,\n        commands,\n        pathArr,\n        singleShape = this.data.singleShape;\n    var trackingOffset = documentData.tr / 1000 * documentData.finalSize;\n    var xPos = 0,\n        yPos = 0,\n        firstLine = true;\n    var cnt = 0;\n\n    for (i = 0; i < len; i += 1) {\n      charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\n      shapeData = charData && charData.data || {};\n      matrixHelper.reset();\n\n      if (singleShape && letters[i].n) {\n        xPos = -trackingOffset;\n        yPos += documentData.yOffset;\n        yPos += firstLine ? 1 : 0;\n        firstLine = false;\n      }\n\n      shapes = shapeData.shapes ? shapeData.shapes[0].it : [];\n      jLen = shapes.length;\n      matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\n\n      if (singleShape) {\n        this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\n      }\n\n      commands = createSizedArray(jLen);\n\n      for (j = 0; j < jLen; j += 1) {\n        kLen = shapes[j].ks.k.i.length;\n        pathNodes = shapes[j].ks.k;\n        pathArr = [];\n\n        for (k = 1; k < kLen; k += 1) {\n          if (k == 1) {\n            pathArr.push(matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\n          }\n\n          pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToY(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToX(pathNodes.v[k][0], pathNodes.v[k][1], 0), matrixHelper.applyToY(pathNodes.v[k][0], pathNodes.v[k][1], 0));\n        }\n\n        pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToY(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\n        commands[j] = pathArr;\n      }\n\n      if (singleShape) {\n        xPos += letters[i].l;\n        xPos += trackingOffset;\n      }\n\n      if (this.textSpans[cnt]) {\n        this.textSpans[cnt].elem = commands;\n      } else {\n        this.textSpans[cnt] = {\n          elem: commands\n        };\n      }\n\n      cnt += 1;\n    }\n  };\n\n  CVTextElement.prototype.renderInnerContent = function () {\n    var ctx = this.canvasContext;\n    var finalMat = this.finalTransform.mat.props;\n    ctx.font = this.values.fValue;\n    ctx.lineCap = 'butt';\n    ctx.lineJoin = 'miter';\n    ctx.miterLimit = 4;\n\n    if (!this.data.singleShape) {\n      this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\n    }\n\n    var i, len, j, jLen, k, kLen;\n    var renderedLetters = this.textAnimator.renderedLetters;\n    var letters = this.textProperty.currentData.l;\n    len = letters.length;\n    var renderedLetter;\n    var lastFill = null,\n        lastStroke = null,\n        lastStrokeW = null,\n        commands,\n        pathArr;\n\n    for (i = 0; i < len; i += 1) {\n      if (letters[i].n) {\n        continue;\n      }\n\n      renderedLetter = renderedLetters[i];\n\n      if (renderedLetter) {\n        this.globalData.renderer.save();\n        this.globalData.renderer.ctxTransform(renderedLetter.p);\n        this.globalData.renderer.ctxOpacity(renderedLetter.o);\n      }\n\n      if (this.fill) {\n        if (renderedLetter && renderedLetter.fc) {\n          if (lastFill !== renderedLetter.fc) {\n            lastFill = renderedLetter.fc;\n            ctx.fillStyle = renderedLetter.fc;\n          }\n        } else if (lastFill !== this.values.fill) {\n          lastFill = this.values.fill;\n          ctx.fillStyle = this.values.fill;\n        }\n\n        commands = this.textSpans[i].elem;\n        jLen = commands.length;\n        this.globalData.canvasContext.beginPath();\n\n        for (j = 0; j < jLen; j += 1) {\n          pathArr = commands[j];\n          kLen = pathArr.length;\n          this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\n\n          for (k = 2; k < kLen; k += 6) {\n            this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\n          }\n        }\n\n        this.globalData.canvasContext.closePath();\n        this.globalData.canvasContext.fill(); ///ctx.fillText(this.textSpans[i].val,0,0);\n      }\n\n      if (this.stroke) {\n        if (renderedLetter && renderedLetter.sw) {\n          if (lastStrokeW !== renderedLetter.sw) {\n            lastStrokeW = renderedLetter.sw;\n            ctx.lineWidth = renderedLetter.sw;\n          }\n        } else if (lastStrokeW !== this.values.sWidth) {\n          lastStrokeW = this.values.sWidth;\n          ctx.lineWidth = this.values.sWidth;\n        }\n\n        if (renderedLetter && renderedLetter.sc) {\n          if (lastStroke !== renderedLetter.sc) {\n            lastStroke = renderedLetter.sc;\n            ctx.strokeStyle = renderedLetter.sc;\n          }\n        } else if (lastStroke !== this.values.stroke) {\n          lastStroke = this.values.stroke;\n          ctx.strokeStyle = this.values.stroke;\n        }\n\n        commands = this.textSpans[i].elem;\n        jLen = commands.length;\n        this.globalData.canvasContext.beginPath();\n\n        for (j = 0; j < jLen; j += 1) {\n          pathArr = commands[j];\n          kLen = pathArr.length;\n          this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\n\n          for (k = 2; k < kLen; k += 6) {\n            this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\n          }\n        }\n\n        this.globalData.canvasContext.closePath();\n        this.globalData.canvasContext.stroke(); ///ctx.strokeText(letters[i].val,0,0);\n      }\n\n      if (renderedLetter) {\n        this.globalData.renderer.restore();\n      }\n    }\n  };\n\n  function CVEffects() {}\n\n  CVEffects.prototype.renderFrame = function () {};\n\n  function HBaseElement(data, globalData, comp) {}\n\n  HBaseElement.prototype = {\n    checkBlendMode: function checkBlendMode() {},\n    initRendererElement: function initRendererElement() {\n      this.baseElement = createTag(this.data.tg || 'div');\n\n      if (this.data.hasMask) {\n        this.svgElement = createNS('svg');\n        this.layerElement = createNS('g');\n        this.maskedElement = this.layerElement;\n        this.svgElement.appendChild(this.layerElement);\n        this.baseElement.appendChild(this.svgElement);\n      } else {\n        this.layerElement = this.baseElement;\n      }\n\n      styleDiv(this.baseElement);\n    },\n    createContainerElements: function createContainerElements() {\n      this.renderableEffectsManager = new CVEffects(this);\n      this.transformedElement = this.baseElement;\n      this.maskedElement = this.layerElement;\n\n      if (this.data.ln) {\n        this.layerElement.setAttribute('id', this.data.ln);\n      }\n\n      if (this.data.cl) {\n        this.layerElement.setAttribute('class', this.data.cl);\n      }\n\n      if (this.data.bm !== 0) {\n        this.setBlendMode();\n      }\n    },\n    renderElement: function renderElement() {\n      if (this.finalTransform._matMdf) {\n        this.transformedElement.style.transform = this.transformedElement.style.webkitTransform = this.finalTransform.mat.toCSS();\n      }\n\n      if (this.finalTransform._opMdf) {\n        this.transformedElement.style.opacity = this.finalTransform.mProp.o.v;\n      }\n    },\n    renderFrame: function renderFrame() {\n      //If it is exported as hidden (data.hd === true) no need to render\n      //If it is not visible no need to render\n      if (this.data.hd || this.hidden) {\n        return;\n      }\n\n      this.renderTransform();\n      this.renderRenderable();\n      this.renderElement();\n      this.renderInnerContent();\n\n      if (this._isFirstFrame) {\n        this._isFirstFrame = false;\n      }\n    },\n    destroy: function destroy() {\n      this.layerElement = null;\n      this.transformedElement = null;\n\n      if (this.matteElement) {\n        this.matteElement = null;\n      }\n\n      if (this.maskManager) {\n        this.maskManager.destroy();\n        this.maskManager = null;\n      }\n    },\n    createRenderableComponents: function createRenderableComponents() {\n      this.maskManager = new MaskElement(this.data, this, this.globalData);\n    },\n    addEffects: function addEffects() {},\n    setMatte: function setMatte() {}\n  };\n  HBaseElement.prototype.getBaseElement = SVGBaseElement.prototype.getBaseElement;\n  HBaseElement.prototype.destroyBaseElement = HBaseElement.prototype.destroy;\n  HBaseElement.prototype.buildElementParenting = HybridRenderer.prototype.buildElementParenting;\n\n  function HSolidElement(data, globalData, comp) {\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], HSolidElement);\n\n  HSolidElement.prototype.createContent = function () {\n    var rect;\n\n    if (this.data.hasMask) {\n      rect = createNS('rect');\n      rect.setAttribute('width', this.data.sw);\n      rect.setAttribute('height', this.data.sh);\n      rect.setAttribute('fill', this.data.sc);\n      this.svgElement.setAttribute('width', this.data.sw);\n      this.svgElement.setAttribute('height', this.data.sh);\n    } else {\n      rect = createTag('div');\n      rect.style.width = this.data.sw + 'px';\n      rect.style.height = this.data.sh + 'px';\n      rect.style.backgroundColor = this.data.sc;\n    }\n\n    this.layerElement.appendChild(rect);\n  };\n\n  function HCompElement(data, globalData, comp) {\n    this.layers = data.layers;\n    this.supports3d = !data.hasMask;\n    this.completeLayers = false;\n    this.pendingElements = [];\n    this.elements = this.layers ? createSizedArray(this.layers.length) : [];\n    this.initElement(data, globalData, comp);\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n  }\n\n  extendPrototype([HybridRenderer, ICompElement, HBaseElement], HCompElement);\n  HCompElement.prototype._createBaseContainerElements = HCompElement.prototype.createContainerElements;\n\n  HCompElement.prototype.createContainerElements = function () {\n    this._createBaseContainerElements(); //divElement.style.clip = 'rect(0px, '+this.data.w+'px, '+this.data.h+'px, 0px)';\n\n\n    if (this.data.hasMask) {\n      this.svgElement.setAttribute('width', this.data.w);\n      this.svgElement.setAttribute('height', this.data.h);\n      this.transformedElement = this.baseElement;\n    } else {\n      this.transformedElement = this.layerElement;\n    }\n  };\n\n  HCompElement.prototype.addTo3dContainer = function (elem, pos) {\n    var j = 0;\n    var nextElement;\n\n    while (j < pos) {\n      if (this.elements[j] && this.elements[j].getBaseElement) {\n        nextElement = this.elements[j].getBaseElement();\n      }\n\n      j += 1;\n    }\n\n    if (nextElement) {\n      this.layerElement.insertBefore(elem, nextElement);\n    } else {\n      this.layerElement.appendChild(elem);\n    }\n  };\n\n  function HShapeElement(data, globalData, comp) {\n    //List of drawable elements\n    this.shapes = []; // Full shape data\n\n    this.shapesData = data.shapes; //List of styles that will be applied to shapes\n\n    this.stylesList = []; //List of modifiers that will be applied to shapes\n\n    this.shapeModifiers = []; //List of items in shape tree\n\n    this.itemsData = []; //List of items in previous shape tree\n\n    this.processedElements = []; // List of animated components\n\n    this.animatedContents = [];\n    this.shapesContainer = createNS('g');\n    this.initElement(data, globalData, comp); //Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n    // List of elements that have been created\n\n    this.prevViewData = [];\n    this.currentBBox = {\n      x: 999999,\n      y: -999999,\n      h: 0,\n      w: 0\n    };\n  }\n\n  extendPrototype([BaseElement, TransformElement, HSolidElement, SVGShapeElement, HBaseElement, HierarchyElement, FrameElement, RenderableElement], HShapeElement);\n  HShapeElement.prototype._renderShapeFrame = HShapeElement.prototype.renderInnerContent;\n\n  HShapeElement.prototype.createContent = function () {\n    var cont;\n    this.baseElement.style.fontSize = 0;\n\n    if (this.data.hasMask) {\n      this.layerElement.appendChild(this.shapesContainer);\n      cont = this.svgElement;\n    } else {\n      cont = createNS('svg');\n      var size = this.comp.data ? this.comp.data : this.globalData.compSize;\n      cont.setAttribute('width', size.w);\n      cont.setAttribute('height', size.h);\n      cont.appendChild(this.shapesContainer);\n      this.layerElement.appendChild(cont);\n    }\n\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.shapesContainer, 0, [], true);\n    this.filterUniqueShapes();\n    this.shapeCont = cont;\n  };\n\n  HShapeElement.prototype.getTransformedPoint = function (transformers, point) {\n    var i,\n        len = transformers.length;\n\n    for (i = 0; i < len; i += 1) {\n      point = transformers[i].mProps.v.applyToPointArray(point[0], point[1], 0);\n    }\n\n    return point;\n  };\n\n  HShapeElement.prototype.calculateShapeBoundingBox = function (item, boundingBox) {\n    var shape = item.sh.v;\n    var transformers = item.transformers;\n    var i,\n        len = shape._length,\n        vPoint,\n        oPoint,\n        nextIPoint,\n        nextVPoint,\n        bounds;\n\n    if (len <= 1) {\n      return;\n    }\n\n    for (i = 0; i < len - 1; i += 1) {\n      vPoint = this.getTransformedPoint(transformers, shape.v[i]);\n      oPoint = this.getTransformedPoint(transformers, shape.o[i]);\n      nextIPoint = this.getTransformedPoint(transformers, shape.i[i + 1]);\n      nextVPoint = this.getTransformedPoint(transformers, shape.v[i + 1]);\n      this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\n    }\n\n    if (shape.c) {\n      vPoint = this.getTransformedPoint(transformers, shape.v[i]);\n      oPoint = this.getTransformedPoint(transformers, shape.o[i]);\n      nextIPoint = this.getTransformedPoint(transformers, shape.i[0]);\n      nextVPoint = this.getTransformedPoint(transformers, shape.v[0]);\n      this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\n    }\n  };\n\n  HShapeElement.prototype.checkBounds = function (vPoint, oPoint, nextIPoint, nextVPoint, boundingBox) {\n    this.getBoundsOfCurve(vPoint, oPoint, nextIPoint, nextVPoint);\n    var bounds = this.shapeBoundingBox;\n    boundingBox.x = bm_min(bounds.left, boundingBox.x);\n    boundingBox.xMax = bm_max(bounds.right, boundingBox.xMax);\n    boundingBox.y = bm_min(bounds.top, boundingBox.y);\n    boundingBox.yMax = bm_max(bounds.bottom, boundingBox.yMax);\n  };\n\n  HShapeElement.prototype.shapeBoundingBox = {\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0\n  };\n  HShapeElement.prototype.tempBoundingBox = {\n    x: 0,\n    xMax: 0,\n    y: 0,\n    yMax: 0,\n    width: 0,\n    height: 0\n  };\n\n  HShapeElement.prototype.getBoundsOfCurve = function (p0, p1, p2, p3) {\n    var bounds = [[p0[0], p3[0]], [p0[1], p3[1]]];\n\n    for (var a, b, c, t, b2ac, t1, t2, i = 0; i < 2; ++i) {\n      b = 6 * p0[i] - 12 * p1[i] + 6 * p2[i];\n      a = -3 * p0[i] + 9 * p1[i] - 9 * p2[i] + 3 * p3[i];\n      c = 3 * p1[i] - 3 * p0[i];\n      b = b | 0;\n      a = a | 0;\n      c = c | 0;\n\n      if (a === 0) {\n        if (b === 0) {\n          continue;\n        }\n\n        t = -c / b;\n\n        if (0 < t && t < 1) {\n          bounds[i].push(this.calculateF(t, p0, p1, p2, p3, i));\n        }\n\n        continue;\n      }\n\n      b2ac = b * b - 4 * c * a;\n\n      if (b2ac < 0) {\n        continue;\n      }\n\n      t1 = (-b + bm_sqrt(b2ac)) / (2 * a);\n      if (0 < t1 && t1 < 1) bounds[i].push(this.calculateF(t1, p0, p1, p2, p3, i));\n      t2 = (-b - bm_sqrt(b2ac)) / (2 * a);\n      if (0 < t2 && t2 < 1) bounds[i].push(this.calculateF(t2, p0, p1, p2, p3, i));\n    }\n\n    this.shapeBoundingBox.left = bm_min.apply(null, bounds[0]);\n    this.shapeBoundingBox.top = bm_min.apply(null, bounds[1]);\n    this.shapeBoundingBox.right = bm_max.apply(null, bounds[0]);\n    this.shapeBoundingBox.bottom = bm_max.apply(null, bounds[1]);\n  };\n\n  HShapeElement.prototype.calculateF = function (t, p0, p1, p2, p3, i) {\n    return bm_pow(1 - t, 3) * p0[i] + 3 * bm_pow(1 - t, 2) * t * p1[i] + 3 * (1 - t) * bm_pow(t, 2) * p2[i] + bm_pow(t, 3) * p3[i];\n  };\n\n  HShapeElement.prototype.calculateBoundingBox = function (itemsData, boundingBox) {\n    var i,\n        len = itemsData.length,\n        path;\n\n    for (i = 0; i < len; i += 1) {\n      if (itemsData[i] && itemsData[i].sh) {\n        this.calculateShapeBoundingBox(itemsData[i], boundingBox);\n      } else if (itemsData[i] && itemsData[i].it) {\n        this.calculateBoundingBox(itemsData[i].it, boundingBox);\n      }\n    }\n  };\n\n  HShapeElement.prototype.currentBoxContains = function (box) {\n    return this.currentBBox.x <= box.x && this.currentBBox.y <= box.y && this.currentBBox.width + this.currentBBox.x >= box.x + box.width && this.currentBBox.height + this.currentBBox.y >= box.y + box.height;\n  };\n\n  HShapeElement.prototype.renderInnerContent = function () {\n    this._renderShapeFrame();\n\n    if (!this.hidden && (this._isFirstFrame || this._mdf)) {\n      var tempBoundingBox = this.tempBoundingBox;\n      var max = 999999;\n      tempBoundingBox.x = max;\n      tempBoundingBox.xMax = -max;\n      tempBoundingBox.y = max;\n      tempBoundingBox.yMax = -max;\n      this.calculateBoundingBox(this.itemsData, tempBoundingBox);\n      tempBoundingBox.width = tempBoundingBox.xMax < tempBoundingBox.x ? 0 : tempBoundingBox.xMax - tempBoundingBox.x;\n      tempBoundingBox.height = tempBoundingBox.yMax < tempBoundingBox.y ? 0 : tempBoundingBox.yMax - tempBoundingBox.y; //var tempBoundingBox = this.shapeCont.getBBox();\n\n      if (this.currentBoxContains(tempBoundingBox)) {\n        return;\n      }\n\n      var changed = false;\n\n      if (this.currentBBox.w !== tempBoundingBox.width) {\n        this.currentBBox.w = tempBoundingBox.width;\n        this.shapeCont.setAttribute('width', tempBoundingBox.width);\n        changed = true;\n      }\n\n      if (this.currentBBox.h !== tempBoundingBox.height) {\n        this.currentBBox.h = tempBoundingBox.height;\n        this.shapeCont.setAttribute('height', tempBoundingBox.height);\n        changed = true;\n      }\n\n      if (changed || this.currentBBox.x !== tempBoundingBox.x || this.currentBBox.y !== tempBoundingBox.y) {\n        this.currentBBox.w = tempBoundingBox.width;\n        this.currentBBox.h = tempBoundingBox.height;\n        this.currentBBox.x = tempBoundingBox.x;\n        this.currentBBox.y = tempBoundingBox.y;\n        this.shapeCont.setAttribute('viewBox', this.currentBBox.x + ' ' + this.currentBBox.y + ' ' + this.currentBBox.w + ' ' + this.currentBBox.h);\n        this.shapeCont.style.transform = this.shapeCont.style.webkitTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\n      }\n    }\n  };\n\n  function HTextElement(data, globalData, comp) {\n    this.textSpans = [];\n    this.textPaths = [];\n    this.currentBBox = {\n      x: 999999,\n      y: -999999,\n      h: 0,\n      w: 0\n    };\n    this.renderType = 'svg';\n    this.isMasked = false;\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], HTextElement);\n\n  HTextElement.prototype.createContent = function () {\n    this.isMasked = this.checkMasks();\n\n    if (this.isMasked) {\n      this.renderType = 'svg';\n      this.compW = this.comp.data.w;\n      this.compH = this.comp.data.h;\n      this.svgElement.setAttribute('width', this.compW);\n      this.svgElement.setAttribute('height', this.compH);\n      var g = createNS('g');\n      this.maskedElement.appendChild(g);\n      this.innerElem = g;\n    } else {\n      this.renderType = 'html';\n      this.innerElem = this.layerElement;\n    }\n\n    this.checkParenting();\n  };\n\n  HTextElement.prototype.buildNewText = function () {\n    var documentData = this.textProperty.currentData;\n    this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\n    var innerElemStyle = this.innerElem.style;\n    innerElemStyle.color = innerElemStyle.fill = documentData.fc ? this.buildColor(documentData.fc) : 'rgba(0,0,0,0)';\n\n    if (documentData.sc) {\n      innerElemStyle.stroke = this.buildColor(documentData.sc);\n      innerElemStyle.strokeWidth = documentData.sw + 'px';\n    }\n\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\n\n    if (!this.globalData.fontManager.chars) {\n      innerElemStyle.fontSize = documentData.finalSize + 'px';\n      innerElemStyle.lineHeight = documentData.finalSize + 'px';\n\n      if (fontData.fClass) {\n        this.innerElem.className = fontData.fClass;\n      } else {\n        innerElemStyle.fontFamily = fontData.fFamily;\n        var fWeight = documentData.fWeight,\n            fStyle = documentData.fStyle;\n        innerElemStyle.fontStyle = fStyle;\n        innerElemStyle.fontWeight = fWeight;\n      }\n    }\n\n    var i, len;\n    var letters = documentData.l;\n    len = letters.length;\n    var tSpan, tParent, tCont;\n    var matrixHelper = this.mHelper;\n    var shapes,\n        shapeStr = '';\n    var cnt = 0;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.globalData.fontManager.chars) {\n        if (!this.textPaths[cnt]) {\n          tSpan = createNS('path');\n          tSpan.setAttribute('stroke-linecap', 'butt');\n          tSpan.setAttribute('stroke-linejoin', 'round');\n          tSpan.setAttribute('stroke-miterlimit', '4');\n        } else {\n          tSpan = this.textPaths[cnt];\n        }\n\n        if (!this.isMasked) {\n          if (this.textSpans[cnt]) {\n            tParent = this.textSpans[cnt];\n            tCont = tParent.children[0];\n          } else {\n            tParent = createTag('div');\n            tParent.style.lineHeight = 0;\n            tCont = createNS('svg');\n            tCont.appendChild(tSpan);\n            styleDiv(tParent);\n          }\n        }\n      } else {\n        if (!this.isMasked) {\n          if (this.textSpans[cnt]) {\n            tParent = this.textSpans[cnt];\n            tSpan = this.textPaths[cnt];\n          } else {\n            tParent = createTag('span');\n            styleDiv(tParent);\n            tSpan = createTag('span');\n            styleDiv(tSpan);\n            tParent.appendChild(tSpan);\n          }\n        } else {\n          tSpan = this.textPaths[cnt] ? this.textPaths[cnt] : createNS('text');\n        }\n      } //tSpan.setAttribute('visibility', 'hidden');\n\n\n      if (this.globalData.fontManager.chars) {\n        var charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\n        var shapeData;\n\n        if (charData) {\n          shapeData = charData.data;\n        } else {\n          shapeData = null;\n        }\n\n        matrixHelper.reset();\n\n        if (shapeData && shapeData.shapes) {\n          shapes = shapeData.shapes[0].it;\n          matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\n          shapeStr = this.createPathShape(matrixHelper, shapes);\n          tSpan.setAttribute('d', shapeStr);\n        }\n\n        if (!this.isMasked) {\n          this.innerElem.appendChild(tParent);\n\n          if (shapeData && shapeData.shapes) {\n            //document.body.appendChild is needed to get exact measure of shape\n            document.body.appendChild(tCont);\n            var boundingBox = tCont.getBBox();\n            tCont.setAttribute('width', boundingBox.width + 2);\n            tCont.setAttribute('height', boundingBox.height + 2);\n            tCont.setAttribute('viewBox', boundingBox.x - 1 + ' ' + (boundingBox.y - 1) + ' ' + (boundingBox.width + 2) + ' ' + (boundingBox.height + 2));\n            tCont.style.transform = tCont.style.webkitTransform = 'translate(' + (boundingBox.x - 1) + 'px,' + (boundingBox.y - 1) + 'px)';\n            letters[i].yOffset = boundingBox.y - 1;\n          } else {\n            tCont.setAttribute('width', 1);\n            tCont.setAttribute('height', 1);\n          }\n\n          tParent.appendChild(tCont);\n        } else {\n          this.innerElem.appendChild(tSpan);\n        }\n      } else {\n        tSpan.textContent = letters[i].val;\n        tSpan.setAttributeNS(\"http://www.w3.org/XML/1998/namespace\", \"xml:space\", \"preserve\");\n\n        if (!this.isMasked) {\n          this.innerElem.appendChild(tParent); //\n\n          tSpan.style.transform = tSpan.style.webkitTransform = 'translate3d(0,' + -documentData.finalSize / 1.2 + 'px,0)';\n        } else {\n          this.innerElem.appendChild(tSpan);\n        }\n      } //\n\n\n      if (!this.isMasked) {\n        this.textSpans[cnt] = tParent;\n      } else {\n        this.textSpans[cnt] = tSpan;\n      }\n\n      this.textSpans[cnt].style.display = 'block';\n      this.textPaths[cnt] = tSpan;\n      cnt += 1;\n    }\n\n    while (cnt < this.textSpans.length) {\n      this.textSpans[cnt].style.display = 'none';\n      cnt += 1;\n    }\n  };\n\n  HTextElement.prototype.renderInnerContent = function () {\n    if (this.data.singleShape) {\n      if (!this._isFirstFrame && !this.lettersChangedFlag) {\n        return;\n      } else {\n        // Todo Benchmark if using this is better than getBBox\n        if (this.isMasked && this.finalTransform._matMdf) {\n          this.svgElement.setAttribute('viewBox', -this.finalTransform.mProp.p.v[0] + ' ' + -this.finalTransform.mProp.p.v[1] + ' ' + this.compW + ' ' + this.compH);\n          this.svgElement.style.transform = this.svgElement.style.webkitTransform = 'translate(' + -this.finalTransform.mProp.p.v[0] + 'px,' + -this.finalTransform.mProp.p.v[1] + 'px)';\n        }\n      }\n    }\n\n    this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\n\n    if (!this.lettersChangedFlag && !this.textAnimator.lettersChangedFlag) {\n      return;\n    }\n\n    var i,\n        len,\n        count = 0;\n    var renderedLetters = this.textAnimator.renderedLetters;\n    var letters = this.textProperty.currentData.l;\n    len = letters.length;\n    var renderedLetter, textSpan, textPath;\n\n    for (i = 0; i < len; i += 1) {\n      if (letters[i].n) {\n        count += 1;\n        continue;\n      }\n\n      textSpan = this.textSpans[i];\n      textPath = this.textPaths[i];\n      renderedLetter = renderedLetters[count];\n      count += 1;\n\n      if (renderedLetter._mdf.m) {\n        if (!this.isMasked) {\n          textSpan.style.transform = textSpan.style.webkitTransform = renderedLetter.m;\n        } else {\n          textSpan.setAttribute('transform', renderedLetter.m);\n        }\n      } ////textSpan.setAttribute('opacity',renderedLetter.o);\n\n\n      textSpan.style.opacity = renderedLetter.o;\n\n      if (renderedLetter.sw && renderedLetter._mdf.sw) {\n        textPath.setAttribute('stroke-width', renderedLetter.sw);\n      }\n\n      if (renderedLetter.sc && renderedLetter._mdf.sc) {\n        textPath.setAttribute('stroke', renderedLetter.sc);\n      }\n\n      if (renderedLetter.fc && renderedLetter._mdf.fc) {\n        textPath.setAttribute('fill', renderedLetter.fc);\n        textPath.style.color = renderedLetter.fc;\n      }\n    }\n\n    if (this.innerElem.getBBox && !this.hidden && (this._isFirstFrame || this._mdf)) {\n      var boundingBox = this.innerElem.getBBox();\n\n      if (this.currentBBox.w !== boundingBox.width) {\n        this.currentBBox.w = boundingBox.width;\n        this.svgElement.setAttribute('width', boundingBox.width);\n      }\n\n      if (this.currentBBox.h !== boundingBox.height) {\n        this.currentBBox.h = boundingBox.height;\n        this.svgElement.setAttribute('height', boundingBox.height);\n      }\n\n      var margin = 1;\n\n      if (this.currentBBox.w !== boundingBox.width + margin * 2 || this.currentBBox.h !== boundingBox.height + margin * 2 || this.currentBBox.x !== boundingBox.x - margin || this.currentBBox.y !== boundingBox.y - margin) {\n        this.currentBBox.w = boundingBox.width + margin * 2;\n        this.currentBBox.h = boundingBox.height + margin * 2;\n        this.currentBBox.x = boundingBox.x - margin;\n        this.currentBBox.y = boundingBox.y - margin;\n        this.svgElement.setAttribute('viewBox', this.currentBBox.x + ' ' + this.currentBBox.y + ' ' + this.currentBBox.w + ' ' + this.currentBBox.h);\n        this.svgElement.style.transform = this.svgElement.style.webkitTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\n      }\n    }\n  };\n\n  function HImageElement(data, globalData, comp) {\n    this.assetData = globalData.getAssetData(data.refId);\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, HBaseElement, HSolidElement, HierarchyElement, FrameElement, RenderableElement], HImageElement);\n\n  HImageElement.prototype.createContent = function () {\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\n    var img = new Image();\n\n    if (this.data.hasMask) {\n      this.imageElem = createNS('image');\n      this.imageElem.setAttribute('width', this.assetData.w + \"px\");\n      this.imageElem.setAttribute('height', this.assetData.h + \"px\");\n      this.imageElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\n      this.layerElement.appendChild(this.imageElem);\n      this.baseElement.setAttribute('width', this.assetData.w);\n      this.baseElement.setAttribute('height', this.assetData.h);\n    } else {\n      this.layerElement.appendChild(img);\n    }\n\n    img.src = assetPath;\n\n    if (this.data.ln) {\n      this.baseElement.setAttribute('id', this.data.ln);\n    }\n  };\n\n  function HCameraElement(data, globalData, comp) {\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.initHierarchy();\n    var getProp = PropertyFactory.getProp;\n    this.pe = getProp(this, data.pe, 0, 0, this);\n\n    if (data.ks.p.s) {\n      this.px = getProp(this, data.ks.p.x, 1, 0, this);\n      this.py = getProp(this, data.ks.p.y, 1, 0, this);\n      this.pz = getProp(this, data.ks.p.z, 1, 0, this);\n    } else {\n      this.p = getProp(this, data.ks.p, 1, 0, this);\n    }\n\n    if (data.ks.a) {\n      this.a = getProp(this, data.ks.a, 1, 0, this);\n    }\n\n    if (data.ks.or.k.length && data.ks.or.k[0].to) {\n      var i,\n          len = data.ks.or.k.length;\n\n      for (i = 0; i < len; i += 1) {\n        data.ks.or.k[i].to = null;\n        data.ks.or.k[i].ti = null;\n      }\n    }\n\n    this.or = getProp(this, data.ks.or, 1, degToRads, this);\n    this.or.sh = true;\n    this.rx = getProp(this, data.ks.rx, 0, degToRads, this);\n    this.ry = getProp(this, data.ks.ry, 0, degToRads, this);\n    this.rz = getProp(this, data.ks.rz, 0, degToRads, this);\n    this.mat = new Matrix();\n    this._prevMat = new Matrix();\n    this._isFirstFrame = true; // TODO: find a better way to make the HCamera element to be compatible with the LayerInterface and TransformInterface.\n\n    this.finalTransform = {\n      mProp: this\n    };\n  }\n\n  extendPrototype([BaseElement, FrameElement, HierarchyElement], HCameraElement);\n\n  HCameraElement.prototype.setup = function () {\n    var i,\n        len = this.comp.threeDElements.length,\n        comp;\n\n    for (i = 0; i < len; i += 1) {\n      //[perspectiveElem,container]\n      comp = this.comp.threeDElements[i];\n\n      if (comp.type === '3d') {\n        comp.perspectiveElem.style.perspective = comp.perspectiveElem.style.webkitPerspective = this.pe.v + 'px';\n        comp.container.style.transformOrigin = comp.container.style.mozTransformOrigin = comp.container.style.webkitTransformOrigin = \"0px 0px 0px\";\n        comp.perspectiveElem.style.transform = comp.perspectiveElem.style.webkitTransform = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\n      }\n    }\n  };\n\n  HCameraElement.prototype.createElements = function () {};\n\n  HCameraElement.prototype.hide = function () {};\n\n  HCameraElement.prototype.renderFrame = function () {\n    var _mdf = this._isFirstFrame;\n    var i, len;\n\n    if (this.hierarchy) {\n      len = this.hierarchy.length;\n\n      for (i = 0; i < len; i += 1) {\n        _mdf = this.hierarchy[i].finalTransform.mProp._mdf || _mdf;\n      }\n    }\n\n    if (_mdf || this.pe._mdf || this.p && this.p._mdf || this.px && (this.px._mdf || this.py._mdf || this.pz._mdf) || this.rx._mdf || this.ry._mdf || this.rz._mdf || this.or._mdf || this.a && this.a._mdf) {\n      this.mat.reset();\n\n      if (this.hierarchy) {\n        var mat;\n        len = this.hierarchy.length - 1;\n\n        for (i = len; i >= 0; i -= 1) {\n          var mTransf = this.hierarchy[i].finalTransform.mProp;\n          this.mat.translate(-mTransf.p.v[0], -mTransf.p.v[1], mTransf.p.v[2]);\n          this.mat.rotateX(-mTransf.or.v[0]).rotateY(-mTransf.or.v[1]).rotateZ(mTransf.or.v[2]);\n          this.mat.rotateX(-mTransf.rx.v).rotateY(-mTransf.ry.v).rotateZ(mTransf.rz.v);\n          this.mat.scale(1 / mTransf.s.v[0], 1 / mTransf.s.v[1], 1 / mTransf.s.v[2]);\n          this.mat.translate(mTransf.a.v[0], mTransf.a.v[1], mTransf.a.v[2]);\n        }\n      }\n\n      if (this.p) {\n        this.mat.translate(-this.p.v[0], -this.p.v[1], this.p.v[2]);\n      } else {\n        this.mat.translate(-this.px.v, -this.py.v, this.pz.v);\n      }\n\n      if (this.a) {\n        var diffVector;\n\n        if (this.p) {\n          diffVector = [this.p.v[0] - this.a.v[0], this.p.v[1] - this.a.v[1], this.p.v[2] - this.a.v[2]];\n        } else {\n          diffVector = [this.px.v - this.a.v[0], this.py.v - this.a.v[1], this.pz.v - this.a.v[2]];\n        }\n\n        var mag = Math.sqrt(Math.pow(diffVector[0], 2) + Math.pow(diffVector[1], 2) + Math.pow(diffVector[2], 2)); //var lookDir = getNormalizedPoint(getDiffVector(this.a.v,this.p.v));\n\n        var lookDir = [diffVector[0] / mag, diffVector[1] / mag, diffVector[2] / mag];\n        var lookLengthOnXZ = Math.sqrt(lookDir[2] * lookDir[2] + lookDir[0] * lookDir[0]);\n        var m_rotationX = Math.atan2(lookDir[1], lookLengthOnXZ);\n        var m_rotationY = Math.atan2(lookDir[0], -lookDir[2]);\n        this.mat.rotateY(m_rotationY).rotateX(-m_rotationX);\n      }\n\n      this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v);\n      this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]);\n      this.mat.translate(this.globalData.compSize.w / 2, this.globalData.compSize.h / 2, 0);\n      this.mat.translate(0, 0, this.pe.v);\n      var hasMatrixChanged = !this._prevMat.equals(this.mat);\n\n      if ((hasMatrixChanged || this.pe._mdf) && this.comp.threeDElements) {\n        len = this.comp.threeDElements.length;\n        var comp;\n\n        for (i = 0; i < len; i += 1) {\n          comp = this.comp.threeDElements[i];\n\n          if (comp.type === '3d') {\n            if (hasMatrixChanged) {\n              comp.container.style.transform = comp.container.style.webkitTransform = this.mat.toCSS();\n            }\n\n            if (this.pe._mdf) {\n              comp.perspectiveElem.style.perspective = comp.perspectiveElem.style.webkitPerspective = this.pe.v + 'px';\n            }\n          }\n        }\n\n        this.mat.clone(this._prevMat);\n      }\n    }\n\n    this._isFirstFrame = false;\n  };\n\n  HCameraElement.prototype.prepareFrame = function (num) {\n    this.prepareProperties(num, true);\n  };\n\n  HCameraElement.prototype.destroy = function () {};\n\n  HCameraElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  function HEffects() {}\n\n  HEffects.prototype.renderFrame = function () {};\n\n  var animationManager = function () {\n    var moduleOb = {};\n    var registeredAnimations = [];\n    var initTime = 0;\n    var len = 0;\n    var playingAnimationsNum = 0;\n    var _stopped = true;\n    var _isFrozen = false;\n\n    function removeElement(ev) {\n      var i = 0;\n      var animItem = ev.target;\n\n      while (i < len) {\n        if (registeredAnimations[i].animation === animItem) {\n          registeredAnimations.splice(i, 1);\n          i -= 1;\n          len -= 1;\n\n          if (!animItem.isPaused) {\n            subtractPlayingCount();\n          }\n        }\n\n        i += 1;\n      }\n    }\n\n    function registerAnimation(element, animationData) {\n      if (!element) {\n        return null;\n      }\n\n      var i = 0;\n\n      while (i < len) {\n        if (registeredAnimations[i].elem == element && registeredAnimations[i].elem !== null) {\n          return registeredAnimations[i].animation;\n        }\n\n        i += 1;\n      }\n\n      var animItem = new AnimationItem();\n      setupAnimation(animItem, element);\n      animItem.setData(element, animationData);\n      return animItem;\n    }\n\n    function getRegisteredAnimations() {\n      var i,\n          len = registeredAnimations.length;\n      var animations = [];\n\n      for (i = 0; i < len; i += 1) {\n        animations.push(registeredAnimations[i].animation);\n      }\n\n      return animations;\n    }\n\n    function addPlayingCount() {\n      playingAnimationsNum += 1;\n      activate();\n    }\n\n    function subtractPlayingCount() {\n      playingAnimationsNum -= 1;\n    }\n\n    function setupAnimation(animItem, element) {\n      animItem.addEventListener('destroy', removeElement);\n      animItem.addEventListener('_active', addPlayingCount);\n      animItem.addEventListener('_idle', subtractPlayingCount);\n      registeredAnimations.push({\n        elem: element,\n        animation: animItem\n      });\n      len += 1;\n    }\n\n    function loadAnimation(params) {\n      var animItem = new AnimationItem();\n      setupAnimation(animItem, null);\n      animItem.setParams(params);\n      return animItem;\n    }\n\n    function setSpeed(val, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.setSpeed(val, animation);\n      }\n    }\n\n    function setDirection(val, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.setDirection(val, animation);\n      }\n    }\n\n    function play(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.play(animation);\n      }\n    }\n\n    function resume(nowTime) {\n      var elapsedTime = nowTime - initTime;\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.advanceTime(elapsedTime);\n      }\n\n      initTime = nowTime;\n\n      if (playingAnimationsNum && !_isFrozen) {\n        window.requestAnimationFrame(resume);\n      } else {\n        _stopped = true;\n      }\n    }\n\n    function first(nowTime) {\n      initTime = nowTime;\n      window.requestAnimationFrame(resume);\n    }\n\n    function pause(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.pause(animation);\n      }\n    }\n\n    function goToAndStop(value, isFrame, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.goToAndStop(value, isFrame, animation);\n      }\n    }\n\n    function stop(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.stop(animation);\n      }\n    }\n\n    function togglePause(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.togglePause(animation);\n      }\n    }\n\n    function destroy(animation) {\n      var i;\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        registeredAnimations[i].animation.destroy(animation);\n      }\n    }\n\n    function searchAnimations(animationData, standalone, renderer) {\n      var animElements = [].concat([].slice.call(document.getElementsByClassName('lottie')), [].slice.call(document.getElementsByClassName('bodymovin')));\n      var i,\n          len = animElements.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (renderer) {\n          animElements[i].setAttribute('data-bm-type', renderer);\n        }\n\n        registerAnimation(animElements[i], animationData);\n      }\n\n      if (standalone && len === 0) {\n        if (!renderer) {\n          renderer = 'svg';\n        }\n\n        var body = document.getElementsByTagName('body')[0];\n        body.innerText = '';\n        var div = createTag('div');\n        div.style.width = '100%';\n        div.style.height = '100%';\n        div.setAttribute('data-bm-type', renderer);\n        body.appendChild(div);\n        registerAnimation(div, animationData);\n      }\n    }\n\n    function resize() {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.resize();\n      }\n    }\n\n    function activate() {\n      if (!_isFrozen && playingAnimationsNum) {\n        if (_stopped) {\n          window.requestAnimationFrame(first);\n          _stopped = false;\n        }\n      }\n    }\n\n    function freeze() {\n      _isFrozen = true;\n    }\n\n    function unfreeze() {\n      _isFrozen = false;\n      activate();\n    }\n\n    function setVolume(val, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.setVolume(val, animation);\n      }\n    }\n\n    function mute(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.mute(animation);\n      }\n    }\n\n    function unmute(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.unmute(animation);\n      }\n    }\n\n    moduleOb.registerAnimation = registerAnimation;\n    moduleOb.loadAnimation = loadAnimation;\n    moduleOb.setSpeed = setSpeed;\n    moduleOb.setDirection = setDirection;\n    moduleOb.play = play;\n    moduleOb.pause = pause;\n    moduleOb.stop = stop;\n    moduleOb.togglePause = togglePause;\n    moduleOb.searchAnimations = searchAnimations;\n    moduleOb.resize = resize; //moduleOb.start = start;\n\n    moduleOb.goToAndStop = goToAndStop;\n    moduleOb.destroy = destroy;\n    moduleOb.freeze = freeze;\n    moduleOb.unfreeze = unfreeze;\n    moduleOb.setVolume = setVolume;\n    moduleOb.mute = mute;\n    moduleOb.unmute = unmute;\n    moduleOb.getRegisteredAnimations = getRegisteredAnimations;\n    return moduleOb;\n  }();\n\n  var AnimationItem = function AnimationItem() {\n    this._cbs = [];\n    this.name = '';\n    this.path = '';\n    this.isLoaded = false;\n    this.currentFrame = 0;\n    this.currentRawFrame = 0;\n    this.firstFrame = 0;\n    this.totalFrames = 0;\n    this.frameRate = 0;\n    this.frameMult = 0;\n    this.playSpeed = 1;\n    this.playDirection = 1;\n    this.playCount = 0;\n    this.animationData = {};\n    this.assets = [];\n    this.isPaused = true;\n    this.autoplay = false;\n    this.loop = true;\n    this.renderer = null;\n    this.animationID = createElementID();\n    this.assetsPath = '';\n    this.timeCompleted = 0;\n    this.segmentPos = 0;\n    this.isSubframeEnabled = subframeEnabled;\n    this.segments = [];\n    this._idle = true;\n    this._completedLoop = false;\n    this.projectInterface = ProjectInterface();\n    this.imagePreloader = new ImagePreloader();\n    this.audioController = audioControllerFactory();\n  };\n\n  extendPrototype([BaseEvent], AnimationItem);\n\n  AnimationItem.prototype.setParams = function (params) {\n    if (params.wrapper || params.container) {\n      this.wrapper = params.wrapper || params.container;\n    }\n\n    var animType = params.animType ? params.animType : params.renderer ? params.renderer : 'svg';\n\n    switch (animType) {\n      case 'canvas':\n        this.renderer = new CanvasRenderer(this, params.rendererSettings);\n        break;\n\n      case 'svg':\n        this.renderer = new SVGRenderer(this, params.rendererSettings);\n        break;\n\n      default:\n        this.renderer = new HybridRenderer(this, params.rendererSettings);\n        break;\n    }\n\n    this.imagePreloader.setCacheType(animType);\n    this.renderer.setProjectInterface(this.projectInterface);\n    this.animType = animType;\n\n    if (params.loop === '' || params.loop === null || params.loop === undefined || params.loop === true) {\n      this.loop = true;\n    } else if (params.loop === false) {\n      this.loop = false;\n    } else {\n      this.loop = parseInt(params.loop);\n    }\n\n    this.autoplay = 'autoplay' in params ? params.autoplay : true;\n    this.name = params.name ? params.name : '';\n    this.autoloadSegments = params.hasOwnProperty('autoloadSegments') ? params.autoloadSegments : true;\n    this.assetsPath = params.assetsPath;\n    this.initialSegment = params.initialSegment;\n\n    if (params.audioFactory) {\n      this.audioController.setAudioFactory(params.audioFactory);\n    }\n\n    if (params.animationData) {\n      this.configAnimation(params.animationData);\n    } else if (params.path) {\n      if (params.path.lastIndexOf('\\\\') !== -1) {\n        this.path = params.path.substr(0, params.path.lastIndexOf('\\\\') + 1);\n      } else {\n        this.path = params.path.substr(0, params.path.lastIndexOf('/') + 1);\n      }\n\n      this.fileName = params.path.substr(params.path.lastIndexOf('/') + 1);\n      this.fileName = this.fileName.substr(0, this.fileName.lastIndexOf('.json'));\n      assetLoader.load(params.path, this.configAnimation.bind(this), function () {\n        this.trigger('data_failed');\n      }.bind(this));\n    }\n  };\n\n  AnimationItem.prototype.setData = function (wrapper, animationData) {\n    var params = {\n      wrapper: wrapper,\n      animationData: animationData ? typeof animationData === \"object\" ? animationData : JSON.parse(animationData) : null\n    };\n    var wrapperAttributes = wrapper.attributes;\n    params.path = wrapperAttributes.getNamedItem('data-animation-path') ? wrapperAttributes.getNamedItem('data-animation-path').value : wrapperAttributes.getNamedItem('data-bm-path') ? wrapperAttributes.getNamedItem('data-bm-path').value : wrapperAttributes.getNamedItem('bm-path') ? wrapperAttributes.getNamedItem('bm-path').value : '';\n    params.animType = wrapperAttributes.getNamedItem('data-anim-type') ? wrapperAttributes.getNamedItem('data-anim-type').value : wrapperAttributes.getNamedItem('data-bm-type') ? wrapperAttributes.getNamedItem('data-bm-type').value : wrapperAttributes.getNamedItem('bm-type') ? wrapperAttributes.getNamedItem('bm-type').value : wrapperAttributes.getNamedItem('data-bm-renderer') ? wrapperAttributes.getNamedItem('data-bm-renderer').value : wrapperAttributes.getNamedItem('bm-renderer') ? wrapperAttributes.getNamedItem('bm-renderer').value : 'canvas';\n    var loop = wrapperAttributes.getNamedItem('data-anim-loop') ? wrapperAttributes.getNamedItem('data-anim-loop').value : wrapperAttributes.getNamedItem('data-bm-loop') ? wrapperAttributes.getNamedItem('data-bm-loop').value : wrapperAttributes.getNamedItem('bm-loop') ? wrapperAttributes.getNamedItem('bm-loop').value : '';\n\n    if (loop === '') {} else if (loop === 'false') {\n      params.loop = false;\n    } else if (loop === 'true') {\n      params.loop = true;\n    } else {\n      params.loop = parseInt(loop);\n    }\n\n    var autoplay = wrapperAttributes.getNamedItem('data-anim-autoplay') ? wrapperAttributes.getNamedItem('data-anim-autoplay').value : wrapperAttributes.getNamedItem('data-bm-autoplay') ? wrapperAttributes.getNamedItem('data-bm-autoplay').value : wrapperAttributes.getNamedItem('bm-autoplay') ? wrapperAttributes.getNamedItem('bm-autoplay').value : true;\n    params.autoplay = autoplay !== \"false\";\n    params.name = wrapperAttributes.getNamedItem('data-name') ? wrapperAttributes.getNamedItem('data-name').value : wrapperAttributes.getNamedItem('data-bm-name') ? wrapperAttributes.getNamedItem('data-bm-name').value : wrapperAttributes.getNamedItem('bm-name') ? wrapperAttributes.getNamedItem('bm-name').value : '';\n    var prerender = wrapperAttributes.getNamedItem('data-anim-prerender') ? wrapperAttributes.getNamedItem('data-anim-prerender').value : wrapperAttributes.getNamedItem('data-bm-prerender') ? wrapperAttributes.getNamedItem('data-bm-prerender').value : wrapperAttributes.getNamedItem('bm-prerender') ? wrapperAttributes.getNamedItem('bm-prerender').value : '';\n\n    if (prerender === 'false') {\n      params.prerender = false;\n    }\n\n    this.setParams(params);\n  };\n\n  AnimationItem.prototype.includeLayers = function (data) {\n    if (data.op > this.animationData.op) {\n      this.animationData.op = data.op;\n      this.totalFrames = Math.floor(data.op - this.animationData.ip);\n    }\n\n    var layers = this.animationData.layers;\n    var i,\n        len = layers.length;\n    var newLayers = data.layers;\n    var j,\n        jLen = newLayers.length;\n\n    for (j = 0; j < jLen; j += 1) {\n      i = 0;\n\n      while (i < len) {\n        if (layers[i].id == newLayers[j].id) {\n          layers[i] = newLayers[j];\n          break;\n        }\n\n        i += 1;\n      }\n    }\n\n    if (data.chars || data.fonts) {\n      this.renderer.globalData.fontManager.addChars(data.chars);\n      this.renderer.globalData.fontManager.addFonts(data.fonts, this.renderer.globalData.defs);\n    }\n\n    if (data.assets) {\n      len = data.assets.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.animationData.assets.push(data.assets[i]);\n      }\n    }\n\n    this.animationData.__complete = false;\n    dataManager.completeData(this.animationData, this.renderer.globalData.fontManager);\n    this.renderer.includeLayers(data.layers);\n\n    if (expressionsPlugin) {\n      expressionsPlugin.initExpressions(this);\n    }\n\n    this.loadNextSegment();\n  };\n\n  AnimationItem.prototype.loadNextSegment = function () {\n    var segments = this.animationData.segments;\n\n    if (!segments || segments.length === 0 || !this.autoloadSegments) {\n      this.trigger('data_ready');\n      this.timeCompleted = this.totalFrames;\n      return;\n    }\n\n    var segment = segments.shift();\n    this.timeCompleted = segment.time * this.frameRate;\n    var segmentPath = this.path + this.fileName + '_' + this.segmentPos + '.json';\n    this.segmentPos += 1;\n    assetLoader.load(segmentPath, this.includeLayers.bind(this), function () {\n      this.trigger('data_failed');\n    }.bind(this));\n  };\n\n  AnimationItem.prototype.loadSegments = function () {\n    var segments = this.animationData.segments;\n\n    if (!segments) {\n      this.timeCompleted = this.totalFrames;\n    }\n\n    this.loadNextSegment();\n  };\n\n  AnimationItem.prototype.imagesLoaded = function () {\n    this.trigger('loaded_images');\n    this.checkLoaded();\n  };\n\n  AnimationItem.prototype.preloadImages = function () {\n    this.imagePreloader.setAssetsPath(this.assetsPath);\n    this.imagePreloader.setPath(this.path);\n    this.imagePreloader.loadAssets(this.animationData.assets, this.imagesLoaded.bind(this));\n  };\n\n  AnimationItem.prototype.configAnimation = function (animData) {\n    if (!this.renderer) {\n      return;\n    }\n\n    try {\n      this.animationData = animData;\n\n      if (this.initialSegment) {\n        this.totalFrames = Math.floor(this.initialSegment[1] - this.initialSegment[0]);\n        this.firstFrame = Math.round(this.initialSegment[0]);\n      } else {\n        this.totalFrames = Math.floor(this.animationData.op - this.animationData.ip);\n        this.firstFrame = Math.round(this.animationData.ip);\n      }\n\n      this.renderer.configAnimation(animData);\n\n      if (!animData.assets) {\n        animData.assets = [];\n      }\n\n      this.assets = this.animationData.assets;\n      this.frameRate = this.animationData.fr;\n      this.frameMult = this.animationData.fr / 1000;\n      this.renderer.searchExtraCompositions(animData.assets);\n      this.trigger('config_ready');\n      this.preloadImages();\n      this.loadSegments();\n      this.updaFrameModifier();\n      this.waitForFontsLoaded();\n\n      if (this.isPaused) {\n        this.audioController.pause();\n      }\n    } catch (error) {\n      this.triggerConfigError(error);\n    }\n  };\n\n  AnimationItem.prototype.waitForFontsLoaded = function () {\n    if (!this.renderer) {\n      return;\n    }\n\n    if (this.renderer.globalData.fontManager.isLoaded) {\n      this.checkLoaded();\n    } else {\n      setTimeout(this.waitForFontsLoaded.bind(this), 20);\n    }\n  };\n\n  AnimationItem.prototype.checkLoaded = function () {\n    if (!this.isLoaded && this.renderer.globalData.fontManager.isLoaded && (this.imagePreloader.loaded() || this.renderer.rendererType !== 'canvas')) {\n      this.isLoaded = true;\n      dataManager.completeData(this.animationData, this.renderer.globalData.fontManager);\n\n      if (expressionsPlugin) {\n        expressionsPlugin.initExpressions(this);\n      }\n\n      this.renderer.initItems();\n      setTimeout(function () {\n        this.trigger('DOMLoaded');\n      }.bind(this), 0);\n      this.gotoFrame();\n\n      if (this.autoplay) {\n        this.play();\n      }\n    }\n  };\n\n  AnimationItem.prototype.resize = function () {\n    this.renderer.updateContainerSize();\n  };\n\n  AnimationItem.prototype.setSubframe = function (flag) {\n    this.isSubframeEnabled = !!flag;\n  };\n\n  AnimationItem.prototype.gotoFrame = function () {\n    this.currentFrame = this.isSubframeEnabled ? this.currentRawFrame : ~~this.currentRawFrame;\n\n    if (this.timeCompleted !== this.totalFrames && this.currentFrame > this.timeCompleted) {\n      this.currentFrame = this.timeCompleted;\n    }\n\n    this.trigger('enterFrame');\n    this.renderFrame();\n  };\n\n  AnimationItem.prototype.renderFrame = function () {\n    if (this.isLoaded === false) {\n      return;\n    }\n\n    try {\n      this.renderer.renderFrame(this.currentFrame + this.firstFrame);\n    } catch (error) {\n      this.triggerRenderFrameError(error);\n    }\n  };\n\n  AnimationItem.prototype.play = function (name) {\n    if (name && this.name != name) {\n      return;\n    }\n\n    if (this.isPaused === true) {\n      this.isPaused = false;\n      this.audioController.resume();\n\n      if (this._idle) {\n        this._idle = false;\n        this.trigger('_active');\n      }\n    }\n  };\n\n  AnimationItem.prototype.pause = function (name) {\n    if (name && this.name != name) {\n      return;\n    }\n\n    if (this.isPaused === false) {\n      this.isPaused = true;\n      this._idle = true;\n      this.trigger('_idle');\n      this.audioController.pause();\n    }\n  };\n\n  AnimationItem.prototype.togglePause = function (name) {\n    if (name && this.name != name) {\n      return;\n    }\n\n    if (this.isPaused === true) {\n      this.play();\n    } else {\n      this.pause();\n    }\n  };\n\n  AnimationItem.prototype.stop = function (name) {\n    if (name && this.name != name) {\n      return;\n    }\n\n    this.pause();\n    this.playCount = 0;\n    this._completedLoop = false;\n    this.setCurrentRawFrameValue(0);\n  };\n\n  AnimationItem.prototype.goToAndStop = function (value, isFrame, name) {\n    if (name && this.name != name) {\n      return;\n    }\n\n    if (isFrame) {\n      this.setCurrentRawFrameValue(value);\n    } else {\n      this.setCurrentRawFrameValue(value * this.frameModifier);\n    }\n\n    this.pause();\n  };\n\n  AnimationItem.prototype.goToAndPlay = function (value, isFrame, name) {\n    this.goToAndStop(value, isFrame, name);\n    this.play();\n  };\n\n  AnimationItem.prototype.advanceTime = function (value) {\n    if (this.isPaused === true || this.isLoaded === false) {\n      return;\n    }\n\n    var nextValue = this.currentRawFrame + value * this.frameModifier;\n    var _isComplete = false; // Checking if nextValue > totalFrames - 1 for addressing non looping and looping animations.\n    // If animation won't loop, it should stop at totalFrames - 1. If it will loop it should complete the last frame and then loop.\n\n    if (nextValue >= this.totalFrames - 1 && this.frameModifier > 0) {\n      if (!this.loop || this.playCount === this.loop) {\n        if (!this.checkSegments(nextValue > this.totalFrames ? nextValue % this.totalFrames : 0)) {\n          _isComplete = true;\n          nextValue = this.totalFrames - 1;\n        }\n      } else if (nextValue >= this.totalFrames) {\n        this.playCount += 1;\n\n        if (!this.checkSegments(nextValue % this.totalFrames)) {\n          this.setCurrentRawFrameValue(nextValue % this.totalFrames);\n          this._completedLoop = true;\n          this.trigger('loopComplete');\n        }\n      } else {\n        this.setCurrentRawFrameValue(nextValue);\n      }\n    } else if (nextValue < 0) {\n      if (!this.checkSegments(nextValue % this.totalFrames)) {\n        if (this.loop && !(this.playCount-- <= 0 && this.loop !== true)) {\n          this.setCurrentRawFrameValue(this.totalFrames + nextValue % this.totalFrames);\n\n          if (!this._completedLoop) {\n            this._completedLoop = true;\n          } else {\n            this.trigger('loopComplete');\n          }\n        } else {\n          _isComplete = true;\n          nextValue = 0;\n        }\n      }\n    } else {\n      this.setCurrentRawFrameValue(nextValue);\n    }\n\n    if (_isComplete) {\n      this.setCurrentRawFrameValue(nextValue);\n      this.pause();\n      this.trigger('complete');\n    }\n  };\n\n  AnimationItem.prototype.adjustSegment = function (arr, offset) {\n    this.playCount = 0;\n\n    if (arr[1] < arr[0]) {\n      if (this.frameModifier > 0) {\n        if (this.playSpeed < 0) {\n          this.setSpeed(-this.playSpeed);\n        } else {\n          this.setDirection(-1);\n        }\n      }\n\n      this.timeCompleted = this.totalFrames = arr[0] - arr[1];\n      this.firstFrame = arr[1];\n      this.setCurrentRawFrameValue(this.totalFrames - 0.001 - offset);\n    } else if (arr[1] > arr[0]) {\n      if (this.frameModifier < 0) {\n        if (this.playSpeed < 0) {\n          this.setSpeed(-this.playSpeed);\n        } else {\n          this.setDirection(1);\n        }\n      }\n\n      this.timeCompleted = this.totalFrames = arr[1] - arr[0];\n      this.firstFrame = arr[0];\n      this.setCurrentRawFrameValue(0.001 + offset);\n    }\n\n    this.trigger('segmentStart');\n  };\n\n  AnimationItem.prototype.setSegment = function (init, end) {\n    var pendingFrame = -1;\n\n    if (this.isPaused) {\n      if (this.currentRawFrame + this.firstFrame < init) {\n        pendingFrame = init;\n      } else if (this.currentRawFrame + this.firstFrame > end) {\n        pendingFrame = end - init;\n      }\n    }\n\n    this.firstFrame = init;\n    this.timeCompleted = this.totalFrames = end - init;\n\n    if (pendingFrame !== -1) {\n      this.goToAndStop(pendingFrame, true);\n    }\n  };\n\n  AnimationItem.prototype.playSegments = function (arr, forceFlag) {\n    if (forceFlag) {\n      this.segments.length = 0;\n    }\n\n    if (typeof arr[0] === 'object') {\n      var i,\n          len = arr.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.segments.push(arr[i]);\n      }\n    } else {\n      this.segments.push(arr);\n    }\n\n    if (this.segments.length && forceFlag) {\n      this.adjustSegment(this.segments.shift(), 0);\n    }\n\n    if (this.isPaused) {\n      this.play();\n    }\n  };\n\n  AnimationItem.prototype.resetSegments = function (forceFlag) {\n    this.segments.length = 0;\n    this.segments.push([this.animationData.ip, this.animationData.op]); //this.segments.push([this.animationData.ip*this.frameRate,Math.floor(this.animationData.op - this.animationData.ip+this.animationData.ip*this.frameRate)]);\n\n    if (forceFlag) {\n      this.checkSegments(0);\n    }\n  };\n\n  AnimationItem.prototype.checkSegments = function (offset) {\n    if (this.segments.length) {\n      this.adjustSegment(this.segments.shift(), offset);\n      return true;\n    }\n\n    return false;\n  };\n\n  AnimationItem.prototype.destroy = function (name) {\n    if (name && this.name != name || !this.renderer) {\n      return;\n    }\n\n    this.renderer.destroy();\n    this.imagePreloader.destroy();\n    this.trigger('destroy');\n    this._cbs = null;\n    this.onEnterFrame = this.onLoopComplete = this.onComplete = this.onSegmentStart = this.onDestroy = null;\n    this.renderer = null;\n  };\n\n  AnimationItem.prototype.setCurrentRawFrameValue = function (value) {\n    this.currentRawFrame = value;\n    this.gotoFrame();\n  };\n\n  AnimationItem.prototype.setSpeed = function (val) {\n    this.playSpeed = val;\n    this.updaFrameModifier();\n  };\n\n  AnimationItem.prototype.setDirection = function (val) {\n    this.playDirection = val < 0 ? -1 : 1;\n    this.updaFrameModifier();\n  };\n\n  AnimationItem.prototype.setVolume = function (val, name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    this.audioController.setVolume(val);\n  };\n\n  AnimationItem.prototype.getVolume = function () {\n    return this.audioController.getVolume();\n  };\n\n  AnimationItem.prototype.mute = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    this.audioController.mute();\n  };\n\n  AnimationItem.prototype.unmute = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    this.audioController.unmute();\n  };\n\n  AnimationItem.prototype.updaFrameModifier = function () {\n    this.frameModifier = this.frameMult * this.playSpeed * this.playDirection;\n    this.audioController.setRate(this.playSpeed * this.playDirection);\n  };\n\n  AnimationItem.prototype.getPath = function () {\n    return this.path;\n  };\n\n  AnimationItem.prototype.getAssetsPath = function (assetData) {\n    var path = '';\n\n    if (assetData.e) {\n      path = assetData.p;\n    } else if (this.assetsPath) {\n      var imagePath = assetData.p;\n\n      if (imagePath.indexOf('images/') !== -1) {\n        imagePath = imagePath.split('/')[1];\n      }\n\n      path = this.assetsPath + imagePath;\n    } else {\n      path = this.path;\n      path += assetData.u ? assetData.u : '';\n      path += assetData.p;\n    }\n\n    return path;\n  };\n\n  AnimationItem.prototype.getAssetData = function (id) {\n    var i = 0,\n        len = this.assets.length;\n\n    while (i < len) {\n      if (id == this.assets[i].id) {\n        return this.assets[i];\n      }\n\n      i += 1;\n    }\n  };\n\n  AnimationItem.prototype.hide = function () {\n    this.renderer.hide();\n  };\n\n  AnimationItem.prototype.show = function () {\n    this.renderer.show();\n  };\n\n  AnimationItem.prototype.getDuration = function (isFrame) {\n    return isFrame ? this.totalFrames : this.totalFrames / this.frameRate;\n  };\n\n  AnimationItem.prototype.trigger = function (name) {\n    if (this._cbs && this._cbs[name]) {\n      switch (name) {\n        case 'enterFrame':\n          this.triggerEvent(name, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameModifier));\n          break;\n\n        case 'loopComplete':\n          this.triggerEvent(name, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\n          break;\n\n        case 'complete':\n          this.triggerEvent(name, new BMCompleteEvent(name, this.frameMult));\n          break;\n\n        case 'segmentStart':\n          this.triggerEvent(name, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\n          break;\n\n        case 'destroy':\n          this.triggerEvent(name, new BMDestroyEvent(name, this));\n          break;\n\n        default:\n          this.triggerEvent(name);\n      }\n    }\n\n    if (name === 'enterFrame' && this.onEnterFrame) {\n      this.onEnterFrame.call(this, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameMult));\n    }\n\n    if (name === 'loopComplete' && this.onLoopComplete) {\n      this.onLoopComplete.call(this, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\n    }\n\n    if (name === 'complete' && this.onComplete) {\n      this.onComplete.call(this, new BMCompleteEvent(name, this.frameMult));\n    }\n\n    if (name === 'segmentStart' && this.onSegmentStart) {\n      this.onSegmentStart.call(this, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\n    }\n\n    if (name === 'destroy' && this.onDestroy) {\n      this.onDestroy.call(this, new BMDestroyEvent(name, this));\n    }\n  };\n\n  AnimationItem.prototype.triggerRenderFrameError = function (nativeError) {\n    var error = new BMRenderFrameErrorEvent(nativeError, this.currentFrame);\n    this.triggerEvent('error', error);\n\n    if (this.onError) {\n      this.onError.call(this, error);\n    }\n  };\n\n  AnimationItem.prototype.triggerConfigError = function (nativeError) {\n    var error = new BMConfigErrorEvent(nativeError, this.currentFrame);\n    this.triggerEvent('error', error);\n\n    if (this.onError) {\n      this.onError.call(this, error);\n    }\n  };\n\n  var Expressions = function () {\n    var ob = {};\n    ob.initExpressions = initExpressions;\n\n    function initExpressions(animation) {\n      var stackCount = 0;\n      var registers = [];\n\n      function pushExpression() {\n        stackCount += 1;\n      }\n\n      function popExpression() {\n        stackCount -= 1;\n\n        if (stackCount === 0) {\n          releaseInstances();\n        }\n      }\n\n      function registerExpressionProperty(expression) {\n        if (registers.indexOf(expression) === -1) {\n          registers.push(expression);\n        }\n      }\n\n      function releaseInstances() {\n        var i,\n            len = registers.length;\n\n        for (i = 0; i < len; i += 1) {\n          registers[i].release();\n        }\n\n        registers.length = 0;\n      }\n\n      animation.renderer.compInterface = CompExpressionInterface(animation.renderer);\n      animation.renderer.globalData.projectInterface.registerComposition(animation.renderer);\n      animation.renderer.globalData.pushExpression = pushExpression;\n      animation.renderer.globalData.popExpression = popExpression;\n      animation.renderer.globalData.registerExpressionProperty = registerExpressionProperty;\n    }\n\n    return ob;\n  }();\n\n  expressionsPlugin = Expressions;\n\n  var ExpressionManager = function () {\n    'use strict';\n\n    var ob = {};\n    var Math = BMMath;\n    var window = null;\n    var document = null;\n\n    function $bm_isInstanceOfArray(arr) {\n      return arr.constructor === Array || arr.constructor === Float32Array;\n    }\n\n    function isNumerable(tOfV, v) {\n      return tOfV === 'number' || tOfV === 'boolean' || tOfV === 'string' || v instanceof Number;\n    }\n\n    function $bm_neg(a) {\n      var tOfA = typeof a;\n\n      if (tOfA === 'number' || tOfA === 'boolean' || a instanceof Number) {\n        return -a;\n      }\n\n      if ($bm_isInstanceOfArray(a)) {\n        var i,\n            lenA = a.length;\n        var retArr = [];\n\n        for (i = 0; i < lenA; i += 1) {\n          retArr[i] = -a[i];\n        }\n\n        return retArr;\n      }\n\n      if (a.propType) {\n        return a.v;\n      }\n    }\n\n    var easeInBez = BezierFactory.getBezierEasing(0.333, 0, .833, .833, 'easeIn').get;\n    var easeOutBez = BezierFactory.getBezierEasing(0.167, 0.167, .667, 1, 'easeOut').get;\n    var easeInOutBez = BezierFactory.getBezierEasing(.33, 0, .667, 1, 'easeInOut').get;\n\n    function sum(a, b) {\n      var tOfA = typeof a;\n      var tOfB = typeof b;\n\n      if (tOfA === 'string' || tOfB === 'string') {\n        return a + b;\n      }\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n        return a + b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        a = a.slice(0);\n        a[0] = a[0] + b;\n        return a;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        b = b.slice(0);\n        b[0] = a + b[0];\n        return b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\n        var i = 0,\n            lenA = a.length,\n            lenB = b.length;\n        var retArr = [];\n\n        while (i < lenA || i < lenB) {\n          if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\n            retArr[i] = a[i] + b[i];\n          } else {\n            retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\n          }\n\n          i += 1;\n        }\n\n        return retArr;\n      }\n\n      return 0;\n    }\n\n    var add = sum;\n\n    function sub(a, b) {\n      var tOfA = typeof a;\n      var tOfB = typeof b;\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n        if (tOfA === 'string') {\n          a = parseInt(a);\n        }\n\n        if (tOfB === 'string') {\n          b = parseInt(b);\n        }\n\n        return a - b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        a = a.slice(0);\n        a[0] = a[0] - b;\n        return a;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        b = b.slice(0);\n        b[0] = a - b[0];\n        return b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\n        var i = 0,\n            lenA = a.length,\n            lenB = b.length;\n        var retArr = [];\n\n        while (i < lenA || i < lenB) {\n          if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\n            retArr[i] = a[i] - b[i];\n          } else {\n            retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\n          }\n\n          i += 1;\n        }\n\n        return retArr;\n      }\n\n      return 0;\n    }\n\n    function mul(a, b) {\n      var tOfA = typeof a;\n      var tOfB = typeof b;\n      var arr;\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n        return a * b;\n      }\n\n      var i, len;\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        len = a.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a[i] * b;\n        }\n\n        return arr;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        len = b.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a * b[i];\n        }\n\n        return arr;\n      }\n\n      return 0;\n    }\n\n    function div(a, b) {\n      var tOfA = typeof a;\n      var tOfB = typeof b;\n      var arr;\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n        return a / b;\n      }\n\n      var i, len;\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        len = a.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a[i] / b;\n        }\n\n        return arr;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        len = b.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a / b[i];\n        }\n\n        return arr;\n      }\n\n      return 0;\n    }\n\n    function mod(a, b) {\n      if (typeof a === 'string') {\n        a = parseInt(a);\n      }\n\n      if (typeof b === 'string') {\n        b = parseInt(b);\n      }\n\n      return a % b;\n    }\n\n    var $bm_sum = sum;\n    var $bm_sub = sub;\n    var $bm_mul = mul;\n    var $bm_div = div;\n    var $bm_mod = mod;\n\n    function clamp(num, min, max) {\n      if (min > max) {\n        var mm = max;\n        max = min;\n        min = mm;\n      }\n\n      return Math.min(Math.max(num, min), max);\n    }\n\n    function radiansToDegrees(val) {\n      return val / degToRads;\n    }\n\n    var radians_to_degrees = radiansToDegrees;\n\n    function degreesToRadians(val) {\n      return val * degToRads;\n    }\n\n    var degrees_to_radians = radiansToDegrees;\n    var helperLengthArray = [0, 0, 0, 0, 0, 0];\n\n    function length(arr1, arr2) {\n      if (typeof arr1 === 'number' || arr1 instanceof Number) {\n        arr2 = arr2 || 0;\n        return Math.abs(arr1 - arr2);\n      }\n\n      if (!arr2) {\n        arr2 = helperLengthArray;\n      }\n\n      var i,\n          len = Math.min(arr1.length, arr2.length);\n      var addedLength = 0;\n\n      for (i = 0; i < len; i += 1) {\n        addedLength += Math.pow(arr2[i] - arr1[i], 2);\n      }\n\n      return Math.sqrt(addedLength);\n    }\n\n    function normalize(vec) {\n      return div(vec, length(vec));\n    }\n\n    function rgbToHsl(val) {\n      var r = val[0];\n      var g = val[1];\n      var b = val[2];\n      var max = Math.max(r, g, b),\n          min = Math.min(r, g, b);\n      var h,\n          s,\n          l = (max + min) / 2;\n\n      if (max == min) {\n        h = s = 0; // achromatic\n      } else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n\n        switch (max) {\n          case r:\n            h = (g - b) / d + (g < b ? 6 : 0);\n            break;\n\n          case g:\n            h = (b - r) / d + 2;\n            break;\n\n          case b:\n            h = (r - g) / d + 4;\n            break;\n        }\n\n        h /= 6;\n      }\n\n      return [h, s, l, val[3]];\n    }\n\n    function hue2rgb(p, q, t) {\n      if (t < 0) t += 1;\n      if (t > 1) t -= 1;\n      if (t < 1 / 6) return p + (q - p) * 6 * t;\n      if (t < 1 / 2) return q;\n      if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n      return p;\n    }\n\n    function hslToRgb(val) {\n      var h = val[0];\n      var s = val[1];\n      var l = val[2];\n      var r, g, b;\n\n      if (s === 0) {\n        r = g = b = l; // achromatic\n      } else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1 / 3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1 / 3);\n      }\n\n      return [r, g, b, val[3]];\n    }\n\n    function linear(t, tMin, tMax, value1, value2) {\n      if (value1 === undefined || value2 === undefined) {\n        value1 = tMin;\n        value2 = tMax;\n        tMin = 0;\n        tMax = 1;\n      }\n\n      if (tMax < tMin) {\n        var _tMin = tMax;\n        tMax = tMin;\n        tMin = _tMin;\n      }\n\n      if (t <= tMin) {\n        return value1;\n      } else if (t >= tMax) {\n        return value2;\n      }\n\n      var perc = tMax === tMin ? 0 : (t - tMin) / (tMax - tMin);\n\n      if (!value1.length) {\n        return value1 + (value2 - value1) * perc;\n      }\n\n      var i,\n          len = value1.length;\n      var arr = createTypedArray('float32', len);\n\n      for (i = 0; i < len; i += 1) {\n        arr[i] = value1[i] + (value2[i] - value1[i]) * perc;\n      }\n\n      return arr;\n    }\n\n    function random(min, max) {\n      if (max === undefined) {\n        if (min === undefined) {\n          min = 0;\n          max = 1;\n        } else {\n          max = min;\n          min = undefined;\n        }\n      }\n\n      if (max.length) {\n        var i,\n            len = max.length;\n\n        if (!min) {\n          min = createTypedArray('float32', len);\n        }\n\n        var arr = createTypedArray('float32', len);\n        var rnd = BMMath.random();\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = min[i] + rnd * (max[i] - min[i]);\n        }\n\n        return arr;\n      }\n\n      if (min === undefined) {\n        min = 0;\n      }\n\n      var rndm = BMMath.random();\n      return min + rndm * (max - min);\n    }\n\n    function createPath(points, inTangents, outTangents, closed) {\n      var i,\n          len = points.length;\n      var path = shape_pool.newElement();\n      path.setPathData(!!closed, len);\n      var arrPlaceholder = [0, 0],\n          inVertexPoint,\n          outVertexPoint;\n\n      for (i = 0; i < len; i += 1) {\n        inVertexPoint = inTangents && inTangents[i] ? inTangents[i] : arrPlaceholder;\n        outVertexPoint = outTangents && outTangents[i] ? outTangents[i] : arrPlaceholder;\n        path.setTripleAt(points[i][0], points[i][1], outVertexPoint[0] + points[i][0], outVertexPoint[1] + points[i][1], inVertexPoint[0] + points[i][0], inVertexPoint[1] + points[i][1], i, true);\n      }\n\n      return path;\n    }\n\n    function initiateExpression(elem, data, property) {\n      var val = data.x;\n      var needsVelocity = /velocity(?![\\w\\d])/.test(val);\n\n      var _needsRandom = val.indexOf('random') !== -1;\n\n      var elemType = elem.data.ty;\n      var transform, $bm_transform, content, effect;\n      var thisProperty = property;\n      thisProperty.valueAtTime = thisProperty.getValueAtTime;\n      Object.defineProperty(thisProperty, 'value', {\n        get: function get() {\n          return thisProperty.v;\n        }\n      });\n      elem.comp.frameDuration = 1 / elem.comp.globalData.frameRate;\n      elem.comp.displayStartTime = 0;\n      var inPoint = elem.data.ip / elem.comp.globalData.frameRate;\n      var outPoint = elem.data.op / elem.comp.globalData.frameRate;\n      var width = elem.data.sw ? elem.data.sw : 0;\n      var height = elem.data.sh ? elem.data.sh : 0;\n      var name = elem.data.nm;\n      var loopIn, loop_in, loopOut, loop_out, smooth;\n      var toWorld, fromWorld, fromComp, toComp, fromCompToSurface, position, rotation, anchorPoint, scale, thisLayer, thisComp, mask, valueAtTime, velocityAtTime;\n      var __expression_functions = [];\n\n      if (data.xf) {\n        var i,\n            len = data.xf.length;\n\n        for (i = 0; i < len; i += 1) {\n          __expression_functions[i] = eval('(function(){ return ' + data.xf[i] + '}())');\n        }\n      }\n\n      var scoped_bm_rt;\n      var expression_function = eval('[function _expression_function(){' + val + ';scoped_bm_rt=$bm_rt}' + ']')[0];\n      var numKeys = property.kf ? data.k.length : 0;\n      var active = !this.data || this.data.hd !== true;\n\n      var wiggle = function wiggle(freq, amp) {\n        var i,\n            j,\n            len = this.pv.length ? this.pv.length : 1;\n        var addedAmps = createTypedArray('float32', len);\n        freq = 5;\n        var iterations = Math.floor(time * freq);\n        i = 0;\n        j = 0;\n\n        while (i < iterations) {\n          //var rnd = BMMath.random();\n          for (j = 0; j < len; j += 1) {\n            addedAmps[j] += -amp + amp * 2 * BMMath.random(); //addedAmps[j] += -amp + amp*2*rnd;\n          }\n\n          i += 1;\n        } //var rnd2 = BMMath.random();\n\n\n        var periods = time * freq;\n        var perc = periods - Math.floor(periods);\n        var arr = createTypedArray('float32', len);\n\n        if (len > 1) {\n          for (j = 0; j < len; j += 1) {\n            arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp * 2 * BMMath.random()) * perc; //arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp*2*rnd)*perc;\n            //arr[i] = this.pv[i] + addedAmp + amp1*perc + amp2*(1-perc);\n          }\n\n          return arr;\n        } else {\n          return this.pv + addedAmps[0] + (-amp + amp * 2 * BMMath.random()) * perc;\n        }\n      }.bind(this);\n\n      if (thisProperty.loopIn) {\n        loopIn = thisProperty.loopIn.bind(thisProperty);\n        loop_in = loopIn;\n      }\n\n      if (thisProperty.loopOut) {\n        loopOut = thisProperty.loopOut.bind(thisProperty);\n        loop_out = loopOut;\n      }\n\n      if (thisProperty.smooth) {\n        smooth = thisProperty.smooth.bind(thisProperty);\n      }\n\n      function loopInDuration(type, duration) {\n        return loopIn(type, duration, true);\n      }\n\n      function loopOutDuration(type, duration) {\n        return loopOut(type, duration, true);\n      }\n\n      if (this.getValueAtTime) {\n        valueAtTime = this.getValueAtTime.bind(this);\n      }\n\n      if (this.getVelocityAtTime) {\n        velocityAtTime = this.getVelocityAtTime.bind(this);\n      }\n\n      var comp = elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);\n\n      function lookAt(elem1, elem2) {\n        var fVec = [elem2[0] - elem1[0], elem2[1] - elem1[1], elem2[2] - elem1[2]];\n        var pitch = Math.atan2(fVec[0], Math.sqrt(fVec[1] * fVec[1] + fVec[2] * fVec[2])) / degToRads;\n        var yaw = -Math.atan2(fVec[1], fVec[2]) / degToRads;\n        return [yaw, pitch, 0];\n      }\n\n      function easeOut(t, tMin, tMax, val1, val2) {\n        return applyEase(easeOutBez, t, tMin, tMax, val1, val2);\n      }\n\n      function easeIn(t, tMin, tMax, val1, val2) {\n        return applyEase(easeInBez, t, tMin, tMax, val1, val2);\n      }\n\n      function ease(t, tMin, tMax, val1, val2) {\n        return applyEase(easeInOutBez, t, tMin, tMax, val1, val2);\n      }\n\n      function applyEase(fn, t, tMin, tMax, val1, val2) {\n        if (val1 === undefined) {\n          val1 = tMin;\n          val2 = tMax;\n        } else {\n          t = (t - tMin) / (tMax - tMin);\n        }\n\n        t = t > 1 ? 1 : t < 0 ? 0 : t;\n        var mult = fn(t);\n\n        if ($bm_isInstanceOfArray(val1)) {\n          var i,\n              len = val1.length;\n          var arr = createTypedArray('float32', len);\n\n          for (i = 0; i < len; i += 1) {\n            arr[i] = (val2[i] - val1[i]) * mult + val1[i];\n          }\n\n          return arr;\n        } else {\n          return (val2 - val1) * mult + val1;\n        }\n      }\n\n      function nearestKey(time) {\n        var i,\n            len = data.k.length,\n            index,\n            keyTime;\n\n        if (!data.k.length || typeof data.k[0] === 'number') {\n          index = 0;\n          keyTime = 0;\n        } else {\n          index = -1;\n          time *= elem.comp.globalData.frameRate;\n\n          if (time < data.k[0].t) {\n            index = 1;\n            keyTime = data.k[0].t;\n          } else {\n            for (i = 0; i < len - 1; i += 1) {\n              if (time === data.k[i].t) {\n                index = i + 1;\n                keyTime = data.k[i].t;\n                break;\n              } else if (time > data.k[i].t && time < data.k[i + 1].t) {\n                if (time - data.k[i].t > data.k[i + 1].t - time) {\n                  index = i + 2;\n                  keyTime = data.k[i + 1].t;\n                } else {\n                  index = i + 1;\n                  keyTime = data.k[i].t;\n                }\n\n                break;\n              }\n            }\n\n            if (index === -1) {\n              index = i + 1;\n              keyTime = data.k[i].t;\n            }\n          }\n        }\n\n        var ob = {};\n        ob.index = index;\n        ob.time = keyTime / elem.comp.globalData.frameRate;\n        return ob;\n      }\n\n      function key(ind) {\n        var ob, i, len;\n\n        if (!data.k.length || typeof data.k[0] === 'number') {\n          throw new Error('The property has no keyframe at index ' + ind);\n        }\n\n        ind -= 1;\n        ob = {\n          time: data.k[ind].t / elem.comp.globalData.frameRate,\n          value: []\n        };\n        var arr = data.k[ind].hasOwnProperty('s') ? data.k[ind].s : data.k[ind - 1].e;\n        len = arr.length;\n\n        for (i = 0; i < len; i += 1) {\n          ob[i] = arr[i];\n          ob.value[i] = arr[i];\n        }\n\n        return ob;\n      }\n\n      function framesToTime(frames, fps) {\n        if (!fps) {\n          fps = elem.comp.globalData.frameRate;\n        }\n\n        return frames / fps;\n      }\n\n      function timeToFrames(t, fps) {\n        if (!t && t !== 0) {\n          t = time;\n        }\n\n        if (!fps) {\n          fps = elem.comp.globalData.frameRate;\n        }\n\n        return t * fps;\n      }\n\n      function seedRandom(seed) {\n        BMMath.seedrandom(randSeed + seed);\n      }\n\n      function sourceRectAtTime() {\n        return elem.sourceRectAtTime();\n      }\n\n      function substring(init, end) {\n        if (typeof value === 'string') {\n          if (end === undefined) {\n            return value.substring(init);\n          }\n\n          return value.substring(init, end);\n        }\n\n        return '';\n      }\n\n      function substr(init, end) {\n        if (typeof value === 'string') {\n          if (end === undefined) {\n            return value.substr(init);\n          }\n\n          return value.substr(init, end);\n        }\n\n        return '';\n      }\n\n      function posterizeTime(framesPerSecond) {\n        time = framesPerSecond === 0 ? 0 : Math.floor(time * framesPerSecond) / framesPerSecond;\n        value = valueAtTime(time);\n      }\n\n      var time, velocity, value, text, textIndex, textTotal, selectorValue;\n      var index = elem.data.ind;\n      var hasParent = !!(elem.hierarchy && elem.hierarchy.length);\n      var parent;\n      var randSeed = Math.floor(Math.random() * 1000000);\n      var globalData = elem.globalData;\n\n      function executeExpression(_value) {\n        // globalData.pushExpression();\n        value = _value;\n\n        if (_needsRandom) {\n          seedRandom(randSeed);\n        }\n\n        if (this.frameExpressionId === elem.globalData.frameId && this.propType !== 'textSelector') {\n          return value;\n        }\n\n        if (this.propType === 'textSelector') {\n          textIndex = this.textIndex;\n          textTotal = this.textTotal;\n          selectorValue = this.selectorValue;\n        }\n\n        if (!thisLayer) {\n          text = elem.layerInterface.text;\n          thisLayer = elem.layerInterface;\n          thisComp = elem.comp.compInterface;\n          toWorld = thisLayer.toWorld.bind(thisLayer);\n          fromWorld = thisLayer.fromWorld.bind(thisLayer);\n          fromComp = thisLayer.fromComp.bind(thisLayer);\n          toComp = thisLayer.toComp.bind(thisLayer);\n          mask = thisLayer.mask ? thisLayer.mask.bind(thisLayer) : null;\n          fromCompToSurface = fromComp;\n        }\n\n        if (!transform) {\n          transform = elem.layerInterface(\"ADBE Transform Group\");\n          $bm_transform = transform;\n\n          if (transform) {\n            anchorPoint = transform.anchorPoint;\n            /*position = transform.position;\r\n            rotation = transform.rotation;\r\n            scale = transform.scale;*/\n          }\n        }\n\n        if (elemType === 4 && !content) {\n          content = thisLayer(\"ADBE Root Vectors Group\");\n        }\n\n        if (!effect) {\n          effect = thisLayer(4);\n        }\n\n        hasParent = !!(elem.hierarchy && elem.hierarchy.length);\n\n        if (hasParent && !parent) {\n          parent = elem.hierarchy[0].layerInterface;\n        }\n\n        time = this.comp.renderedFrame / this.comp.globalData.frameRate;\n\n        if (needsVelocity) {\n          velocity = velocityAtTime(time);\n        }\n\n        expression_function();\n        this.frameExpressionId = elem.globalData.frameId; //TODO: Check if it's possible to return on ShapeInterface the .v value\n\n        if (scoped_bm_rt.propType === \"shape\") {\n          scoped_bm_rt = scoped_bm_rt.v;\n        } // globalData.popExpression();\n\n\n        return scoped_bm_rt;\n      }\n\n      return executeExpression;\n    }\n\n    ob.initiateExpression = initiateExpression;\n    return ob;\n  }();\n\n  var expressionHelpers = function () {\n    function searchExpressions(elem, data, prop) {\n      if (data.x) {\n        prop.k = true;\n        prop.x = true;\n        prop.initiateExpression = ExpressionManager.initiateExpression;\n        prop.effectsSequence.push(prop.initiateExpression(elem, data, prop).bind(prop));\n      }\n    }\n\n    function getValueAtTime(frameNum) {\n      frameNum *= this.elem.globalData.frameRate;\n      frameNum -= this.offsetTime;\n\n      if (frameNum !== this._cachingAtTime.lastFrame) {\n        this._cachingAtTime.lastIndex = this._cachingAtTime.lastFrame < frameNum ? this._cachingAtTime.lastIndex : 0;\n        this._cachingAtTime.value = this.interpolateValue(frameNum, this._cachingAtTime);\n        this._cachingAtTime.lastFrame = frameNum;\n      }\n\n      return this._cachingAtTime.value;\n    }\n\n    function getSpeedAtTime(frameNum) {\n      var delta = -0.01;\n      var v1 = this.getValueAtTime(frameNum);\n      var v2 = this.getValueAtTime(frameNum + delta);\n      var speed = 0;\n\n      if (v1.length) {\n        var i;\n\n        for (i = 0; i < v1.length; i += 1) {\n          speed += Math.pow(v2[i] - v1[i], 2);\n        }\n\n        speed = Math.sqrt(speed) * 100;\n      } else {\n        speed = 0;\n      }\n\n      return speed;\n    }\n\n    function getVelocityAtTime(frameNum) {\n      if (this.vel !== undefined) {\n        return this.vel;\n      }\n\n      var delta = -0.001; //frameNum += this.elem.data.st;\n\n      var v1 = this.getValueAtTime(frameNum);\n      var v2 = this.getValueAtTime(frameNum + delta);\n      var velocity;\n\n      if (v1.length) {\n        velocity = createTypedArray('float32', v1.length);\n        var i;\n\n        for (i = 0; i < v1.length; i += 1) {\n          //removing frameRate\n          //if needed, don't add it here\n          //velocity[i] = this.elem.globalData.frameRate*((v2[i] - v1[i])/delta);\n          velocity[i] = (v2[i] - v1[i]) / delta;\n        }\n      } else {\n        velocity = (v2 - v1) / delta;\n      }\n\n      return velocity;\n    }\n\n    function getStaticValueAtTime() {\n      return this.pv;\n    }\n\n    function setGroupProperty(propertyGroup) {\n      this.propertyGroup = propertyGroup;\n    }\n\n    return {\n      searchExpressions: searchExpressions,\n      getSpeedAtTime: getSpeedAtTime,\n      getVelocityAtTime: getVelocityAtTime,\n      getValueAtTime: getValueAtTime,\n      getStaticValueAtTime: getStaticValueAtTime,\n      setGroupProperty: setGroupProperty\n    };\n  }();\n\n  (function addPropertyDecorator() {\n    function loopOut(type, duration, durationFlag) {\n      if (!this.k || !this.keyframes) {\n        return this.pv;\n      }\n\n      type = type ? type.toLowerCase() : '';\n      var currentFrame = this.comp.renderedFrame;\n      var keyframes = this.keyframes;\n      var lastKeyFrame = keyframes[keyframes.length - 1].t;\n\n      if (currentFrame <= lastKeyFrame) {\n        return this.pv;\n      } else {\n        var cycleDuration, firstKeyFrame;\n\n        if (!durationFlag) {\n          if (!duration || duration > keyframes.length - 1) {\n            duration = keyframes.length - 1;\n          }\n\n          firstKeyFrame = keyframes[keyframes.length - 1 - duration].t;\n          cycleDuration = lastKeyFrame - firstKeyFrame;\n        } else {\n          if (!duration) {\n            cycleDuration = Math.max(0, lastKeyFrame - this.elem.data.ip);\n          } else {\n            cycleDuration = Math.abs(lastKeyFrame - elem.comp.globalData.frameRate * duration);\n          }\n\n          firstKeyFrame = lastKeyFrame - cycleDuration;\n        }\n\n        var i, len, ret;\n\n        if (type === 'pingpong') {\n          var iterations = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\n\n          if (iterations % 2 !== 0) {\n            return this.getValueAtTime((cycleDuration - (currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0);\n          }\n        } else if (type === 'offset') {\n          var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\n          var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\n          var current = this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0);\n          var repeats = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\n\n          if (this.pv.length) {\n            ret = new Array(initV.length);\n            len = ret.length;\n\n            for (i = 0; i < len; i += 1) {\n              ret[i] = (endV[i] - initV[i]) * repeats + current[i];\n            }\n\n            return ret;\n          }\n\n          return (endV - initV) * repeats + current;\n        } else if (type === 'continue') {\n          var lastValue = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\n          var nextLastValue = this.getValueAtTime((lastKeyFrame - 0.001) / this.comp.globalData.frameRate, 0);\n\n          if (this.pv.length) {\n            ret = new Array(lastValue.length);\n            len = ret.length;\n\n            for (i = 0; i < len; i += 1) {\n              ret[i] = lastValue[i] + (lastValue[i] - nextLastValue[i]) * ((currentFrame - lastKeyFrame) / this.comp.globalData.frameRate) / 0.0005;\n            }\n\n            return ret;\n          }\n\n          return lastValue + (lastValue - nextLastValue) * ((currentFrame - lastKeyFrame) / 0.001);\n        }\n\n        return this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0);\n      }\n    }\n\n    function loopIn(type, duration, durationFlag) {\n      if (!this.k) {\n        return this.pv;\n      }\n\n      type = type ? type.toLowerCase() : '';\n      var currentFrame = this.comp.renderedFrame;\n      var keyframes = this.keyframes;\n      var firstKeyFrame = keyframes[0].t;\n\n      if (currentFrame >= firstKeyFrame) {\n        return this.pv;\n      } else {\n        var cycleDuration, lastKeyFrame;\n\n        if (!durationFlag) {\n          if (!duration || duration > keyframes.length - 1) {\n            duration = keyframes.length - 1;\n          }\n\n          lastKeyFrame = keyframes[duration].t;\n          cycleDuration = lastKeyFrame - firstKeyFrame;\n        } else {\n          if (!duration) {\n            cycleDuration = Math.max(0, this.elem.data.op - firstKeyFrame);\n          } else {\n            cycleDuration = Math.abs(elem.comp.globalData.frameRate * duration);\n          }\n\n          lastKeyFrame = firstKeyFrame + cycleDuration;\n        }\n\n        var i, len, ret;\n\n        if (type === 'pingpong') {\n          var iterations = Math.floor((firstKeyFrame - currentFrame) / cycleDuration);\n\n          if (iterations % 2 === 0) {\n            return this.getValueAtTime(((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0);\n          }\n        } else if (type === 'offset') {\n          var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\n          var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\n          var current = this.getValueAtTime((cycleDuration - (firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0);\n          var repeats = Math.floor((firstKeyFrame - currentFrame) / cycleDuration) + 1;\n\n          if (this.pv.length) {\n            ret = new Array(initV.length);\n            len = ret.length;\n\n            for (i = 0; i < len; i += 1) {\n              ret[i] = current[i] - (endV[i] - initV[i]) * repeats;\n            }\n\n            return ret;\n          }\n\n          return current - (endV - initV) * repeats;\n        } else if (type === 'continue') {\n          var firstValue = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\n          var nextFirstValue = this.getValueAtTime((firstKeyFrame + 0.001) / this.comp.globalData.frameRate, 0);\n\n          if (this.pv.length) {\n            ret = new Array(firstValue.length);\n            len = ret.length;\n\n            for (i = 0; i < len; i += 1) {\n              ret[i] = firstValue[i] + (firstValue[i] - nextFirstValue[i]) * (firstKeyFrame - currentFrame) / 0.001;\n            }\n\n            return ret;\n          }\n\n          return firstValue + (firstValue - nextFirstValue) * (firstKeyFrame - currentFrame) / 0.001;\n        }\n\n        return this.getValueAtTime((cycleDuration - (firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0);\n      }\n    }\n\n    function smooth(width, samples) {\n      if (!this.k) {\n        return this.pv;\n      }\n\n      width = (width || 0.4) * 0.5;\n      samples = Math.floor(samples || 5);\n\n      if (samples <= 1) {\n        return this.pv;\n      }\n\n      var currentTime = this.comp.renderedFrame / this.comp.globalData.frameRate;\n      var initFrame = currentTime - width;\n      var endFrame = currentTime + width;\n      var sampleFrequency = samples > 1 ? (endFrame - initFrame) / (samples - 1) : 1;\n      var i = 0,\n          j = 0;\n      var value;\n\n      if (this.pv.length) {\n        value = createTypedArray('float32', this.pv.length);\n      } else {\n        value = 0;\n      }\n\n      var sampleValue;\n\n      while (i < samples) {\n        sampleValue = this.getValueAtTime(initFrame + i * sampleFrequency);\n\n        if (this.pv.length) {\n          for (j = 0; j < this.pv.length; j += 1) {\n            value[j] += sampleValue[j];\n          }\n        } else {\n          value += sampleValue;\n        }\n\n        i += 1;\n      }\n\n      if (this.pv.length) {\n        for (j = 0; j < this.pv.length; j += 1) {\n          value[j] /= samples;\n        }\n      } else {\n        value /= samples;\n      }\n\n      return value;\n    }\n\n    function getValueAtTime(frameNum) {\n      frameNum *= this.elem.globalData.frameRate;\n      frameNum -= this.offsetTime;\n\n      if (frameNum !== this._cachingAtTime.lastFrame) {\n        this._cachingAtTime.lastIndex = this._cachingAtTime.lastFrame < frameNum ? this._cachingAtTime.lastIndex : 0;\n        this._cachingAtTime.value = this.interpolateValue(frameNum, this._cachingAtTime);\n        this._cachingAtTime.lastFrame = frameNum;\n      }\n\n      return this._cachingAtTime.value;\n    }\n\n    function getTransformValueAtTime(time) {\n      if (!this._transformCachingAtTime) {\n        this._transformCachingAtTime = {\n          v: new Matrix()\n        };\n      } ////\n\n\n      var matrix = this._transformCachingAtTime.v;\n      matrix.cloneFromProps(this.pre.props);\n\n      if (this.appliedTransformations < 1) {\n        var anchor = this.a.getValueAtTime(time);\n        matrix.translate(-anchor[0], -anchor[1], anchor[2]);\n      }\n\n      if (this.appliedTransformations < 2) {\n        var scale = this.s.getValueAtTime(time);\n        matrix.scale(scale[0], scale[1], scale[2]);\n      }\n\n      if (this.sk && this.appliedTransformations < 3) {\n        var skew = this.sk.getValueAtTime(time);\n        var skewAxis = this.sa.getValueAtTime(time);\n        matrix.skewFromAxis(-skew, skewAxis);\n      }\n\n      if (this.r && this.appliedTransformations < 4) {\n        var rotation = this.r.getValueAtTime(time);\n        matrix.rotate(-rotation);\n      } else if (!this.r && this.appliedTransformations < 4) {\n        var rotationZ = this.rz.getValueAtTime(time);\n        var rotationY = this.ry.getValueAtTime(time);\n        var rotationX = this.rx.getValueAtTime(time);\n        var orientation = this.or.getValueAtTime(time);\n        matrix.rotateZ(-rotationZ.v).rotateY(rotationY.v).rotateX(rotationX.v).rotateZ(-orientation[2]).rotateY(orientation[1]).rotateX(orientation[0]);\n      }\n\n      if (this.data.p && this.data.p.s) {\n        var positionX = this.px.getValueAtTime(time);\n        var positionY = this.py.getValueAtTime(time);\n\n        if (this.data.p.z) {\n          var positionZ = this.pz.getValueAtTime(time);\n          matrix.translate(positionX, positionY, -positionZ);\n        } else {\n          matrix.translate(positionX, positionY, 0);\n        }\n      } else {\n        var position = this.p.getValueAtTime(time);\n        matrix.translate(position[0], position[1], -position[2]);\n      }\n\n      return matrix; ////\n    }\n\n    function getTransformStaticValueAtTime(time) {}\n\n    var getTransformProperty = TransformPropertyFactory.getTransformProperty;\n\n    TransformPropertyFactory.getTransformProperty = function (elem, data, container) {\n      var prop = getTransformProperty(elem, data, container);\n\n      if (prop.dynamicProperties.length) {\n        prop.getValueAtTime = getTransformValueAtTime.bind(prop);\n      } else {\n        prop.getValueAtTime = getTransformStaticValueAtTime.bind(prop);\n      }\n\n      prop.setGroupProperty = expressionHelpers.setGroupProperty;\n      return prop;\n    };\n\n    var propertyGetProp = PropertyFactory.getProp;\n\n    PropertyFactory.getProp = function (elem, data, type, mult, container) {\n      var prop = propertyGetProp(elem, data, type, mult, container); //prop.getVelocityAtTime = getVelocityAtTime;\n      //prop.loopOut = loopOut;\n      //prop.loopIn = loopIn;\n\n      if (prop.kf) {\n        prop.getValueAtTime = expressionHelpers.getValueAtTime.bind(prop);\n      } else {\n        prop.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(prop);\n      }\n\n      prop.setGroupProperty = expressionHelpers.setGroupProperty;\n      prop.loopOut = loopOut;\n      prop.loopIn = loopIn;\n      prop.smooth = smooth;\n      prop.getVelocityAtTime = expressionHelpers.getVelocityAtTime.bind(prop);\n      prop.getSpeedAtTime = expressionHelpers.getSpeedAtTime.bind(prop);\n      prop.numKeys = data.a === 1 ? data.k.length : 0;\n      prop.propertyIndex = data.ix;\n      var value = 0;\n\n      if (type !== 0) {\n        value = createTypedArray('float32', data.a === 1 ? data.k[0].s.length : data.k.length);\n      }\n\n      prop._cachingAtTime = {\n        lastFrame: initialDefaultFrame,\n        lastIndex: 0,\n        value: value\n      };\n      expressionHelpers.searchExpressions(elem, data, prop);\n\n      if (prop.k) {\n        container.addDynamicProperty(prop);\n      }\n\n      return prop;\n    };\n\n    function getShapeValueAtTime(frameNum) {\n      //For now this caching object is created only when needed instead of creating it when the shape is initialized.\n      if (!this._cachingAtTime) {\n        this._cachingAtTime = {\n          shapeValue: shape_pool.clone(this.pv),\n          lastIndex: 0,\n          lastTime: initialDefaultFrame\n        };\n      }\n\n      frameNum *= this.elem.globalData.frameRate;\n      frameNum -= this.offsetTime;\n\n      if (frameNum !== this._cachingAtTime.lastTime) {\n        this._cachingAtTime.lastIndex = this._cachingAtTime.lastTime < frameNum ? this._caching.lastIndex : 0;\n        this._cachingAtTime.lastTime = frameNum;\n        this.interpolateShape(frameNum, this._cachingAtTime.shapeValue, this._cachingAtTime);\n      }\n\n      return this._cachingAtTime.shapeValue;\n    }\n\n    var ShapePropertyConstructorFunction = ShapePropertyFactory.getConstructorFunction();\n    var KeyframedShapePropertyConstructorFunction = ShapePropertyFactory.getKeyframedConstructorFunction();\n\n    function ShapeExpressions() {}\n\n    ShapeExpressions.prototype = {\n      vertices: function vertices(prop, time) {\n        if (this.k) {\n          this.getValue();\n        }\n\n        var shapePath = this.v;\n\n        if (time !== undefined) {\n          shapePath = this.getValueAtTime(time, 0);\n        }\n\n        var i,\n            len = shapePath._length;\n        var vertices = shapePath[prop];\n        var points = shapePath.v;\n        var arr = createSizedArray(len);\n\n        for (i = 0; i < len; i += 1) {\n          if (prop === 'i' || prop === 'o') {\n            arr[i] = [vertices[i][0] - points[i][0], vertices[i][1] - points[i][1]];\n          } else {\n            arr[i] = [vertices[i][0], vertices[i][1]];\n          }\n        }\n\n        return arr;\n      },\n      points: function points(time) {\n        return this.vertices('v', time);\n      },\n      inTangents: function inTangents(time) {\n        return this.vertices('i', time);\n      },\n      outTangents: function outTangents(time) {\n        return this.vertices('o', time);\n      },\n      isClosed: function isClosed() {\n        return this.v.c;\n      },\n      pointOnPath: function pointOnPath(perc, time) {\n        var shapePath = this.v;\n\n        if (time !== undefined) {\n          shapePath = this.getValueAtTime(time, 0);\n        }\n\n        if (!this._segmentsLength) {\n          this._segmentsLength = bez.getSegmentsLength(shapePath);\n        }\n\n        var segmentsLength = this._segmentsLength;\n        var lengths = segmentsLength.lengths;\n        var lengthPos = segmentsLength.totalLength * perc;\n        var i = 0,\n            len = lengths.length;\n        var j = 0,\n            jLen;\n        var accumulatedLength = 0,\n            pt;\n\n        while (i < len) {\n          if (accumulatedLength + lengths[i].addedLength > lengthPos) {\n            var initIndex = i;\n            var endIndex = shapePath.c && i === len - 1 ? 0 : i + 1;\n            var segmentPerc = (lengthPos - accumulatedLength) / lengths[i].addedLength;\n            pt = bez.getPointInSegment(shapePath.v[initIndex], shapePath.v[endIndex], shapePath.o[initIndex], shapePath.i[endIndex], segmentPerc, lengths[i]);\n            break;\n          } else {\n            accumulatedLength += lengths[i].addedLength;\n          }\n\n          i += 1;\n        }\n\n        if (!pt) {\n          pt = shapePath.c ? [shapePath.v[0][0], shapePath.v[0][1]] : [shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1]];\n        }\n\n        return pt;\n      },\n      vectorOnPath: function vectorOnPath(perc, time, vectorType) {\n        //perc doesn't use triple equality because it can be a Number object as well as a primitive.\n        perc = perc == 1 ? this.v.c ? 0 : 0.999 : perc;\n        var pt1 = this.pointOnPath(perc, time);\n        var pt2 = this.pointOnPath(perc + 0.001, time);\n        var xLength = pt2[0] - pt1[0];\n        var yLength = pt2[1] - pt1[1];\n        var magnitude = Math.sqrt(Math.pow(xLength, 2) + Math.pow(yLength, 2));\n\n        if (magnitude === 0) {\n          return [0, 0];\n        }\n\n        var unitVector = vectorType === 'tangent' ? [xLength / magnitude, yLength / magnitude] : [-yLength / magnitude, xLength / magnitude];\n        return unitVector;\n      },\n      tangentOnPath: function tangentOnPath(perc, time) {\n        return this.vectorOnPath(perc, time, 'tangent');\n      },\n      normalOnPath: function normalOnPath(perc, time) {\n        return this.vectorOnPath(perc, time, 'normal');\n      },\n      setGroupProperty: expressionHelpers.setGroupProperty,\n      getValueAtTime: expressionHelpers.getStaticValueAtTime\n    };\n    extendPrototype([ShapeExpressions], ShapePropertyConstructorFunction);\n    extendPrototype([ShapeExpressions], KeyframedShapePropertyConstructorFunction);\n    KeyframedShapePropertyConstructorFunction.prototype.getValueAtTime = getShapeValueAtTime;\n    KeyframedShapePropertyConstructorFunction.prototype.initiateExpression = ExpressionManager.initiateExpression;\n    var propertyGetShapeProp = ShapePropertyFactory.getShapeProp;\n\n    ShapePropertyFactory.getShapeProp = function (elem, data, type, arr, trims) {\n      var prop = propertyGetShapeProp(elem, data, type, arr, trims);\n      prop.propertyIndex = data.ix;\n      prop.lock = false;\n\n      if (type === 3) {\n        expressionHelpers.searchExpressions(elem, data.pt, prop);\n      } else if (type === 4) {\n        expressionHelpers.searchExpressions(elem, data.ks, prop);\n      }\n\n      if (prop.k) {\n        elem.addDynamicProperty(prop);\n      }\n\n      return prop;\n    };\n  })();\n\n  (function addDecorator() {\n    function searchExpressions() {\n      if (this.data.d.x) {\n        this.calculateExpression = ExpressionManager.initiateExpression.bind(this)(this.elem, this.data.d, this);\n        this.addEffect(this.getExpressionValue.bind(this));\n        return true;\n      }\n    }\n\n    TextProperty.prototype.getExpressionValue = function (currentValue, text) {\n      var newValue = this.calculateExpression(text);\n\n      if (currentValue.t !== newValue) {\n        var newData = {};\n        this.copyData(newData, currentValue);\n        newData.t = newValue.toString();\n        newData.__complete = false;\n        return newData;\n      }\n\n      return currentValue;\n    };\n\n    TextProperty.prototype.searchProperty = function () {\n      var isKeyframed = this.searchKeyframes();\n      var hasExpressions = this.searchExpressions();\n      this.kf = isKeyframed || hasExpressions;\n      return this.kf;\n    };\n\n    TextProperty.prototype.searchExpressions = searchExpressions;\n  })();\n\n  var ShapePathInterface = function () {\n    return function pathInterfaceFactory(shape, view, propertyGroup) {\n      var prop = view.sh;\n\n      function interfaceFunction(val) {\n        if (val === 'Shape' || val === 'shape' || val === 'Path' || val === 'path' || val === 'ADBE Vector Shape' || val === 2) {\n          return interfaceFunction.path;\n        }\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      prop.setGroupProperty(PropertyInterface('Path', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        'path': {\n          get: function get() {\n            if (prop.k) {\n              prop.getValue();\n            }\n\n            return prop;\n          }\n        },\n        'shape': {\n          get: function get() {\n            if (prop.k) {\n              prop.getValue();\n            }\n\n            return prop;\n          }\n        },\n        '_name': {\n          value: shape.nm\n        },\n        'ix': {\n          value: shape.ix\n        },\n        'propertyIndex': {\n          value: shape.ix\n        },\n        'mn': {\n          value: shape.mn\n        },\n        'propertyGroup': {\n          value: propertyGroup\n        }\n      });\n      return interfaceFunction;\n    };\n  }();\n\n  var propertyGroupFactory = function () {\n    return function (interfaceFunction, parentPropertyGroup) {\n      return function (val) {\n        val = val === undefined ? 1 : val;\n\n        if (val <= 0) {\n          return interfaceFunction;\n        } else {\n          return parentPropertyGroup(val - 1);\n        }\n      };\n    };\n  }();\n\n  var PropertyInterface = function () {\n    return function (propertyName, propertyGroup) {\n      var interfaceFunction = {\n        _name: propertyName\n      };\n\n      function _propertyGroup(val) {\n        val = val === undefined ? 1 : val;\n\n        if (val <= 0) {\n          return interfaceFunction;\n        } else {\n          return propertyGroup(--val);\n        }\n      }\n\n      return _propertyGroup;\n    };\n  }();\n\n  var ShapeExpressionInterface = function () {\n    function iterateElements(shapes, view, propertyGroup) {\n      var arr = [];\n      var i,\n          len = shapes ? shapes.length : 0;\n\n      for (i = 0; i < len; i += 1) {\n        if (shapes[i].ty == 'gr') {\n          arr.push(groupInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty == 'fl') {\n          arr.push(fillInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty == 'st') {\n          arr.push(strokeInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty == 'tm') {\n          arr.push(trimInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty == 'tr') {//arr.push(transformInterfaceFactory(shapes[i],view[i],propertyGroup));\n        } else if (shapes[i].ty == 'el') {\n          arr.push(ellipseInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty == 'sr') {\n          arr.push(starInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty == 'sh') {\n          arr.push(ShapePathInterface(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty == 'rc') {\n          arr.push(rectInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty == 'rd') {\n          arr.push(roundedInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty == 'rp') {\n          arr.push(repeaterInterfaceFactory(shapes[i], view[i], propertyGroup));\n        }\n      }\n\n      return arr;\n    }\n\n    function contentsInterfaceFactory(shape, view, propertyGroup) {\n      var interfaces;\n\n      var interfaceFunction = function _interfaceFunction(value) {\n        var i = 0,\n            len = interfaces.length;\n\n        while (i < len) {\n          if (interfaces[i]._name === value || interfaces[i].mn === value || interfaces[i].propertyIndex === value || interfaces[i].ix === value || interfaces[i].ind === value) {\n            return interfaces[i];\n          }\n\n          i += 1;\n        }\n\n        if (typeof value === 'number') {\n          return interfaces[value - 1];\n        }\n      };\n\n      interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n      interfaces = iterateElements(shape.it, view.it, interfaceFunction.propertyGroup);\n      interfaceFunction.numProperties = interfaces.length;\n      var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\n      interfaceFunction.transform = transformInterface;\n      interfaceFunction.propertyIndex = shape.cix;\n      interfaceFunction._name = shape.nm;\n      return interfaceFunction;\n    }\n\n    function groupInterfaceFactory(shape, view, propertyGroup) {\n      var interfaceFunction = function _interfaceFunction(value) {\n        switch (value) {\n          case 'ADBE Vectors Group':\n          case 'Contents':\n          case 2:\n            return interfaceFunction.content;\n          //Not necessary for now. Keeping them here in case a new case appears\n          //case 'ADBE Vector Transform Group':\n          //case 3:\n\n          default:\n            return interfaceFunction.transform;\n        }\n      };\n\n      interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n      var content = contentsInterfaceFactory(shape, view, interfaceFunction.propertyGroup);\n      var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\n      interfaceFunction.content = content;\n      interfaceFunction.transform = transformInterface;\n      Object.defineProperty(interfaceFunction, '_name', {\n        get: function get() {\n          return shape.nm;\n        }\n      }); //interfaceFunction.content = interfaceFunction;\n\n      interfaceFunction.numProperties = shape.np;\n      interfaceFunction.propertyIndex = shape.ix;\n      interfaceFunction.nm = shape.nm;\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function fillInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(val) {\n        if (val === 'Color' || val === 'color') {\n          return interfaceFunction.color;\n        } else if (val === 'Opacity' || val === 'opacity') {\n          return interfaceFunction.opacity;\n        }\n      }\n\n      Object.defineProperties(interfaceFunction, {\n        'color': {\n          get: ExpressionPropertyInterface(view.c)\n        },\n        'opacity': {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        '_name': {\n          value: shape.nm\n        },\n        'mn': {\n          value: shape.mn\n        }\n      });\n      view.c.setGroupProperty(PropertyInterface('Color', propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\n      return interfaceFunction;\n    }\n\n    function strokeInterfaceFactory(shape, view, propertyGroup) {\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var _dashPropertyGroup = propertyGroupFactory(dashOb, _propertyGroup);\n\n      function addPropertyToDashOb(i) {\n        Object.defineProperty(dashOb, shape.d[i].nm, {\n          get: ExpressionPropertyInterface(view.d.dataProps[i].p)\n        });\n      }\n\n      var i,\n          len = shape.d ? shape.d.length : 0;\n      var dashOb = {};\n\n      for (i = 0; i < len; i += 1) {\n        addPropertyToDashOb(i);\n        view.d.dataProps[i].p.setGroupProperty(_dashPropertyGroup);\n      }\n\n      function interfaceFunction(val) {\n        if (val === 'Color' || val === 'color') {\n          return interfaceFunction.color;\n        } else if (val === 'Opacity' || val === 'opacity') {\n          return interfaceFunction.opacity;\n        } else if (val === 'Stroke Width' || val === 'stroke width') {\n          return interfaceFunction.strokeWidth;\n        }\n      }\n\n      Object.defineProperties(interfaceFunction, {\n        'color': {\n          get: ExpressionPropertyInterface(view.c)\n        },\n        'opacity': {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        'strokeWidth': {\n          get: ExpressionPropertyInterface(view.w)\n        },\n        'dash': {\n          get: function get() {\n            return dashOb;\n          }\n        },\n        '_name': {\n          value: shape.nm\n        },\n        'mn': {\n          value: shape.mn\n        }\n      });\n      view.c.setGroupProperty(PropertyInterface('Color', _propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\n      view.w.setGroupProperty(PropertyInterface('Stroke Width', _propertyGroup));\n      return interfaceFunction;\n    }\n\n    function trimInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(val) {\n        if (val === shape.e.ix || val === 'End' || val === 'end') {\n          return interfaceFunction.end;\n        }\n\n        if (val === shape.s.ix) {\n          return interfaceFunction.start;\n        }\n\n        if (val === shape.o.ix) {\n          return interfaceFunction.offset;\n        }\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      interfaceFunction.propertyIndex = shape.ix;\n      view.s.setGroupProperty(PropertyInterface('Start', _propertyGroup));\n      view.e.setGroupProperty(PropertyInterface('End', _propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\n      interfaceFunction.propertyIndex = shape.ix;\n      interfaceFunction.propertyGroup = propertyGroup;\n      Object.defineProperties(interfaceFunction, {\n        'start': {\n          get: ExpressionPropertyInterface(view.s)\n        },\n        'end': {\n          get: ExpressionPropertyInterface(view.e)\n        },\n        'offset': {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        '_name': {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function transformInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.a.ix === value || value === 'Anchor Point') {\n          return interfaceFunction.anchorPoint;\n        }\n\n        if (shape.o.ix === value || value === 'Opacity') {\n          return interfaceFunction.opacity;\n        }\n\n        if (shape.p.ix === value || value === 'Position') {\n          return interfaceFunction.position;\n        }\n\n        if (shape.r.ix === value || value === 'Rotation' || value === 'ADBE Vector Rotation') {\n          return interfaceFunction.rotation;\n        }\n\n        if (shape.s.ix === value || value === 'Scale') {\n          return interfaceFunction.scale;\n        }\n\n        if (shape.sk && shape.sk.ix === value || value === 'Skew') {\n          return interfaceFunction.skew;\n        }\n\n        if (shape.sa && shape.sa.ix === value || value === 'Skew Axis') {\n          return interfaceFunction.skewAxis;\n        }\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      view.transform.mProps.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\n      view.transform.mProps.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      view.transform.mProps.a.setGroupProperty(PropertyInterface('Anchor Point', _propertyGroup));\n      view.transform.mProps.s.setGroupProperty(PropertyInterface('Scale', _propertyGroup));\n      view.transform.mProps.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\n\n      if (view.transform.mProps.sk) {\n        view.transform.mProps.sk.setGroupProperty(PropertyInterface('Skew', _propertyGroup));\n        view.transform.mProps.sa.setGroupProperty(PropertyInterface('Skew Angle', _propertyGroup));\n      }\n\n      view.transform.op.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        'opacity': {\n          get: ExpressionPropertyInterface(view.transform.mProps.o)\n        },\n        'position': {\n          get: ExpressionPropertyInterface(view.transform.mProps.p)\n        },\n        'anchorPoint': {\n          get: ExpressionPropertyInterface(view.transform.mProps.a)\n        },\n        'scale': {\n          get: ExpressionPropertyInterface(view.transform.mProps.s)\n        },\n        'rotation': {\n          get: ExpressionPropertyInterface(view.transform.mProps.r)\n        },\n        'skew': {\n          get: ExpressionPropertyInterface(view.transform.mProps.sk)\n        },\n        'skewAxis': {\n          get: ExpressionPropertyInterface(view.transform.mProps.sa)\n        },\n        '_name': {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.ty = 'tr';\n      interfaceFunction.mn = shape.mn;\n      interfaceFunction.propertyGroup = propertyGroup;\n      return interfaceFunction;\n    }\n\n    function ellipseInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.p.ix === value) {\n          return interfaceFunction.position;\n        }\n\n        if (shape.s.ix === value) {\n          return interfaceFunction.size;\n        }\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      interfaceFunction.propertyIndex = shape.ix;\n      var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\n      prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\n      prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        'size': {\n          get: ExpressionPropertyInterface(prop.s)\n        },\n        'position': {\n          get: ExpressionPropertyInterface(prop.p)\n        },\n        '_name': {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function starInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.p.ix === value) {\n          return interfaceFunction.position;\n        }\n\n        if (shape.r.ix === value) {\n          return interfaceFunction.rotation;\n        }\n\n        if (shape.pt.ix === value) {\n          return interfaceFunction.points;\n        }\n\n        if (shape.or.ix === value || 'ADBE Vector Star Outer Radius' === value) {\n          return interfaceFunction.outerRadius;\n        }\n\n        if (shape.os.ix === value) {\n          return interfaceFunction.outerRoundness;\n        }\n\n        if (shape.ir && (shape.ir.ix === value || 'ADBE Vector Star Inner Radius' === value)) {\n          return interfaceFunction.innerRadius;\n        }\n\n        if (shape.is && shape.is.ix === value) {\n          return interfaceFunction.innerRoundness;\n        }\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.or.setGroupProperty(PropertyInterface('Outer Radius', _propertyGroup));\n      prop.os.setGroupProperty(PropertyInterface('Outer Roundness', _propertyGroup));\n      prop.pt.setGroupProperty(PropertyInterface('Points', _propertyGroup));\n      prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\n\n      if (shape.ir) {\n        prop.ir.setGroupProperty(PropertyInterface('Inner Radius', _propertyGroup));\n        prop.is.setGroupProperty(PropertyInterface('Inner Roundness', _propertyGroup));\n      }\n\n      Object.defineProperties(interfaceFunction, {\n        'position': {\n          get: ExpressionPropertyInterface(prop.p)\n        },\n        'rotation': {\n          get: ExpressionPropertyInterface(prop.r)\n        },\n        'points': {\n          get: ExpressionPropertyInterface(prop.pt)\n        },\n        'outerRadius': {\n          get: ExpressionPropertyInterface(prop.or)\n        },\n        'outerRoundness': {\n          get: ExpressionPropertyInterface(prop.os)\n        },\n        'innerRadius': {\n          get: ExpressionPropertyInterface(prop.ir)\n        },\n        'innerRoundness': {\n          get: ExpressionPropertyInterface(prop.is)\n        },\n        '_name': {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function rectInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.p.ix === value) {\n          return interfaceFunction.position;\n        }\n\n        if (shape.r.ix === value) {\n          return interfaceFunction.roundness;\n        }\n\n        if (shape.s.ix === value || value === 'Size' || value === 'ADBE Vector Rect Size') {\n          return interfaceFunction.size;\n        }\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\n      prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        'position': {\n          get: ExpressionPropertyInterface(prop.p)\n        },\n        'roundness': {\n          get: ExpressionPropertyInterface(prop.r)\n        },\n        'size': {\n          get: ExpressionPropertyInterface(prop.s)\n        },\n        '_name': {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function roundedInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.r.ix === value || 'Round Corners 1' === value) {\n          return interfaceFunction.radius;\n        }\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.rd.setGroupProperty(PropertyInterface('Radius', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        'radius': {\n          get: ExpressionPropertyInterface(prop.rd)\n        },\n        '_name': {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function repeaterInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.c.ix === value || 'Copies' === value) {\n          return interfaceFunction.copies;\n        } else if (shape.o.ix === value || 'Offset' === value) {\n          return interfaceFunction.offset;\n        }\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.c.setGroupProperty(PropertyInterface('Copies', _propertyGroup));\n      prop.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        'copies': {\n          get: ExpressionPropertyInterface(prop.c)\n        },\n        'offset': {\n          get: ExpressionPropertyInterface(prop.o)\n        },\n        '_name': {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    return function (shapes, view, propertyGroup) {\n      var interfaces;\n\n      function _interfaceFunction(value) {\n        if (typeof value === 'number') {\n          value = value === undefined ? 1 : value;\n\n          if (value === 0) {\n            return propertyGroup;\n          } else {\n            return interfaces[value - 1];\n          }\n        } else {\n          var i = 0,\n              len = interfaces.length;\n\n          while (i < len) {\n            if (interfaces[i]._name === value) {\n              return interfaces[i];\n            }\n\n            i += 1;\n          }\n        }\n      }\n\n      _interfaceFunction.propertyGroup = propertyGroup;\n      interfaces = iterateElements(shapes, view, _interfaceFunction);\n      _interfaceFunction.numProperties = interfaces.length;\n      return _interfaceFunction;\n    };\n  }();\n\n  var TextExpressionInterface = function () {\n    return function (elem) {\n      var _prevValue, _sourceText;\n\n      function _thisLayerFunction(name) {\n        switch (name) {\n          case \"ADBE Text Document\":\n            return _thisLayerFunction.sourceText;\n        }\n      }\n\n      Object.defineProperty(_thisLayerFunction, \"sourceText\", {\n        get: function get() {\n          elem.textProperty.getValue();\n          var stringValue = elem.textProperty.currentData.t;\n\n          if (stringValue !== _prevValue) {\n            elem.textProperty.currentData.t = _prevValue;\n            _sourceText = new String(stringValue); //If stringValue is an empty string, eval returns undefined, so it has to be returned as a String primitive\n\n            _sourceText.value = stringValue ? stringValue : new String(stringValue);\n          }\n\n          return _sourceText;\n        }\n      });\n      return _thisLayerFunction;\n    };\n  }();\n\n  var LayerExpressionInterface = function () {\n    function toWorld(arr, time) {\n      var toWorldMat = new Matrix();\n      toWorldMat.reset();\n      var transformMat;\n\n      if (time !== undefined) {\n        toWorldMat = this._elem.finalTransform.mProp.getValueAtTime(time);\n      } else {\n        transformMat = this._elem.finalTransform.mProp;\n        transformMat.applyToMatrix(toWorldMat);\n      }\n\n      if (this._elem.hierarchy && this._elem.hierarchy.length) {\n        var i,\n            len = this._elem.hierarchy.length;\n\n        for (i = 0; i < len; i += 1) {\n          this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\n        }\n\n        return toWorldMat.applyToPointArray(arr[0], arr[1], arr[2] || 0);\n      }\n\n      return toWorldMat.applyToPointArray(arr[0], arr[1], arr[2] || 0);\n    }\n\n    function fromWorld(arr, time) {\n      var toWorldMat = new Matrix();\n      toWorldMat.reset();\n      var transformMat;\n\n      if (time !== undefined) {\n        toWorldMat = this._elem.finalTransform.mProp.getValueAtTime(time);\n      } else {\n        transformMat = this._elem.finalTransform.mProp;\n        transformMat.applyToMatrix(toWorldMat);\n      }\n\n      if (this._elem.hierarchy && this._elem.hierarchy.length) {\n        var i,\n            len = this._elem.hierarchy.length;\n\n        for (i = 0; i < len; i += 1) {\n          this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\n        }\n\n        return toWorldMat.inversePoint(arr);\n      }\n\n      return toWorldMat.inversePoint(arr);\n    }\n\n    function fromComp(arr) {\n      var toWorldMat = new Matrix();\n      toWorldMat.reset();\n\n      this._elem.finalTransform.mProp.applyToMatrix(toWorldMat);\n\n      if (this._elem.hierarchy && this._elem.hierarchy.length) {\n        var i,\n            len = this._elem.hierarchy.length;\n\n        for (i = 0; i < len; i += 1) {\n          this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\n        }\n\n        return toWorldMat.inversePoint(arr);\n      }\n\n      return toWorldMat.inversePoint(arr);\n    }\n\n    function sampleImage() {\n      return [1, 1, 1, 1];\n    }\n\n    return function (elem) {\n      var transformInterface;\n\n      function _registerMaskInterface(maskManager) {\n        _thisLayerFunction.mask = new MaskManagerInterface(maskManager, elem);\n      }\n\n      function _registerEffectsInterface(effects) {\n        _thisLayerFunction.effect = effects;\n      }\n\n      function _thisLayerFunction(name) {\n        switch (name) {\n          case \"ADBE Root Vectors Group\":\n          case \"Contents\":\n          case 2:\n            return _thisLayerFunction.shapeInterface;\n\n          case 1:\n          case 6:\n          case \"Transform\":\n          case \"transform\":\n          case \"ADBE Transform Group\":\n            return transformInterface;\n\n          case 4:\n          case \"ADBE Effect Parade\":\n          case \"effects\":\n          case \"Effects\":\n            return _thisLayerFunction.effect;\n\n          case \"ADBE Text Properties\":\n            return _thisLayerFunction.textInterface;\n        }\n      }\n\n      _thisLayerFunction.toWorld = toWorld;\n      _thisLayerFunction.fromWorld = fromWorld;\n      _thisLayerFunction.toComp = toWorld;\n      _thisLayerFunction.fromComp = fromComp;\n      _thisLayerFunction.sampleImage = sampleImage;\n      _thisLayerFunction.sourceRectAtTime = elem.sourceRectAtTime.bind(elem);\n      _thisLayerFunction._elem = elem;\n      transformInterface = TransformExpressionInterface(elem.finalTransform.mProp);\n      var anchorPointDescriptor = getDescriptor(transformInterface, 'anchorPoint');\n      Object.defineProperties(_thisLayerFunction, {\n        hasParent: {\n          get: function get() {\n            return elem.hierarchy.length;\n          }\n        },\n        parent: {\n          get: function get() {\n            return elem.hierarchy[0].layerInterface;\n          }\n        },\n        rotation: getDescriptor(transformInterface, 'rotation'),\n        scale: getDescriptor(transformInterface, 'scale'),\n        position: getDescriptor(transformInterface, 'position'),\n        opacity: getDescriptor(transformInterface, 'opacity'),\n        anchorPoint: anchorPointDescriptor,\n        anchor_point: anchorPointDescriptor,\n        transform: {\n          get: function get() {\n            return transformInterface;\n          }\n        },\n        active: {\n          get: function get() {\n            return elem.isInRange;\n          }\n        }\n      });\n      _thisLayerFunction.startTime = elem.data.st;\n      _thisLayerFunction.index = elem.data.ind;\n      _thisLayerFunction.source = elem.data.refId;\n      _thisLayerFunction.height = elem.data.ty === 0 ? elem.data.h : 100;\n      _thisLayerFunction.width = elem.data.ty === 0 ? elem.data.w : 100;\n      _thisLayerFunction.inPoint = elem.data.ip / elem.comp.globalData.frameRate;\n      _thisLayerFunction.outPoint = elem.data.op / elem.comp.globalData.frameRate;\n      _thisLayerFunction._name = elem.data.nm;\n      _thisLayerFunction.registerMaskInterface = _registerMaskInterface;\n      _thisLayerFunction.registerEffectsInterface = _registerEffectsInterface;\n      return _thisLayerFunction;\n    };\n  }();\n\n  var CompExpressionInterface = function () {\n    return function (comp) {\n      function _thisLayerFunction(name) {\n        var i = 0,\n            len = comp.layers.length;\n\n        while (i < len) {\n          if (comp.layers[i].nm === name || comp.layers[i].ind === name) {\n            return comp.elements[i].layerInterface;\n          }\n\n          i += 1;\n        }\n\n        return null; //return {active:false};\n      }\n\n      Object.defineProperty(_thisLayerFunction, \"_name\", {\n        value: comp.data.nm\n      });\n      _thisLayerFunction.layer = _thisLayerFunction;\n      _thisLayerFunction.pixelAspect = 1;\n      _thisLayerFunction.height = comp.data.h || comp.globalData.compSize.h;\n      _thisLayerFunction.width = comp.data.w || comp.globalData.compSize.w;\n      _thisLayerFunction.pixelAspect = 1;\n      _thisLayerFunction.frameDuration = 1 / comp.globalData.frameRate;\n      _thisLayerFunction.displayStartTime = 0;\n      _thisLayerFunction.numLayers = comp.layers.length;\n      return _thisLayerFunction;\n    };\n  }();\n\n  var TransformExpressionInterface = function () {\n    return function (transform) {\n      function _thisFunction(name) {\n        switch (name) {\n          case \"scale\":\n          case \"Scale\":\n          case \"ADBE Scale\":\n          case 6:\n            return _thisFunction.scale;\n\n          case \"rotation\":\n          case \"Rotation\":\n          case \"ADBE Rotation\":\n          case \"ADBE Rotate Z\":\n          case 10:\n            return _thisFunction.rotation;\n\n          case \"ADBE Rotate X\":\n            return _thisFunction.xRotation;\n\n          case \"ADBE Rotate Y\":\n            return _thisFunction.yRotation;\n\n          case \"position\":\n          case \"Position\":\n          case \"ADBE Position\":\n          case 2:\n            return _thisFunction.position;\n\n          case 'ADBE Position_0':\n            return _thisFunction.xPosition;\n\n          case 'ADBE Position_1':\n            return _thisFunction.yPosition;\n\n          case 'ADBE Position_2':\n            return _thisFunction.zPosition;\n\n          case \"anchorPoint\":\n          case \"AnchorPoint\":\n          case \"Anchor Point\":\n          case \"ADBE AnchorPoint\":\n          case 1:\n            return _thisFunction.anchorPoint;\n\n          case \"opacity\":\n          case \"Opacity\":\n          case 11:\n            return _thisFunction.opacity;\n        }\n      }\n\n      Object.defineProperty(_thisFunction, \"rotation\", {\n        get: ExpressionPropertyInterface(transform.r || transform.rz)\n      });\n      Object.defineProperty(_thisFunction, \"zRotation\", {\n        get: ExpressionPropertyInterface(transform.rz || transform.r)\n      });\n      Object.defineProperty(_thisFunction, \"xRotation\", {\n        get: ExpressionPropertyInterface(transform.rx)\n      });\n      Object.defineProperty(_thisFunction, \"yRotation\", {\n        get: ExpressionPropertyInterface(transform.ry)\n      });\n      Object.defineProperty(_thisFunction, \"scale\", {\n        get: ExpressionPropertyInterface(transform.s)\n      });\n\n      if (transform.p) {\n        var _transformFactory = ExpressionPropertyInterface(transform.p);\n      } else {\n        var _px = ExpressionPropertyInterface(transform.px);\n\n        var _py = ExpressionPropertyInterface(transform.py);\n\n        var _pz;\n\n        if (transform.pz) {\n          _pz = ExpressionPropertyInterface(transform.pz);\n        }\n      }\n\n      Object.defineProperty(_thisFunction, \"position\", {\n        get: function get() {\n          if (transform.p) {\n            return _transformFactory();\n          } else {\n            return [_px(), _py(), _pz ? _pz() : 0];\n          }\n        }\n      });\n      Object.defineProperty(_thisFunction, \"xPosition\", {\n        get: ExpressionPropertyInterface(transform.px)\n      });\n      Object.defineProperty(_thisFunction, \"yPosition\", {\n        get: ExpressionPropertyInterface(transform.py)\n      });\n      Object.defineProperty(_thisFunction, \"zPosition\", {\n        get: ExpressionPropertyInterface(transform.pz)\n      });\n      Object.defineProperty(_thisFunction, \"anchorPoint\", {\n        get: ExpressionPropertyInterface(transform.a)\n      });\n      Object.defineProperty(_thisFunction, \"opacity\", {\n        get: ExpressionPropertyInterface(transform.o)\n      });\n      Object.defineProperty(_thisFunction, \"skew\", {\n        get: ExpressionPropertyInterface(transform.sk)\n      });\n      Object.defineProperty(_thisFunction, \"skewAxis\", {\n        get: ExpressionPropertyInterface(transform.sa)\n      });\n      Object.defineProperty(_thisFunction, \"orientation\", {\n        get: ExpressionPropertyInterface(transform.or)\n      });\n      return _thisFunction;\n    };\n  }();\n\n  var ProjectInterface = function () {\n    function registerComposition(comp) {\n      this.compositions.push(comp);\n    }\n\n    return function () {\n      function _thisProjectFunction(name) {\n        var i = 0,\n            len = this.compositions.length;\n\n        while (i < len) {\n          if (this.compositions[i].data && this.compositions[i].data.nm === name) {\n            if (this.compositions[i].prepareFrame && this.compositions[i].data.xt) {\n              this.compositions[i].prepareFrame(this.currentFrame);\n            }\n\n            return this.compositions[i].compInterface;\n          }\n\n          i += 1;\n        }\n      }\n\n      _thisProjectFunction.compositions = [];\n      _thisProjectFunction.currentFrame = 0;\n      _thisProjectFunction.registerComposition = registerComposition;\n      return _thisProjectFunction;\n    };\n  }();\n\n  var EffectsExpressionInterface = function () {\n    var ob = {\n      createEffectsInterface: createEffectsInterface\n    };\n\n    function createEffectsInterface(elem, propertyGroup) {\n      if (elem.effectsManager) {\n        var effectElements = [];\n        var effectsData = elem.data.ef;\n        var i,\n            len = elem.effectsManager.effectElements.length;\n\n        for (i = 0; i < len; i += 1) {\n          effectElements.push(createGroupInterface(effectsData[i], elem.effectsManager.effectElements[i], propertyGroup, elem));\n        }\n\n        var effects = elem.data.ef || [];\n\n        var groupInterface = function groupInterface(name) {\n          i = 0, len = effects.length;\n\n          while (i < len) {\n            if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\n              return effectElements[i];\n            }\n\n            i += 1;\n          }\n        };\n\n        Object.defineProperty(groupInterface, 'numProperties', {\n          get: function get() {\n            return effects.length;\n          }\n        });\n        return groupInterface;\n      }\n    }\n\n    function createGroupInterface(data, elements, propertyGroup, elem) {\n      function groupInterface(name) {\n        var effects = data.ef,\n            i = 0,\n            len = effects.length;\n\n        while (i < len) {\n          if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\n            if (effects[i].ty === 5) {\n              return effectElements[i];\n            } else {\n              return effectElements[i]();\n            }\n          }\n\n          i += 1;\n        }\n\n        throw new Error();\n      }\n\n      ;\n\n      var _propertyGroup = propertyGroupFactory(groupInterface, propertyGroup);\n\n      var effectElements = [];\n      var i,\n          len = data.ef.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (data.ef[i].ty === 5) {\n          effectElements.push(createGroupInterface(data.ef[i], elements.effectElements[i], elements.effectElements[i].propertyGroup, elem));\n        } else {\n          effectElements.push(createValueInterface(elements.effectElements[i], data.ef[i].ty, elem, _propertyGroup));\n        }\n      }\n\n      if (data.mn === 'ADBE Color Control') {\n        Object.defineProperty(groupInterface, 'color', {\n          get: function get() {\n            return effectElements[0]();\n          }\n        });\n      }\n\n      Object.defineProperties(groupInterface, {\n        numProperties: {\n          get: function get() {\n            return data.np;\n          }\n        },\n        _name: {\n          value: data.nm\n        },\n        propertyGroup: {\n          value: _propertyGroup\n        }\n      });\n      groupInterface.active = groupInterface.enabled = data.en !== 0;\n      return groupInterface;\n    }\n\n    function createValueInterface(element, type, elem, propertyGroup) {\n      var expressionProperty = ExpressionPropertyInterface(element.p);\n\n      function interfaceFunction() {\n        if (type === 10) {\n          return elem.comp.compInterface(element.p.v);\n        }\n\n        return expressionProperty();\n      }\n\n      if (element.p.setGroupProperty) {\n        element.p.setGroupProperty(PropertyInterface('', propertyGroup));\n      }\n\n      return interfaceFunction;\n    }\n\n    return ob;\n  }();\n\n  var MaskManagerInterface = function () {\n    function MaskInterface(mask, data) {\n      this._mask = mask;\n      this._data = data;\n    }\n\n    Object.defineProperty(MaskInterface.prototype, 'maskPath', {\n      get: function get() {\n        if (this._mask.prop.k) {\n          this._mask.prop.getValue();\n        }\n\n        return this._mask.prop;\n      }\n    });\n    Object.defineProperty(MaskInterface.prototype, 'maskOpacity', {\n      get: function get() {\n        if (this._mask.op.k) {\n          this._mask.op.getValue();\n        }\n\n        return this._mask.op.v * 100;\n      }\n    });\n\n    var MaskManager = function MaskManager(maskManager, elem) {\n      var _maskManager = maskManager;\n      var _elem = elem;\n\n      var _masksInterfaces = createSizedArray(maskManager.viewData.length);\n\n      var i,\n          len = maskManager.viewData.length;\n\n      for (i = 0; i < len; i += 1) {\n        _masksInterfaces[i] = new MaskInterface(maskManager.viewData[i], maskManager.masksProperties[i]);\n      }\n\n      var maskFunction = function maskFunction(name) {\n        i = 0;\n\n        while (i < len) {\n          if (maskManager.masksProperties[i].nm === name) {\n            return _masksInterfaces[i];\n          }\n\n          i += 1;\n        }\n      };\n\n      return maskFunction;\n    };\n\n    return MaskManager;\n  }();\n\n  var ExpressionPropertyInterface = function () {\n    var defaultUnidimensionalValue = {\n      pv: 0,\n      v: 0,\n      mult: 1\n    };\n    var defaultMultidimensionalValue = {\n      pv: [0, 0, 0],\n      v: [0, 0, 0],\n      mult: 1\n    };\n\n    function completeProperty(expressionValue, property, type) {\n      Object.defineProperty(expressionValue, 'velocity', {\n        get: function get() {\n          return property.getVelocityAtTime(property.comp.currentFrame);\n        }\n      });\n      expressionValue.numKeys = property.keyframes ? property.keyframes.length : 0;\n\n      expressionValue.key = function (pos) {\n        if (!expressionValue.numKeys) {\n          return 0;\n        } else {\n          var value = '';\n\n          if ('s' in property.keyframes[pos - 1]) {\n            value = property.keyframes[pos - 1].s;\n          } else if ('e' in property.keyframes[pos - 2]) {\n            value = property.keyframes[pos - 2].e;\n          } else {\n            value = property.keyframes[pos - 2].s;\n          }\n\n          var valueProp = type === 'unidimensional' ? new Number(value) : Object.assign({}, value);\n          valueProp.time = property.keyframes[pos - 1].t / property.elem.comp.globalData.frameRate;\n          valueProp.value = type === 'unidimensional' ? value[0] : value;\n          return valueProp;\n        }\n      };\n\n      expressionValue.valueAtTime = property.getValueAtTime;\n      expressionValue.speedAtTime = property.getSpeedAtTime;\n      expressionValue.velocityAtTime = property.getVelocityAtTime;\n      expressionValue.propertyGroup = property.propertyGroup;\n    }\n\n    function UnidimensionalPropertyInterface(property) {\n      if (!property || !('pv' in property)) {\n        property = defaultUnidimensionalValue;\n      }\n\n      var mult = 1 / property.mult;\n      var val = property.pv * mult;\n      var expressionValue = new Number(val);\n      expressionValue.value = val;\n      completeProperty(expressionValue, property, 'unidimensional');\n      return function () {\n        if (property.k) {\n          property.getValue();\n        }\n\n        val = property.v * mult;\n\n        if (expressionValue.value !== val) {\n          expressionValue = new Number(val);\n          expressionValue.value = val;\n          completeProperty(expressionValue, property, 'unidimensional');\n        }\n\n        return expressionValue;\n      };\n    }\n\n    function MultidimensionalPropertyInterface(property) {\n      if (!property || !('pv' in property)) {\n        property = defaultMultidimensionalValue;\n      }\n\n      var mult = 1 / property.mult;\n      var len = property.pv.length;\n      var expressionValue = createTypedArray('float32', len);\n      var arrValue = createTypedArray('float32', len);\n      expressionValue.value = arrValue;\n      completeProperty(expressionValue, property, 'multidimensional');\n      return function () {\n        if (property.k) {\n          property.getValue();\n        }\n\n        for (var i = 0; i < len; i += 1) {\n          expressionValue[i] = arrValue[i] = property.v[i] * mult;\n        }\n\n        return expressionValue;\n      };\n    } //TODO: try to avoid using this getter\n\n\n    function defaultGetter() {\n      return defaultUnidimensionalValue;\n    }\n\n    return function (property) {\n      if (!property) {\n        return defaultGetter;\n      } else if (property.propType === 'unidimensional') {\n        return UnidimensionalPropertyInterface(property);\n      } else {\n        return MultidimensionalPropertyInterface(property);\n      }\n    };\n  }();\n\n  (function () {\n    var TextExpressionSelectorProp = function () {\n      function getValueProxy(index, total) {\n        this.textIndex = index + 1;\n        this.textTotal = total;\n        this.v = this.getValue() * this.mult;\n        return this.v;\n      }\n\n      return function TextExpressionSelectorProp(elem, data) {\n        this.pv = 1;\n        this.comp = elem.comp;\n        this.elem = elem;\n        this.mult = 0.01;\n        this.propType = 'textSelector';\n        this.textTotal = data.totalChars;\n        this.selectorValue = 100;\n        this.lastValue = [1, 1, 1];\n        this.k = true;\n        this.x = true;\n        this.getValue = ExpressionManager.initiateExpression.bind(this)(elem, data, this);\n        this.getMult = getValueProxy;\n        this.getVelocityAtTime = expressionHelpers.getVelocityAtTime;\n\n        if (this.kf) {\n          this.getValueAtTime = expressionHelpers.getValueAtTime.bind(this);\n        } else {\n          this.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(this);\n        }\n\n        this.setGroupProperty = expressionHelpers.setGroupProperty;\n      };\n    }();\n\n    var propertyGetTextProp = TextSelectorProp.getTextSelectorProp;\n\n    TextSelectorProp.getTextSelectorProp = function (elem, data, arr) {\n      if (data.t === 1) {\n        return new TextExpressionSelectorProp(elem, data, arr);\n      } else {\n        return propertyGetTextProp(elem, data, arr);\n      }\n    };\n  })();\n\n  function SliderEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function AngleEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function ColorEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\n  }\n\n  function PointEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\n  }\n\n  function LayerIndexEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function MaskIndexEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function CheckboxEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function NoValueEffect() {\n    this.p = {};\n  }\n\n  function EffectsManager() {}\n\n  function EffectsManager(data, element) {\n    var effects = data.ef || [];\n    this.effectElements = [];\n    var i,\n        len = effects.length;\n    var effectItem;\n\n    for (i = 0; i < len; i++) {\n      effectItem = new GroupEffect(effects[i], element);\n      this.effectElements.push(effectItem);\n    }\n  }\n\n  function GroupEffect(data, element) {\n    this.init(data, element);\n  }\n\n  extendPrototype([DynamicPropertyContainer], GroupEffect);\n  GroupEffect.prototype.getValue = GroupEffect.prototype.iterateDynamicProperties;\n\n  GroupEffect.prototype.init = function (data, element) {\n    this.data = data;\n    this.effectElements = [];\n    this.initDynamicPropertyContainer(element);\n    var i,\n        len = this.data.ef.length;\n    var eff,\n        effects = this.data.ef;\n\n    for (i = 0; i < len; i += 1) {\n      eff = null;\n\n      switch (effects[i].ty) {\n        case 0:\n          eff = new SliderEffect(effects[i], element, this);\n          break;\n\n        case 1:\n          eff = new AngleEffect(effects[i], element, this);\n          break;\n\n        case 2:\n          eff = new ColorEffect(effects[i], element, this);\n          break;\n\n        case 3:\n          eff = new PointEffect(effects[i], element, this);\n          break;\n\n        case 4:\n        case 7:\n          eff = new CheckboxEffect(effects[i], element, this);\n          break;\n\n        case 10:\n          eff = new LayerIndexEffect(effects[i], element, this);\n          break;\n\n        case 11:\n          eff = new MaskIndexEffect(effects[i], element, this);\n          break;\n\n        case 5:\n          eff = new EffectsManager(effects[i], element, this);\n          break;\n        //case 6:\n\n        default:\n          eff = new NoValueEffect(effects[i], element, this);\n          break;\n      }\n\n      if (eff) {\n        this.effectElements.push(eff);\n      }\n    }\n  };\n\n  var lottie = {};\n  var _isFrozen = false;\n\n  function setLocationHref(href) {\n    locationHref = href;\n  }\n\n  function searchAnimations() {\n    if (standalone === true) {\n      animationManager.searchAnimations(animationData, standalone, renderer);\n    } else {\n      animationManager.searchAnimations();\n    }\n  }\n\n  function setSubframeRendering(flag) {\n    subframeEnabled = flag;\n  }\n\n  function loadAnimation(params) {\n    if (standalone === true) {\n      params.animationData = JSON.parse(animationData);\n    }\n\n    return animationManager.loadAnimation(params);\n  }\n\n  function setQuality(value) {\n    if (typeof value === 'string') {\n      switch (value) {\n        case 'high':\n          defaultCurveSegments = 200;\n          break;\n\n        case 'medium':\n          defaultCurveSegments = 50;\n          break;\n\n        case 'low':\n          defaultCurveSegments = 10;\n          break;\n      }\n    } else if (!isNaN(value) && value > 1) {\n      defaultCurveSegments = value;\n    }\n\n    if (defaultCurveSegments >= 50) {\n      roundValues(false);\n    } else {\n      roundValues(true);\n    }\n  }\n\n  function inBrowser() {\n    return typeof navigator !== 'undefined';\n  }\n\n  function installPlugin(type, plugin) {\n    if (type === 'expressions') {\n      expressionsPlugin = plugin;\n    }\n  }\n\n  function getFactory(name) {\n    switch (name) {\n      case \"propertyFactory\":\n        return PropertyFactory;\n\n      case \"shapePropertyFactory\":\n        return ShapePropertyFactory;\n\n      case \"matrix\":\n        return Matrix;\n    }\n  }\n\n  lottie.play = animationManager.play;\n  lottie.pause = animationManager.pause;\n  lottie.setLocationHref = setLocationHref;\n  lottie.togglePause = animationManager.togglePause;\n  lottie.setSpeed = animationManager.setSpeed;\n  lottie.setDirection = animationManager.setDirection;\n  lottie.stop = animationManager.stop;\n  lottie.searchAnimations = searchAnimations;\n  lottie.registerAnimation = animationManager.registerAnimation;\n  lottie.loadAnimation = loadAnimation;\n  lottie.setSubframeRendering = setSubframeRendering;\n  lottie.resize = animationManager.resize; //lottie.start = start;\n\n  lottie.goToAndStop = animationManager.goToAndStop;\n  lottie.destroy = animationManager.destroy;\n  lottie.setQuality = setQuality;\n  lottie.inBrowser = inBrowser;\n  lottie.installPlugin = installPlugin;\n  lottie.freeze = animationManager.freeze;\n  lottie.unfreeze = animationManager.unfreeze;\n  lottie.setVolume = animationManager.setVolume;\n  lottie.mute = animationManager.mute;\n  lottie.unmute = animationManager.unmute;\n  lottie.getRegisteredAnimations = animationManager.getRegisteredAnimations;\n  lottie.__getFactory = getFactory;\n  lottie.version = '5.7.3';\n\n  function checkReady() {\n    if (document.readyState === \"complete\") {\n      clearInterval(readyStateCheckInterval);\n      searchAnimations();\n    }\n  }\n\n  function getQueryVariable(variable) {\n    var vars = queryString.split('&');\n\n    for (var i = 0; i < vars.length; i++) {\n      var pair = vars[i].split('=');\n\n      if (decodeURIComponent(pair[0]) == variable) {\n        return decodeURIComponent(pair[1]);\n      }\n    }\n  }\n\n  var standalone = '__[STANDALONE]__';\n  var animationData = '__[ANIMATIONDATA]__';\n  var renderer = '';\n\n  if (standalone) {\n    var scripts = document.getElementsByTagName('script');\n    var index = scripts.length - 1;\n    var myScript = scripts[index] || {\n      src: ''\n    };\n    var queryString = myScript.src.replace(/^[^\\?]+\\??/, '');\n    renderer = getQueryVariable('renderer');\n  }\n\n  var readyStateCheckInterval = setInterval(checkReady, 100);\n  return lottie;\n});\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_core.js","/workspace/GitP_Fal/node_modules/react-datetime/DateTime.js","/workspace/GitP_Fal/node_modules/create-react-class/index.js","/workspace/GitP_Fal/node_modules/tslib/tslib.es6.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_global.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_descriptors.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_export.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_object-dp.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_has.js","/workspace/GitP_Fal/node_modules/reactstrap/es/FormGroup.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_hide.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_is-object.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_fails.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_to-iobject.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_wks.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_an-object.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_property-desc.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_object-keys.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_library.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_uid.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_object-pie.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_to-object.js","/workspace/GitP_Fal/node_modules/react-lottie/dist/index.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_to-primitive.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_defined.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_to-integer.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_shared-key.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_shared.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_enum-bug-keys.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_object-gops.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_iterators.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_object-create.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_set-to-string-tag.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_wks-ext.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_wks-define.js","/workspace/GitP_Fal/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","/workspace/GitP_Fal/node_modules/react-hook-form/dist/react-hook-form.es.js","/workspace/GitP_Fal/node_modules/react-datetime/node_modules/object-assign/index.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_ctx.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_ie8-dom-define.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_dom-create.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_object-keys-internal.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_iobject.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_cof.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_object-gpo.js","/workspace/GitP_Fal/node_modules/babel-runtime/helpers/typeof.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_iter-define.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_redefine.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_object-gopn.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_object-gopd.js","../../src/file.ts","../../src/file-selector.ts","/workspace/GitP_Fal/node_modules/react-dropzone/dist/es/utils/index.js","/workspace/GitP_Fal/node_modules/react-dropzone/dist/es/index.js","/workspace/GitP_Fal/node_modules/@babel/runtime/regenerator/index.js","/workspace/GitP_Fal/node_modules/create-react-class/factory.js","/workspace/GitP_Fal/node_modules/react-datetime/src/CalendarContainer.js","/workspace/GitP_Fal/node_modules/react-datetime/src/DaysView.js","/workspace/GitP_Fal/node_modules/react-datetime/src/MonthsView.js","/workspace/GitP_Fal/node_modules/react-datetime/src/YearsView.js","/workspace/GitP_Fal/node_modules/react-datetime/src/TimeView.js","/workspace/GitP_Fal/node_modules/react-onclickoutside/dist/react-onclickoutside.es.js","/workspace/GitP_Fal/node_modules/attr-accept/dist/es/index.js","/workspace/GitP_Fal/node_modules/babel-runtime/helpers/extends.js","/workspace/GitP_Fal/node_modules/babel-runtime/core-js/object/assign.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/fn/object/assign.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.assign.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_a-function.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_object-assign.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_array-includes.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_to-length.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_to-absolute-index.js","/workspace/GitP_Fal/node_modules/babel-runtime/core-js/object/get-prototype-of.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/fn/object/get-prototype-of.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.get-prototype-of.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_object-sap.js","/workspace/GitP_Fal/node_modules/babel-runtime/helpers/classCallCheck.js","/workspace/GitP_Fal/node_modules/babel-runtime/helpers/createClass.js","/workspace/GitP_Fal/node_modules/babel-runtime/core-js/object/define-property.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/fn/object/define-property.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.define-property.js","/workspace/GitP_Fal/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","/workspace/GitP_Fal/node_modules/babel-runtime/core-js/symbol/iterator.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/fn/symbol/iterator.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/es6.string.iterator.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_string-at.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_iter-create.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_object-dps.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_html.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/web.dom.iterable.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/es6.array.iterator.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_add-to-unscopables.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_iter-step.js","/workspace/GitP_Fal/node_modules/babel-runtime/core-js/symbol.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/fn/symbol/index.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/es6.symbol.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_meta.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_enum-keys.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_is-array.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_object-gopn-ext.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/es7.symbol.async-iterator.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/es7.symbol.observable.js","/workspace/GitP_Fal/node_modules/babel-runtime/helpers/inherits.js","/workspace/GitP_Fal/node_modules/babel-runtime/core-js/object/set-prototype-of.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/fn/object/set-prototype-of.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.set-prototype-of.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/_set-proto.js","/workspace/GitP_Fal/node_modules/babel-runtime/core-js/object/create.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/fn/object/create.js","/workspace/GitP_Fal/node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.create.js","/workspace/GitP_Fal/node_modules/lottie-web/build/player/lottie.js"],"names":["core","module","exports","version","__e","assign","require","PropTypes","createClass","moment","React","CalendarContainer","onClickOutside","default","viewModes","Object","freeze","YEARS","MONTHS","DAYS","TIME","TYPES","Datetime","displayName","propTypes","onFocus","func","onBlur","onChange","onViewModeChange","onNavigateBack","onNavigateForward","locale","string","utc","bool","displayTimeZone","input","inputProps","object","timeConstraints","viewMode","oneOf","isValidDate","open","strictParsing","closeOnSelect","closeOnTab","getInitialState","checkTZ","props","state","getStateFromProps","undefined","currentView","dateFormat","updateOn","parseDate","date","formats","parsedDate","localMoment","datetime","isValid","getFormats","value","defaultValue","selectedDate","viewDate","inputValue","clone","startOf","getUpdateOn","format","inputFormat","match","indexOf","time","timeFormat","localeData","longDateFormat","componentWillReceiveProps","nextProps","updatedState","updatedViewDate","updatedSelectedDate","tz","local","setState","onInputChange","e","target","update","onInputKey","which","closeCalendar","showView","view","me","setDate","type","nextViews","month","year","parseInt","getAttribute","subtractTime","amount","toSelected","updateTime","addTime","op","allowedSetTime","setTime","index","nextType","length","updateSelectedDate","close","currentTarget","modifier","currentDate","className","hours","minutes","seconds","milliseconds","openCalendar","handleClickOutside","disableCloseOnClickOutside","m","con","console","tzWarning","error","componentProps","fromProps","fromState","fromThis","getComponentProps","forEach","name","overrideEvent","handler","action","overridenEvents","result","render","Array","isArray","join","children","finalInputProps","onClick","onKeyDown","renderInput","createElement","key","ClickableWrapper","onClickOut","concat","viewProps","defaultProps","factory","Error","ReactNoopUpdateQueue","Component","updater","isValidElement","extendStatics","d","b","setPrototypeOf","__proto__","p","prototype","hasOwnProperty","call","__extends","__","constructor","create","__assign","t","s","i","n","arguments","apply","__rest","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","adopt","resolve","Promise","reject","fulfilled","step","next","rejected","done","then","__generator","body","_","label","sent","trys","ops","f","y","g","verb","Symbol","iterator","v","TypeError","pop","push","__createBinding","o","k","k2","enumerable","get","__exportStar","__values","__read","ar","__spread","__spreadArrays","il","a","j","jl","__await","__asyncGenerator","asyncIterator","q","resume","settle","fulfill","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__setModuleDefault","__importStar","mod","__esModule","__importDefault","__classPrivateFieldGet","receiver","privateMap","has","__classPrivateFieldSet","set","global","window","Math","self","Function","__g","ctx","hide","PROTOTYPE","$export","source","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","S","IS_PROTO","IS_BIND","B","IS_WRAP","W","expProto","own","out","C","virtual","R","U","anObject","IE8_DOM_DEFINE","toPrimitive","dP","O","Attributes","it","node","row","check","inline","disabled","tag","tagPropType","cssModule","FormGroup","Tag","attributes","_objectWithoutPropertiesLoose","classes","mapToCssModules","classNames","_extends","createDesc","exec","IObject","defined","store","uid","USE_SYMBOL","$exports","isObject","bitmap","configurable","writable","$keys","enumBugKeys","keys","id","px","random","toString","_extends2","_extends3","_interopRequireDefault","_getPrototypeOf","_getPrototypeOf2","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_react","_react2","_propTypes","_propTypes2","_lottieWeb","_lottieWeb2","obj","Lottie","_React$Component","_ref","_temp","_this","_ret","_len","args","_key","handleClickToPause","anim","isPaused","play","pause","componentDidMount","_props","options","eventListeners","loop","autoplay","animationData","rendererSettings","segments","container","el","renderer","loadAnimation","registerEvents","componentWillUpdate","deRegisterEvents","destroy","componentDidUpdate","isStopped","stop","playSegments","setSpeed","setDirection","componentWillUnmount","speed","direction","_this2","eventListener","addEventListener","eventName","callback","_this3","removeEventListener","_this4","_props2","width","height","ariaRole","ariaLabel","isClickToPauseDisabled","title","getSize","initial","size","lottieStyles","overflow","margin","outline","style","onClickHandler","ref","role","tabIndex","arrayOf","isRequired","oneOfType","number","fn","val","valueOf","ceil","floor","isNaN","shared","SHARED","mode","copyright","split","dPs","IE_PROTO","Empty","createDict","iframe","lt","gt","iframeDocument","display","appendChild","src","contentWindow","document","write","Properties","def","TAG","stat","LIBRARY","wksExt","$Symbol","charAt","isUndefined","isNullOrUndefined","isObjectType","isHTMLElement","nodeType","Node","ELEMENT_NODE","VALIDATION_MODE","onSubmit","VALUE","UNDEFINED","EVENTS","BLUR","CHANGE","INPUT","INPUT_VALIDATION_RULES","max","min","maxLength","minLength","pattern","required","validate","REGEX_IS_DEEP_PROP","REGEX_IS_PLAIN_PROP","REGEX_PROP_NAME","REGEX_ESCAPE_CHAR","attachEventListeners","field","handleChange","isRadioOrCheckbox","isKey","test","stringToPath","replace","quote","path","tempPath","lastIndex","newValue","objValue","transformToNestObject","data","entries","reduce","previous","filter","Boolean","focusErrorField","fields","fieldErrors","focus","removeAllEventListeners","validateWithStateUpdate","isRadioInput","element","isCheckBoxInput","isDetached","HTMLElement","DOCUMENT_NODE","parentNode","isEmptyObject","castPath","baseGet","updatePath","baseSlice","array","start","end","parent","baseUnset","childObject","previousObjRef","slice","objectRef","currentPaths","currentPathsLength","item","unset","paths","findRemovedFieldAndRemoveListener","forceDelete","mutationWatcher","fieldValue","disconnect","defaultReturn","getRadioValue","checked","getMultipleSelectValue","selected","map","isFileInput","isMultipleSelect","isEmptyString","defaultResult","validResult","getCheckboxValue","values","getFieldValue","files","isString","getFieldsValues","search","output","isSearchString","isSearchArray","isNest","nest","startsWith","find","compareObject","objectA","objectB","isSameError","types","message","shouldUpdateWithError","errors","validFields","fieldsWithValidation","isFieldValid","isFormValid","currentFieldError","existFieldError","isManual","isRegex","RegExp","getValueAndMessage","validationData","isPureObject","isFunction","isBoolean","getValidateError","isStringValue","appendErrors","validateAllFieldCriteria","validateField","fieldsRef","current","isRadio","isCheckBox","isEmpty","appendErrorsCurry","bind","getMinMaxMessage","exceedMax","maxLengthMessage","minLengthMessage","maxType","minType","requiredValue","requiredMessage","maxValue","maxMessage","minValue","minMessage","valueNumber","valueAsNumber","parseFloat","exceedMin","valueDate","valueAsDate","Date","maxLengthValue","minLengthValue","inputLength","patternValue","patternMessage","validateRef","validateError","validateFunctions","validateResult","validationResult","parseErrorSchema","inner","validateWithSchema","validationSchema","validationResolver","context","abortEarly","getDefaultValue","defaultValues","flatArray","list","isPrimitive","getPath","getInnerPath","pathWithIndex","getPath$1","parentPath","assignWatchFields","fieldValues","fieldName","watchFields","combinedDefaultValues","watchFieldArray","add","skipValidation","hasError","isBlurEvent","isOnSubmit","isReValidateOnSubmit","isOnBlur","isReValidateOnBlur","isSubmitted","getFieldValueByName","results","getIsFieldsDifferent","referenceArray","differenceArray","isMatch","dataA","dataB","isMatchFieldArrayName","searchName","isNameInFieldArray","names","prev","isFileListObject","FileList","onDomRemove","onDetachCallback","observer","MutationObserver","observe","childList","subtree","modeChecker","isOnChange","useRef","useState","useCallback","useEffect","useForm","reValidateMode","validationContext","submitFocusError","validateCriteriaMode","errorsRef","touchedFieldsRef","watchFieldArrayRef","watchFieldsRef","Set","dirtyFieldsRef","fieldsWithValidationRef","validFieldsRef","isValidRef","defaultRenderValuesRef","defaultValuesRef","isUnMount","isWatchAllRef","isSubmittedRef","isDirtyRef","submitCountRef","isSubmittingRef","handleChangeRef","resetFieldArrayFunctionRef","validationContextRef","fieldArrayNamesRef","isWindowUndefined","shouldValidateCallback","isWeb","isProxyEnabled","readFormStateRef","dirty","dirtyFields","submitCount","touched","isSubmitting","reRender","shouldRenderBaseOnError","shouldRender","skipReRender","shouldReRender","delete","setFieldValue","rawValue","radioRef","selectRef","includes","checkboxRef","setDirty","isFieldArray","previousDirtyFieldsLength","isDirty","fieldArrayName","substring","isDirtyChanged","setDirtyAndTouchedFields","setInternalValueBatch","parentFieldName","isValueArray","setInternalValue","executeValidation","executeSchemaValidation","payload","previousFormIsValid","triggerValidation","all","every","isFieldWatched","preFixName","setValue","valueOrShouldValidate","shouldValidate","isMultiple","isStringFieldName","currentError","shouldSkipValidation","shouldUpdateDirty","shouldUpdateState","validateSchemaIsValid","removeFieldEventListener","removeFieldEventListenerAndRef","clearError","setInternalError","preventRender","setError","watch","fieldNames","unregister","registerFieldsRef","validateOptions","warn","fieldAttributes","currentField","isEmptyDefaultValue","fieldToAttachListener","register","refOrValidationOptions","validationOptions","handleSubmit","preventDefault","persist","resolvedPrevious","fieldError","resetRefs","reset","closest","_a","resetFieldArray","getValues","outputValues","formState","control","Proxy","prop","FormGlobalContext","createContext","useFormContext","useContext","FormContext","restMethods","Provider","generateId","performance","now","appendId","keyName","mapIds","removeAt","removeArrayAt","previousIndex","moveArrayAt","from","to","splice","swapArrayAt","indexA","indexB","prependAt","insertAt","fillEmptyArray","fill","useEffect$1","useCallback$1","useRef$1","useState$1","useFieldArray","methods","memoizedDefaultValues","setField","allFields","appendValueWithKey","commonTasks","fieldsValues","resetFields","flagOrFields","mapCurrentFieldsValueWithState","currentFieldsValue","append","prepend","remove","fieldIndex","isFound","isIndexUndefined","isLast","isCurrentIndex","currentFieldName","previousFieldName","insert","swap","move","resetFunctions","fieldArrayNames","getInputValue","event","isCheckboxInput","Controller","rules","InnerComponent","as","onChangeName","onBlurName","valueName","rest","useState$2","setInputStateValue","valueRef","useRef$2","commonTask","eventWrapper","arg","registerField","useEffect$2","shouldReValidateOnBlur","cloneElement","ErrorMessage","messageFromRegister","messages","Fragment","propIsEnumerable","ToObject","ownEnumerableKeys","getOwnPropertyNames","aFunction","that","is","toIObject","arrayIndexOf","cof","toObject","ObjectProto","getPrototypeOf","_iterator","_iterator2","_symbol","_symbol2","_typeof","redefine","Iterators","$iterCreate","setToStringTag","ITERATOR","BUGGY","FF_ITERATOR","KEYS","VALUES","returnThis","Base","NAME","Constructor","DEFAULT","IS_SET","FORCED","getMethod","kind","proto","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","IteratorPrototype","hiddenKeys","pIE","gOPD","fileAccepted","file","accept","accepts","fileMatchSize","minSize","maxSize","isDefined","allFilesAccepted","multiple","isPropagationStopped","cancelBubble","isEvtWithFiles","dataTransfer","some","isKindFile","onDocumentDragOver","isIe","userAgent","isEdge","isIeOrEdge","navigator","composeEventHandlers","fns","_len2","_key2","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","iter","arr2","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","_arr","_n","_d","_e","_i","_s","err","ownKeys","enumerableOnly","symbols","sym","_objectSpread","_defineProperty","getOwnPropertyDescriptors","defineProperties","_objectWithoutProperties","excluded","sourceSymbolKeys","sourceKeys","Dropzone","forwardRef","params","_useDropzone","useDropzone","useImperativeHandle","preventDropOnDocument","noClick","noKeyboard","noDrag","noDragEventsBubbling","getFilesFromEvent","onFileDialogCancel","onDragEnter","onDragLeave","onDragOver","onDrop","onDropAccepted","onDropRejected","initialState","isFocused","isFileDialogActive","isDragActive","isDragAccept","isDragReject","draggedFiles","acceptedFiles","rejectedFiles","_ref2","_ref2$disabled","_ref2$getFilesFromEve","fromEvent","_ref2$maxSize","Infinity","_ref2$minSize","_ref2$multiple","_ref2$preventDropOnDo","_ref2$noClick","_ref2$noKeyboard","_ref2$noDrag","_ref2$noDragEventsBub","rootRef","inputRef","_useReducer","useReducer","reducer","_useReducer2","dispatch","openFileDialog","click","onWindowFocus","setTimeout","onKeyDownCb","isEqualNode","keyCode","onFocusCb","onBlurCb","onClickCb","dragTargetsRef","onDocumentDrop","contains","onDragEnterCb","stopPropagation","onDragOverCb","dropEffect","_unused","onDragLeaveCb","targets","onDropCb","composeHandler","composeKeyboardHandler","composeDragHandler","getRootProps","useMemo","_ref3","_ref3$refKey","refKey","onInputElementClick","getInputProps","_ref4","_ref4$refKey","autoComplete","fileCount","_assign","emptyObject","process","validateFormat","_invariant","condition","argIndex","framesToPop","warning","MIXINS_KEY","identity","ReactPropTypeLocationNames","ReactComponent","injectedMixins","ReactClassInterface","mixins","statics","contextTypes","childContextTypes","getDefaultProps","getChildContext","componentWillMount","shouldComponentUpdate","UNSAFE_componentWillMount","UNSAFE_componentWillReceiveProps","UNSAFE_componentWillUpdate","updateComponent","ReactClassStaticInterface","getDerivedStateFromProps","RESERVED_SPEC_KEYS","mixSpecIntoComponent","createMergedResultFunction","mixStaticSpecIntoComponent","autobind","validateTypeDef","typeDef","location","propName","validateMethodOverride","isAlreadyDefined","specPolicy","ReactClassMixin","spec","autoBindPairs","__reactAutoBindPairs","property","isReactClassMethod","shouldAutoBind","createChainedFunction","isReserved","mergeIntoWithNoDuplicateKeys","one","two","mergedResult","chainedFunction","bindAutoBindMethod","component","method","boundMethod","bindAutoBindMethods","pairs","autoBindKey","IsMountedPreMixin","__isMounted","IsMountedPostMixin","replaceState","newState","enqueueReplaceState","isMounted","ReactClassComponent","refs","methodName","DaysView","MonthsView","YearsView","TimeView","viewComponents","days","months","years","DateTimePickerDays","footer","renderFooter","tableChildren","colSpan","getDaysOfWeek","day","renderDays","_weekdaysMin","first","firstDayOfWeek","dow","prevMonth","subtract","currentYear","currentMonth","weeks","renderDay","alwaysValidDate","isDisabled","dayProps","daysInMonth","lastDay","isBefore","isSame","DateTimePickerMonths","renderMonths","rows","renderMonth","noOfDaysInMonth","validDay","irrelevantDate","endOf","updateSelectedMonth","monthStr","monthsShort","strLength","monthStrFixedLength","capitalize","str","toUpperCase","DateTimePickerYears","renderYears","renderYear","noOfDaysInYear","daysInYear","irrelevantMonth","dayOfYear","updateSelectedYear","DateTimePickerTime","calculateState","counters","toLowerCase","daypart","renderCounter","onMouseDown","onStartClicking","onContextMenu","disableContextMenu","renderDayPart","updateMilli","renderHeader","milli","timer","increaseTimer","setInterval","mouseUpListener","clearTimeout","clearInterval","padValues","toggleDayPart","pad","increase","decrease","_inheritsLoose","subClass","superClass","isNodeFound","componentNode","ignoreClass","correspondingElement","classList","findHighest","clickedScrollbar","evt","documentElement","clientWidth","clientX","clientHeight","clientY","testPassiveEventSupport","passive","noop","autoInc","seed","passiveEventSupport","handlersMap","enabledInstances","touchEvents","IGNORE_CLASS_NAME","getEventHandlerOptions","instance","handlerOptions","isTouchEvent","onClickOutsideHOC","WrappedComponent","config","_class","componentName","_Component","__outsideClickHandler","__clickOutsideHandlerProp","getInstance","__getComponentNode","setClickOutsideRef","findDOMNode","enableOnClickOutside","_uid","events","eventTypes","excludeScrollbar","outsideClickIgnoreClass","disableOnClickOutside","getRef","instanceRef","_proto","isReactComponent","wrappedRef","getClass","acceptedFilesArray","fileName","mimeType","baseMimeType","validType","trim","endsWith","_assign2","DESCRIPTORS","getKeys","gOPS","$assign","A","K","T","aLen","getSymbols","isEnum","toLength","toAbsoluteIndex","IS_INCLUDES","$this","fromIndex","toInteger","$getPrototypeOf","fails","KEY","exp","_defineProperty2","descriptor","protoProps","staticProps","$Object","_typeof2","_typeof3","ReferenceError","$at","String","iterated","_t","point","TO_STRING","pos","l","charCodeAt","TO_STRING_TAG","DOMIterables","Collection","addToUnscopables","_k","Arguments","META","$fails","wks","wksDefine","enumKeys","_create","gOPNExt","$GOPD","$GOPS","$DP","gOPN","$JSON","JSON","_stringify","stringify","HIDDEN","TO_PRIMITIVE","SymbolRegistry","AllSymbols","OPSymbols","USE_NATIVE","QObject","setter","findChild","setSymbolDesc","D","protoDesc","wrap","isSymbol","$defineProperty","$defineProperties","$create","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","$getOwnPropertyNames","$getOwnPropertySymbols","IS_OP","$set","es6Symbols","wellKnownSymbols","keyFor","useSetter","useSimple","FAILS_ON_PRIMITIVES","replacer","$replacer","setDesc","isExtensible","FREEZE","preventExtensions","setMeta","w","fastKey","getWeak","onFreeze","meta","NEED","windowNames","getWindowNames","_setPrototypeOf","_setPrototypeOf2","_create2","buggy","root","define","svgNS","locationHref","initialDefaultFrame","subframeEnabled","expressionsPlugin","isSafari","cachedColors","bm_rounder","round","bm_rnd","bm_pow","pow","bm_sqrt","sqrt","bm_abs","abs","bm_floor","bm_max","bm_min","blitter","BMMath","propertyNames","len","ProjectInterface","tOfVal","absArr","createSizedArray","defaultCurveSegments","degToRads","PI","roundCorner","roundValues","flag","styleDiv","position","top","left","transformOrigin","webkitTransformOrigin","backfaceVisibility","webkitBackfaceVisibility","transformStyle","webkitTransformStyle","mozTransformStyle","BMEnterFrameEvent","currentTime","totalTime","frameMultiplier","BMCompleteEvent","BMCompleteLoopEvent","totalLoops","currentLoop","BMSegmentStartEvent","firstFrame","totalFrames","BMDestroyEvent","BMRenderFrameErrorEvent","nativeError","BMConfigErrorEvent","BMAnimationConfigErrorEvent","createElementID","_count","createID","HSVtoRGB","h","RGBtoHSV","addSaturationToRGB","color","offset","hsv","addBrightnessToRGB","addHueToRGB","rgbToHex","colorMap","hex","BaseEvent","triggerEvent","_cbs","createTypedArray","createRegularArray","Float32Array","Int16Array","Uint8ClampedArray","createNS","createElementNS","createTag","DynamicPropertyContainer","addDynamicProperty","dynamicProperties","_isAnimated","iterateDynamicProperties","_mdf","getValue","initDynamicPropertyContainer","getBlendMode","blendModeEnums","Matrix","_cos","cos","_sin","sin","_tan","tan","_rnd","rotate","angle","mCos","mSin","rotateX","rotateY","rotateZ","shear","sx","sy","skew","ax","ay","skewFromAxis","scale","sz","setTransform","translate","tx","ty","transform","a2","b2","c2","d2","e2","f2","g2","h2","i2","j2","l2","m2","n2","o2","p2","_p","_identityCalculated","a1","b1","c1","d1","e1","f1","g1","h1","i1","j1","k1","l1","m1","n1","o1","p1","isIdentity","_identity","equals","matr","cloneFromProps","applyToPoint","x","z","applyToX","applyToY","applyToZ","getInverseMatrix","determinant","inverseMatrix","inversePoint","pt","applyToPointArray","inversePoints","pts","retPts","applyToTriplePoints","pt1","pt2","pt3","p0","p4","p5","p12","p13","applyToPointStringified","toCSS","cssValue","roundMatrixProperty","to2dCSS","_b","_c","_f","pool","math","chunks","digits","rngname","startdenom","significance","mask","nodecrypto","seedrandom","entropy","shortseed","mixkey","flatten","tostring","autoseed","arc4","ARC4","prng","int32","quick","double","pass","is_math_call","copy","keylen","count","depth","typ","stringseed","smear","randomBytes","Uint8Array","crypto","msCrypto","getRandomValues","browser","plugins","screen","fromCharCode","BezierFactory","ob","getBezierEasing","beziers","nm","bezEasing","BezierEasing","NEWTON_ITERATIONS","NEWTON_MIN_SLOPE","SUBDIVISION_PRECISION","SUBDIVISION_MAX_ITERATIONS","kSplineTableSize","kSampleStepSize","float32ArraySupported","aA1","aA2","calcBezier","aT","getSlope","binarySubdivide","aX","aA","aB","mX1","mX2","currentX","currentT","newtonRaphsonIterate","aGuessT","currentSlope","points","_mSampleValues","_precomputed","mY1","mY2","_precompute","_getTForX","_calcSampleValues","mSampleValues","intervalStart","currentSample","lastSample","dist","guessForT","initialSlope","lastTime","vendors","requestAnimationFrame","cancelAnimationFrame","currTime","getTime","timeToCall","extendPrototype","sources","destination","sourcePrototype","attr","getDescriptor","createProxyFunction","ProxyFunction","bezFunction","easingFunctions","pointOnLine2D","x1","y1","x2","y2","x3","y3","det1","pointOnLine3D","z1","z2","z3","dist1","dist2","dist3","diffDist","getBezierLength","pt4","curveSegments","ptCoord","perc","addedLength","ptDistance","lastPoint","lengthData","bezier_length_pool","newElement","percents","lengths","getSegmentsLength","shapeData","segmentsLength","segments_length_pool","closed","pathV","pathO","pathI","_length","totalLength","BezierData","segmentLength","PointData","partial","partialLength","buildBezierData","storedData","bezierName","bezierData","getDistancePerc","initPos","lengthPos","lPerc","dir","getPointInSegment","percent","t1","u0","u1","ptX","ptY","getSegmentArray","bezier_segment_points","getNewSegment","startPerc","endPerc","t0","u0u0u0","t0u0u0_3","t0t0u0_3","t0t0t0","u0u0u1","t0u0u1_3","t0t0u1_3","t0t0t1","u0u1u1","t0u1u1_3","t0t1u1_3","t0t1t1","u1u1u1","t1u1u1_3","t1t1u1_3","t1t1t1","bez","dataFunctionManager","completeLayers","layers","comps","fontManager","layerData","animArray","lastFrame","jLen","kLen","completed","tt","td","hasMask","maskProps","masksProperties","convertPathsToAbsoluteValues","findCompLayers","refId","completeShapes","shapes","completeText","__used","parse","hasPaths","ks","checkVersion","minimum","animVersionString","animVersion","checkText","minimumVersion","updateTextLayer","textLayer","documentData","iterateLayers","assets","checkChars","chars","pathData","__converted","checkColors","iterateShapes","checkShapes","cl","completeData","__complete","singleShape","moduleOb","dataManager","FontManager","maxWaitingTime","emptyChar","combinedCharacters","trimFontOptions","font","familyArray","enabledFamilies","setUpNode","family","fontFamily","innerText","fontSize","fontVariant","fontStyle","fontWeight","letterSpacing","offsetWidth","checkLoadedFonts","fonts","loadedCount","loaded","fOrigin","origin","monoCase","sansCase","removeChild","initTime","checkLoadedFontsBinded","setIsLoadedBinded","createHelper","fontData","tHelper","setAttribute","fFamily","fStyle","fWeight","textContent","fClass","tCanvasHelper","getContext","addFonts","defs","isLoaded","fontArr","_pendingFonts","shouldLoadFont","loadedSelector","fPath","querySelectorAll","href","rel","sc","helper","cache","addChars","found","ch","getCharData","char","measureText","fontName","getFontByName","doubleSize","getComputedTextLength","singleSize","fName","getCombinedCharacterCodes","setIsLoaded","Font","typekitLoaded","fontPrototype","PropertyFactory","initFrame","math_abs","interpolateValue","frameNum","caching","offsetTime","propType","pv","iterationIndex","keyframes","keyData","nextKeyData","fnc","nextKeyTime","keyTime","endValue","ti","ind","__fnct","distanceInLine","segmentPerc","_lastKeyframeIndex","_lastAddedLength","_lastPoint","outX","outY","inX","inY","keyValue","sh","quatStart","createQuaternion","quatEnd","quaternionToEuler","slerp","az","aw","bx","by","bz","bw","omega","cosom","sinom","scale0","scale1","acos","quat","qx","qy","qz","qw","heading","atan2","attitude","asin","bank","c3","s1","s2","s3","getValueAtCurrentTime","comp","renderedFrame","endTime","_caching","renderResult","setVValue","multipliedValue","mult","processEffectsSequence","elem","globalData","frameId","effectsSequence","lock","_isFirstFrame","finalValue","kf","addEffect","effectFunction","ValueProperty","vel","MultiDimensionalProperty","KeyframedValueProperty","st","KeyframedMultidimensionalProperty","arrLen","getProp","TransformPropertyFactory","defaultVector","applyToMatrix","mat","sk","sa","rz","ry","rx","or","py","pz","processKeys","forceRender","_isDirty","precalculateMatrix","pre","appliedTransformations","autoOriented","v1","v2","frameRate","getValueAtTime","autoOrient","_addDynamicProperty","TransformProperty","getTransformProperty","ShapePath","_maxLength","setPathData","setLength","point_pool","doubleArrayLength","setXYAt","setTripleAt","vX","vY","oX","oY","iX","iY","reverse","newPath","vertices","outPoints","inPoints","init","cnt","ShapePropertyFactory","interpolateShape","previousValue","keyPropS","keyPropE","isHold","vertexValue","interpolateShapeCurrentTime","resetShape","localShapeCollection","shapesEqual","shape1","shape2","shape_pool","releaseShapes","addShape","ShapeProperty","shapeCollection_pool","newShapeCollection","KeyframedShapeProperty","EllShapeProperty","cPoint","convertEllToPath","s0","_cw","_v","StarShapeProperty","ir","convertToPath","convertStarToPath","convertPolygonToPath","os","numPts","longFlag","longRad","shortRad","longRound","shortRound","longPerimSegment","shortPerimSegment","rad","roundness","perimSegment","currentAng","ox","oy","RectShapeProperty","convertRectToPath","v0","getShapeProp","dataProp","getConstructorFunction","getKeyframedConstructorFunction","ShapeModifiers","modifiers","registerModifier","getModifier","ShapeModifier","initModifierProperties","addShapeToModifier","shape","setAsAnimated","TrimModifier","sValue","eValue","pathsData","calculateShapeEdges","shapeLength","totalModifierLength","shapeSegments","segmentOb","shapeS","shapeE","releasePathsData","release","processShapes","shapePaths","totalShapeLength","edges","newShapesData","addShapes","lastShapeInCollection","lastShape","addPaths","newPaths","addSegment","shapePath","newShape","addSegmentFromArray","shapeSegment","currentLengthData","segmentCount","segment","RoundCornersModifier","rd","processPath","cloned_path","currentV","currentI","currentO","closerV","newV","newO","newI","distance","newPosPerc","PuckerAndBloatModifier","centerPoint","pathLength","RepeaterModifier","tr","so","eo","pMatrix","rMatrix","sMatrix","tMatrix","matrix","applyTransforms","inv","scaleX","scaleY","elemsData","_currentCopies","_elements","_groups","cont","unshift","resetElements","elements","_processed","cloneElements","newElements","changeGroupRender","renderFlag","_render","items","itemsTransform","copies","group","reloadShapes","offsetModulo","roundOffset","tMat","pProps","rProps","sProps","iteration","mProps","ShapeCollection","DashProperty","dataProps","dashStr","dashArray","dashoffset","GradientProperty","cLength","_cmdf","_omdf","_collapsable","checkCollapsable","_hasOpacity","comparePoints","diff","buildShapeString","pathNodes","_o","shapeString","audioControllerFactory","AudioController","audioFactory","audios","_volume","_isMuted","addAudio","audio","setRate","rateValue","createAudio","assetPath","Howl","isPlaying","seek","playing","rate","setVolume","setAudioFactory","_updateVolume","mute","unmute","getVolume","volume","ImagePreloader","proxyImage","canvas","fillStyle","fillRect","imageLoaded","loadedAssets","totalImages","imagesLoadedCb","getAssetsPath","assetData","assetsPath","original_path","imagePath","u","createImageData","img","_imageLoaded","setAttributeNS","createImgData","crossOrigin","loadAssets","cb","images","_createImageData","setPath","setAssetsPath","getImage","setCacheType","featureSupport","maskType","filtersFactory","createFilter","createAlphaToLuminanceFilter","filId","fil","feColorMatrix","assetLoader","formatResponse","xhr","response","responseText","loadAsset","errorCallback","XMLHttpRequest","responseType","send","onreadystatechange","readyState","status","load","TextAnimatorProperty","textData","renderType","_hasMaskedPath","_frameId","_textData","_renderType","_elem","_animatorsData","_pathData","_moreOptions","alignment","renderedLetters","lettersChangedFlag","searchProperties","animatorProps","TextAnimatorDataProperty","maskManager","getMaskProperty","getMeasures","animators","matrixHelper","mHelper","renderedLettersCount","xPos","yPos","letters","pathInfo","currentLength","currentPoint","pointInd","segmentInd","prevPoint","tanAngle","tLength","pi","yOff","finalSize","firstLine","animatorSelector","letterValue","lastLetter","offf","xPathPos","yPathPos","initPathPos","initSegmentInd","initPointInd","currentLine","elemOpacity","sw","fc","lineLength","letterSw","letterSc","letterFc","letterM","letterP","defaultPropsArray","letterO","animatorJustifyOffset","animatorFirstCharOffset","justifyOffsetMult","isNewLine","getMult","anIndexes","totalChars","yOffset","line","lineWidths","extra","an","animatorOffset","strokeWidthAnim","strokeColorAnim","fillColorAnim","fh","fs","fb","ls","rot","atan","ps","ascent","justifyOffset","boxWidth","LetterProps","defaultData","textAnimator_animatables","TextSelectorProp","getTextSelectorProp","updated","TextProperty","keysIndex","canResize","minimumFontSize","currentData","defaultBoxWidth","lh","of","finalText","finalLineHeight","copyData","searchProperty","completeTextData","setCurrentData","searchKeyframes","getKeyframeValue","_finalValue","currentValue","currentIndex","textKeys","textDocumentData","buildFinalText","text","charactersArray","charCode","substr","newLineFlag","anchorGrouping","currentSize","currentPos","lineWidth","maxLineWidth","charData","styles","styleName","trackingOffset","boxHeight","currentHeight","lastSpaceIndex","uncollapsedSpaces","currentChar","animatorData","letterData","based","indexes","rn","currentInd","newInd","updateDocumentData","newData","dData","recalculate","canResizeFont","_canResize","setMinimumFontSize","_fontValue","_currentTextLength","finalS","finalE","xe","ne","textProperty","easer","tot","newCharsFlag","divisor","pool_factory","initialLength","_release","_clone","pooling","clonedElement","cloned","shapeCollection","BaseRenderer","checkLayers","num","ip","buildItem","checkPendingElements","createItem","layer","createImage","createComp","createSolid","createNull","createShape","createText","createCamera","AudioElement","buildAllItems","includeLayers","newLayers","setProjectInterface","pInterface","projectInterface","initItems","progressiveLoad","buildElementParenting","parentName","hierarchy","addPendingElement","setAsParent","setHierarchy","pendingElements","searchExtraCompositions","xt","initExpressions","registerComposition","setupGlobalData","animData","fontsContainer","getAssetData","animationItem","imageLoader","imagePreloader","audioController","fr","compSize","SVGRenderer","svgElement","titleElement","titleId","description","descElement","descId","maskElement","layerElement","renderConfig","preserveAspectRatio","imagePreserveAspectRatio","hideOnTransparent","viewBoxOnly","viewBoxSize","focusable","filterSize","destroyed","rendererType","NullElement","SVGShapeElement","SVGTextElement","IImageElement","SVGCompElement","ISolidElement","configAnimation","wrapper","rect","maskId","updateContainerSize","appendElementInPos","setMatte","layerId","checkParenting","renderFrame","currentFrame","prepareFrame","getBaseElement","nextElement","insertBefore","show","CanvasRenderer","clearCanvas","dpr","devicePixelRatio","currentGlobalAlpha","contextData","CVContextData","transformMat","CVShapeElement","CVTextElement","CVImageElement","CVCompElement","CVSolidElement","ctxTransform","canvasContext","cProps","cTr","trProps","ctxOpacity","globalAlpha","cO","restore","save","actionFlag","cArrPos","duplicate","saved","savedOp","blendMode","popped","mozTransformOrigin","transformCanvas","isDashed","elementWidth","elementHeight","offsetHeight","elementRel","animationRel","par","fillType","beginPath","closePath","clip","clearRect","HybridRenderer","threeDElements","camera","supports3d","newDOMElement","ddd","addTo3dContainer","nextDOMElement","nextLayer","tmpDOMElement","getThreeDContainerByPos","HShapeElement","HTextElement","HCameraElement","HImageElement","HCompElement","HSolidElement","startPos","endPos","perspectiveElem","createThreeDContainer","webkitTransform","threeDContainerData","build3dContainers","lastThreeDContainerData","currentContainer","resizerElem","svg","setup","cWidth","cHeight","perspective","webkitPerspective","floatingContainer","MaskElement","viewData","solidPath","properties","currentMasks","expansor","feMorph","maskRef","lastPath","filterID","expan","lastOperator","filterId","lastRadius","createLayerSolidPath","invRect","drawPath","maskedElement","addRenderableComponent","isFirstFrame","finalMat","finalTransform","mProp","getMaskelement","pathString","pathShapeValue","HierarchyElement","initHierarchy","_isParent","FrameElement","prepareProperties","isVisible","TransformElement","initTransform","_matMdf","_opMdf","ao","renderTransform","globalToLocal","transforms","ptNew","RenderableElement","initRenderable","isInRange","hidden","isTransparent","renderableComponents","removeRenderableComponent","prepareRenderableFrame","checkLayerLimits","checkTransparency","renderRenderable","sourceRectAtTime","getLayerSize","RenderableDOMElement","_prototype","initElement","initBaseData","initRendererElement","createContainerElements","createRenderableComponents","createContent","baseElement","hd","renderElement","renderInnerContent","innerElem","destroyBaseElement","ProcessedElement","SVGStyleData","level","lvl","pElem","msElem","SVGShapeData","transformers","caches","lStr","SVGTransformData","SVGStrokeStyleData","styleOb","SVGFillStyleData","SVGGradientFillStyleData","initGradientData","stops","setGradientData","setGradientOpacity","pathElement","gradientId","gfill","gf","cst","opacityId","opFill","ms","ost","SVGGradientStrokeStyleData","ShapeGroupData","prevViewData","gr","SVGElementsRenderer","_identityMatrix","_matrixHelper","createRenderFunction","renderFill","renderGradient","renderGradientStroke","renderStroke","renderPath","renderContentTransform","styleData","itemData","pathStringTransformed","redraw","lLen","iterations","styleElem","hasOpacity","attr1","attr2","cValues","oValues","ang","ShapeTransformManager","sequences","sequenceList","transform_key_count","addTransformSequence","sequence","processSequence","processSequences","getNewKey","CVShapeData","transformsManager","styledShapes","styledShape","trNodes","BaseElement","checkMasks","layerInterface","LayerExpressionInterface","registerMaskInterface","effectsInterface","EffectsExpressionInterface","createEffectsInterface","registerEffectsInterface","compInterface","CompExpressionInterface","shapeInterface","ShapeExpressionInterface","shapesData","itemsData","content","textInterface","TextExpressionInterface","setBlendMode","blendModeValue","bm","sr","effectsManager","EffectsManager","getType","SVGBaseElement","matteElement","transformedElement","_sizeChanged","layerElementParent","gg","masker","maskGroup","maskGrouper","feCTr","feFunc","alphaRect","ln","cp","clipId","cpGroup","renderableEffectsManager","SVGEffects","IShapeElement","addShapeToModifiers","shapeModifiers","isShapeInAnimatedModifiers","isAnimatedWithShape","renderModifiers","lcEnum","ljEnum","searchProcessedElement","processedElements","addProcessedElement","ITextElement","textAnimator","buildNewText","createPathShape","shapeStr","_fontSize","applyTextPropertiesToMatrix","lineNumber","buildColor","colorData","emptyProp","ICompElement","tm","_placeholder","timeRemapped","setElements","elems","getElements","destroyElements","sourceRect","pr","_isPlaying","_canPlay","_currentTime","volumeValue","textSpans","textContainer","buildTextContents","textArray","textContents","currentTextContent","usesGlyphs","tSpan","tElement","justify","cachedSpansLength","textBox","getBBox","bbox","renderedLetter","textSpan","stylesList","animatedContents","initSecondaryElement","identityMatrix","buildExpressionInterface","searchShapes","filterUniqueShapes","tempShapes","areAnimated","setShapesAsAnimated","createStyleElement","elementData","gradientConstructor","lc","lj","ml","addToAnimatedContents","createGroupElement","createTransformElement","transformProperty","createShapeElement","ownTransformers","shapeProperty","setElementStyles","ownStyles","ownModifiers","currentTransform","processedPos","renderShape","animatedContent","SVGTintFilter","filterManager","matrixFilter","effectElements","feMerge","feMergeNode","colorBlack","colorWhite","opacity","SVGFillFilter","SVGGaussianBlurEffect","feGaussianBlur","kBlurrinessToSigma","sigma","dimensions","sigmaX","sigmaY","edgeMode","SVGStrokeEffect","initialized","initialize","elemChildren","childNodes","groupPath","removeAttribute","pathMasker","dasharrayValue","getTotalLength","units","SVGTritoneFilter","feComponentTransfer","feFuncR","feFuncG","feFuncB","color1","color2","color3","tableR","tableG","tableB","SVGProLevelsFilter","createFeFunc","feFuncA","feFuncRComposed","feFuncGComposed","feFuncBComposed","getTableValue","inputBlack","inputWhite","gamma","outputBlack","outputWhite","table","colorValue","outputDelta","inputDelta","bezier","SVGDropShadowEffect","feOffset","feFlood","feComposite","originalNodeAdded","col","_svgMatteSymbols","SVGMatte3Effect","filterElem","findSymbol","replaceInParent","symbolId","nextChild","useElem","setElementAsMask","symbol","ef","filters","newLength","currentSavedOp","CVBaseElement","createElements","CVEffects","globalCompositeOperation","CVMaskElement","hideElement","showElement","forceRealStack","hasMasks","imgW","imgH","imgRel","canvasRel","widthCrop","heightCrop","drawImage","parentMatrix","moveTo","lineTo","bezierCurveTo","transformHelper","dashResetter","preTransforms","co","wi","da","do","addTransformToStyleList","removeTransformFromStyleList","closeStyles","ownTransforms","_shouldRender","renderShapeTransform","parentTransform","groupTransform","groupMatrix","drawLayer","nodes","currentStyle","coOp","strokeStyle","grd","lineCap","lineJoin","miterLimit","setLineDash","lineDashOffset","stroke","isMain","renderGradientFill","renderStyledShape","shapeNodes","groupTransformMat","createLinearGradient","createRadialGradient","addColorStop","currentRender","sWidth","fValue","hasFill","hasStroke","commands","pathArr","lastFill","lastStroke","lastStrokeW","HBaseElement","checkBlendMode","tg","addEffects","backgroundColor","_createBaseContainerElements","shapesContainer","currentBBox","_renderShapeFrame","shapeCont","getTransformedPoint","calculateShapeBoundingBox","boundingBox","vPoint","oPoint","nextIPoint","nextVPoint","bounds","checkBounds","getBoundsOfCurve","shapeBoundingBox","xMax","right","yMax","bottom","tempBoundingBox","p3","b2ac","t2","calculateF","calculateBoundingBox","currentBoxContains","box","changed","textPaths","isMasked","compW","compH","innerElemStyle","strokeWidth","lineHeight","tParent","tCont","textPath","Image","imageElem","pe","_prevMat","mTransf","diffVector","mag","lookDir","lookLengthOnXZ","m_rotationX","m_rotationY","hasMatrixChanged","HEffects","animationManager","registeredAnimations","playingAnimationsNum","_stopped","_isFrozen","removeElement","ev","animItem","animation","subtractPlayingCount","registerAnimation","AnimationItem","setupAnimation","setData","getRegisteredAnimations","animations","addPlayingCount","activate","setParams","nowTime","elapsedTime","advanceTime","goToAndStop","isFrame","togglePause","searchAnimations","standalone","animElements","getElementsByClassName","getElementsByTagName","div","resize","unfreeze","currentRawFrame","frameMult","playSpeed","playDirection","playCount","animationID","timeCompleted","segmentPos","isSubframeEnabled","_idle","_completedLoop","animType","autoloadSegments","initialSegment","lastIndexOf","trigger","wrapperAttributes","getNamedItem","prerender","loadNextSegment","segmentPath","loadSegments","imagesLoaded","checkLoaded","preloadImages","updaFrameModifier","waitForFontsLoaded","triggerConfigError","gotoFrame","setSubframe","triggerRenderFrameError","setCurrentRawFrameValue","frameModifier","goToAndPlay","nextValue","_isComplete","checkSegments","adjustSegment","setSegment","pendingFrame","forceFlag","resetSegments","onEnterFrame","onLoopComplete","onComplete","onSegmentStart","onDestroy","getDuration","onError","Expressions","stackCount","registers","pushExpression","popExpression","releaseInstances","registerExpressionProperty","expression","ExpressionManager","$bm_isInstanceOfArray","isNumerable","tOfV","Number","$bm_neg","tOfA","lenA","retArr","easeInBez","easeOutBez","easeInOutBez","sum","tOfB","lenB","sub","mul","$bm_sum","$bm_sub","$bm_mul","$bm_div","$bm_mod","clamp","mm","radiansToDegrees","radians_to_degrees","degreesToRadians","degrees_to_radians","helperLengthArray","arr1","normalize","vec","rgbToHsl","hue2rgb","hslToRgb","linear","tMin","tMax","value1","value2","_tMin","rnd","rndm","createPath","inTangents","outTangents","arrPlaceholder","inVertexPoint","outVertexPoint","initiateExpression","needsVelocity","_needsRandom","elemType","$bm_transform","effect","thisProperty","valueAtTime","frameDuration","displayStartTime","inPoint","outPoint","loopIn","loop_in","loopOut","loop_out","smooth","toWorld","fromWorld","fromComp","toComp","fromCompToSurface","rotation","anchorPoint","thisLayer","thisComp","velocityAtTime","__expression_functions","xf","eval","scoped_bm_rt","expression_function","numKeys","active","wiggle","freq","amp","addedAmps","periods","loopInDuration","duration","loopOutDuration","getVelocityAtTime","lookAt","elem1","elem2","fVec","pitch","yaw","easeOut","val1","val2","applyEase","easeIn","ease","nearestKey","framesToTime","frames","fps","timeToFrames","seedRandom","randSeed","posterizeTime","framesPerSecond","velocity","textIndex","textTotal","selectorValue","hasParent","executeExpression","_value","frameExpressionId","expressionHelpers","searchExpressions","_cachingAtTime","getSpeedAtTime","delta","getStaticValueAtTime","setGroupProperty","propertyGroup","addPropertyDecorator","durationFlag","lastKeyFrame","cycleDuration","firstKeyFrame","ret","initV","endV","repeats","lastValue","nextLastValue","firstValue","nextFirstValue","samples","endFrame","sampleFrequency","sampleValue","getTransformValueAtTime","_transformCachingAtTime","anchor","skewAxis","rotationZ","rotationY","rotationX","orientation","positionX","positionY","positionZ","getTransformStaticValueAtTime","propertyGetProp","propertyIndex","ix","getShapeValueAtTime","shapeValue","ShapePropertyConstructorFunction","KeyframedShapePropertyConstructorFunction","ShapeExpressions","isClosed","pointOnPath","_segmentsLength","accumulatedLength","initIndex","endIndex","vectorOnPath","vectorType","xLength","yLength","magnitude","unitVector","tangentOnPath","normalOnPath","propertyGetShapeProp","trims","addDecorator","calculateExpression","getExpressionValue","isKeyframed","hasExpressions","ShapePathInterface","pathInterfaceFactory","interfaceFunction","_propertyGroup","propertyGroupFactory","PropertyInterface","mn","parentPropertyGroup","propertyName","_name","iterateElements","groupInterfaceFactory","fillInterfaceFactory","strokeInterfaceFactory","trimInterfaceFactory","ellipseInterfaceFactory","starInterfaceFactory","rectInterfaceFactory","roundedInterfaceFactory","repeaterInterfaceFactory","contentsInterfaceFactory","interfaces","_interfaceFunction","numProperties","transformInterface","transformInterfaceFactory","cix","np","ExpressionPropertyInterface","_dashPropertyGroup","dashOb","addPropertyToDashOb","outerRadius","outerRoundness","innerRadius","innerRoundness","radius","_prevValue","_sourceText","_thisLayerFunction","sourceText","stringValue","toWorldMat","sampleImage","_registerMaskInterface","MaskManagerInterface","_registerEffectsInterface","effects","TransformExpressionInterface","anchorPointDescriptor","anchor_point","startTime","pixelAspect","numLayers","_thisFunction","xRotation","yRotation","xPosition","yPosition","zPosition","_transformFactory","_px","_py","_pz","compositions","_thisProjectFunction","effectsData","createGroupInterface","groupInterface","createValueInterface","enabled","en","expressionProperty","MaskInterface","_mask","_data","MaskManager","_maskManager","_masksInterfaces","maskFunction","defaultUnidimensionalValue","defaultMultidimensionalValue","completeProperty","expressionValue","valueProp","speedAtTime","UnidimensionalPropertyInterface","MultidimensionalPropertyInterface","arrValue","defaultGetter","TextExpressionSelectorProp","getValueProxy","total","propertyGetTextProp","SliderEffect","AngleEffect","ColorEffect","PointEffect","LayerIndexEffect","MaskIndexEffect","CheckboxEffect","NoValueEffect","effectItem","GroupEffect","eff","lottie","setLocationHref","setSubframeRendering","setQuality","inBrowser","installPlugin","plugin","getFactory","__getFactory","checkReady","readyStateCheckInterval","getQueryVariable","variable","vars","queryString","pair","decodeURIComponent","scripts","myScript"],"mappings":"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AAEz/B,oBAAS,CAACmB,IA1GH;;AA4GnB;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACEu+B,QAAM,EAAE1/B,oBAAS,CAACmB,IA1IC;;AA4InB;AACF;AACA;AACA;AACA;AACA;AACA;AACEw+B,gBAAc,EAAE3/B,oBAAS,CAACmB,IAnJP;;AAqJnB;AACF;AACA;AACA;AACA;AACA;AACA;AACEy+B,gBAAc,EAAE5/B,oBAAS,CAACmB;AA5JP,CAArB;AA8Jeu9B,+EAAf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAImB,YAAY,GAAG;AACjBC,WAAS,EAAE,KADM;AAEjBC,oBAAkB,EAAE,KAFH;AAGjBC,cAAY,EAAE,KAHG;AAIjBC,cAAY,EAAE,KAJG;AAKjBC,cAAY,EAAE,KALG;AAMjBC,cAAY,EAAE,EANG;AAOjBC,eAAa,EAAE,EAPE;AAQjBC,eAAa,EAAE;AARE,CAAnB;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO,SAASvB,WAAT,GAAuB;AAC5B,MAAIwB,KAAK,GAAGl1B,SAAS,CAACvE,MAAV,GAAmB,CAAnB,IAAwBuE,SAAS,CAAC,CAAD,CAAT,KAAiBtI,SAAzC,GAAqDsI,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAhF;AAAA,MACIgwB,MAAM,GAAGkF,KAAK,CAAClF,MADnB;AAAA,MAEImF,cAAc,GAAGD,KAAK,CAAC7sB,QAF3B;AAAA,MAGIA,QAAQ,GAAG8sB,cAAc,KAAK,KAAK,CAAxB,GAA4B,KAA5B,GAAoCA,cAHnD;AAAA,MAIIC,qBAAqB,GAAGF,KAAK,CAACjB,iBAJlC;AAAA,MAKIA,iBAAiB,GAAGmB,qBAAqB,KAAK,KAAK,CAA/B,GAAmCC,SAAnC,GAA+CD,qBALvE;AAAA,MAMIE,aAAa,GAAGJ,KAAK,CAAC9E,OAN1B;AAAA,MAOIA,OAAO,GAAGkF,aAAa,KAAK,KAAK,CAAvB,GAA2BC,QAA3B,GAAsCD,aAPpD;AAAA,MAQIE,aAAa,GAAGN,KAAK,CAAC/E,OAR1B;AAAA,MASIA,OAAO,GAAGqF,aAAa,KAAK,KAAK,CAAvB,GAA2B,CAA3B,GAA+BA,aAT7C;AAAA,MAUIC,cAAc,GAAGP,KAAK,CAAC3E,QAV3B;AAAA,MAWIA,QAAQ,GAAGkF,cAAc,KAAK,KAAK,CAAxB,GAA4B,IAA5B,GAAmCA,cAXlD;AAAA,MAYItB,WAAW,GAAGe,KAAK,CAACf,WAZxB;AAAA,MAaIC,WAAW,GAAGc,KAAK,CAACd,WAbxB;AAAA,MAcIC,UAAU,GAAGa,KAAK,CAACb,UAdvB;AAAA,MAeIC,MAAM,GAAGY,KAAK,CAACZ,MAfnB;AAAA,MAgBIC,cAAc,GAAGW,KAAK,CAACX,cAhB3B;AAAA,MAiBIC,cAAc,GAAGU,KAAK,CAACV,cAjB3B;AAAA,MAkBIN,kBAAkB,GAAGgB,KAAK,CAAChB,kBAlB/B;AAAA,MAmBIwB,qBAAqB,GAAGR,KAAK,CAACtB,qBAnBlC;AAAA,MAoBIA,qBAAqB,GAAG8B,qBAAqB,KAAK,KAAK,CAA/B,GAAmC,IAAnC,GAA0CA,qBApBtE;AAAA,MAqBIC,aAAa,GAAGT,KAAK,CAACrB,OArB1B;AAAA,MAsBIA,OAAO,GAAG8B,aAAa,KAAK,KAAK,CAAvB,GAA2B,KAA3B,GAAmCA,aAtBjD;AAAA,MAuBIC,gBAAgB,GAAGV,KAAK,CAACpB,UAvB7B;AAAA,MAwBIA,UAAU,GAAG8B,gBAAgB,KAAK,KAAK,CAA1B,GAA8B,KAA9B,GAAsCA,gBAxBvD;AAAA,MAyBIC,YAAY,GAAGX,KAAK,CAACnB,MAzBzB;AAAA,MA0BIA,MAAM,GAAG8B,YAAY,KAAK,KAAK,CAAtB,GAA0B,KAA1B,GAAkCA,YA1B/C;AAAA,MA2BIC,qBAAqB,GAAGZ,KAAK,CAAClB,oBA3BlC;AAAA,MA4BIA,oBAAoB,GAAG8B,qBAAqB,KAAK,KAAK,CAA/B,GAAmC,KAAnC,GAA2CA,qBA5BtE;;AA8BA,MAAIC,OAAO,GAAG1V,uBAAM,CAAC,IAAD,CAApB;AACA,MAAI2V,QAAQ,GAAG3V,uBAAM,CAAC,IAAD,CAArB;;AAEA,MAAI4V,WAAW,GAAGC,2BAAU,CAACC,OAAD,EAAU1B,YAAV,CAA5B;AAAA,MACI2B,YAAY,GAAGrE,cAAc,CAACkE,WAAD,EAAc,CAAd,CADjC;AAAA,MAEIz+B,KAAK,GAAG4+B,YAAY,CAAC,CAAD,CAFxB;AAAA,MAGIC,QAAQ,GAAGD,YAAY,CAAC,CAAD,CAH3B;;AAKA,MAAI1B,SAAS,GAAGl9B,KAAK,CAACk9B,SAAtB;AAAA,MACIC,kBAAkB,GAAGn9B,KAAK,CAACm9B,kBAD/B;AAAA,MAEII,YAAY,GAAGv9B,KAAK,CAACu9B,YAFzB,CAvC4B,CAyCW;;AAEvC,MAAIuB,cAAc,GAAG/V,4BAAW,CAAC,YAAY;AAC3C,QAAIyV,QAAQ,CAACtb,OAAb,EAAsB;AACpB2b,cAAQ,CAAC;AACP57B,YAAI,EAAE;AADC,OAAD,CAAR;AAGAu7B,cAAQ,CAACtb,OAAT,CAAiBpiB,KAAjB,GAAyB,IAAzB;AACA09B,cAAQ,CAACtb,OAAT,CAAiB6b,KAAjB;AACD;AACF,GAR+B,EAQ7B,CAACF,QAAD,CAR6B,CAAhC,CA3C4B,CAmDZ;;AAEhB,MAAIG,aAAa,GAAG,SAASA,aAAT,GAAyB;AAC3C;AACA,QAAI7B,kBAAJ,EAAwB;AACtB8B,gBAAU,CAAC,YAAY;AACrB,YAAIT,QAAQ,CAACtb,OAAb,EAAsB;AACpB,cAAIvC,KAAK,GAAG6d,QAAQ,CAACtb,OAAT,CAAiBvC,KAA7B;;AAEA,cAAI,CAACA,KAAK,CAAC1c,MAAX,EAAmB;AACjB46B,oBAAQ,CAAC;AACP57B,kBAAI,EAAE;AADC,aAAD,CAAR;;AAIA,gBAAI,OAAOy5B,kBAAP,KAA8B,UAAlC,EAA8C;AAC5CA,gCAAkB;AACnB;AACF;AACF;AACF,OAdS,EAcP,GAdO,CAAV;AAeD;AACF,GAnBD;;AAqBA1T,4BAAS,CAAC,YAAY;AACpB1a,UAAM,CAACoI,gBAAP,CAAwB,OAAxB,EAAiCsoB,aAAjC,EAAgD,KAAhD;AACA,WAAO,YAAY;AACjB1wB,YAAM,CAACwI,mBAAP,CAA2B,OAA3B,EAAoCkoB,aAApC,EAAmD,KAAnD;AACD,KAFD;AAGD,GALQ,EAKN,CAACR,QAAD,EAAWrB,kBAAX,EAA+BT,kBAA/B,CALM,CAAT,CA1E4B,CA+E4B;;AAExD,MAAIwC,WAAW,GAAGnW,4BAAW,CAAC,UAAU+K,KAAV,EAAiB;AAC7C;AACA,QAAI,CAACyK,OAAO,CAACrb,OAAT,IAAoB,CAACqb,OAAO,CAACrb,OAAR,CAAgBic,WAAhB,CAA4BrL,KAAK,CAACtxB,MAAlC,CAAzB,EAAoE;AAClE;AACD;;AAED,QAAIsxB,KAAK,CAACsL,OAAN,KAAkB,EAAlB,IAAwBtL,KAAK,CAACsL,OAAN,KAAkB,EAA9C,EAAkD;AAChDtL,WAAK,CAAC1E,cAAN;AACA0P,oBAAc;AACf;AACF,GAV4B,EAU1B,CAACP,OAAD,EAAUC,QAAV,CAV0B,CAA7B,CAjF4B,CA2FH;;AAEzB,MAAIa,SAAS,GAAGtW,4BAAW,CAAC,YAAY;AACtC8V,YAAQ,CAAC;AACP57B,UAAI,EAAE;AADC,KAAD,CAAR;AAGD,GAJ0B,EAIxB,EAJwB,CAA3B;AAKA,MAAIq8B,QAAQ,GAAGvW,4BAAW,CAAC,YAAY;AACrC8V,YAAQ,CAAC;AACP57B,UAAI,EAAE;AADC,KAAD,CAAR;AAGD,GAJyB,EAIvB,EAJuB,CAA1B,CAlG4B,CAsGpB;;AAER,MAAIs8B,SAAS,GAAGxW,4BAAW,CAAC,YAAY;AACtC,QAAIsT,OAAJ,EAAa;AACX;AACD,KAHqC,CAGpC;AACF;AACA;;;AAGA,QAAI3C,UAAU,EAAd,EAAkB;AAChBuF,gBAAU,CAACH,cAAD,EAAiB,CAAjB,CAAV;AACD,KAFD,MAEO;AACLA,oBAAc;AACf;AACF,GAb0B,EAaxB,CAACN,QAAD,EAAWnC,OAAX,CAbwB,CAA3B;AAcA,MAAImD,cAAc,GAAG3W,uBAAM,CAAC,EAAD,CAA3B;;AAEA,MAAI4W,cAAc,GAAG,SAASA,cAAT,CAAwB3L,KAAxB,EAA+B;AAClD,QAAIyK,OAAO,CAACrb,OAAR,IAAmBqb,OAAO,CAACrb,OAAR,CAAgBwc,QAAhB,CAAyB5L,KAAK,CAACtxB,MAA/B,CAAvB,EAA+D;AAC7D;AACA;AACD;;AAEDsxB,SAAK,CAAC1E,cAAN;AACAoQ,kBAAc,CAACtc,OAAf,GAAyB,EAAzB;AACD,GARD;;AAUA8F,4BAAS,CAAC,YAAY;AACpB,QAAIoT,qBAAJ,EAA2B;AACzBtiB,cAAQ,CAACpD,gBAAT,CAA0B,UAA1B,EAAsC4iB,kBAAtC,EAA0D,KAA1D;AACAxf,cAAQ,CAACpD,gBAAT,CAA0B,MAA1B,EAAkC+oB,cAAlC,EAAkD,KAAlD;AACD;;AAED,WAAO,YAAY;AACjB,UAAIrD,qBAAJ,EAA2B;AACzBtiB,gBAAQ,CAAChD,mBAAT,CAA6B,UAA7B,EAAyCwiB,kBAAzC;AACAxf,gBAAQ,CAAChD,mBAAT,CAA6B,MAA7B,EAAqC2oB,cAArC;AACD;AACF,KALD;AAMD,GAZQ,EAYN,CAAClB,OAAD,EAAUnC,qBAAV,CAZM,CAAT;AAaA,MAAIuD,aAAa,GAAG5W,4BAAW,CAAC,UAAU+K,KAAV,EAAiB;AAC/CA,SAAK,CAAC1E,cAAN,GAD+C,CACvB;;AAExB0E,SAAK,CAACzE,OAAN;AACAuQ,mBAAe,CAAC9L,KAAD,CAAf,CAJ+C,CAIvB;;AAExB,QAAI0L,cAAc,CAACtc,OAAf,CAAuBzhB,OAAvB,CAA+BqyB,KAAK,CAACtxB,MAArC,MAAiD,CAAC,CAAtD,EAAyD;AACvDg9B,oBAAc,CAACtc,OAAf,GAAyB,GAAGrc,MAAH,CAAUmzB,kBAAkB,CAACwF,cAAc,CAACtc,OAAhB,CAA5B,EAAsD,CAAC4Q,KAAK,CAACtxB,MAAP,CAAtD,CAAzB;AACD;;AAED,QAAI02B,cAAc,CAACpF,KAAD,CAAlB,EAA2B;AACzB1pB,aAAO,CAACD,OAAR,CAAgBsyB,iBAAiB,CAAC3I,KAAD,CAAjC,EAA0CnpB,IAA1C,CAA+C,UAAU4yB,YAAV,EAAwB;AACrE,YAAIvE,oBAAoB,CAAClF,KAAD,CAApB,IAA+B,CAAC0I,oBAApC,EAA0D;AACxD;AACD;;AAEDqC,gBAAQ,CAAC;AACPtB,sBAAY,EAAEA,YADP;AAEPH,sBAAY,EAAE,IAFP;AAGPn6B,cAAI,EAAE;AAHC,SAAD,CAAR;;AAMA,YAAI05B,WAAJ,EAAiB;AACfA,qBAAW,CAAC7I,KAAD,CAAX;AACD;AACF,OAdD;AAeD;AACF,GA3B8B,EA2B5B,CAAC2I,iBAAD,EAAoBE,WAApB,EAAiCH,oBAAjC,CA3B4B,CAA/B;AA4BA,MAAIqD,YAAY,GAAG9W,4BAAW,CAAC,UAAU+K,KAAV,EAAiB;AAC9CA,SAAK,CAAC1E,cAAN;AACA0E,SAAK,CAACzE,OAAN;AACAuQ,mBAAe,CAAC9L,KAAD,CAAf;;AAEA,QAAIA,KAAK,CAACqF,YAAV,EAAwB;AACtB,UAAI;AACFrF,aAAK,CAACqF,YAAN,CAAmB2G,UAAnB,GAAgC,MAAhC;AACD,OAFD,CAEE,OAAOC,OAAP,EAAgB,CAAE;AACpB;;AAED;;AAED,QAAI7G,cAAc,CAACpF,KAAD,CAAd,IAAyB+I,UAA7B,EAAyC;AACvCA,gBAAU,CAAC/I,KAAD,CAAV;AACD;;AAED,WAAO,KAAP;AACD,GAlB6B,EAkB3B,CAAC+I,UAAD,EAAaL,oBAAb,CAlB2B,CAA9B;AAmBA,MAAIwD,aAAa,GAAGjX,4BAAW,CAAC,UAAU+K,KAAV,EAAiB;AAC/CA,SAAK,CAAC1E,cAAN;AACA0E,SAAK,CAACzE,OAAN;AACAuQ,mBAAe,CAAC9L,KAAD,CAAf,CAH+C,CAGvB;;AAExB,QAAImM,OAAO,GAAGT,cAAc,CAACtc,OAAf,CAAuB5F,MAAvB,CAA8B,UAAU9a,MAAV,EAAkB;AAC5D,aAAOA,MAAM,KAAKsxB,KAAK,CAACtxB,MAAjB,IAA2B+7B,OAAO,CAACrb,OAAnC,IAA8Cqb,OAAO,CAACrb,OAAR,CAAgBwc,QAAhB,CAAyBl9B,MAAzB,CAArD;AACD,KAFa,CAAd;AAGAg9B,kBAAc,CAACtc,OAAf,GAAyB+c,OAAzB;;AAEA,QAAIA,OAAO,CAACh8B,MAAR,GAAiB,CAArB,EAAwB;AACtB;AACD;;AAED46B,YAAQ,CAAC;AACPzB,kBAAY,EAAE,KADP;AAEPn6B,UAAI,EAAE,iBAFC;AAGPs6B,kBAAY,EAAE;AAHP,KAAD,CAAR;;AAMA,QAAIrE,cAAc,CAACpF,KAAD,CAAd,IAAyB8I,WAA7B,EAA0C;AACxCA,iBAAW,CAAC9I,KAAD,CAAX;AACD;AACF,GAvB8B,EAuB5B,CAACyK,OAAD,EAAU3B,WAAV,EAAuBJ,oBAAvB,CAvB4B,CAA/B;AAwBA,MAAI0D,QAAQ,GAAGnX,4BAAW,CAAC,UAAU+K,KAAV,EAAiB;AAC1CA,SAAK,CAAC1E,cAAN,GAD0C,CAClB;;AAExB0E,SAAK,CAACzE,OAAN;AACAuQ,mBAAe,CAAC9L,KAAD,CAAf;AACA0L,kBAAc,CAACtc,OAAf,GAAyB,EAAzB;;AAEA,QAAIgW,cAAc,CAACpF,KAAD,CAAlB,EAA2B;AACzB1pB,aAAO,CAACD,OAAR,CAAgBsyB,iBAAiB,CAAC3I,KAAD,CAAjC,EAA0CnpB,IAA1C,CAA+C,UAAUgW,KAAV,EAAiB;AAC9D,YAAIqY,oBAAoB,CAAClF,KAAD,CAApB,IAA+B,CAAC0I,oBAApC,EAA0D;AACxD;AACD;;AAED,YAAIgB,aAAa,GAAG,EAApB;AACA,YAAIC,aAAa,GAAG,EAApB;AACA9c,aAAK,CAAClb,OAAN,CAAc,UAAU8yB,IAAV,EAAgB;AAC5B,cAAID,YAAY,CAACC,IAAD,EAAOC,MAAP,CAAZ,IAA8BE,aAAa,CAACH,IAAD,EAAOI,OAAP,EAAgBC,OAAhB,CAA/C,EAAyE;AACvE4E,yBAAa,CAAC5xB,IAAd,CAAmB2sB,IAAnB;AACD,WAFD,MAEO;AACLkF,yBAAa,CAAC7xB,IAAd,CAAmB2sB,IAAnB;AACD;AACF,SAND;;AAQA,YAAI,CAACQ,QAAD,IAAayE,aAAa,CAACv5B,MAAd,GAAuB,CAAxC,EAA2C;AACzCw5B,uBAAa,CAAC7xB,IAAd,CAAmBnD,KAAnB,CAAyBg1B,aAAzB,EAAwCzD,kBAAkB,CAACwD,aAAa,CAAClM,MAAd,CAAqB,CAArB,CAAD,CAA1D,EADyC,CAC6C;AACvF;;AAEDuN,gBAAQ,CAAC;AACPrB,uBAAa,EAAEA,aADR;AAEPC,uBAAa,EAAEA,aAFR;AAGPx6B,cAAI,EAAE;AAHC,SAAD,CAAR;;AAMA,YAAI65B,MAAJ,EAAY;AACVA,gBAAM,CAACU,aAAD,EAAgBC,aAAhB,EAA+B3J,KAA/B,CAAN;AACD;;AAED,YAAI2J,aAAa,CAACx5B,MAAd,GAAuB,CAAvB,IAA4B+4B,cAAhC,EAAgD;AAC9CA,wBAAc,CAACS,aAAD,EAAgB3J,KAAhB,CAAd;AACD;;AAED,YAAI0J,aAAa,CAACv5B,MAAd,GAAuB,CAAvB,IAA4B84B,cAAhC,EAAgD;AAC9CA,wBAAc,CAACS,aAAD,EAAgB1J,KAAhB,CAAd;AACD;AACF,OApCD;AAqCD;;AAED+K,YAAQ,CAAC;AACP57B,UAAI,EAAE;AADC,KAAD,CAAR;AAGD,GAlDyB,EAkDvB,CAAC81B,QAAD,EAAWP,MAAX,EAAmBG,OAAnB,EAA4BC,OAA5B,EAAqC6D,iBAArC,EAAwDK,MAAxD,EAAgEC,cAAhE,EAAgFC,cAAhF,EAAgGR,oBAAhG,CAlDuB,CAA1B;;AAoDA,MAAI2D,cAAc,GAAG,SAASA,cAAT,CAAwB5nB,EAAxB,EAA4B;AAC/C,WAAO1H,QAAQ,GAAG,IAAH,GAAU0H,EAAzB;AACD,GAFD;;AAIA,MAAI6nB,sBAAsB,GAAG,SAASA,sBAAT,CAAgC7nB,EAAhC,EAAoC;AAC/D,WAAO+jB,UAAU,GAAG,IAAH,GAAU6D,cAAc,CAAC5nB,EAAD,CAAzC;AACD,GAFD;;AAIA,MAAI8nB,kBAAkB,GAAG,SAASA,kBAAT,CAA4B9nB,EAA5B,EAAgC;AACvD,WAAOgkB,MAAM,GAAG,IAAH,GAAU4D,cAAc,CAAC5nB,EAAD,CAArC;AACD,GAFD;;AAIA,MAAIqnB,eAAe,GAAG,SAASA,eAAT,CAAyB9L,KAAzB,EAAgC;AACpD,QAAI0I,oBAAJ,EAA0B;AACxB1I,WAAK,CAAC8L,eAAN;AACD;AACF,GAJD;;AAMA,MAAIU,YAAY,GAAGC,wBAAO,CAAC,YAAY;AACrC,WAAO,YAAY;AACjB,UAAIC,KAAK,GAAGh4B,SAAS,CAACvE,MAAV,GAAmB,CAAnB,IAAwBuE,SAAS,CAAC,CAAD,CAAT,KAAiBtI,SAAzC,GAAqDsI,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAhF;AAAA,UACIi4B,YAAY,GAAGD,KAAK,CAACE,MADzB;AAAA,UAEIA,MAAM,GAAGD,YAAY,KAAK,KAAK,CAAtB,GAA0B,KAA1B,GAAkCA,YAF/C;AAAA,UAGIl6B,SAAS,GAAGi6B,KAAK,CAACj6B,SAHtB;AAAA,UAIIjI,OAAO,GAAGkiC,KAAK,CAACliC,OAJpB;AAAA,UAKIE,MAAM,GAAGgiC,KAAK,CAAChiC,MALnB;AAAA,UAMI8H,OAAO,GAAGk6B,KAAK,CAACl6B,OANpB;AAAA,UAOIq2B,WAAW,GAAG6D,KAAK,CAAC7D,WAPxB;AAAA,UAQIE,UAAU,GAAG2D,KAAK,CAAC3D,UARvB;AAAA,UASID,WAAW,GAAG4D,KAAK,CAAC5D,WATxB;AAAA,UAUIE,MAAM,GAAG0D,KAAK,CAAC1D,MAVnB;AAAA,UAWIvI,IAAI,GAAGmH,wBAAwB,CAAC8E,KAAD,EAAQ,CAAC,QAAD,EAAW,WAAX,EAAwB,SAAxB,EAAmC,QAAnC,EAA6C,SAA7C,EAAwD,aAAxD,EAAuE,YAAvE,EAAqF,aAArF,EAAoG,QAApG,CAAR,CAXnC;;AAaA,aAAOlF,aAAa,CAACC,eAAe,CAAC;AACnCh1B,iBAAS,EAAE65B,sBAAsB,CAACxG,oBAAoB,CAACrzB,SAAD,EAAY24B,WAAZ,CAArB,CADE;AAEnC5gC,eAAO,EAAE8hC,sBAAsB,CAACxG,oBAAoB,CAACt7B,OAAD,EAAU+gC,SAAV,CAArB,CAFI;AAGnC7gC,cAAM,EAAE4hC,sBAAsB,CAACxG,oBAAoB,CAACp7B,MAAD,EAAS8gC,QAAT,CAArB,CAHK;AAInCh5B,eAAO,EAAE65B,cAAc,CAACvG,oBAAoB,CAACtzB,OAAD,EAAUi5B,SAAV,CAArB,CAJY;AAKnC5C,mBAAW,EAAE0D,kBAAkB,CAACzG,oBAAoB,CAAC+C,WAAD,EAAcgD,aAAd,CAArB,CALI;AAMnC9C,kBAAU,EAAEwD,kBAAkB,CAACzG,oBAAoB,CAACiD,UAAD,EAAagD,YAAb,CAArB,CANK;AAOnCjD,mBAAW,EAAEyD,kBAAkB,CAACzG,oBAAoB,CAACgD,WAAD,EAAcoD,aAAd,CAArB,CAPI;AAQnClD,cAAM,EAAEuD,kBAAkB,CAACzG,oBAAoB,CAACkD,MAAD,EAASoD,QAAT,CAArB;AARS,OAAD,EASjCQ,MATiC,EASzBnC,OATyB,CAAhB,EASC,CAAC1tB,QAAD,IAAa,CAACyrB,UAAd,GAA2B;AAC9CpkB,gBAAQ,EAAE;AADoC,OAA3B,GAEjB,EAXgB,EAWZ,EAXY,EAWRqc,IAXQ,CAApB;AAYD,KA1BD;AA2BD,GA5ByB,EA4BvB,CAACgK,OAAD,EAAUW,WAAV,EAAuBG,SAAvB,EAAkCC,QAAlC,EAA4CC,SAA5C,EAAuDI,aAAvD,EAAsEE,YAAtE,EAAoFG,aAApF,EAAmGE,QAAnG,EAA6G5D,UAA7G,EAAyHC,MAAzH,EAAiI1rB,QAAjI,CA5BuB,CAA1B;AA6BA,MAAI8vB,mBAAmB,GAAG5X,4BAAW,CAAC,UAAU+K,KAAV,EAAiB;AACrDA,SAAK,CAAC8L,eAAN;AACD,GAFoC,EAElC,EAFkC,CAArC;AAGA,MAAIgB,aAAa,GAAGL,wBAAO,CAAC,YAAY;AACtC,WAAO,YAAY;AACjB,UAAIM,KAAK,GAAGr4B,SAAS,CAACvE,MAAV,GAAmB,CAAnB,IAAwBuE,SAAS,CAAC,CAAD,CAAT,KAAiBtI,SAAzC,GAAqDsI,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAhF;AAAA,UACIs4B,YAAY,GAAGD,KAAK,CAACH,MADzB;AAAA,UAEIA,MAAM,GAAGI,YAAY,KAAK,KAAK,CAAtB,GAA0B,KAA1B,GAAkCA,YAF/C;AAAA,UAGIriC,QAAQ,GAAGoiC,KAAK,CAACpiC,QAHrB;AAAA,UAII6H,OAAO,GAAGu6B,KAAK,CAACv6B,OAJpB;AAAA,UAKIiuB,IAAI,GAAGmH,wBAAwB,CAACmF,KAAD,EAAQ,CAAC,QAAD,EAAW,UAAX,EAAuB,SAAvB,CAAR,CALnC;;AAOA,UAAI1hC,UAAU,GAAGo8B,eAAe,CAAC;AAC/B/C,cAAM,EAAEA,MADuB;AAE/BO,gBAAQ,EAAEA,QAFqB;AAG/B91B,YAAI,EAAE,MAHyB;AAI/B6U,aAAK,EAAE;AACL4B,iBAAO,EAAE;AADJ,SAJwB;AAO/Bjb,gBAAQ,EAAE0hC,cAAc,CAACvG,oBAAoB,CAACn7B,QAAD,EAAWyhC,QAAX,CAArB,CAPO;AAQ/B55B,eAAO,EAAE65B,cAAc,CAACvG,oBAAoB,CAACtzB,OAAD,EAAUq6B,mBAAV,CAArB,CARQ;AAS/BI,oBAAY,EAAE,KATiB;AAU/B7oB,gBAAQ,EAAE,CAAC;AAVoB,OAAD,EAW7BwoB,MAX6B,EAWrBlC,QAXqB,CAAhC;;AAaA,aAAOlD,aAAa,CAAC,EAAD,EAAKn8B,UAAL,EAAiB,EAAjB,EAAqBo1B,IAArB,CAApB;AACD,KAtBD;AAuBD,GAxB0B,EAwBxB,CAACiK,QAAD,EAAWhG,MAAX,EAAmBO,QAAnB,EAA6BmH,QAA7B,EAAuCrvB,QAAvC,CAxBwB,CAA3B;AAyBA,MAAImwB,SAAS,GAAGzD,YAAY,CAACt5B,MAA7B;AACA,MAAIo5B,YAAY,GAAG2D,SAAS,GAAG,CAAZ,IAAiBlI,gBAAgB,CAAC;AACnDnY,SAAK,EAAE4c,YAD4C;AAEnD/E,UAAM,EAAEA,MAF2C;AAGnDG,WAAO,EAAEA,OAH0C;AAInDC,WAAO,EAAEA,OAJ0C;AAKnDG,YAAQ,EAAEA;AALyC,GAAD,CAApD;AAOA,MAAIuE,YAAY,GAAG0D,SAAS,GAAG,CAAZ,IAAiB,CAAC3D,YAArC;AACA,SAAO/B,aAAa,CAAC,EAAD,EAAKt7B,KAAL,EAAY;AAC9Bq9B,gBAAY,EAAEA,YADgB;AAE9BC,gBAAY,EAAEA,YAFgB;AAG9BJ,aAAS,EAAEA,SAAS,IAAI,CAACrsB,QAHK;AAI9ByvB,gBAAY,EAAEA,YAJgB;AAK9BM,iBAAa,EAAEA,aALe;AAM9BrC,WAAO,EAAEA,OANqB;AAO9BC,YAAQ,EAAEA,QAPoB;AAQ9B/+B,QAAI,EAAE0gC,cAAc,CAACrB,cAAD;AARU,GAAZ,CAApB;AAUD;;AAED,SAASH,OAAT,CAAiB3+B,KAAjB,EAAwB6F,MAAxB,EAAgC;AAC9B;AACA,UAAQA,MAAM,CAAC5C,IAAf;AACE,SAAK,OAAL;AACE,aAAOq4B,aAAa,CAAC,EAAD,EAAKt7B,KAAL,EAAY;AAC9Bk9B,iBAAS,EAAE;AADmB,OAAZ,CAApB;;AAIF,SAAK,MAAL;AACE,aAAO5B,aAAa,CAAC,EAAD,EAAKt7B,KAAL,EAAY;AAC9Bk9B,iBAAS,EAAE;AADmB,OAAZ,CAApB;;AAIF,SAAK,YAAL;AACE,aAAO5B,aAAa,CAAC,EAAD,EAAKt7B,KAAL,EAAY;AAC9Bm9B,0BAAkB,EAAE;AADU,OAAZ,CAApB;;AAIF,SAAK,aAAL;AACE,aAAO7B,aAAa,CAAC,EAAD,EAAKt7B,KAAL,EAAY;AAC9Bm9B,0BAAkB,EAAE;AADU,OAAZ,CAApB;;AAIF,SAAK,iBAAL;AACE;AACA,UAAIC,YAAY,GAAGv3B,MAAM,CAACu3B,YAA1B;AAAA,UACIG,YAAY,GAAG13B,MAAM,CAAC03B,YAD1B;AAEA,aAAOjC,aAAa,CAAC,EAAD,EAAKt7B,KAAL,EAAY;AAC9Bu9B,oBAAY,EAAEA,YADgB;AAE9BH,oBAAY,EAAEA;AAFgB,OAAZ,CAApB;;AAKF,SAAK,UAAL;AACE,aAAO9B,aAAa,CAAC,EAAD,EAAKt7B,KAAL,EAAY;AAC9Bw9B,qBAAa,EAAE33B,MAAM,CAAC23B,aADQ;AAE9BC,qBAAa,EAAE53B,MAAM,CAAC43B;AAFQ,OAAZ,CAApB;;AAKF,SAAK,OAAL;AACE,aAAOnC,aAAa,CAAC,EAAD,EAAKt7B,KAAL,EAAY;AAC9Bm9B,0BAAkB,EAAE,KADU;AAE9BC,oBAAY,EAAE,KAFgB;AAG9BG,oBAAY,EAAE,EAHgB;AAI9BC,qBAAa,EAAE,EAJe;AAK9BC,qBAAa,EAAE;AALe,OAAZ,CAApB;;AAQF;AACE,aAAOz9B,KAAP;AA9CJ;AAgDD,C;;;;;;;AC/wBD,iBAAiB,mBAAO,CAAC,GAAqB;;;;;;;;;ACA9C;AACA;AACA;AACA;AACA;AACA;AACA;AAEa;;AAEb,IAAIihC,OAAO,GAAG9jC,mBAAO,CAAC,GAAD,CAArB,C,CAEA;;;AAEA,IAAI+jC,WAAW,GAAG,EAAlB;;AAEA,IAAIC,KAAJ,EAA2C,EAE1C;;AAED,IAAIC,cAAc,GAAG,SAASA,cAAT,CAAwB9/B,MAAxB,EAAgC,CAAE,CAAvD;;AAEA,IAAI6/B,KAAJ,EAA2C,EAM1C;;AAED,SAASE,UAAT,CAAoBC,SAApB,EAA+BhgC,MAA/B,EAAuCoL,CAAvC,EAA0ClF,CAA1C,EAA6CwB,CAA7C,EAAgDzB,CAAhD,EAAmDhF,CAAnD,EAAsD4I,CAAtD,EAAyD;AACvDi2B,gBAAc,CAAC9/B,MAAD,CAAd;;AAEA,MAAI,CAACggC,SAAL,EAAgB;AACd,QAAIn8B,KAAJ;;AACA,QAAI7D,MAAM,KAAKpB,SAAf,EAA0B;AACxBiF,WAAK,GAAG,IAAI8B,KAAJ,CAAU,uEAAuE,6DAAjF,CAAR;AACD,KAFD,MAEO;AACL,UAAIsN,IAAI,GAAG,CAAC7H,CAAD,EAAIlF,CAAJ,EAAOwB,CAAP,EAAUzB,CAAV,EAAahF,CAAb,EAAgB4I,CAAhB,CAAX;AACA,UAAIo2B,QAAQ,GAAG,CAAf;AACAp8B,WAAK,GAAG,IAAI8B,KAAJ,CAAU3F,MAAM,CAACob,OAAP,CAAe,KAAf,EAAsB,YAAY;AAClD,eAAOnI,IAAI,CAACgtB,QAAQ,EAAT,CAAX;AACD,OAFiB,CAAV,CAAR;AAGAp8B,WAAK,CAACO,IAAN,GAAa,qBAAb;AACD;;AAEDP,SAAK,CAACq8B,WAAN,GAAoB,CAApB,CAbc,CAaS;;AACvB,UAAMr8B,KAAN;AACD;AACF;;AAED,IAAIs8B,OAAO,GAAG,mBAAU,CAAE,CAA1B;;AAEA,IAAIN,KAAJ,EAA2C,qB,CAwC3C;;;AAEA,IAAIO,UAAU,GAAG,QAAjB,C,CAEA;AACA;;AACA,SAASC,QAAT,CAAkBppB,EAAlB,EAAsB;AACpB,SAAOA,EAAP;AACD;;AAED,IAAIqpB,0BAAJ;;AACA,IAAIT,KAAJ,EAA2C,EAA3C,MAMO;AACLS,4BAA0B,GAAG,EAA7B;AACD;;AAED,SAAS56B,OAAT,CAAiB66B,cAAjB,EAAiCx6B,cAAjC,EAAiDH,oBAAjD,EAAuE;AACrE;AACF;AACA;AAEE,MAAI46B,cAAc,GAAG,EAArB;AAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACE,MAAIC,mBAAmB,GAAG;AACxB;AACJ;AACA;AACA;AACA;AACA;AACIC,UAAM,EAAE,aAPgB;;AASxB;AACJ;AACA;AACA;AACA;AACA;AACA;AACIC,WAAO,EAAE,aAhBe;;AAkBxB;AACJ;AACA;AACA;AACA;AACA;AACI5jC,aAAS,EAAE,aAxBa;;AA0BxB;AACJ;AACA;AACA;AACA;AACA;AACI6jC,gBAAY,EAAE,aAhCU;;AAkCxB;AACJ;AACA;AACA;AACA;AACA;AACIC,qBAAiB,EAAE,aAxCK;AA0CxB;;AAEA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACIC,mBAAe,EAAE,oBAtDO;;AAwDxB;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACIviC,mBAAe,EAAE,oBAtEO;;AAwExB;AACJ;AACA;AACA;AACIwiC,mBAAe,EAAE,oBA5EO;;AA8ExB;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACIr8B,UAAM,EAAE,aA7FgB;AA+FxB;;AAEA;AACJ;AACA;AACA;AACA;AACA;AACA;AACIs8B,sBAAkB,EAAE,aAxGI;;AA0GxB;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACIxtB,qBAAiB,EAAE,aApHK;;AAsHxB;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACIhT,6BAAyB,EAAE,aAzIH;;AA2IxB;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACIygC,yBAAqB,EAAE,aA/JC;;AAiKxB;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACI3sB,uBAAmB,EAAE,aAhLG;;AAkLxB;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACIG,sBAAkB,EAAE,aA9LI;;AAgMxB;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACIM,wBAAoB,EAAE,aA3ME;;AA6MxB;AACJ;AACA;AACA;AACA;AACImsB,6BAAyB,EAAE,aAlNH;;AAoNxB;AACJ;AACA;AACA;AACA;AACIC,oCAAgC,EAAE,aAzNV;;AA2NxB;AACJ;AACA;AACA;AACA;AACIC,8BAA0B,EAAE,aAhOJ;AAkOxB;;AAEA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACIC,mBAAe,EAAE;AA9OO,GAA1B;AAiPA;AACF;AACA;;AACE,MAAIC,yBAAyB,GAAG;AAC9B;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACIC,4BAAwB,EAAE;AAXI,GAAhC;AAcA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACE,MAAIC,kBAAkB,GAAG;AACvB1kC,eAAW,EAAE,qBAASi5B,WAAT,EAAsBj5B,YAAtB,EAAmC;AAC9Ci5B,iBAAW,CAACj5B,WAAZ,GAA0BA,YAA1B;AACD,KAHsB;AAIvB4jC,UAAM,EAAE,gBAAS3K,WAAT,EAAsB2K,OAAtB,EAA8B;AACpC,UAAIA,OAAJ,EAAY;A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","file":"x","sourcesContent":["var core = module.exports = { version: '2.6.11' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","'use strict';\n\nvar assign = require('object-assign'),\n\tPropTypes = require('prop-types'),\n\tcreateClass = require('create-react-class'),\n\tmoment = require('moment'),\n\tReact = require('react'),\n\tCalendarContainer = require('./src/CalendarContainer'),\n\tonClickOutside = require('react-onclickoutside').default\n\t;\n\nvar viewModes = Object.freeze({\n\tYEARS: 'years',\n\tMONTHS: 'months',\n\tDAYS: 'days',\n\tTIME: 'time',\n});\n\nvar TYPES = PropTypes;\nvar Datetime = createClass({\n\tdisplayName: 'DateTime',\n\tpropTypes: {\n\t\t// value: TYPES.object | TYPES.string,\n\t\t// defaultValue: TYPES.object | TYPES.string,\n\t\t// viewDate: TYPES.object | TYPES.string,\n\t\tonFocus: TYPES.func,\n\t\tonBlur: TYPES.func,\n\t\tonChange: TYPES.func,\n\t\tonViewModeChange: TYPES.func,\n\t\tonNavigateBack: TYPES.func,\n\t\tonNavigateForward: TYPES.func,\n\t\tlocale: TYPES.string,\n\t\tutc: TYPES.bool,\n\t\tdisplayTimeZone: TYPES.string,\n\t\tinput: TYPES.bool,\n\t\t// dateFormat: TYPES.string | TYPES.bool,\n\t\t// timeFormat: TYPES.string | TYPES.bool,\n\t\tinputProps: TYPES.object,\n\t\ttimeConstraints: TYPES.object,\n\t\tviewMode: TYPES.oneOf([viewModes.YEARS, viewModes.MONTHS, viewModes.DAYS, viewModes.TIME]),\n\t\tisValidDate: TYPES.func,\n\t\topen: TYPES.bool,\n\t\tstrictParsing: TYPES.bool,\n\t\tcloseOnSelect: TYPES.bool,\n\t\tcloseOnTab: TYPES.bool\n\t},\n\n\tgetInitialState: function() {\n\t\tthis.checkTZ( this.props );\n\t\t\n\t\tvar state = this.getStateFromProps( this.props );\n\n\t\tif ( state.open === undefined )\n\t\t\tstate.open = !this.props.input;\n\n\t\tstate.currentView = this.props.dateFormat ?\n\t\t\t(this.props.viewMode || state.updateOn || viewModes.DAYS) : viewModes.TIME;\n\n\t\treturn state;\n\t},\n\n\tparseDate: function (date, formats) {\n\t\tvar parsedDate;\n\n\t\tif (date && typeof date === 'string')\n\t\t\tparsedDate = this.localMoment(date, formats.datetime);\n\t\telse if (date)\n\t\t\tparsedDate = this.localMoment(date);\n\n\t\tif (parsedDate && !parsedDate.isValid())\n\t\t\tparsedDate = null;\n\n\t\treturn parsedDate;\n\t},\n\n\tgetStateFromProps: function( props ) {\n\t\tvar formats = this.getFormats( props ),\n\t\t\tdate = props.value || props.defaultValue,\n\t\t\tselectedDate, viewDate, updateOn, inputValue\n\t\t\t;\n\n\t\tselectedDate = this.parseDate(date, formats);\n\n\t\tviewDate = this.parseDate(props.viewDate, formats);\n\n\t\tviewDate = selectedDate ?\n\t\t\tselectedDate.clone().startOf('month') :\n\t\t\tviewDate ? viewDate.clone().startOf('month') : this.localMoment().startOf('month');\n\n\t\tupdateOn = this.getUpdateOn(formats);\n\n\t\tif ( selectedDate )\n\t\t\tinputValue = selectedDate.format(formats.datetime);\n\t\telse if ( date.isValid && !date.isValid() )\n\t\t\tinputValue = '';\n\t\telse\n\t\t\tinputValue = date || '';\n\n\t\treturn {\n\t\t\tupdateOn: updateOn,\n\t\t\tinputFormat: formats.datetime,\n\t\t\tviewDate: viewDate,\n\t\t\tselectedDate: selectedDate,\n\t\t\tinputValue: inputValue,\n\t\t\topen: props.open\n\t\t};\n\t},\n\n\tgetUpdateOn: function( formats ) {\n\t\tif ( formats.date.match(/[lLD]/) ) {\n\t\t\treturn viewModes.DAYS;\n\t\t} else if ( formats.date.indexOf('M') !== -1 ) {\n\t\t\treturn viewModes.MONTHS;\n\t\t} else if ( formats.date.indexOf('Y') !== -1 ) {\n\t\t\treturn viewModes.YEARS;\n\t\t}\n\n\t\treturn viewModes.DAYS;\n\t},\n\n\tgetFormats: function( props ) {\n\t\tvar formats = {\n\t\t\t\tdate: props.dateFormat || '',\n\t\t\t\ttime: props.timeFormat || ''\n\t\t\t},\n\t\t\tlocale = this.localMoment( props.date, null, props ).localeData()\n\t\t\t;\n\n\t\tif ( formats.date === true ) {\n\t\t\tformats.date = locale.longDateFormat('L');\n\t\t}\n\t\telse if ( this.getUpdateOn(formats) !== viewModes.DAYS ) {\n\t\t\tformats.time = '';\n\t\t}\n\n\t\tif ( formats.time === true ) {\n\t\t\tformats.time = locale.longDateFormat('LT');\n\t\t}\n\n\t\tformats.datetime = formats.date && formats.time ?\n\t\t\tformats.date + ' ' + formats.time :\n\t\t\tformats.date || formats.time\n\t\t;\n\n\t\treturn formats;\n\t},\n\n\tcomponentWillReceiveProps: function( nextProps ) {\n\t\tvar formats = this.getFormats( nextProps ),\n\t\t\tupdatedState = {}\n\t\t;\n\n\t\tif ( nextProps.value !== this.props.value ||\n\t\t\tformats.datetime !== this.getFormats( this.props ).datetime ) {\n\t\t\tupdatedState = this.getStateFromProps( nextProps );\n\t\t}\n\n\t\tif ( updatedState.open === undefined ) {\n\t\t\tif ( typeof nextProps.open !== 'undefined' ) {\n\t\t\t\tupdatedState.open = nextProps.open;\n\t\t\t} else if ( this.props.closeOnSelect && this.state.currentView !== viewModes.TIME ) {\n\t\t\t\tupdatedState.open = false;\n\t\t\t} else {\n\t\t\t\tupdatedState.open = this.state.open;\n\t\t\t}\n\t\t}\n\n\t\tif ( nextProps.viewMode !== this.props.viewMode ) {\n\t\t\tupdatedState.currentView = nextProps.viewMode;\n\t\t}\n\n\t\tif ( nextProps.locale !== this.props.locale ) {\n\t\t\tif ( this.state.viewDate ) {\n\t\t\t\tvar updatedViewDate = this.state.viewDate.clone().locale( nextProps.locale );\n\t\t\t\tupdatedState.viewDate = updatedViewDate;\n\t\t\t}\n\t\t\tif ( this.state.selectedDate ) {\n\t\t\t\tvar updatedSelectedDate = this.state.selectedDate.clone().locale( nextProps.locale );\n\t\t\t\tupdatedState.selectedDate = updatedSelectedDate;\n\t\t\t\tupdatedState.inputValue = updatedSelectedDate.format( formats.datetime );\n\t\t\t}\n\t\t}\n\n\t\tif ( nextProps.utc !== this.props.utc || nextProps.displayTimeZone !== this.props.displayTimeZone ) {\n\t\t\tif ( nextProps.utc ) {\n\t\t\t\tif ( this.state.viewDate )\n\t\t\t\t\tupdatedState.viewDate = this.state.viewDate.clone().utc();\n\t\t\t\tif ( this.state.selectedDate ) {\n\t\t\t\t\tupdatedState.selectedDate = this.state.selectedDate.clone().utc();\n\t\t\t\t\tupdatedState.inputValue = updatedState.selectedDate.format( formats.datetime );\n\t\t\t\t}\n\t\t\t} else if ( nextProps.displayTimeZone ) {\n\t\t\t\tif ( this.state.viewDate )\n\t\t\t\t\tupdatedState.viewDate = this.state.viewDate.clone().tz(nextProps.displayTimeZone);\n\t\t\t\tif ( this.state.selectedDate ) {\n\t\t\t\t\tupdatedState.selectedDate = this.state.selectedDate.clone().tz(nextProps.displayTimeZone);\n\t\t\t\t\tupdatedState.inputValue = updatedState.selectedDate.tz(nextProps.displayTimeZone).format( formats.datetime );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ( this.state.viewDate )\n\t\t\t\t\tupdatedState.viewDate = this.state.viewDate.clone().local();\n\t\t\t\tif ( this.state.selectedDate ) {\n\t\t\t\t\tupdatedState.selectedDate = this.state.selectedDate.clone().local();\n\t\t\t\t\tupdatedState.inputValue = updatedState.selectedDate.format(formats.datetime);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( nextProps.viewDate !== this.props.viewDate ) {\n\t\t\tupdatedState.viewDate = moment(nextProps.viewDate);\n\t\t}\n\n\t\tthis.checkTZ( nextProps );\n\n\t\tthis.setState( updatedState );\n\t},\n\n\tonInputChange: function( e ) {\n\t\tvar value = e.target === null ? e : e.target.value,\n\t\t\tlocalMoment = this.localMoment( value, this.state.inputFormat ),\n\t\t\tupdate = { inputValue: value }\n\t\t\t;\n\n\t\tif ( localMoment.isValid() && !this.props.value ) {\n\t\t\tupdate.selectedDate = localMoment;\n\t\t\tupdate.viewDate = localMoment.clone().startOf('month');\n\t\t} else {\n\t\t\tupdate.selectedDate = null;\n\t\t}\n\n\t\treturn this.setState( update, function() {\n\t\t\treturn this.props.onChange( localMoment.isValid() ? localMoment : this.state.inputValue );\n\t\t});\n\t},\n\n\tonInputKey: function( e ) {\n\t\tif ( e.which === 9 && this.props.closeOnTab ) {\n\t\t\tthis.closeCalendar();\n\t\t}\n\t},\n\n\tshowView: function( view ) {\n\t\tvar me = this;\n\t\treturn function() {\n\t\t\tme.state.currentView !== view && me.props.onViewModeChange( view );\n\t\t\tme.setState({ currentView: view });\n\t\t};\n\t},\n\n\tsetDate: function( type ) {\n\t\tvar me = this,\n\t\t\tnextViews = {\n\t\t\t\tmonth: viewModes.DAYS,\n\t\t\t\tyear: viewModes.MONTHS,\n\t\t\t}\n\t\t;\n\t\treturn function( e ) {\n\t\t\tme.setState({\n\t\t\t\tviewDate: me.state.viewDate.clone()[ type ]( parseInt(e.target.getAttribute('data-value'), 10) ).startOf( type ),\n\t\t\t\tcurrentView: nextViews[ type ]\n\t\t\t});\n\t\t\tme.props.onViewModeChange( nextViews[ type ] );\n\t\t};\n\t},\n\n\tsubtractTime: function( amount, type, toSelected ) {\n\t\tvar me = this;\n\t\treturn function() {\n\t\t\tme.props.onNavigateBack( amount, type );\n\t\t\tme.updateTime( 'subtract', amount, type, toSelected );\n\t\t};\n\t},\n\n\taddTime: function( amount, type, toSelected ) {\n\t\tvar me = this;\n\t\treturn function() {\n\t\t\tme.props.onNavigateForward( amount, type );\n\t\t\tme.updateTime( 'add', amount, type, toSelected );\n\t\t};\n\t},\n\n\tupdateTime: function( op, amount, type, toSelected ) {\n\t\tvar update = {},\n\t\t\tdate = toSelected ? 'selectedDate' : 'viewDate';\n\n\t\tupdate[ date ] = this.state[ date ].clone()[ op ]( amount, type );\n\n\t\tthis.setState( update );\n\t},\n\n\tallowedSetTime: ['hours', 'minutes', 'seconds', 'milliseconds'],\n\tsetTime: function( type, value ) {\n\t\tvar index = this.allowedSetTime.indexOf( type ) + 1,\n\t\t\tstate = this.state,\n\t\t\tdate = (state.selectedDate || state.viewDate).clone(),\n\t\t\tnextType\n\t\t\t;\n\n\t\t// It is needed to set all the time properties\n\t\t// to not to reset the time\n\t\tdate[ type ]( value );\n\t\tfor (; index < this.allowedSetTime.length; index++) {\n\t\t\tnextType = this.allowedSetTime[index];\n\t\t\tdate[ nextType ]( date[nextType]() );\n\t\t}\n\n\t\tif ( !this.props.value ) {\n\t\t\tthis.setState({\n\t\t\t\tselectedDate: date,\n\t\t\t\tinputValue: date.format( state.inputFormat )\n\t\t\t});\n\t\t}\n\t\tthis.props.onChange( date );\n\t},\n\n\tupdateSelectedDate: function( e, close ) {\n\t\tvar target = e.currentTarget,\n\t\t\tmodifier = 0,\n\t\t\tviewDate = this.state.viewDate,\n\t\t\tcurrentDate = this.state.selectedDate || viewDate,\n\t\t\tdate\n\t\t\t;\n\n\t\tif (target.className.indexOf('rdtDay') !== -1) {\n\t\t\tif (target.className.indexOf('rdtNew') !== -1)\n\t\t\t\tmodifier = 1;\n\t\t\telse if (target.className.indexOf('rdtOld') !== -1)\n\t\t\t\tmodifier = -1;\n\n\t\t\tdate = viewDate.clone()\n\t\t\t\t.month( viewDate.month() + modifier )\n\t\t\t\t.date( parseInt( target.getAttribute('data-value'), 10 ) );\n\t\t} else if (target.className.indexOf('rdtMonth') !== -1) {\n\t\t\tdate = viewDate.clone()\n\t\t\t\t.month( parseInt( target.getAttribute('data-value'), 10 ) )\n\t\t\t\t.date( currentDate.date() );\n\t\t} else if (target.className.indexOf('rdtYear') !== -1) {\n\t\t\tdate = viewDate.clone()\n\t\t\t\t.month( currentDate.month() )\n\t\t\t\t.date( currentDate.date() )\n\t\t\t\t.year( parseInt( target.getAttribute('data-value'), 10 ) );\n\t\t}\n\n\t\tdate.hours( currentDate.hours() )\n\t\t\t.minutes( currentDate.minutes() )\n\t\t\t.seconds( currentDate.seconds() )\n\t\t\t.milliseconds( currentDate.milliseconds() );\n\n\t\tif ( !this.props.value ) {\n\t\t\tvar open = !( this.props.closeOnSelect && close );\n\t\t\tif ( !open ) {\n\t\t\t\tthis.props.onBlur( date );\n\t\t\t}\n\n\t\t\tthis.setState({\n\t\t\t\tselectedDate: date,\n\t\t\t\tviewDate: date.clone().startOf('month'),\n\t\t\t\tinputValue: date.format( this.state.inputFormat ),\n\t\t\t\topen: open\n\t\t\t});\n\t\t} else {\n\t\t\tif ( this.props.closeOnSelect && close ) {\n\t\t\t\tthis.closeCalendar();\n\t\t\t}\n\t\t}\n\n\t\tthis.props.onChange( date );\n\t},\n\n\topenCalendar: function( e ) {\n\t\tif ( !this.state.open ) {\n\t\t\tthis.setState({ open: true }, function() {\n\t\t\t\tthis.props.onFocus( e );\n\t\t\t});\n\t\t}\n\t},\n\n\tcloseCalendar: function() {\n\t\tthis.setState({ open: false }, function () {\n\t\t\tthis.props.onBlur( this.state.selectedDate || this.state.inputValue );\n\t\t});\n\t},\n\n\thandleClickOutside: function() {\n\t\tif ( this.props.input && this.state.open && this.props.open === undefined && !this.props.disableCloseOnClickOutside ) {\n\t\t\tthis.setState({ open: false }, function() {\n\t\t\t\tthis.props.onBlur( this.state.selectedDate || this.state.inputValue );\n\t\t\t});\n\t\t}\n\t},\n\n\tlocalMoment: function( date, format, props ) {\n\t\tprops = props || this.props;\n\t\tvar m = null;\n\n\t\tif (props.utc) {\n\t\t\tm = moment.utc(date, format, props.strictParsing);\n\t\t} else if (props.displayTimeZone) {\n\t\t\tm = moment.tz(date, format, props.displayTimeZone);\n\t\t} else {\n\t\t\tm = moment(date, format, props.strictParsing);\n\t\t}\n\n\t\tif ( props.locale )\n\t\t\tm.locale( props.locale );\n\t\treturn m;\n\t},\n\n\tcheckTZ: function( props ) {\n\t\tvar con = console;\n\n\t\tif ( props.displayTimeZone && !this.tzWarning && !moment.tz ) {\n\t\t\tthis.tzWarning = true;\n\t\t\tcon && con.error('react-datetime: displayTimeZone prop with value \"' + props.displayTimeZone +  '\" is used but moment.js timezone is not loaded.');\n\t\t}\n\t},\n\n\tcomponentProps: {\n\t\tfromProps: ['value', 'isValidDate', 'renderDay', 'renderMonth', 'renderYear', 'timeConstraints'],\n\t\tfromState: ['viewDate', 'selectedDate', 'updateOn'],\n\t\tfromThis: ['setDate', 'setTime', 'showView', 'addTime', 'subtractTime', 'updateSelectedDate', 'localMoment', 'handleClickOutside']\n\t},\n\n\tgetComponentProps: function() {\n\t\tvar me = this,\n\t\t\tformats = this.getFormats( this.props ),\n\t\t\tprops = {dateFormat: formats.date, timeFormat: formats.time}\n\t\t\t;\n\n\t\tthis.componentProps.fromProps.forEach( function( name ) {\n\t\t\tprops[ name ] = me.props[ name ];\n\t\t});\n\t\tthis.componentProps.fromState.forEach( function( name ) {\n\t\t\tprops[ name ] = me.state[ name ];\n\t\t});\n\t\tthis.componentProps.fromThis.forEach( function( name ) {\n\t\t\tprops[ name ] = me[ name ];\n\t\t});\n\n\t\treturn props;\n\t},\n\n\toverrideEvent: function( handler, action ) {\n\t\tif ( !this.overridenEvents ) {\n\t\t\tthis.overridenEvents = {};\n\t\t}\n\n\t\tif ( !this.overridenEvents[handler] ) {\n\t\t\tvar me = this;\n\t\t\tthis.overridenEvents[handler] = function( e ) {\n\t\t\t\tvar result;\n\t\t\t\tif ( me.props.inputProps && me.props.inputProps[handler] ) {\n\t\t\t\t\tresult = me.props.inputProps[handler]( e );\n\t\t\t\t}\n\t\t\t\tif ( result !== false ) {\n\t\t\t\t\taction( e );\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\treturn this.overridenEvents[handler];\n\t},\n\n\trender: function() {\n\t\t// TODO: Make a function or clean up this code,\n\t\t// logic right now is really hard to follow\n\t\tvar className = 'rdt' + (this.props.className ?\n\t\t\t\t\t\t\t\t\t( Array.isArray( this.props.className ) ?\n\t\t\t\t\t\t\t\t\t' ' + this.props.className.join( ' ' ) : ' ' + this.props.className) : ''),\n\t\t\tchildren = [];\n\n\t\tif ( this.props.input ) {\n\t\t\tvar finalInputProps = assign(\n\t\t\t\t{ type: 'text', className: 'form-control', value: this.state.inputValue },\n\t\t\t\tthis.props.inputProps,\n\t\t\t\t{\n\t\t\t\t\tonClick: this.overrideEvent( 'onClick', this.openCalendar ),\n\t\t\t\t\tonFocus: this.overrideEvent( 'onFocus', this.openCalendar ),\n\t\t\t\t\tonChange: this.overrideEvent( 'onChange', this.onInputChange ),\n\t\t\t\t\tonKeyDown: this.overrideEvent( 'onKeyDown', this.onInputKey ),\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tif ( this.props.renderInput ) {\n\t\t\t\tchildren = [ React.createElement('div', { key: 'i' }, this.props.renderInput( finalInputProps, this.openCalendar, this.closeCalendar )) ];\n\t\t\t} else {\n\t\t\t\tchildren = [ React.createElement('input', assign({ key: 'i' }, finalInputProps ))];\n\t\t\t}\n\t\t} else {\n\t\t\tclassName += ' rdtStatic';\n\t\t}\n\n\t\tif ( this.props.open || (this.props.open === undefined && this.state.open ) )\n\t\t\tclassName += ' rdtOpen';\n\n\t\treturn React.createElement( ClickableWrapper, {className: className, onClickOut: this.handleClickOutside}, children.concat(\n\t\t\tReact.createElement( 'div',\n\t\t\t\t{ key: 'dt', className: 'rdtPicker' },\n\t\t\t\tReact.createElement( CalendarContainer, { view: this.state.currentView, viewProps: this.getComponentProps() })\n\t\t\t)\n\t\t));\n\t}\n});\n\nvar ClickableWrapper = onClickOutside( createClass({\n\trender: function() {\n\t\treturn React.createElement( 'div', { className: this.props.className }, this.props.children );\n\t},\n\thandleClickOutside: function( e ) {\n\t\tthis.props.onClickOut( e );\n\t}\n}));\n\nDatetime.defaultProps = {\n\tclassName: '',\n\tdefaultValue: '',\n\tinputProps: {},\n\tinput: true,\n\tonFocus: function() {},\n\tonBlur: function() {},\n\tonChange: function() {},\n\tonViewModeChange: function() {},\n\tonNavigateBack: function() {},\n\tonNavigateForward: function() {},\n\ttimeFormat: true,\n\ttimeConstraints: {},\n\tdateFormat: true,\n\tstrictParsing: true,\n\tcloseOnSelect: false,\n\tcloseOnTab: true,\n\tutc: false\n};\n\n// Make moment accessible through the Datetime class\nDatetime.moment = moment;\n\nmodule.exports = Datetime;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n'use strict';\n\nvar React = require('react');\nvar factory = require('./factory');\n\nif (typeof React === 'undefined') {\n  throw Error(\n    'create-react-class could not find the React object. If you are using script tags, ' +\n      'make sure that React is being loaded before create-react-class.'\n  );\n}\n\n// Hack to grab NoopUpdateQueue from isomorphic React\nvar ReactNoopUpdateQueue = new React.Component().updater;\n\nmodule.exports = factory(\n  React.Component,\n  React.isValidElement,\n  ReactNoopUpdateQueue\n);\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && has(exports, key)) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  children: PropTypes.node,\n  row: PropTypes.bool,\n  check: PropTypes.bool,\n  inline: PropTypes.bool,\n  disabled: PropTypes.bool,\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar FormGroup = function FormGroup(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      row = props.row,\n      disabled = props.disabled,\n      check = props.check,\n      inline = props.inline,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"row\", \"disabled\", \"check\", \"inline\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, row ? 'row' : false, check ? 'form-check' : 'form-group', check && inline ? 'form-check-inline' : false, check && disabled ? 'disabled' : false), cssModule);\n\n  if (Tag === 'fieldset') {\n    attributes.disabled = disabled;\n  }\n\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nFormGroup.propTypes = propTypes;\nFormGroup.defaultProps = defaultProps;\nexport default FormGroup;","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","module.exports = true;\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","exports.f = {}.propertyIsEnumerable;\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _lottieWeb = require('lottie-web');\n\nvar _lottieWeb2 = _interopRequireDefault(_lottieWeb);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Lottie = function (_React$Component) {\n  (0, _inherits3.default)(Lottie, _React$Component);\n\n  function Lottie() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, Lottie);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Lottie.__proto__ || (0, _getPrototypeOf2.default)(Lottie)).call.apply(_ref, [this].concat(args))), _this), _this.handleClickToPause = function () {\n      // The pause() method is for handling pausing by passing a prop isPaused\n      // This method is for handling the ability to pause by clicking on the animation\n      if (_this.anim.isPaused) {\n        _this.anim.play();\n      } else {\n        _this.anim.pause();\n      }\n    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  (0, _createClass3.default)(Lottie, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props = this.props,\n          options = _props.options,\n          eventListeners = _props.eventListeners;\n      var loop = options.loop,\n          autoplay = options.autoplay,\n          animationData = options.animationData,\n          rendererSettings = options.rendererSettings,\n          segments = options.segments;\n\n\n      this.options = {\n        container: this.el,\n        renderer: 'svg',\n        loop: loop !== false,\n        autoplay: autoplay !== false,\n        segments: segments !== false,\n        animationData: animationData,\n        rendererSettings: rendererSettings\n      };\n\n      this.options = (0, _extends3.default)({}, this.options, options);\n\n      this.anim = _lottieWeb2.default.loadAnimation(this.options);\n      this.registerEvents(eventListeners);\n    }\n  }, {\n    key: 'componentWillUpdate',\n    value: function componentWillUpdate(nextProps /* , nextState */) {\n      /* Recreate the animation handle if the data is changed */\n      if (this.options.animationData !== nextProps.options.animationData) {\n        this.deRegisterEvents(this.props.eventListeners);\n        this.destroy();\n        this.options = (0, _extends3.default)({}, this.options, nextProps.options);\n        this.anim = _lottieWeb2.default.loadAnimation(this.options);\n        this.registerEvents(nextProps.eventListeners);\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      if (this.props.isStopped) {\n        this.stop();\n      } else if (this.props.segments) {\n        this.playSegments();\n      } else {\n        this.play();\n      }\n\n      this.pause();\n      this.setSpeed();\n      this.setDirection();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.deRegisterEvents(this.props.eventListeners);\n      this.destroy();\n      this.options.animationData = null;\n      this.anim = null;\n    }\n  }, {\n    key: 'setSpeed',\n    value: function setSpeed() {\n      this.anim.setSpeed(this.props.speed);\n    }\n  }, {\n    key: 'setDirection',\n    value: function setDirection() {\n      this.anim.setDirection(this.props.direction);\n    }\n  }, {\n    key: 'play',\n    value: function play() {\n      this.anim.play();\n    }\n  }, {\n    key: 'playSegments',\n    value: function playSegments() {\n      this.anim.playSegments(this.props.segments);\n    }\n  }, {\n    key: 'stop',\n    value: function stop() {\n      this.anim.stop();\n    }\n  }, {\n    key: 'pause',\n    value: function pause() {\n      if (this.props.isPaused && !this.anim.isPaused) {\n        this.anim.pause();\n      } else if (!this.props.isPaused && this.anim.isPaused) {\n        this.anim.pause();\n      }\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      this.anim.destroy();\n    }\n  }, {\n    key: 'registerEvents',\n    value: function registerEvents(eventListeners) {\n      var _this2 = this;\n\n      eventListeners.forEach(function (eventListener) {\n        _this2.anim.addEventListener(eventListener.eventName, eventListener.callback);\n      });\n    }\n  }, {\n    key: 'deRegisterEvents',\n    value: function deRegisterEvents(eventListeners) {\n      var _this3 = this;\n\n      eventListeners.forEach(function (eventListener) {\n        _this3.anim.removeEventListener(eventListener.eventName, eventListener.callback);\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var _props2 = this.props,\n          width = _props2.width,\n          height = _props2.height,\n          ariaRole = _props2.ariaRole,\n          ariaLabel = _props2.ariaLabel,\n          isClickToPauseDisabled = _props2.isClickToPauseDisabled,\n          title = _props2.title;\n\n\n      var getSize = function getSize(initial) {\n        var size = void 0;\n\n        if (typeof initial === 'number') {\n          size = initial + 'px';\n        } else {\n          size = initial || '100%';\n        }\n\n        return size;\n      };\n\n      var lottieStyles = (0, _extends3.default)({\n        width: getSize(width),\n        height: getSize(height),\n        overflow: 'hidden',\n        margin: '0 auto',\n        outline: 'none'\n      }, this.props.style);\n\n      var onClickHandler = isClickToPauseDisabled ? function () {\n        return null;\n      } : this.handleClickToPause;\n\n      return (\n        // Bug with eslint rules https://github.com/airbnb/javascript/issues/1374\n        // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n        _react2.default.createElement('div', {\n          ref: function ref(c) {\n            _this4.el = c;\n          },\n          style: lottieStyles,\n          onClick: onClickHandler,\n          title: title,\n          role: ariaRole,\n          'aria-label': ariaLabel,\n          tabIndex: '0'\n        })\n      );\n    }\n  }]);\n  return Lottie;\n}(_react2.default.Component);\n\nexports.default = Lottie;\n\n\nLottie.propTypes = {\n  eventListeners: _propTypes2.default.arrayOf(_propTypes2.default.object),\n  options: _propTypes2.default.object.isRequired,\n  height: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]),\n  width: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]),\n  isStopped: _propTypes2.default.bool,\n  isPaused: _propTypes2.default.bool,\n  speed: _propTypes2.default.number,\n  segments: _propTypes2.default.arrayOf(_propTypes2.default.number),\n  direction: _propTypes2.default.number,\n  ariaRole: _propTypes2.default.string,\n  ariaLabel: _propTypes2.default.string,\n  isClickToPauseDisabled: _propTypes2.default.bool,\n  title: _propTypes2.default.string\n};\n\nLottie.defaultProps = {\n  eventListeners: [],\n  isStopped: false,\n  isPaused: false,\n  speed: 1,\n  ariaRole: 'button',\n  ariaLabel: 'animation',\n  isClickToPauseDisabled: false,\n  title: ''\n};","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: '© 2019 Denis Pushkarev (zloirock.ru)'\n});\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","exports.f = Object.getOwnPropertySymbols;\n","module.exports = {};\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","exports.f = require('./_wks');\n","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import * as React from 'react';\nimport { createContext, useContext, createElement, useState as useState$2, useRef as useRef$2, useEffect as useEffect$2, isValidElement, cloneElement, Fragment } from 'react';\n\nvar isUndefined = (val) => val === undefined;\n\nvar isNullOrUndefined = (value) => value === null || isUndefined(value);\n\nvar isArray = (value) => Array.isArray(value);\n\nconst isObjectType = (value) => typeof value === 'object';\r\nvar isObject = (value) => !isNullOrUndefined(value) && !isArray(value) && isObjectType(value);\n\nvar isHTMLElement = (value) => isObject(value) && value.nodeType === Node.ELEMENT_NODE;\n\nconst VALIDATION_MODE = {\r\n    onBlur: 'onBlur',\r\n    onChange: 'onChange',\r\n    onSubmit: 'onSubmit',\r\n};\r\nconst VALUE = 'value';\r\nconst UNDEFINED = 'undefined';\r\nconst EVENTS = {\r\n    BLUR: 'blur',\r\n    CHANGE: 'change',\r\n    INPUT: 'input',\r\n};\r\nconst INPUT_VALIDATION_RULES = {\r\n    max: 'max',\r\n    min: 'min',\r\n    maxLength: 'maxLength',\r\n    minLength: 'minLength',\r\n    pattern: 'pattern',\r\n    required: 'required',\r\n    validate: 'validate',\r\n};\r\nconst REGEX_IS_DEEP_PROP = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/;\r\nconst REGEX_IS_PLAIN_PROP = /^\\w*$/;\r\nconst REGEX_PROP_NAME = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\r\nconst REGEX_ESCAPE_CHAR = /\\\\(\\\\)?/g;\n\nfunction attachEventListeners({ field, handleChange, isRadioOrCheckbox, }) {\r\n    const { ref } = field;\r\n    if (isHTMLElement(ref) && ref.addEventListener && handleChange) {\r\n        ref.addEventListener(isRadioOrCheckbox ? EVENTS.CHANGE : EVENTS.INPUT, handleChange);\r\n        ref.addEventListener(EVENTS.BLUR, handleChange);\r\n    }\r\n}\n\nvar isKey = (value) => !isArray(value) &&\r\n    (REGEX_IS_PLAIN_PROP.test(value) || !REGEX_IS_DEEP_PROP.test(value));\n\nvar stringToPath = (string) => {\r\n    const result = [];\r\n    string.replace(REGEX_PROP_NAME, (match, number, quote, string) => {\r\n        result.push(quote ? string.replace(REGEX_ESCAPE_CHAR, '$1') : number || match);\r\n    });\r\n    return result;\r\n};\n\nfunction set(object, path, value) {\r\n    let index = -1;\r\n    const tempPath = isKey(path) ? [path] : stringToPath(path);\r\n    const length = tempPath.length;\r\n    const lastIndex = length - 1;\r\n    while (++index < length) {\r\n        const key = tempPath[index];\r\n        let newValue = value;\r\n        if (index !== lastIndex) {\r\n            const objValue = object[key];\r\n            newValue =\r\n                isObject(objValue) || isArray(objValue)\r\n                    ? objValue\r\n                    : !isNaN(tempPath[index + 1])\r\n                        ? []\r\n                        : {};\r\n        }\r\n        object[key] = newValue;\r\n        object = object[key];\r\n    }\r\n    return object;\r\n}\n\nvar transformToNestObject = (data) => Object.entries(data).reduce((previous, [key, value]) => {\r\n    if (!isKey(key)) {\r\n        set(previous, key, value);\r\n        return previous;\r\n    }\r\n    return Object.assign(Object.assign({}, previous), { [key]: value });\r\n}, {});\n\nvar get = (obj, path, defaultValue) => {\r\n    const result = path\r\n        .split(/[,[\\].]+?/)\r\n        .filter(Boolean)\r\n        .reduce((result, key) => (isNullOrUndefined(result) ? result : result[key]), obj);\r\n    return isUndefined(result) || result === obj\r\n        ? obj[path] || defaultValue\r\n        : result;\r\n};\n\nvar focusErrorField = (fields, fieldErrors) => {\r\n    for (const key in fields) {\r\n        if (get(fieldErrors, key)) {\r\n            const field = fields[key];\r\n            if (field) {\r\n                if (isHTMLElement(field.ref) && field.ref.focus) {\r\n                    field.ref.focus();\r\n                    break;\r\n                }\r\n                else if (field.options) {\r\n                    field.options[0].ref.focus();\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\n\nvar removeAllEventListeners = (ref, validateWithStateUpdate) => {\r\n    if (isHTMLElement(ref) && ref.removeEventListener) {\r\n        ref.removeEventListener(EVENTS.INPUT, validateWithStateUpdate);\r\n        ref.removeEventListener(EVENTS.CHANGE, validateWithStateUpdate);\r\n        ref.removeEventListener(EVENTS.BLUR, validateWithStateUpdate);\r\n    }\r\n};\n\nvar isRadioInput = (element) => !!element && element.type === 'radio';\n\nvar isCheckBoxInput = (element) => !!element && element.type === 'checkbox';\n\nfunction isDetached(element) {\r\n    if (!element) {\r\n        return true;\r\n    }\r\n    if (!(element instanceof HTMLElement) ||\r\n        element.nodeType === Node.DOCUMENT_NODE) {\r\n        return false;\r\n    }\r\n    return isDetached(element.parentNode);\r\n}\n\nvar isEmptyObject = (value) => isObject(value) && !Object.keys(value).length;\n\nfunction castPath(value) {\r\n    return isArray(value) ? value : stringToPath(value);\r\n}\r\nfunction baseGet(object, path) {\r\n    const updatePath = isKey(path) ? [path] : castPath(path);\r\n    const length = path.length;\r\n    let index = 0;\r\n    while (index < length) {\r\n        object = isUndefined(object) ? index++ : object[updatePath[index++]];\r\n    }\r\n    return index == length ? object : undefined;\r\n}\r\nfunction baseSlice(array, start, end) {\r\n    let index = -1;\r\n    let length = array.length;\r\n    if (start < 0) {\r\n        start = -start > length ? 0 : length + start;\r\n    }\r\n    end = end > length ? length : end;\r\n    if (end < 0) {\r\n        end += length;\r\n    }\r\n    length = start > end ? 0 : end - start;\r\n    const result = Array(length);\r\n    while (++index < length) {\r\n        result[index] = array[index + start];\r\n    }\r\n    return result;\r\n}\r\nfunction parent(object, path) {\r\n    return path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\r\n}\r\nfunction baseUnset(object, path) {\r\n    const updatePath = isKey(path) ? [path] : castPath(path);\r\n    const childObject = parent(object, updatePath);\r\n    const key = updatePath[updatePath.length - 1];\r\n    const result = !(childObject != null) || delete childObject[key];\r\n    let previousObjRef = undefined;\r\n    for (let k = 0; k < updatePath.slice(0, -1).length; k++) {\r\n        let index = -1;\r\n        let objectRef = undefined;\r\n        const currentPaths = updatePath.slice(0, -(k + 1));\r\n        const currentPathsLength = currentPaths.length - 1;\r\n        if (k > 0) {\r\n            previousObjRef = object;\r\n        }\r\n        while (++index < currentPaths.length) {\r\n            const item = currentPaths[index];\r\n            objectRef = objectRef ? objectRef[item] : object[item];\r\n            if (currentPathsLength === index) {\r\n                if (isObject(objectRef) && isEmptyObject(objectRef)) {\r\n                    previousObjRef ? delete previousObjRef[item] : delete object[item];\r\n                }\r\n                else if (isArray(objectRef) &&\r\n                    !objectRef.filter(data => isObject(data) && !isEmptyObject(data))\r\n                        .length) {\r\n                    delete previousObjRef[item];\r\n                }\r\n            }\r\n            previousObjRef = objectRef;\r\n        }\r\n    }\r\n    return result;\r\n}\r\nfunction unset(object, paths) {\r\n    paths.forEach(path => {\r\n        baseUnset(object, path);\r\n    });\r\n    return object;\r\n}\n\nfunction findRemovedFieldAndRemoveListener(fields, handleChange, field, forceDelete) {\r\n    if (!field) {\r\n        return;\r\n    }\r\n    const { ref, ref: { name, type }, mutationWatcher, } = field;\r\n    if (!type) {\r\n        delete fields[name];\r\n        return;\r\n    }\r\n    const fieldValue = fields[name];\r\n    if ((isRadioInput(ref) || isCheckBoxInput(ref)) && fieldValue) {\r\n        const { options } = fieldValue;\r\n        if (isArray(options) && options.length) {\r\n            options.forEach(({ ref, mutationWatcher }, index) => {\r\n                if ((ref && isDetached(ref)) || forceDelete) {\r\n                    removeAllEventListeners(ref, handleChange);\r\n                    if (mutationWatcher) {\r\n                        mutationWatcher.disconnect();\r\n                    }\r\n                    unset(options, [`[${index}]`]);\r\n                }\r\n            });\r\n            if (options && !options.filter(Boolean).length) {\r\n                delete fields[name];\r\n            }\r\n        }\r\n        else {\r\n            delete fields[name];\r\n        }\r\n    }\r\n    else if (isDetached(ref) || forceDelete) {\r\n        removeAllEventListeners(ref, handleChange);\r\n        if (mutationWatcher) {\r\n            mutationWatcher.disconnect();\r\n        }\r\n        delete fields[name];\r\n    }\r\n}\n\nconst defaultReturn = {\r\n    isValid: false,\r\n    value: '',\r\n};\r\nvar getRadioValue = (options) => isArray(options)\r\n    ? options.reduce((previous, { ref: { checked, value } }) => checked\r\n        ? {\r\n            isValid: true,\r\n            value,\r\n        }\r\n        : previous, defaultReturn)\r\n    : defaultReturn;\n\nvar getMultipleSelectValue = (options) => [...options]\r\n    .filter(({ selected }) => selected)\r\n    .map(({ value }) => value);\n\nvar isFileInput = (element) => !!element && element.type === 'file';\n\nvar isMultipleSelect = (element) => !!element && element.type === 'select-multiple';\n\nvar isEmptyString = (value) => value === '';\n\nconst defaultResult = {\r\n    value: false,\r\n    isValid: false,\r\n};\r\nconst validResult = { value: true, isValid: true };\r\nvar getCheckboxValue = (options) => {\r\n    if (isArray(options)) {\r\n        if (options.length > 1) {\r\n            const values = options\r\n                .filter(({ ref: { checked } }) => checked)\r\n                .map(({ ref: { value } }) => value);\r\n            return { value: values, isValid: !!values.length };\r\n        }\r\n        const { checked, value, attributes } = options[0].ref;\r\n        return checked\r\n            ? attributes && !isUndefined(attributes.value)\r\n                ? isUndefined(value) || isEmptyString(value)\r\n                    ? validResult\r\n                    : { value: value, isValid: true }\r\n                : validResult\r\n            : defaultResult;\r\n    }\r\n    return defaultResult;\r\n};\n\nfunction getFieldValue(fields, ref) {\r\n    const { name, value } = ref;\r\n    const field = fields[name];\r\n    if (isFileInput(ref)) {\r\n        return ref.files;\r\n    }\r\n    if (isRadioInput(ref)) {\r\n        return field ? getRadioValue(field.options).value : '';\r\n    }\r\n    if (isMultipleSelect(ref)) {\r\n        return getMultipleSelectValue(ref.options);\r\n    }\r\n    if (isCheckBoxInput(ref)) {\r\n        return field ? getCheckboxValue(field.options).value : false;\r\n    }\r\n    return value;\r\n}\n\nvar isString = (value) => typeof value === 'string';\n\nvar getFieldsValues = (fields, search) => {\r\n    const output = {};\r\n    const isSearchString = isString(search);\r\n    const isSearchArray = isArray(search);\r\n    const isNest = search && search.nest;\r\n    for (const name in fields) {\r\n        if (isUndefined(search) ||\r\n            isNest ||\r\n            (isSearchString && name.startsWith(search)) ||\r\n            (isSearchArray &&\r\n                search.find((data) => name.startsWith(data)))) {\r\n            output[name] = getFieldValue(fields, fields[name].ref);\r\n        }\r\n    }\r\n    return output;\r\n};\n\nvar compareObject = (objectA = {}, objectB = {}) => Object.entries(objectA).reduce((previous, [key, value]) => previous ? objectB[key] && objectB[key] === value : false, true);\n\nvar isSameError = (error, { type, types, message, }) => {\r\n    return (isObject(error) &&\r\n        error.type === type &&\r\n        error.message === message &&\r\n        compareObject(error.types, types));\r\n};\n\nfunction shouldUpdateWithError({ errors, name, error, validFields, fieldsWithValidation, }) {\r\n    const isFieldValid = isEmptyObject(error);\r\n    const isFormValid = isEmptyObject(errors);\r\n    const currentFieldError = get(error, name);\r\n    const existFieldError = get(errors, name);\r\n    if ((isFieldValid && validFields.has(name)) ||\r\n        (existFieldError && existFieldError.isManual)) {\r\n        return false;\r\n    }\r\n    if (isFormValid !== isFieldValid ||\r\n        (!isFormValid && !existFieldError) ||\r\n        (isFieldValid && fieldsWithValidation.has(name) && !validFields.has(name))) {\r\n        return true;\r\n    }\r\n    return currentFieldError && !isSameError(existFieldError, currentFieldError);\r\n}\n\nvar isRegex = (value) => value instanceof RegExp;\n\nvar getValueAndMessage = (validationData) => {\r\n    const isPureObject = isObject(validationData) && !isRegex(validationData);\r\n    return {\r\n        value: isPureObject\r\n            ? validationData.value\r\n            : validationData,\r\n        message: isPureObject\r\n            ? validationData.message\r\n            : '',\r\n    };\r\n};\n\nvar isFunction = (value) => typeof value === 'function';\n\nvar isBoolean = (value) => typeof value === 'boolean';\n\nfunction getValidateError(result, ref, type = 'validate') {\r\n    const isStringValue = isString(result);\r\n    if (isStringValue || (isBoolean(result) && !result)) {\r\n        const message = isStringValue ? result : '';\r\n        return {\r\n            type,\r\n            message,\r\n            ref,\r\n        };\r\n    }\r\n}\n\nvar appendErrors = (name, validateAllFieldCriteria, errors, type, message) => {\r\n    if (!validateAllFieldCriteria) {\r\n        return {};\r\n    }\r\n    const error = errors[name];\r\n    return Object.assign(Object.assign({}, error), { types: Object.assign(Object.assign({}, (error && error.types ? error.types : {})), { [type]: message || true }) });\r\n};\n\nvar validateField = async (fieldsRef, validateAllFieldCriteria, { ref, ref: { type, value, name }, options, required, maxLength, minLength, min, max, pattern, validate, }) => {\r\n    const fields = fieldsRef.current;\r\n    const error = {};\r\n    const isRadio = isRadioInput(ref);\r\n    const isCheckBox = isCheckBoxInput(ref);\r\n    const isRadioOrCheckbox = isRadio || isCheckBox;\r\n    const isEmpty = isEmptyString(value);\r\n    const appendErrorsCurry = appendErrors.bind(null, name, validateAllFieldCriteria, error);\r\n    const getMinMaxMessage = (exceedMax, maxLengthMessage, minLengthMessage, maxType = INPUT_VALIDATION_RULES.maxLength, minType = INPUT_VALIDATION_RULES.minLength) => {\r\n        const message = exceedMax ? maxLengthMessage : minLengthMessage;\r\n        error[name] = Object.assign({ type: exceedMax ? maxType : minType, message,\r\n            ref }, (exceedMax\r\n            ? appendErrorsCurry(maxType, message)\r\n            : appendErrorsCurry(minType, message)));\r\n        if (!validateAllFieldCriteria) {\r\n            return error;\r\n        }\r\n    };\r\n    if (required &&\r\n        ((!isRadio && !isCheckBox && (isEmpty || isNullOrUndefined(value))) ||\r\n            (isBoolean(value) && !value) ||\r\n            (isCheckBox && !getCheckboxValue(options).isValid) ||\r\n            (isRadio && !getRadioValue(options).isValid))) {\r\n        const { value: requiredValue, message: requiredMessage } = isString(required)\r\n            ? { value: !!required, message: required }\r\n            : getValueAndMessage(required);\r\n        if (requiredValue) {\r\n            error[name] = Object.assign({ type: INPUT_VALIDATION_RULES.required, message: requiredMessage, ref: isRadioOrCheckbox ? fields[name].options[0].ref : ref }, appendErrorsCurry(INPUT_VALIDATION_RULES.required, requiredMessage));\r\n            if (!validateAllFieldCriteria) {\r\n                return error;\r\n            }\r\n        }\r\n    }\r\n    if (!isNullOrUndefined(min) || !isNullOrUndefined(max)) {\r\n        let exceedMax;\r\n        let exceedMin;\r\n        const { value: maxValue, message: maxMessage } = getValueAndMessage(max);\r\n        const { value: minValue, message: minMessage } = getValueAndMessage(min);\r\n        if (type === 'number' || (!type && !isNaN(value))) {\r\n            const valueNumber = ref.valueAsNumber || parseFloat(value);\r\n            if (!isNullOrUndefined(maxValue)) {\r\n                exceedMax = valueNumber > maxValue;\r\n            }\r\n            if (!isNullOrUndefined(minValue)) {\r\n                exceedMin = valueNumber < minValue;\r\n            }\r\n        }\r\n        else {\r\n            const valueDate = ref.valueAsDate || new Date(value);\r\n            if (isString(maxValue)) {\r\n                exceedMax = valueDate > new Date(maxValue);\r\n            }\r\n            if (isString(minValue)) {\r\n                exceedMin = valueDate < new Date(minValue);\r\n            }\r\n        }\r\n        if (exceedMax || exceedMin) {\r\n            getMinMaxMessage(!!exceedMax, maxMessage, minMessage, INPUT_VALIDATION_RULES.max, INPUT_VALIDATION_RULES.min);\r\n            if (!validateAllFieldCriteria) {\r\n                return error;\r\n            }\r\n        }\r\n    }\r\n    if (isString(value) && !isEmpty && (maxLength || minLength)) {\r\n        const { value: maxLengthValue, message: maxLengthMessage, } = getValueAndMessage(maxLength);\r\n        const { value: minLengthValue, message: minLengthMessage, } = getValueAndMessage(minLength);\r\n        const inputLength = value.toString().length;\r\n        const exceedMax = maxLength && inputLength > maxLengthValue;\r\n        const exceedMin = minLength && inputLength < minLengthValue;\r\n        if (exceedMax || exceedMin) {\r\n            getMinMaxMessage(!!exceedMax, maxLengthMessage, minLengthMessage);\r\n            if (!validateAllFieldCriteria) {\r\n                return error;\r\n            }\r\n        }\r\n    }\r\n    if (pattern && !isEmpty) {\r\n        const { value: patternValue, message: patternMessage } = getValueAndMessage(pattern);\r\n        if (isRegex(patternValue) && !patternValue.test(value)) {\r\n            error[name] = Object.assign({ type: INPUT_VALIDATION_RULES.pattern, message: patternMessage, ref }, appendErrorsCurry(INPUT_VALIDATION_RULES.pattern, patternMessage));\r\n            if (!validateAllFieldCriteria) {\r\n                return error;\r\n            }\r\n        }\r\n    }\r\n    if (validate) {\r\n        const fieldValue = getFieldValue(fields, ref);\r\n        const validateRef = isRadioOrCheckbox && options ? options[0].ref : ref;\r\n        if (isFunction(validate)) {\r\n            const result = await validate(fieldValue);\r\n            const validateError = getValidateError(result, validateRef);\r\n            if (validateError) {\r\n                error[name] = Object.assign(Object.assign({}, validateError), appendErrorsCurry(INPUT_VALIDATION_RULES.validate, validateError.message));\r\n                if (!validateAllFieldCriteria) {\r\n                    return error;\r\n                }\r\n            }\r\n        }\r\n        else if (isObject(validate)) {\r\n            const validateFunctions = Object.entries(validate);\r\n            const validationResult = await new Promise((resolve) => {\r\n                validateFunctions.reduce(async (previous, [key, validate], index) => {\r\n                    if ((!isEmptyObject(await previous) && !validateAllFieldCriteria) ||\r\n                        !isFunction(validate)) {\r\n                        return resolve(previous);\r\n                    }\r\n                    let result;\r\n                    const validateResult = await validate(fieldValue);\r\n                    const validateError = getValidateError(validateResult, validateRef, key);\r\n                    if (validateError) {\r\n                        result = Object.assign(Object.assign({}, validateError), appendErrorsCurry(key, validateError.message));\r\n                        if (validateAllFieldCriteria) {\r\n                            error[name] = result;\r\n                        }\r\n                    }\r\n                    else {\r\n                        result = previous;\r\n                    }\r\n                    return validateFunctions.length - 1 === index\r\n                        ? resolve(result)\r\n                        : result;\r\n                }, {});\r\n            });\r\n            if (!isEmptyObject(validationResult)) {\r\n                error[name] = Object.assign({ ref: validateRef }, validationResult);\r\n                if (!validateAllFieldCriteria) {\r\n                    return error;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return error;\r\n};\n\nconst parseErrorSchema = (error, validateAllFieldCriteria) => isArray(error.inner)\r\n    ? error.inner.reduce((previous, { path, message, type }) => (Object.assign(Object.assign({}, previous), (previous[path] && validateAllFieldCriteria\r\n        ? {\r\n            [path]: appendErrors(path, validateAllFieldCriteria, previous, type, message),\r\n        }\r\n        : {\r\n            [path]: previous[path] || Object.assign({ message,\r\n                type }, (validateAllFieldCriteria\r\n                ? {\r\n                    types: { [type]: message || true },\r\n                }\r\n                : {})),\r\n        }))), {})\r\n    : {\r\n        [error.path]: { message: error.message, type: error.type },\r\n    };\r\nasync function validateWithSchema(validationSchema, validateAllFieldCriteria, data, validationResolver, context) {\r\n    if (validationResolver) {\r\n        return validationResolver(data, context);\r\n    }\r\n    try {\r\n        return {\r\n            values: await validationSchema.validate(data, {\r\n                abortEarly: false,\r\n                context,\r\n            }),\r\n            errors: {},\r\n        };\r\n    }\r\n    catch (e) {\r\n        return {\r\n            values: {},\r\n            errors: transformToNestObject(parseErrorSchema(e, validateAllFieldCriteria)),\r\n        };\r\n    }\r\n}\n\nvar getDefaultValue = (defaultValues, name, defaultValue) => isUndefined(defaultValues[name])\r\n    ? get(defaultValues, name, defaultValue)\r\n    : defaultValues[name];\n\nfunction flatArray(list) {\r\n    return list.reduce((a, b) => a.concat(isArray(b) ? flatArray(b) : b), []);\r\n}\n\nvar isPrimitive = (value) => isNullOrUndefined(value) || !isObjectType(value);\n\nconst getPath = (path, values) => {\r\n    const getInnerPath = (value, key, isObject) => {\r\n        const pathWithIndex = isObject ? `${path}.${key}` : `${path}[${key}]`;\r\n        return isPrimitive(value) ? pathWithIndex : getPath(pathWithIndex, value);\r\n    };\r\n    return isArray(values)\r\n        ? values.map((value, key) => getInnerPath(value, key))\r\n        : Object.entries(values).map(([key, value]) => getInnerPath(value, key, true));\r\n};\r\nvar getPath$1 = (parentPath, value) => flatArray(getPath(parentPath, value));\n\nvar assignWatchFields = (fieldValues, fieldName, watchFields, combinedDefaultValues, watchFieldArray) => {\r\n    let value;\r\n    watchFields.add(fieldName);\r\n    if (isEmptyObject(fieldValues)) {\r\n        value = watchFieldArray ? watchFieldArray : undefined;\r\n    }\r\n    else if (!isUndefined(fieldValues[fieldName])) {\r\n        value = fieldValues[fieldName];\r\n        watchFields.add(fieldName);\r\n    }\r\n    else {\r\n        value = get(transformToNestObject(fieldValues), fieldName);\r\n        if (isArray(watchFieldArray) &&\r\n            isArray(value) &&\r\n            value.length !== watchFieldArray.length) {\r\n            value = watchFieldArray;\r\n        }\r\n        if (!isUndefined(value)) {\r\n            getPath$1(fieldName, value).forEach(name => watchFields.add(name));\r\n        }\r\n    }\r\n    return isUndefined(value)\r\n        ? isObject(combinedDefaultValues)\r\n            ? getDefaultValue(combinedDefaultValues, fieldName)\r\n            : combinedDefaultValues\r\n        : value;\r\n};\n\nvar skipValidation = ({ hasError, isBlurEvent, isOnSubmit, isReValidateOnSubmit, isOnBlur, isReValidateOnBlur, isSubmitted, }) => (isOnSubmit && isReValidateOnSubmit) ||\r\n    (isOnSubmit && !isSubmitted) ||\r\n    (isOnBlur && !isBlurEvent && !hasError) ||\r\n    (isReValidateOnBlur && !isBlurEvent && hasError) ||\r\n    (isReValidateOnSubmit && isSubmitted);\n\nvar getFieldValueByName = (fields, name) => {\r\n    const results = transformToNestObject(getFieldsValues(fields));\r\n    return name ? get(results, name, results) : results;\r\n};\n\nfunction getIsFieldsDifferent(referenceArray, differenceArray) {\r\n    let isMatch = false;\r\n    if (!isArray(referenceArray) ||\r\n        !isArray(differenceArray) ||\r\n        referenceArray.length !== differenceArray.length) {\r\n        return true;\r\n    }\r\n    for (let i = 0; i < referenceArray.length; i++) {\r\n        if (isMatch) {\r\n            break;\r\n        }\r\n        const dataA = referenceArray[i];\r\n        const dataB = differenceArray[i];\r\n        if (isUndefined(dataB) ||\r\n            Object.keys(dataA).length !== Object.keys(dataB).length) {\r\n            isMatch = true;\r\n            break;\r\n        }\r\n        for (const key in dataA) {\r\n            if (dataA[key] !== dataB[key]) {\r\n                isMatch = true;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    return isMatch;\r\n}\n\nconst isMatchFieldArrayName = (name, searchName) => name.startsWith(`${searchName}[`);\r\nvar isNameInFieldArray = (names, name) => [...names].reduce((prev, current) => (isMatchFieldArrayName(name, current) ? true : prev), false);\n\nvar isFileListObject = (data) => typeof FileList !== UNDEFINED && data instanceof FileList;\n\nfunction onDomRemove(element, onDetachCallback) {\r\n    const observer = new MutationObserver(() => {\r\n        if (isDetached(element)) {\r\n            observer.disconnect();\r\n            onDetachCallback();\r\n        }\r\n    });\r\n    observer.observe(window.document, {\r\n        childList: true,\r\n        subtree: true,\r\n    });\r\n    return observer;\r\n}\n\nvar modeChecker = (mode) => ({\r\n    isOnSubmit: !mode || mode === VALIDATION_MODE.onSubmit,\r\n    isOnBlur: mode === VALIDATION_MODE.onBlur,\r\n    isOnChange: mode === VALIDATION_MODE.onChange,\r\n});\n\nconst { useRef, useState, useCallback, useEffect } = React;\r\nfunction useForm({ mode = VALIDATION_MODE.onSubmit, reValidateMode = VALIDATION_MODE.onChange, validationSchema, validationResolver, validationContext, defaultValues = {}, submitFocusError = true, validateCriteriaMode, } = {}) {\r\n    const fieldsRef = useRef({});\r\n    const validateAllFieldCriteria = validateCriteriaMode === 'all';\r\n    const errorsRef = useRef({});\r\n    const touchedFieldsRef = useRef({});\r\n    const watchFieldArrayRef = useRef({});\r\n    const watchFieldsRef = useRef(new Set());\r\n    const dirtyFieldsRef = useRef(new Set());\r\n    const fieldsWithValidationRef = useRef(new Set());\r\n    const validFieldsRef = useRef(new Set());\r\n    const isValidRef = useRef(true);\r\n    const defaultRenderValuesRef = useRef({});\r\n    const defaultValuesRef = useRef(defaultValues);\r\n    const isUnMount = useRef(false);\r\n    const isWatchAllRef = useRef(false);\r\n    const isSubmittedRef = useRef(false);\r\n    const isDirtyRef = useRef(false);\r\n    const submitCountRef = useRef(0);\r\n    const isSubmittingRef = useRef(false);\r\n    const handleChangeRef = useRef();\r\n    const resetFieldArrayFunctionRef = useRef({});\r\n    const validationContextRef = useRef(validationContext);\r\n    const fieldArrayNamesRef = useRef(new Set());\r\n    const [, render] = useState();\r\n    const { isOnBlur, isOnSubmit } = useRef(modeChecker(mode)).current;\r\n    const isWindowUndefined = typeof window === UNDEFINED;\r\n    const shouldValidateCallback = !!(validationSchema || validationResolver);\r\n    const isWeb = typeof document !== UNDEFINED &&\r\n        !isWindowUndefined &&\r\n        !isUndefined(window.HTMLElement);\r\n    const isProxyEnabled = isWeb && 'Proxy' in window;\r\n    const readFormStateRef = useRef({\r\n        dirty: !isProxyEnabled,\r\n        dirtyFields: !isProxyEnabled,\r\n        isSubmitted: isOnSubmit,\r\n        submitCount: !isProxyEnabled,\r\n        touched: !isProxyEnabled,\r\n        isSubmitting: !isProxyEnabled,\r\n        isValid: !isProxyEnabled,\r\n    });\r\n    const { isOnBlur: isReValidateOnBlur, isOnSubmit: isReValidateOnSubmit, } = useRef(modeChecker(reValidateMode)).current;\r\n    const reRender = useCallback(() => {\r\n        if (!isUnMount.current) {\r\n            render({});\r\n        }\r\n    }, []);\r\n    const shouldRenderBaseOnError = useCallback((name, error, shouldRender, skipReRender) => {\r\n        let shouldReRender = shouldRender ||\r\n            shouldUpdateWithError({\r\n                errors: errorsRef.current,\r\n                error,\r\n                name,\r\n                validFields: validFieldsRef.current,\r\n                fieldsWithValidation: fieldsWithValidationRef.current,\r\n            });\r\n        if (isEmptyObject(error)) {\r\n            if (fieldsWithValidationRef.current.has(name) ||\r\n                shouldValidateCallback) {\r\n                validFieldsRef.current.add(name);\r\n                shouldReRender = shouldReRender || get(errorsRef.current, name);\r\n            }\r\n            errorsRef.current = unset(errorsRef.current, [name]);\r\n        }\r\n        else {\r\n            validFieldsRef.current.delete(name);\r\n            shouldReRender = shouldReRender || !get(errorsRef.current, name);\r\n            set(errorsRef.current, name, error[name]);\r\n        }\r\n        if (shouldReRender && !skipReRender) {\r\n            reRender();\r\n            return true;\r\n        }\r\n    }, [reRender, shouldValidateCallback]);\r\n    const setFieldValue = useCallback((field, rawValue) => {\r\n        const ref = field.ref;\r\n        const options = field.options;\r\n        const { type } = ref;\r\n        const value = isWeb && isHTMLElement(ref) && isNullOrUndefined(rawValue)\r\n            ? ''\r\n            : rawValue;\r\n        if (isRadioInput(ref) && options) {\r\n            options.forEach(({ ref: radioRef }) => (radioRef.checked = radioRef.value === value));\r\n        }\r\n        else if (isFileInput(ref)) {\r\n            if (isEmptyString(value) ||\r\n                isFileListObject(value)) {\r\n                ref.files = value;\r\n            }\r\n            else {\r\n                ref.value = value;\r\n            }\r\n        }\r\n        else if (isMultipleSelect(ref)) {\r\n            [...ref.options].forEach(selectRef => (selectRef.selected = value.includes(selectRef.value)));\r\n        }\r\n        else if (isCheckBoxInput(ref) && options) {\r\n            options.length > 1\r\n                ? options.forEach(({ ref: checkboxRef }) => (checkboxRef.checked = value.includes(checkboxRef.value)))\r\n                : (options[0].ref.checked = !!value);\r\n        }\r\n        else {\r\n            ref.value = value;\r\n        }\r\n        return !!type;\r\n    }, [isWeb]);\r\n    const setDirty = (name) => {\r\n        if (!fieldsRef.current[name] ||\r\n            (!readFormStateRef.current.dirty && !readFormStateRef.current.dirtyFields)) {\r\n            return false;\r\n        }\r\n        const isFieldArray = isNameInFieldArray(fieldArrayNamesRef.current, name);\r\n        const previousDirtyFieldsLength = dirtyFieldsRef.current.size;\r\n        let isDirty = defaultRenderValuesRef.current[name] !==\r\n            getFieldValue(fieldsRef.current, fieldsRef.current[name].ref);\r\n        if (isFieldArray) {\r\n            const fieldArrayName = name.substring(0, name.indexOf('['));\r\n            isDirty = getIsFieldsDifferent(getFieldValueByName(fieldsRef.current, fieldArrayName), get(defaultValuesRef.current, fieldArrayName));\r\n        }\r\n        const isDirtyChanged = (isFieldArray ? isDirtyRef.current : dirtyFieldsRef.current.has(name)) !==\r\n            isDirty;\r\n        if (isDirty) {\r\n            dirtyFieldsRef.current.add(name);\r\n        }\r\n        else {\r\n            dirtyFieldsRef.current.delete(name);\r\n        }\r\n        isDirtyRef.current = isFieldArray ? isDirty : !!dirtyFieldsRef.current.size;\r\n        return readFormStateRef.current.dirty\r\n            ? isDirtyChanged\r\n            : previousDirtyFieldsLength !== dirtyFieldsRef.current.size;\r\n    };\r\n    const setDirtyAndTouchedFields = useCallback((fieldName) => {\r\n        if (setDirty(fieldName) ||\r\n            (!get(touchedFieldsRef.current, fieldName) &&\r\n                readFormStateRef.current.touched)) {\r\n            return !!set(touchedFieldsRef.current, fieldName, true);\r\n        }\r\n    }, []);\r\n    const setInternalValueBatch = useCallback((name, value, parentFieldName) => {\r\n        const isValueArray = isArray(value);\r\n        for (const key in value) {\r\n            const fieldName = `${parentFieldName || name}${isValueArray ? `[${key}]` : `.${key}`}`;\r\n            if (isObject(value[key])) {\r\n                setInternalValueBatch(name, value[key], fieldName);\r\n            }\r\n            const field = fieldsRef.current[fieldName];\r\n            if (field) {\r\n                setFieldValue(field, value[key]);\r\n                setDirtyAndTouchedFields(fieldName);\r\n            }\r\n        }\r\n    }, [setFieldValue, setDirtyAndTouchedFields]);\r\n    const setInternalValue = useCallback((name, value) => {\r\n        const field = fieldsRef.current[name];\r\n        if (field) {\r\n            setFieldValue(field, value);\r\n            const output = setDirtyAndTouchedFields(name);\r\n            if (isBoolean(output)) {\r\n                return output;\r\n            }\r\n        }\r\n        else if (!isPrimitive(value)) {\r\n            setInternalValueBatch(name, value);\r\n        }\r\n    }, [setDirtyAndTouchedFields, setFieldValue, setInternalValueBatch]);\r\n    const executeValidation = useCallback(async (name, skipReRender) => {\r\n        const field = fieldsRef.current[name];\r\n        if (!field) {\r\n            return false;\r\n        }\r\n        const error = await validateField(fieldsRef, validateAllFieldCriteria, field);\r\n        shouldRenderBaseOnError(name, error, false, skipReRender);\r\n        return isEmptyObject(error);\r\n    }, [shouldRenderBaseOnError, validateAllFieldCriteria]);\r\n    const executeSchemaValidation = useCallback(async (payload) => {\r\n        const { errors } = await validateWithSchema(validationSchema, validateAllFieldCriteria, getFieldValueByName(fieldsRef.current), validationResolver, validationContextRef.current);\r\n        const previousFormIsValid = isValidRef.current;\r\n        isValidRef.current = isEmptyObject(errors);\r\n        if (isArray(payload)) {\r\n            payload.forEach(name => {\r\n                const error = get(errors, name);\r\n                if (error) {\r\n                    set(errorsRef.current, name, error);\r\n                }\r\n                else {\r\n                    unset(errorsRef.current, [name]);\r\n                }\r\n            });\r\n            reRender();\r\n        }\r\n        else {\r\n            shouldRenderBaseOnError(payload, (get(errors, payload)\r\n                ? { [payload]: get(errors, payload) }\r\n                : {}), previousFormIsValid !== isValidRef.current);\r\n        }\r\n        return isEmptyObject(errorsRef.current);\r\n    }, [\r\n        reRender,\r\n        shouldRenderBaseOnError,\r\n        validateAllFieldCriteria,\r\n        validationResolver,\r\n        validationSchema,\r\n    ]);\r\n    const triggerValidation = useCallback(async (payload) => {\r\n        const fields = payload || Object.keys(fieldsRef.current);\r\n        if (shouldValidateCallback) {\r\n            return executeSchemaValidation(fields);\r\n        }\r\n        if (isArray(fields)) {\r\n            const result = await Promise.all(fields.map(async (data) => await executeValidation(data, true)));\r\n            reRender();\r\n            return result.every(Boolean);\r\n        }\r\n        return await executeValidation(fields);\r\n    }, [\r\n        executeSchemaValidation,\r\n        executeValidation,\r\n        reRender,\r\n        shouldValidateCallback,\r\n    ]);\r\n    const isFieldWatched = (name) => {\r\n        const preFixName = (name.match(/\\w+/) || [])[0];\r\n        return (isWatchAllRef.current ||\r\n            watchFieldsRef.current.has(name) ||\r\n            (watchFieldsRef.current.has(preFixName) &&\r\n                !isKey(name) &&\r\n                fieldArrayNamesRef.current.has(preFixName)));\r\n    };\r\n    function setValue(names, valueOrShouldValidate, shouldValidate) {\r\n        let shouldRender = false;\r\n        const isMultiple = isArray(names);\r\n        (isMultiple\r\n            ? names\r\n            : [names]).forEach((name) => {\r\n            const isStringFieldName = isString(name);\r\n            shouldRender =\r\n                setInternalValue(isStringFieldName ? name : Object.keys(name)[0], isStringFieldName\r\n                    ? valueOrShouldValidate\r\n                    : Object.values(name)[0]) || isMultiple\r\n                    ? true\r\n                    : isFieldWatched(name);\r\n        });\r\n        if (shouldRender || isMultiple) {\r\n            reRender();\r\n        }\r\n        if (shouldValidate || (isMultiple && valueOrShouldValidate)) {\r\n            triggerValidation(isMultiple ? undefined : names);\r\n        }\r\n    }\r\n    handleChangeRef.current = handleChangeRef.current\r\n        ? handleChangeRef.current\r\n        : async ({ type, target }) => {\r\n            const name = target ? target.name : '';\r\n            const fields = fieldsRef.current;\r\n            const errors = errorsRef.current;\r\n            const field = fields[name];\r\n            const currentError = get(errors, name);\r\n            let error;\r\n            if (!field) {\r\n                return;\r\n            }\r\n            const isBlurEvent = type === EVENTS.BLUR;\r\n            const shouldSkipValidation = skipValidation({\r\n                hasError: !!currentError,\r\n                isBlurEvent,\r\n                isOnSubmit,\r\n                isReValidateOnSubmit,\r\n                isOnBlur,\r\n                isReValidateOnBlur,\r\n                isSubmitted: isSubmittedRef.current,\r\n            });\r\n            const shouldUpdateDirty = setDirty(name);\r\n            let shouldUpdateState = isFieldWatched(name) || shouldUpdateDirty;\r\n            if (isBlurEvent &&\r\n                !get(touchedFieldsRef.current, name) &&\r\n                readFormStateRef.current.touched) {\r\n                set(touchedFieldsRef.current, name, true);\r\n                shouldUpdateState = true;\r\n            }\r\n            if (shouldSkipValidation) {\r\n                return shouldUpdateState && reRender();\r\n            }\r\n            if (shouldValidateCallback) {\r\n                const { errors } = await validateWithSchema(validationSchema, validateAllFieldCriteria, getFieldValueByName(fields), validationResolver, validationContextRef.current);\r\n                const previousFormIsValid = isValidRef.current;\r\n                isValidRef.current = isEmptyObject(errors);\r\n                error = (get(errors, name)\r\n                    ? { [name]: get(errors, name) }\r\n                    : {});\r\n                if (previousFormIsValid !== isValidRef.current) {\r\n                    shouldUpdateState = true;\r\n                }\r\n            }\r\n            else {\r\n                error = await validateField(fieldsRef, validateAllFieldCriteria, field);\r\n            }\r\n            if (!shouldRenderBaseOnError(name, error) && shouldUpdateState) {\r\n                reRender();\r\n            }\r\n        };\r\n    const validateSchemaIsValid = useCallback((values = {}) => {\r\n        const fieldValues = isEmptyObject(defaultValuesRef.current)\r\n            ? getFieldsValues(fieldsRef.current)\r\n            : defaultValuesRef.current;\r\n        validateWithSchema(validationSchema, validateAllFieldCriteria, transformToNestObject(Object.assign(Object.assign({}, fieldValues), values)), validationResolver, validationContextRef.current).then(({ errors }) => {\r\n            const previousFormIsValid = isValidRef.current;\r\n            isValidRef.current = isEmptyObject(errors);\r\n            if (previousFormIsValid !== isValidRef.current) {\r\n                reRender();\r\n            }\r\n        });\r\n    }, \r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [reRender, validateAllFieldCriteria, validationResolver]);\r\n    const removeFieldEventListener = (field, forceDelete) => {\r\n        if (!isUndefined(handleChangeRef.current) && field) {\r\n            findRemovedFieldAndRemoveListener(fieldsRef.current, handleChangeRef.current, field, forceDelete);\r\n        }\r\n    };\r\n    const removeFieldEventListenerAndRef = useCallback((field, forceDelete) => {\r\n        if (!field ||\r\n            (field &&\r\n                isNameInFieldArray(fieldArrayNamesRef.current, field.ref.name) &&\r\n                !forceDelete)) {\r\n            return;\r\n        }\r\n        removeFieldEventListener(field, forceDelete);\r\n        const { name } = field.ref;\r\n        errorsRef.current = unset(errorsRef.current, [name]);\r\n        touchedFieldsRef.current = unset(touchedFieldsRef.current, [name]);\r\n        defaultRenderValuesRef.current = unset(defaultRenderValuesRef.current, [\r\n            name,\r\n        ]);\r\n        [\r\n            dirtyFieldsRef,\r\n            fieldsWithValidationRef,\r\n            validFieldsRef,\r\n            watchFieldsRef,\r\n        ].forEach(data => data.current.delete(name));\r\n        if (readFormStateRef.current.isValid ||\r\n            readFormStateRef.current.touched) {\r\n            reRender();\r\n            if (shouldValidateCallback) {\r\n                validateSchemaIsValid();\r\n            }\r\n        }\r\n    }, [reRender, shouldValidateCallback, validateSchemaIsValid]);\r\n    function clearError(name) {\r\n        if (isUndefined(name)) {\r\n            errorsRef.current = {};\r\n        }\r\n        else {\r\n            unset(errorsRef.current, isArray(name) ? name : [name]);\r\n        }\r\n        reRender();\r\n    }\r\n    const setInternalError = ({ name, type, types, message, preventRender, }) => {\r\n        const field = fieldsRef.current[name];\r\n        if (!isSameError(errorsRef.current[name], {\r\n            type,\r\n            message,\r\n            types,\r\n        })) {\r\n            set(errorsRef.current, name, {\r\n                type,\r\n                types,\r\n                message,\r\n                ref: field ? field.ref : {},\r\n                isManual: true,\r\n            });\r\n            if (!preventRender) {\r\n                reRender();\r\n            }\r\n        }\r\n    };\r\n    function setError(name, type = '', message) {\r\n        if (isString(name)) {\r\n            setInternalError(Object.assign({ name }, (isObject(type)\r\n                ? {\r\n                    types: type,\r\n                    type: '',\r\n                }\r\n                : {\r\n                    type,\r\n                    message,\r\n                })));\r\n        }\r\n        else if (isArray(name)) {\r\n            name.forEach(error => setInternalError(Object.assign(Object.assign({}, error), { preventRender: true })));\r\n            reRender();\r\n        }\r\n    }\r\n    function watch(fieldNames, defaultValue) {\r\n        const combinedDefaultValues = isUndefined(defaultValue)\r\n            ? isUndefined(defaultValuesRef.current)\r\n                ? {}\r\n                : defaultValuesRef.current\r\n            : defaultValue;\r\n        const fieldValues = getFieldsValues(fieldsRef.current, fieldNames);\r\n        const watchFields = watchFieldsRef.current;\r\n        if (isString(fieldNames)) {\r\n            return assignWatchFields(fieldValues, fieldNames, watchFields, combinedDefaultValues, fieldArrayNamesRef.current.has(fieldNames)\r\n                ? watchFieldArrayRef.current[fieldNames]\r\n                : undefined);\r\n        }\r\n        if (isArray(fieldNames)) {\r\n            return fieldNames.reduce((previous, name) => {\r\n                let value;\r\n                if (isEmptyObject(fieldsRef.current) &&\r\n                    isObject(combinedDefaultValues)) {\r\n                    value = getDefaultValue(combinedDefaultValues, name);\r\n                }\r\n                else {\r\n                    value = assignWatchFields(fieldValues, name, watchFields, combinedDefaultValues);\r\n                }\r\n                return Object.assign(Object.assign({}, previous), { [name]: value });\r\n            }, {});\r\n        }\r\n        isWatchAllRef.current = true;\r\n        const result = (!isEmptyObject(fieldValues) && fieldValues) ||\r\n            defaultValue ||\r\n            defaultValuesRef.current;\r\n        return fieldNames && fieldNames.nest\r\n            ? transformToNestObject(result)\r\n            : result;\r\n    }\r\n    function unregister(names) {\r\n        if (!isEmptyObject(fieldsRef.current)) {\r\n            (isArray(names) ? names : [names]).forEach(fieldName => removeFieldEventListenerAndRef(fieldsRef.current[fieldName], true));\r\n        }\r\n    }\r\n    function registerFieldsRef(ref, validateOptions = {}) {\r\n        if (!ref.name) {\r\n            // eslint-disable-next-line no-console\r\n            return console.warn('Missing name @', ref);\r\n        }\r\n        const { name, type, value } = ref;\r\n        const fieldAttributes = Object.assign({ ref }, validateOptions);\r\n        const fields = fieldsRef.current;\r\n        const isRadioOrCheckbox = isRadioInput(ref) || isCheckBoxInput(ref);\r\n        let currentField = fields[name];\r\n        let isEmptyDefaultValue = true;\r\n        let isFieldArray = false;\r\n        let defaultValue;\r\n        if (isRadioOrCheckbox\r\n            ? currentField &&\r\n                isArray(currentField.options) &&\r\n                currentField.options.find(({ ref }) => value === ref.value)\r\n            : currentField) {\r\n            fields[name] = Object.assign(Object.assign({}, currentField), validateOptions);\r\n            return;\r\n        }\r\n        if (type) {\r\n            const mutationWatcher = onDomRemove(ref, () => removeFieldEventListenerAndRef(fieldAttributes));\r\n            currentField = isRadioOrCheckbox\r\n                ? Object.assign({ options: [\r\n                        ...((currentField && currentField.options) || []),\r\n                        {\r\n                            ref,\r\n                            mutationWatcher,\r\n                        },\r\n                    ], ref: { type, name } }, validateOptions) : Object.assign(Object.assign({}, fieldAttributes), { mutationWatcher });\r\n        }\r\n        else {\r\n            currentField = fieldAttributes;\r\n        }\r\n        fields[name] = currentField;\r\n        if (!isEmptyObject(defaultValuesRef.current)) {\r\n            defaultValue = getDefaultValue(defaultValuesRef.current, name);\r\n            isEmptyDefaultValue = isUndefined(defaultValue);\r\n            isFieldArray = isNameInFieldArray(fieldArrayNamesRef.current, name);\r\n            if (!isEmptyDefaultValue && !isFieldArray) {\r\n                setFieldValue(currentField, defaultValue);\r\n            }\r\n        }\r\n        if (shouldValidateCallback &&\r\n            !isFieldArray &&\r\n            readFormStateRef.current.isValid) {\r\n            validateSchemaIsValid();\r\n        }\r\n        else if (!isEmptyObject(validateOptions)) {\r\n            fieldsWithValidationRef.current.add(name);\r\n            if (!isOnSubmit && readFormStateRef.current.isValid) {\r\n                validateField(fieldsRef, validateAllFieldCriteria, currentField).then(error => {\r\n                    const previousFormIsValid = isValidRef.current;\r\n                    if (isEmptyObject(error)) {\r\n                        validFieldsRef.current.add(name);\r\n                    }\r\n                    else {\r\n                        isValidRef.current = false;\r\n                    }\r\n                    if (previousFormIsValid !== isValidRef.current) {\r\n                        reRender();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        if (!defaultRenderValuesRef.current[name] &&\r\n            !(isFieldArray && isEmptyDefaultValue)) {\r\n            defaultRenderValuesRef.current[name] = isEmptyDefaultValue\r\n                ? getFieldValue(fields, currentField.ref)\r\n                : defaultValue;\r\n        }\r\n        if (!type) {\r\n            return;\r\n        }\r\n        const fieldToAttachListener = isRadioOrCheckbox && currentField.options\r\n            ? currentField.options[currentField.options.length - 1]\r\n            : currentField;\r\n        attachEventListeners({\r\n            field: fieldToAttachListener,\r\n            isRadioOrCheckbox,\r\n            handleChange: handleChangeRef.current,\r\n        });\r\n    }\r\n    function register(refOrValidationOptions, validationOptions) {\r\n        if (isWindowUndefined) {\r\n            return;\r\n        }\r\n        if (isString(refOrValidationOptions)) {\r\n            registerFieldsRef({ name: refOrValidationOptions }, validationOptions);\r\n            return;\r\n        }\r\n        if (isObject(refOrValidationOptions) && 'name' in refOrValidationOptions) {\r\n            registerFieldsRef(refOrValidationOptions, validationOptions);\r\n            return;\r\n        }\r\n        return (ref) => ref && registerFieldsRef(ref, refOrValidationOptions);\r\n    }\r\n    const handleSubmit = useCallback((callback) => async (e) => {\r\n        if (e) {\r\n            e.preventDefault();\r\n            e.persist();\r\n        }\r\n        let fieldErrors;\r\n        let fieldValues;\r\n        const fields = fieldsRef.current;\r\n        if (readFormStateRef.current.isSubmitting) {\r\n            isSubmittingRef.current = true;\r\n            reRender();\r\n        }\r\n        try {\r\n            if (shouldValidateCallback) {\r\n                fieldValues = getFieldsValues(fields);\r\n                const { errors, values } = await validateWithSchema(validationSchema, validateAllFieldCriteria, transformToNestObject(fieldValues), validationResolver, validationContextRef.current);\r\n                errorsRef.current = errors;\r\n                fieldErrors = errors;\r\n                fieldValues = values;\r\n            }\r\n            else {\r\n                const { errors, values, } = await Object.values(fields).reduce(async (previous, field) => {\r\n                    if (!field) {\r\n                        return previous;\r\n                    }\r\n                    const resolvedPrevious = await previous;\r\n                    const { ref, ref: { name }, } = field;\r\n                    if (!fields[name]) {\r\n                        return Promise.resolve(resolvedPrevious);\r\n                    }\r\n                    const fieldError = await validateField(fieldsRef, validateAllFieldCriteria, field);\r\n                    if (fieldError[name]) {\r\n                        set(resolvedPrevious.errors, name, fieldError[name]);\r\n                        validFieldsRef.current.delete(name);\r\n                        return Promise.resolve(resolvedPrevious);\r\n                    }\r\n                    if (fieldsWithValidationRef.current.has(name)) {\r\n                        validFieldsRef.current.add(name);\r\n                    }\r\n                    resolvedPrevious.values[name] = getFieldValue(fields, ref);\r\n                    return Promise.resolve(resolvedPrevious);\r\n                }, Promise.resolve({\r\n                    errors: {},\r\n                    values: {},\r\n                }));\r\n                fieldErrors = errors;\r\n                fieldValues = values;\r\n            }\r\n            if (isEmptyObject(fieldErrors)) {\r\n                errorsRef.current = {};\r\n                await callback(transformToNestObject(fieldValues), e);\r\n            }\r\n            else {\r\n                if (submitFocusError && isWeb) {\r\n                    focusErrorField(fields, fieldErrors);\r\n                }\r\n                errorsRef.current = fieldErrors;\r\n            }\r\n        }\r\n        finally {\r\n            isSubmittedRef.current = true;\r\n            isSubmittingRef.current = false;\r\n            submitCountRef.current = submitCountRef.current + 1;\r\n            reRender();\r\n        }\r\n    }, [\r\n        isWeb,\r\n        reRender,\r\n        shouldValidateCallback,\r\n        submitFocusError,\r\n        validateAllFieldCriteria,\r\n        validationResolver,\r\n        validationSchema,\r\n    ]);\r\n    const resetRefs = () => {\r\n        errorsRef.current = {};\r\n        fieldsRef.current = {};\r\n        touchedFieldsRef.current = {};\r\n        validFieldsRef.current = new Set();\r\n        fieldsWithValidationRef.current = new Set();\r\n        defaultRenderValuesRef.current = {};\r\n        watchFieldsRef.current = new Set();\r\n        dirtyFieldsRef.current = new Set();\r\n        isWatchAllRef.current = false;\r\n        isSubmittedRef.current = false;\r\n        isDirtyRef.current = false;\r\n        isValidRef.current = true;\r\n        submitCountRef.current = 0;\r\n    };\r\n    const reset = (values) => {\r\n        if (isWeb) {\r\n            for (const value of Object.values(fieldsRef.current)) {\r\n                if (value && isHTMLElement(value.ref) && value.ref.closest) {\r\n                    try {\r\n                        value.ref.closest('form').reset();\r\n                        break;\r\n                    }\r\n                    catch (_a) { }\r\n                }\r\n            }\r\n        }\r\n        if (values) {\r\n            defaultValuesRef.current = values;\r\n        }\r\n        Object.values(resetFieldArrayFunctionRef.current).forEach(resetFieldArray => isFunction(resetFieldArray) && resetFieldArray());\r\n        resetRefs();\r\n        reRender();\r\n    };\r\n    const getValues = (payload) => {\r\n        const fieldValues = getFieldsValues(fieldsRef.current);\r\n        const outputValues = isEmptyObject(fieldValues)\r\n            ? defaultValuesRef.current\r\n            : fieldValues;\r\n        return payload && payload.nest\r\n            ? transformToNestObject(outputValues)\r\n            : outputValues;\r\n    };\r\n    useEffect(() => () => {\r\n        isUnMount.current = true;\r\n        fieldsRef.current &&\r\n            Object.values(fieldsRef.current).forEach((field) => removeFieldEventListenerAndRef(field, true));\r\n    }, [removeFieldEventListenerAndRef]);\r\n    if (!shouldValidateCallback) {\r\n        isValidRef.current =\r\n            validFieldsRef.current.size >= fieldsWithValidationRef.current.size &&\r\n                isEmptyObject(errorsRef.current);\r\n    }\r\n    const formState = {\r\n        dirty: isDirtyRef.current,\r\n        dirtyFields: dirtyFieldsRef.current,\r\n        isSubmitted: isSubmittedRef.current,\r\n        submitCount: submitCountRef.current,\r\n        touched: touchedFieldsRef.current,\r\n        isSubmitting: isSubmittingRef.current,\r\n        isValid: isOnSubmit\r\n            ? isSubmittedRef.current && isEmptyObject(errorsRef.current)\r\n            : isValidRef.current,\r\n    };\r\n    const control = Object.assign(Object.assign({ register,\r\n        unregister,\r\n        removeFieldEventListener,\r\n        getValues,\r\n        setValue,\r\n        reRender,\r\n        triggerValidation }, (shouldValidateCallback ? { validateSchemaIsValid } : {})), { formState, mode: {\r\n            isOnBlur,\r\n            isOnSubmit,\r\n        }, reValidateMode: {\r\n            isReValidateOnBlur,\r\n            isReValidateOnSubmit,\r\n        }, errorsRef,\r\n        touchedFieldsRef,\r\n        fieldsRef,\r\n        resetFieldArrayFunctionRef,\r\n        validFieldsRef,\r\n        fieldsWithValidationRef,\r\n        watchFieldArrayRef,\r\n        fieldArrayNamesRef,\r\n        isDirtyRef,\r\n        readFormStateRef,\r\n        defaultValuesRef });\r\n    return {\r\n        watch,\r\n        control,\r\n        handleSubmit,\r\n        setValue: useCallback(setValue, [\r\n            reRender,\r\n            setInternalValue,\r\n            triggerValidation,\r\n        ]),\r\n        triggerValidation,\r\n        getValues: useCallback(getValues, []),\r\n        reset: useCallback(reset, []),\r\n        register: useCallback(register, [\r\n            defaultValuesRef.current,\r\n            defaultRenderValuesRef.current,\r\n            watchFieldArrayRef.current,\r\n        ]),\r\n        unregister: useCallback(unregister, []),\r\n        clearError: useCallback(clearError, []),\r\n        setError: useCallback(setError, []),\r\n        errors: errorsRef.current,\r\n        formState: isProxyEnabled\r\n            ? new Proxy(formState, {\r\n                get: (obj, prop) => {\r\n                    if (prop in obj) {\r\n                        readFormStateRef.current[prop] = true;\r\n                        return obj[prop];\r\n                    }\r\n                    return {};\r\n                },\r\n            })\r\n            : formState,\r\n    };\r\n}\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\n\nconst FormGlobalContext = createContext(null);\r\nfunction useFormContext() {\r\n    const context = useContext(FormGlobalContext);\r\n    if (!isUndefined(context))\r\n        return context;\r\n    throw new Error('Missing FormContext');\r\n}\r\nfunction FormContext(_a) {\r\n    var { children, formState, errors } = _a, restMethods = __rest(_a, [\"children\", \"formState\", \"errors\"]);\r\n    return (createElement(FormGlobalContext.Provider, { value: Object.assign(Object.assign({}, restMethods), { formState, errors }) }, children));\r\n}\n\nvar generateId = () => {\r\n    const d = typeof performance === UNDEFINED ? Date.now() : performance.now() * 1000;\r\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n        const r = (Math.random() * 16 + d) % 16 | 0;\r\n        return (c == 'x' ? r : (r & 0x3) | 0x8).toString(16);\r\n    });\r\n};\n\nconst appendId = (value, keyName) => (Object.assign(Object.assign({}, (isObject(value) ? value : { value })), { [keyName]: generateId() }));\r\nconst mapIds = (data, keyName) => (isArray(data) ? data : []).map(value => appendId(value, keyName));\n\nconst removeAt = (data, index) => [\r\n    ...data.slice(0, index),\r\n    ...data.slice(index + 1),\r\n];\r\nvar removeArrayAt = (data, index) => isUndefined(index)\r\n    ? []\r\n    : isArray(index)\r\n        ? index.reduce(({ result, previousIndex }, i) => ({\r\n            result: previousIndex > -1\r\n                ? removeAt(result, previousIndex < i ? i - 1 : i)\r\n                : removeAt(result, i),\r\n            previousIndex: i,\r\n        }), {\r\n            result: data,\r\n            previousIndex: -1,\r\n        }).result\r\n        : removeAt(data, index);\n\nvar moveArrayAt = (data, from, to) => isArray(data) ? data.splice(to, 0, data.splice(from, 1)[0]) : [];\n\nvar swapArrayAt = (fields, indexA, indexB) => isArray(fields) &&\r\n    ([fields[indexA], fields[indexB]] = [fields[indexB], fields[indexA]]);\n\nvar prependAt = (data, value) => [\r\n    ...(isArray(value) ? value : [value || null]),\r\n    ...data,\r\n];\n\nvar insertAt = (data, index, value) => [\r\n    ...data.slice(0, index),\r\n    ...(isArray(value) ? value : [value || null]),\r\n    ...data.slice(index),\r\n];\n\nvar fillEmptyArray = (value) => isArray(value) ? Array(value.length).fill(null) : undefined;\n\nconst { useEffect: useEffect$1, useCallback: useCallback$1, useRef: useRef$1, useState: useState$1 } = React;\r\nconst useFieldArray = ({ control, name, keyName = 'id', }) => {\r\n    const methods = useFormContext();\r\n    const { resetFieldArrayFunctionRef, fieldArrayNamesRef, reRender, fieldsRef, getValues, defaultValuesRef, removeFieldEventListener, errorsRef, isDirtyRef, touchedFieldsRef, readFormStateRef, watchFieldArrayRef, validFieldsRef, fieldsWithValidationRef, validateSchemaIsValid, } = control || methods.control;\r\n    const memoizedDefaultValues = useRef$1(get(defaultValuesRef.current, name, []));\r\n    const [fields, setField] = useState$1(mapIds(memoizedDefaultValues.current, keyName));\r\n    const allFields = useRef$1(fields);\r\n    const appendValueWithKey = (value) => value.map((v) => appendId(v, keyName));\r\n    allFields.current = fields;\r\n    const commonTasks = (fieldsValues) => {\r\n        watchFieldArrayRef.current = Object.assign(Object.assign({}, watchFieldArrayRef.current), { [name]: fieldsValues });\r\n        setField(fieldsValues);\r\n        if (readFormStateRef.current.isValid && validateSchemaIsValid) {\r\n            validateSchemaIsValid({\r\n                [name]: fieldsValues,\r\n            });\r\n        }\r\n    };\r\n    const resetFields = (flagOrFields) => {\r\n        if (readFormStateRef.current.dirty) {\r\n            isDirtyRef.current = isUndefined(flagOrFields)\r\n                ? true\r\n                : getIsFieldsDifferent(flagOrFields, memoizedDefaultValues.current);\r\n        }\r\n        for (const key in fieldsRef.current) {\r\n            if (isMatchFieldArrayName(key, name) && fieldsRef.current[key]) {\r\n                removeFieldEventListener(fieldsRef.current[key], true);\r\n            }\r\n        }\r\n    };\r\n    const mapCurrentFieldsValueWithState = () => {\r\n        const currentFieldsValue = getValues({ nest: true })[name];\r\n        if (isArray(currentFieldsValue)) {\r\n            for (let i = 0; i < currentFieldsValue.length; i++) {\r\n                fields[i] = Object.assign(Object.assign({}, fields[i]), currentFieldsValue[i]);\r\n            }\r\n        }\r\n    };\r\n    const append = (value) => {\r\n        mapCurrentFieldsValueWithState();\r\n        if (readFormStateRef.current.dirty) {\r\n            isDirtyRef.current = true;\r\n        }\r\n        commonTasks([\r\n            ...allFields.current,\r\n            ...(isArray(value)\r\n                ? appendValueWithKey(value)\r\n                : [appendId(value, keyName)]),\r\n        ]);\r\n    };\r\n    const prepend = (value) => {\r\n        mapCurrentFieldsValueWithState();\r\n        resetFields();\r\n        commonTasks(prependAt(allFields.current, isArray(value) ? appendValueWithKey(value) : [appendId(value, keyName)]));\r\n        if (errorsRef.current[name]) {\r\n            errorsRef.current[name] = prependAt(errorsRef.current[name], fillEmptyArray(value));\r\n        }\r\n        if (readFormStateRef.current.touched && touchedFieldsRef.current[name]) {\r\n            touchedFieldsRef.current[name] = prependAt(touchedFieldsRef.current[name], fillEmptyArray(value));\r\n        }\r\n    };\r\n    const remove = (index) => {\r\n        if (!isUndefined(index)) {\r\n            mapCurrentFieldsValueWithState();\r\n        }\r\n        resetFields(removeArrayAt(getFieldValueByName(fieldsRef.current, name), index));\r\n        commonTasks(removeArrayAt(allFields.current, index));\r\n        if (errorsRef.current[name]) {\r\n            errorsRef.current[name] = removeArrayAt(errorsRef.current[name], index);\r\n            if (!errorsRef.current[name].filter(Boolean).length) {\r\n                delete errorsRef.current[name];\r\n            }\r\n        }\r\n        if (readFormStateRef.current.touched && touchedFieldsRef.current[name]) {\r\n            touchedFieldsRef.current[name] = removeArrayAt(touchedFieldsRef.current[name], index);\r\n        }\r\n        if (readFormStateRef.current.isValid && !validateSchemaIsValid) {\r\n            let fieldIndex = -1;\r\n            let isFound = false;\r\n            const isIndexUndefined = isUndefined(index);\r\n            while (fieldIndex++ < fields.length) {\r\n                const isLast = fieldIndex === fields.length - 1;\r\n                const isCurrentIndex = (isArray(index) ? index : [index]).indexOf(fieldIndex) >= 0;\r\n                if (isCurrentIndex || isIndexUndefined) {\r\n                    isFound = true;\r\n                }\r\n                if (!isFound) {\r\n                    continue;\r\n                }\r\n                for (const key in fields[fieldIndex]) {\r\n                    const currentFieldName = `${name}[${fieldIndex}].${key}`;\r\n                    if (isCurrentIndex || isLast || isIndexUndefined) {\r\n                        validFieldsRef.current.delete(currentFieldName);\r\n                        fieldsWithValidationRef.current.delete(currentFieldName);\r\n                    }\r\n                    else {\r\n                        const previousFieldName = `${name}[${fieldIndex - 1}].${key}`;\r\n                        if (validFieldsRef.current.has(currentFieldName)) {\r\n                            validFieldsRef.current.add(previousFieldName);\r\n                        }\r\n                        if (fieldsWithValidationRef.current.has(currentFieldName)) {\r\n                            fieldsWithValidationRef.current.add(previousFieldName);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            reRender();\r\n        }\r\n    };\r\n    const insert = (index, value) => {\r\n        mapCurrentFieldsValueWithState();\r\n        resetFields(insertAt(getFieldValueByName(fieldsRef.current, name), index));\r\n        commonTasks(insertAt(allFields.current, index, isArray(value) ? appendValueWithKey(value) : [appendId(value, keyName)]));\r\n        if (errorsRef.current[name]) {\r\n            errorsRef.current[name] = insertAt(errorsRef.current[name], index, fillEmptyArray(value));\r\n        }\r\n        if (readFormStateRef.current.touched && touchedFieldsRef.current[name]) {\r\n            touchedFieldsRef.current[name] = insertAt(touchedFieldsRef.current[name], index, fillEmptyArray(value));\r\n        }\r\n    };\r\n    const swap = (indexA, indexB) => {\r\n        mapCurrentFieldsValueWithState();\r\n        const fieldValues = getFieldValueByName(fieldsRef.current, name);\r\n        swapArrayAt(fieldValues, indexA, indexB);\r\n        resetFields(fieldValues);\r\n        swapArrayAt(allFields.current, indexA, indexB);\r\n        commonTasks([...allFields.current]);\r\n        if (errorsRef.current[name]) {\r\n            swapArrayAt(errorsRef.current[name], indexA, indexB);\r\n        }\r\n        if (readFormStateRef.current.touched && touchedFieldsRef.current[name]) {\r\n            swapArrayAt(touchedFieldsRef.current[name], indexA, indexB);\r\n        }\r\n    };\r\n    const move = (from, to) => {\r\n        mapCurrentFieldsValueWithState();\r\n        const fieldValues = getFieldValueByName(fieldsRef.current, name);\r\n        moveArrayAt(fieldValues, from, to);\r\n        resetFields(fieldValues);\r\n        moveArrayAt(allFields.current, from, to);\r\n        commonTasks([...allFields.current]);\r\n        if (errorsRef.current[name]) {\r\n            moveArrayAt(errorsRef.current[name], from, to);\r\n        }\r\n        if (readFormStateRef.current.touched && touchedFieldsRef.current[name]) {\r\n            moveArrayAt(touchedFieldsRef.current[name], from, to);\r\n        }\r\n    };\r\n    const reset = () => {\r\n        resetFields();\r\n        memoizedDefaultValues.current = get(defaultValuesRef.current, name, []);\r\n        setField(mapIds(memoizedDefaultValues.current, keyName));\r\n    };\r\n    useEffect$1(() => {\r\n        const resetFunctions = resetFieldArrayFunctionRef.current;\r\n        const fieldArrayNames = fieldArrayNamesRef.current;\r\n        fieldArrayNames.add(name);\r\n        resetFunctions[name] = reset;\r\n        watchFieldArrayRef.current = Object.assign(Object.assign({}, watchFieldArrayRef.current), { [name]: fields });\r\n        return () => {\r\n            resetFields();\r\n            delete resetFunctions[name];\r\n            fieldArrayNames.delete(name);\r\n        };\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n    return {\r\n        swap: useCallback$1(swap, []),\r\n        move: useCallback$1(move, []),\r\n        prepend: useCallback$1(prepend, []),\r\n        append: useCallback$1(append, []),\r\n        remove: useCallback$1(remove, []),\r\n        insert: useCallback$1(insert, []),\r\n        fields,\r\n    };\r\n};\n\nvar getInputValue = (event, isCheckboxInput) => isPrimitive(event) ||\r\n    !isObject(event.target) ||\r\n    (isObject(event.target) && !event.type)\r\n    ? event\r\n    : isCheckboxInput || isUndefined(event.target.value)\r\n        ? event.target.checked\r\n        : event.target.value;\n\nconst Controller = (_a) => {\r\n    var { name, rules, as: InnerComponent, onBlur, onChange, onChangeName = VALIDATION_MODE.onChange, onBlurName = VALIDATION_MODE.onBlur, valueName, defaultValue, control } = _a, rest = __rest(_a, [\"name\", \"rules\", \"as\", \"onBlur\", \"onChange\", \"onChangeName\", \"onBlurName\", \"valueName\", \"defaultValue\", \"control\"]);\r\n    const methods = useFormContext();\r\n    const { defaultValuesRef, setValue, register, unregister, errorsRef, removeFieldEventListener, triggerValidation, mode: { isOnSubmit, isOnBlur }, reValidateMode: { isReValidateOnBlur, isReValidateOnSubmit }, formState: { isSubmitted }, fieldsRef, fieldArrayNamesRef, } = control || methods.control;\r\n    const [value, setInputStateValue] = useState$2(isUndefined(defaultValue)\r\n        ? get(defaultValuesRef.current, name)\r\n        : defaultValue);\r\n    const valueRef = useRef$2(value);\r\n    const isCheckboxInput = isBoolean(value);\r\n    const shouldValidate = () => !skipValidation({\r\n        hasError: !!get(errorsRef.current, name),\r\n        isOnBlur,\r\n        isOnSubmit,\r\n        isReValidateOnBlur,\r\n        isReValidateOnSubmit,\r\n        isSubmitted,\r\n    });\r\n    const commonTask = (event) => {\r\n        const data = getInputValue(event, isCheckboxInput);\r\n        setInputStateValue(data);\r\n        valueRef.current = data;\r\n        return data;\r\n    };\r\n    const eventWrapper = (event) => (...arg) => setValue(name, commonTask(event(arg)), shouldValidate());\r\n    const handleChange = (event) => {\r\n        const data = commonTask(event);\r\n        setValue(name, data, shouldValidate());\r\n    };\r\n    const registerField = () => {\r\n        if (isNameInFieldArray(fieldArrayNamesRef.current, name) &&\r\n            fieldsRef.current[name]) {\r\n            removeFieldEventListener(fieldsRef.current[name], true);\r\n        }\r\n        register(Object.defineProperty({ name }, VALUE, {\r\n            set(data) {\r\n                setInputStateValue(data);\r\n                valueRef.current = data;\r\n            },\r\n            get() {\r\n                return valueRef.current;\r\n            },\r\n        }), Object.assign({}, rules));\r\n    };\r\n    useEffect$2(() => {\r\n        if (!fieldsRef.current[name]) {\r\n            registerField();\r\n            setInputStateValue(isUndefined(defaultValue)\r\n                ? get(defaultValuesRef.current, name)\r\n                : defaultValue);\r\n        }\r\n    });\r\n    useEffect$2(() => {\r\n        registerField();\r\n        return () => {\r\n            if (!isNameInFieldArray(fieldArrayNamesRef.current, name)) {\r\n                unregister(name);\r\n            }\r\n        };\r\n    }, [name]);\r\n    const shouldReValidateOnBlur = isOnBlur || isReValidateOnBlur;\r\n    const props = Object.assign(Object.assign(Object.assign(Object.assign({ name }, rest), (onChange\r\n        ? { [onChangeName]: eventWrapper(onChange) }\r\n        : { [onChangeName]: handleChange })), (onBlur || shouldReValidateOnBlur\r\n        ? {\r\n            [onBlurName]: (...args) => {\r\n                if (onBlur) {\r\n                    onBlur(args);\r\n                }\r\n                if (shouldReValidateOnBlur) {\r\n                    triggerValidation(name);\r\n                }\r\n            },\r\n        }\r\n        : {})), { [valueName || (isCheckboxInput ? 'checked' : VALUE)]: value });\r\n    return isValidElement(InnerComponent)\r\n        ? cloneElement(InnerComponent, props)\r\n        : createElement(InnerComponent, props);\r\n};\n\nconst ErrorMessage = (_a) => {\r\n    var { as: InnerComponent, errors, name, message, children } = _a, rest = __rest(_a, [\"as\", \"errors\", \"name\", \"message\", \"children\"]);\r\n    const methods = useFormContext();\r\n    const error = get(errors || methods.errors, name);\r\n    if (!error) {\r\n        return null;\r\n    }\r\n    const { message: messageFromRegister, types } = error;\r\n    const props = Object.assign(Object.assign({}, (InnerComponent ? rest : {})), { children: children\r\n            ? children({ message: messageFromRegister || message, messages: types })\r\n            : messageFromRegister || message });\r\n    return InnerComponent ? (isValidElement(InnerComponent) ? (cloneElement(InnerComponent, props)) : (createElement(InnerComponent, props))) : (createElement(Fragment, Object.assign({}, props)));\r\n};\n\nexport { Controller, ErrorMessage, FormContext, useFieldArray, useForm, useFormContext };\n","'use strict';\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction ToObject(val) {\n\tif (val == null) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction ownEnumerableKeys(obj) {\n\tvar keys = Object.getOwnPropertyNames(obj);\n\n\tif (Object.getOwnPropertySymbols) {\n\t\tkeys = keys.concat(Object.getOwnPropertySymbols(obj));\n\t}\n\n\treturn keys.filter(function (key) {\n\t\treturn propIsEnumerable.call(obj, key);\n\t});\n}\n\nmodule.exports = Object.assign || function (target, source) {\n\tvar from;\n\tvar keys;\n\tvar to = ToObject(target);\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = arguments[s];\n\t\tkeys = ownEnumerableKeys(Object(from));\n\n\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\tto[keys[i]] = from[keys[i]];\n\t\t}\n\t}\n\n\treturn to;\n};\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","module.exports = require('./_hide');\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","export var COMMON_MIME_TYPES = new Map([\n    ['avi', 'video/avi'],\n    ['gif', 'image/gif'],\n    ['ico', 'image/x-icon'],\n    ['jpeg', 'image/jpeg'],\n    ['jpg', 'image/jpeg'],\n    ['mkv', 'video/x-matroska'],\n    ['mov', 'video/quicktime'],\n    ['mp4', 'video/mp4'],\n    ['pdf', 'application/pdf'],\n    ['png', 'image/png'],\n    ['zip', 'application/zip'],\n    ['doc', 'application/msword'],\n    ['docx', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document']\n]);\nexport function toFileWithPath(file, path) {\n    var f = withMimeType(file);\n    if (typeof f.path !== 'string') { // on electron, path is already set to the absolute path\n        var webkitRelativePath = file.webkitRelativePath;\n        Object.defineProperty(f, 'path', {\n            value: typeof path === 'string'\n                ? path\n                // If <input webkitdirectory> is set,\n                // the File will have a {webkitRelativePath} property\n                // https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement/webkitdirectory\n                : typeof webkitRelativePath === 'string' && webkitRelativePath.length > 0\n                    ? webkitRelativePath\n                    : file.name,\n            writable: false,\n            configurable: false,\n            enumerable: true\n        });\n    }\n    return f;\n}\nfunction withMimeType(file) {\n    var name = file.name;\n    var hasExtension = name && name.lastIndexOf('.') !== -1;\n    if (hasExtension && !file.type) {\n        var ext = name.split('.')\n            .pop().toLowerCase();\n        var type = COMMON_MIME_TYPES.get(ext);\n        if (type) {\n            Object.defineProperty(file, 'type', {\n                value: type,\n                writable: false,\n                configurable: false,\n                enumerable: true\n            });\n        }\n    }\n    return file;\n}\n//# sourceMappingURL=file.js.map","import { __awaiter, __generator, __read, __spread } from \"tslib\";\nimport { toFileWithPath } from './file';\nvar FILES_TO_IGNORE = [\n    // Thumbnail cache files for macOS and Windows\n    '.DS_Store',\n    'Thumbs.db' // Windows\n];\n/**\n * Convert a DragEvent's DataTrasfer object to a list of File objects\n * NOTE: If some of the items are folders,\n * everything will be flattened and placed in the same list but the paths will be kept as a {path} property.\n * @param evt\n */\nexport function fromEvent(evt) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, isDragEvt(evt) && evt.dataTransfer\n                    ? getDataTransferFiles(evt.dataTransfer, evt.type)\n                    : getInputFiles(evt)];\n        });\n    });\n}\nfunction isDragEvt(value) {\n    return !!value.dataTransfer;\n}\nfunction getInputFiles(evt) {\n    var files = isInput(evt.target)\n        ? evt.target.files\n            ? fromList(evt.target.files)\n            : []\n        : [];\n    return files.map(function (file) { return toFileWithPath(file); });\n}\nfunction isInput(value) {\n    return value !== null;\n}\nfunction getDataTransferFiles(dt, type) {\n    return __awaiter(this, void 0, void 0, function () {\n        var items, files;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!dt.items) return [3 /*break*/, 2];\n                    items = fromList(dt.items)\n                        .filter(function (item) { return item.kind === 'file'; });\n                    // According to https://html.spec.whatwg.org/multipage/dnd.html#dndevents,\n                    // only 'dragstart' and 'drop' has access to the data (source node)\n                    if (type !== 'drop') {\n                        return [2 /*return*/, items];\n                    }\n                    return [4 /*yield*/, Promise.all(items.map(toFilePromises))];\n                case 1:\n                    files = _a.sent();\n                    return [2 /*return*/, noIgnoredFiles(flatten(files))];\n                case 2: return [2 /*return*/, noIgnoredFiles(fromList(dt.files)\n                        .map(function (file) { return toFileWithPath(file); }))];\n            }\n        });\n    });\n}\nfunction noIgnoredFiles(files) {\n    return files.filter(function (file) { return FILES_TO_IGNORE.indexOf(file.name) === -1; });\n}\n// IE11 does not support Array.from()\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from#Browser_compatibility\n// https://developer.mozilla.org/en-US/docs/Web/API/FileList\n// https://developer.mozilla.org/en-US/docs/Web/API/DataTransferItemList\nfunction fromList(items) {\n    var files = [];\n    // tslint:disable: prefer-for-of\n    for (var i = 0; i < items.length; i++) {\n        var file = items[i];\n        files.push(file);\n    }\n    return files;\n}\n// https://developer.mozilla.org/en-US/docs/Web/API/DataTransferItem\nfunction toFilePromises(item) {\n    if (typeof item.webkitGetAsEntry !== 'function') {\n        return fromDataTransferItem(item);\n    }\n    var entry = item.webkitGetAsEntry();\n    // Safari supports dropping an image node from a different window and can be retrieved using\n    // the DataTransferItem.getAsFile() API\n    // NOTE: FileSystemEntry.file() throws if trying to get the file\n    if (entry && entry.isDirectory) {\n        return fromDirEntry(entry);\n    }\n    return fromDataTransferItem(item);\n}\nfunction flatten(items) {\n    return items.reduce(function (acc, files) { return __spread(acc, (Array.isArray(files) ? flatten(files) : [files])); }, []);\n}\nfunction fromDataTransferItem(item) {\n    var file = item.getAsFile();\n    if (!file) {\n        return Promise.reject(item + \" is not a File\");\n    }\n    var fwp = toFileWithPath(file);\n    return Promise.resolve(fwp);\n}\n// https://developer.mozilla.org/en-US/docs/Web/API/FileSystemEntry\nfunction fromEntry(entry) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, entry.isDirectory ? fromDirEntry(entry) : fromFileEntry(entry)];\n        });\n    });\n}\n// https://developer.mozilla.org/en-US/docs/Web/API/FileSystemDirectoryEntry\nfunction fromDirEntry(entry) {\n    var reader = entry.createReader();\n    return new Promise(function (resolve, reject) {\n        var entries = [];\n        function readEntries() {\n            var _this = this;\n            // https://developer.mozilla.org/en-US/docs/Web/API/FileSystemDirectoryEntry/createReader\n            // https://developer.mozilla.org/en-US/docs/Web/API/FileSystemDirectoryReader/readEntries\n            reader.readEntries(function (batch) { return __awaiter(_this, void 0, void 0, function () {\n                var files, err_1, items;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (!!batch.length) return [3 /*break*/, 5];\n                            _a.label = 1;\n                        case 1:\n                            _a.trys.push([1, 3, , 4]);\n                            return [4 /*yield*/, Promise.all(entries)];\n                        case 2:\n                            files = _a.sent();\n                            resolve(files);\n                            return [3 /*break*/, 4];\n                        case 3:\n                            err_1 = _a.sent();\n                            reject(err_1);\n                            return [3 /*break*/, 4];\n                        case 4: return [3 /*break*/, 6];\n                        case 5:\n                            items = Promise.all(batch.map(fromEntry));\n                            entries.push(items);\n                            // Continue reading\n                            readEntries();\n                            _a.label = 6;\n                        case 6: return [2 /*return*/];\n                    }\n                });\n            }); }, function (err) {\n                reject(err);\n            });\n        }\n        readEntries();\n    });\n}\n// https://developer.mozilla.org/en-US/docs/Web/API/FileSystemFileEntry\nfunction fromFileEntry(entry) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, new Promise(function (resolve, reject) {\n                    entry.file(function (file) {\n                        var fwp = toFileWithPath(file, entry.fullPath);\n                        resolve(fwp);\n                    }, function (err) {\n                        reject(err);\n                    });\n                })];\n        });\n    });\n}\n//# sourceMappingURL=file-selector.js.map","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport accepts from 'attr-accept'; // Firefox versions prior to 53 return a bogus MIME type for every file drag, so dragovers with\n// that MIME type will always be accepted\n\nexport function fileAccepted(file, accept) {\n  return file.type === 'application/x-moz-file' || accepts(file, accept);\n}\nexport function fileMatchSize(file, minSize, maxSize) {\n  if (isDefined(file.size)) {\n    if (isDefined(minSize) && isDefined(maxSize)) return file.size >= minSize && file.size <= maxSize;else if (isDefined(minSize)) return file.size >= minSize;else if (isDefined(maxSize)) return file.size <= maxSize;\n  }\n\n  return true;\n}\n\nfunction isDefined(value) {\n  return value !== undefined && value !== null;\n}\n\nexport function allFilesAccepted(_ref) {\n  var files = _ref.files,\n      accept = _ref.accept,\n      minSize = _ref.minSize,\n      maxSize = _ref.maxSize,\n      multiple = _ref.multiple;\n\n  if (!multiple && files.length > 1) {\n    return false;\n  }\n\n  return files.every(function (file) {\n    return fileAccepted(file, accept) && fileMatchSize(file, minSize, maxSize);\n  });\n} // React's synthetic events has event.isPropagationStopped,\n// but to remain compatibility with other libs (Preact) fall back\n// to check event.cancelBubble\n\nexport function isPropagationStopped(event) {\n  if (typeof event.isPropagationStopped === 'function') {\n    return event.isPropagationStopped();\n  } else if (typeof event.cancelBubble !== 'undefined') {\n    return event.cancelBubble;\n  }\n\n  return false;\n}\nexport function isEvtWithFiles(event) {\n  if (!event.dataTransfer) {\n    return !!event.target && !!event.target.files;\n  } // https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer/types\n  // https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API/Recommended_drag_types#file\n\n\n  return Array.prototype.some.call(event.dataTransfer.types, function (type) {\n    return type === 'Files' || type === 'application/x-moz-file';\n  });\n}\nexport function isKindFile(item) {\n  return _typeof(item) === 'object' && item !== null && item.kind === 'file';\n} // allow the entire document to be a drag target\n\nexport function onDocumentDragOver(event) {\n  event.preventDefault();\n}\n\nfunction isIe(userAgent) {\n  return userAgent.indexOf('MSIE') !== -1 || userAgent.indexOf('Trident/') !== -1;\n}\n\nfunction isEdge(userAgent) {\n  return userAgent.indexOf('Edge/') !== -1;\n}\n\nexport function isIeOrEdge() {\n  var userAgent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window.navigator.userAgent;\n  return isIe(userAgent) || isEdge(userAgent);\n}\n/**\n * This is intended to be used to compose event handlers\n * They are executed in order until one of them calls `event.isPropagationStopped()`.\n * Note that the check is done on the first invoke too,\n * meaning that if propagation was stopped before invoking the fns,\n * no handlers will be executed.\n *\n * @param {Function} fns the event hanlder functions\n * @return {Function} the event handler to add to an element\n */\n\nexport function composeEventHandlers() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  return function (event) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n\n    return fns.some(function (fn) {\n      if (!isPropagationStopped(event) && fn) {\n        fn.apply(void 0, [event].concat(args));\n      }\n\n      return isPropagationStopped(event);\n    });\n  };\n}","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* eslint prefer-template: 0 */\nimport React, { forwardRef, Fragment, useCallback, useEffect, useImperativeHandle, useMemo, useReducer, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { fromEvent } from 'file-selector';\nimport { allFilesAccepted, composeEventHandlers, fileAccepted, fileMatchSize, isEvtWithFiles, isIeOrEdge, isPropagationStopped, onDocumentDragOver } from './utils/index';\n/**\n * Convenience wrapper component for the `useDropzone` hook\n *\n * ```jsx\n * <Dropzone>\n *   {({getRootProps, getInputProps}) => (\n *     <div {...getRootProps()}>\n *       <input {...getInputProps()} />\n *       <p>Drag 'n' drop some files here, or click to select files</p>\n *     </div>\n *   )}\n * </Dropzone>\n * ```\n */\n\nvar Dropzone = forwardRef(function (_ref, ref) {\n  var children = _ref.children,\n      params = _objectWithoutProperties(_ref, [\"children\"]);\n\n  var _useDropzone = useDropzone(params),\n      open = _useDropzone.open,\n      props = _objectWithoutProperties(_useDropzone, [\"open\"]);\n\n  useImperativeHandle(ref, function () {\n    return {\n      open: open\n    };\n  }, [open]); // TODO: Figure out why react-styleguidist cannot create docs if we don't return a jsx element\n\n  return React.createElement(Fragment, null, children(_objectSpread({}, props, {\n    open: open\n  })));\n});\nDropzone.displayName = 'Dropzone';\nDropzone.propTypes = {\n  /**\n   * Render function that exposes the dropzone state and prop getter fns\n   *\n   * @param {object} params\n   * @param {Function} params.getRootProps Returns the props you should apply to the root drop container you render\n   * @param {Function} params.getInputProps Returns the props you should apply to hidden file input you render\n   * @param {Function} params.open Open the native file selection dialog\n   * @param {boolean} params.isFocused Dropzone area is in focus\n   * @param {boolean} params.isFileDialogActive File dialog is opened\n   * @param {boolean} params.isDragActive Active drag is in progress\n   * @param {boolean} params.isDragAccept Dragged files are accepted\n   * @param {boolean} params.isDragReject Some dragged files are rejected\n   * @param {File[]} params.draggedFiles Files in active drag\n   * @param {File[]} params.acceptedFiles Accepted files\n   * @param {File[]} params.rejectedFiles Rejected files\n   */\n  children: PropTypes.func,\n\n  /**\n   * Set accepted file types.\n   * See https://github.com/okonet/attr-accept for more information.\n   * Keep in mind that mime type determination is not reliable across platforms. CSV files,\n   * for example, are reported as text/plain under macOS but as application/vnd.ms-excel under\n   * Windows. In some cases there might not be a mime type set at all.\n   * See: https://github.com/react-dropzone/react-dropzone/issues/276\n   */\n  accept: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n\n  /**\n   * Allow drag 'n' drop (or selection from the file dialog) of multiple files\n   */\n  multiple: PropTypes.bool,\n\n  /**\n   * If false, allow dropped items to take over the current browser window\n   */\n  preventDropOnDocument: PropTypes.bool,\n\n  /**\n   * If true, disables click to open the native file selection dialog\n   */\n  noClick: PropTypes.bool,\n\n  /**\n   * If true, disables SPACE/ENTER to open the native file selection dialog.\n   * Note that it also stops tracking the focus state.\n   */\n  noKeyboard: PropTypes.bool,\n\n  /**\n   * If true, disables drag 'n' drop\n   */\n  noDrag: PropTypes.bool,\n\n  /**\n   * If true, stops drag event propagation to parents\n   */\n  noDragEventsBubbling: PropTypes.bool,\n\n  /**\n   * Minimum file size (in bytes)\n   */\n  minSize: PropTypes.number,\n\n  /**\n   * Maximum file size (in bytes)\n   */\n  maxSize: PropTypes.number,\n\n  /**\n   * Enable/disable the dropzone\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Use this to provide a custom file aggregator\n   *\n   * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n   */\n  getFilesFromEvent: PropTypes.func,\n\n  /**\n   * Cb for when closing the file dialog with no selection\n   */\n  onFileDialogCancel: PropTypes.func,\n\n  /**\n   * Cb for when the `dragenter` event occurs.\n   *\n   * @param {DragEvent} event\n   */\n  onDragEnter: PropTypes.func,\n\n  /**\n   * Cb for when the `dragleave` event occurs\n   *\n   * @param {DragEvent} event\n   */\n  onDragLeave: PropTypes.func,\n\n  /**\n   * Cb for when the `dragover` event occurs\n   *\n   * @param {DragEvent} event\n   */\n  onDragOver: PropTypes.func,\n\n  /**\n   * Cb for when the `drop` event occurs.\n   * Note that this callback is invoked after the `getFilesFromEvent` callback is done.\n   *\n   * Files are accepted or rejected based on the `accept`, `multiple`, `minSize` and `maxSize` props.\n   * `accept` must be a valid [MIME type](http://www.iana.org/assignments/media-types/media-types.xhtml) according to [input element specification](https://www.w3.org/wiki/HTML/Elements/input/file) or a valid file extension.\n   * If `multiple` is set to false and additional files are droppped,\n   * all files besides the first will be rejected.\n   * Any file which does not have a size in the [`minSize`, `maxSize`] range, will be rejected as well.\n   *\n   * Note that the `onDrop` callback will always be invoked regardless if the dropped files were accepted or rejected.\n   * If you'd like to react to a specific scenario, use the `onDropAccepted`/`onDropRejected` props.\n   *\n   * `onDrop` will provide you with an array of [File](https://developer.mozilla.org/en-US/docs/Web/API/File) objects which you can then process and send to a server.\n   * For example, with [SuperAgent](https://github.com/visionmedia/superagent) as a http/ajax library:\n   *\n   * ```js\n   * function onDrop(acceptedFiles) {\n   *   const req = request.post('/upload')\n   *   acceptedFiles.forEach(file => {\n   *     req.attach(file.name, file)\n   *   })\n   *   req.end(callback)\n   * }\n   * ```\n   *\n   * @param {File[]} acceptedFiles\n   * @param {File[]} rejectedFiles\n   * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n   */\n  onDrop: PropTypes.func,\n\n  /**\n   * Cb for when the `drop` event occurs.\n   * Note that if no files are accepted, this callback is not invoked.\n   *\n   * @param {File[]} files\n   * @param {(DragEvent|Event)} event\n   */\n  onDropAccepted: PropTypes.func,\n\n  /**\n   * Cb for when the `drop` event occurs.\n   * Note that if no files are rejected, this callback is not invoked.\n   *\n   * @param {object[]} files\n   * @param {(DragEvent|Event)} event\n   */\n  onDropRejected: PropTypes.func\n};\nexport default Dropzone;\n/**\n * A function that is invoked for the `dragenter`,\n * `dragover` and `dragleave` events.\n * It is not invoked if the items are not files (such as link, text, etc.).\n *\n * @callback dragCb\n * @param {DragEvent} event\n */\n\n/**\n * A function that is invoked for the `drop` or input change event.\n * It is not invoked if the items are not files (such as link, text, etc.).\n *\n * @callback dropCb\n * @param {File[]} acceptedFiles List of accepted files\n * @param {File[]} rejectedFiles List of rejected files\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n */\n\n/**\n * A function that is invoked for the `drop` or input change event.\n * It is not invoked if the items are files (such as link, text, etc.).\n *\n * @callback dropAcceptedCb\n * @param {File[]} files List of accepted files that meet the given criteria\n * (`accept`, `multiple`, `minSize`, `maxSize`)\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n */\n\n/**\n * A function that is invoked for the `drop` or input change event.\n *\n * @callback dropRejectedCb\n * @param {File[]} files List of rejected files that do not meet the given criteria\n * (`accept`, `multiple`, `minSize`, `maxSize`)\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n */\n\n/**\n * A function that is used aggregate files,\n * in a asynchronous fashion, from drag or input change events.\n *\n * @callback getFilesFromEvent\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n * @returns {(File[]|Promise<File[]>)}\n */\n\n/**\n * An object with the current dropzone state and some helper functions.\n *\n * @typedef {object} DropzoneState\n * @property {Function} getRootProps Returns the props you should apply to the root drop container you render\n * @property {Function} getInputProps Returns the props you should apply to hidden file input you render\n * @property {Function} open Open the native file selection dialog\n * @property {boolean} isFocused Dropzone area is in focus\n * @property {boolean} isFileDialogActive File dialog is opened\n * @property {boolean} isDragActive Active drag is in progress\n * @property {boolean} isDragAccept Dragged files are accepted\n * @property {boolean} isDragReject Some dragged files are rejected\n * @property {File[]} draggedFiles Files in active drag\n * @property {File[]} acceptedFiles Accepted files\n * @property {File[]} rejectedFiles Rejected files\n */\n\nvar initialState = {\n  isFocused: false,\n  isFileDialogActive: false,\n  isDragActive: false,\n  isDragAccept: false,\n  isDragReject: false,\n  draggedFiles: [],\n  acceptedFiles: [],\n  rejectedFiles: []\n};\n/**\n * A React hook that creates a drag 'n' drop area.\n *\n * ```jsx\n * function MyDropzone(props) {\n *   const {getRootProps, getInputProps} = useDropzone({\n *     onDrop: acceptedFiles => {\n *       // do something with the File objects, e.g. upload to some server\n *     }\n *   });\n *   return (\n *     <div {...getRootProps()}>\n *       <input {...getInputProps()} />\n *       <p>Drag and drop some files here, or click to select files</p>\n *     </div>\n *   )\n * }\n * ```\n *\n * @function useDropzone\n *\n * @param {object} props\n * @param {string|string[]} [props.accept] Set accepted file types.\n * See https://github.com/okonet/attr-accept for more information.\n * Keep in mind that mime type determination is not reliable across platforms. CSV files,\n * for example, are reported as text/plain under macOS but as application/vnd.ms-excel under\n * Windows. In some cases there might not be a mime type set at all.\n * See: https://github.com/react-dropzone/react-dropzone/issues/276\n * @param {boolean} [props.multiple=true] Allow drag 'n' drop (or selection from the file dialog) of multiple files\n * @param {boolean} [props.preventDropOnDocument=true] If false, allow dropped items to take over the current browser window\n * @param {boolean} [props.noClick=false] If true, disables click to open the native file selection dialog\n * @param {boolean} [props.noKeyboard=false] If true, disables SPACE/ENTER to open the native file selection dialog.\n * Note that it also stops tracking the focus state.\n * @param {boolean} [props.noDrag=false] If true, disables drag 'n' drop\n * @param {boolean} [props.noDragEventsBubbling=false] If true, stops drag event propagation to parents\n * @param {number} [props.minSize=0] Minimum file size (in bytes)\n * @param {number} [props.maxSize=Infinity] Maximum file size (in bytes)\n * @param {boolean} [props.disabled=false] Enable/disable the dropzone\n * @param {getFilesFromEvent} [props.getFilesFromEvent] Use this to provide a custom file aggregator\n * @param {Function} [props.onFileDialogCancel] Cb for when closing the file dialog with no selection\n * @param {dragCb} [props.onDragEnter] Cb for when the `dragenter` event occurs.\n * @param {dragCb} [props.onDragLeave] Cb for when the `dragleave` event occurs\n * @param {dragCb} [props.onDragOver] Cb for when the `dragover` event occurs\n * @param {dropCb} [props.onDrop] Cb for when the `drop` event occurs.\n * Note that this callback is invoked after the `getFilesFromEvent` callback is done.\n *\n * Files are accepted or rejected based on the `accept`, `multiple`, `minSize` and `maxSize` props.\n * `accept` must be a valid [MIME type](http://www.iana.org/assignments/media-types/media-types.xhtml) according to [input element specification](https://www.w3.org/wiki/HTML/Elements/input/file) or a valid file extension.\n * If `multiple` is set to false and additional files are droppped,\n * all files besides the first will be rejected.\n * Any file which does not have a size in the [`minSize`, `maxSize`] range, will be rejected as well.\n *\n * Note that the `onDrop` callback will always be invoked regardless if the dropped files were accepted or rejected.\n * If you'd like to react to a specific scenario, use the `onDropAccepted`/`onDropRejected` props.\n *\n * `onDrop` will provide you with an array of [File](https://developer.mozilla.org/en-US/docs/Web/API/File) objects which you can then process and send to a server.\n * For example, with [SuperAgent](https://github.com/visionmedia/superagent) as a http/ajax library:\n *\n * ```js\n * function onDrop(acceptedFiles) {\n *   const req = request.post('/upload')\n *   acceptedFiles.forEach(file => {\n *     req.attach(file.name, file)\n *   })\n *   req.end(callback)\n * }\n * ```\n * @param {dropAcceptedCb} [props.onDropAccepted]\n * @param {dropRejectedCb} [props.onDropRejected]\n *\n * @returns {DropzoneState}\n */\n\nexport function useDropzone() {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      accept = _ref2.accept,\n      _ref2$disabled = _ref2.disabled,\n      disabled = _ref2$disabled === void 0 ? false : _ref2$disabled,\n      _ref2$getFilesFromEve = _ref2.getFilesFromEvent,\n      getFilesFromEvent = _ref2$getFilesFromEve === void 0 ? fromEvent : _ref2$getFilesFromEve,\n      _ref2$maxSize = _ref2.maxSize,\n      maxSize = _ref2$maxSize === void 0 ? Infinity : _ref2$maxSize,\n      _ref2$minSize = _ref2.minSize,\n      minSize = _ref2$minSize === void 0 ? 0 : _ref2$minSize,\n      _ref2$multiple = _ref2.multiple,\n      multiple = _ref2$multiple === void 0 ? true : _ref2$multiple,\n      onDragEnter = _ref2.onDragEnter,\n      onDragLeave = _ref2.onDragLeave,\n      onDragOver = _ref2.onDragOver,\n      onDrop = _ref2.onDrop,\n      onDropAccepted = _ref2.onDropAccepted,\n      onDropRejected = _ref2.onDropRejected,\n      onFileDialogCancel = _ref2.onFileDialogCancel,\n      _ref2$preventDropOnDo = _ref2.preventDropOnDocument,\n      preventDropOnDocument = _ref2$preventDropOnDo === void 0 ? true : _ref2$preventDropOnDo,\n      _ref2$noClick = _ref2.noClick,\n      noClick = _ref2$noClick === void 0 ? false : _ref2$noClick,\n      _ref2$noKeyboard = _ref2.noKeyboard,\n      noKeyboard = _ref2$noKeyboard === void 0 ? false : _ref2$noKeyboard,\n      _ref2$noDrag = _ref2.noDrag,\n      noDrag = _ref2$noDrag === void 0 ? false : _ref2$noDrag,\n      _ref2$noDragEventsBub = _ref2.noDragEventsBubbling,\n      noDragEventsBubbling = _ref2$noDragEventsBub === void 0 ? false : _ref2$noDragEventsBub;\n\n  var rootRef = useRef(null);\n  var inputRef = useRef(null);\n\n  var _useReducer = useReducer(reducer, initialState),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  var isFocused = state.isFocused,\n      isFileDialogActive = state.isFileDialogActive,\n      draggedFiles = state.draggedFiles; // Fn for opening the file dialog programmatically\n\n  var openFileDialog = useCallback(function () {\n    if (inputRef.current) {\n      dispatch({\n        type: 'openDialog'\n      });\n      inputRef.current.value = null;\n      inputRef.current.click();\n    }\n  }, [dispatch]); // Update file dialog active state when the window is focused on\n\n  var onWindowFocus = function onWindowFocus() {\n    // Execute the timeout only if the file dialog is opened in the browser\n    if (isFileDialogActive) {\n      setTimeout(function () {\n        if (inputRef.current) {\n          var files = inputRef.current.files;\n\n          if (!files.length) {\n            dispatch({\n              type: 'closeDialog'\n            });\n\n            if (typeof onFileDialogCancel === 'function') {\n              onFileDialogCancel();\n            }\n          }\n        }\n      }, 300);\n    }\n  };\n\n  useEffect(function () {\n    window.addEventListener('focus', onWindowFocus, false);\n    return function () {\n      window.removeEventListener('focus', onWindowFocus, false);\n    };\n  }, [inputRef, isFileDialogActive, onFileDialogCancel]); // Cb to open the file dialog when SPACE/ENTER occurs on the dropzone\n\n  var onKeyDownCb = useCallback(function (event) {\n    // Ignore keyboard events bubbling up the DOM tree\n    if (!rootRef.current || !rootRef.current.isEqualNode(event.target)) {\n      return;\n    }\n\n    if (event.keyCode === 32 || event.keyCode === 13) {\n      event.preventDefault();\n      openFileDialog();\n    }\n  }, [rootRef, inputRef]); // Update focus state for the dropzone\n\n  var onFocusCb = useCallback(function () {\n    dispatch({\n      type: 'focus'\n    });\n  }, []);\n  var onBlurCb = useCallback(function () {\n    dispatch({\n      type: 'blur'\n    });\n  }, []); // Cb to open the file dialog when click occurs on the dropzone\n\n  var onClickCb = useCallback(function () {\n    if (noClick) {\n      return;\n    } // In IE11/Edge the file-browser dialog is blocking, therefore, use setTimeout()\n    // to ensure React can handle state changes\n    // See: https://github.com/react-dropzone/react-dropzone/issues/450\n\n\n    if (isIeOrEdge()) {\n      setTimeout(openFileDialog, 0);\n    } else {\n      openFileDialog();\n    }\n  }, [inputRef, noClick]);\n  var dragTargetsRef = useRef([]);\n\n  var onDocumentDrop = function onDocumentDrop(event) {\n    if (rootRef.current && rootRef.current.contains(event.target)) {\n      // If we intercepted an event for our instance, let it propagate down to the instance's onDrop handler\n      return;\n    }\n\n    event.preventDefault();\n    dragTargetsRef.current = [];\n  };\n\n  useEffect(function () {\n    if (preventDropOnDocument) {\n      document.addEventListener('dragover', onDocumentDragOver, false);\n      document.addEventListener('drop', onDocumentDrop, false);\n    }\n\n    return function () {\n      if (preventDropOnDocument) {\n        document.removeEventListener('dragover', onDocumentDragOver);\n        document.removeEventListener('drop', onDocumentDrop);\n      }\n    };\n  }, [rootRef, preventDropOnDocument]);\n  var onDragEnterCb = useCallback(function (event) {\n    event.preventDefault(); // Persist here because we need the event later after getFilesFromEvent() is done\n\n    event.persist();\n    stopPropagation(event); // Count the dropzone and any children that are entered.\n\n    if (dragTargetsRef.current.indexOf(event.target) === -1) {\n      dragTargetsRef.current = [].concat(_toConsumableArray(dragTargetsRef.current), [event.target]);\n    }\n\n    if (isEvtWithFiles(event)) {\n      Promise.resolve(getFilesFromEvent(event)).then(function (draggedFiles) {\n        if (isPropagationStopped(event) && !noDragEventsBubbling) {\n          return;\n        }\n\n        dispatch({\n          draggedFiles: draggedFiles,\n          isDragActive: true,\n          type: 'setDraggedFiles'\n        });\n\n        if (onDragEnter) {\n          onDragEnter(event);\n        }\n      });\n    }\n  }, [getFilesFromEvent, onDragEnter, noDragEventsBubbling]);\n  var onDragOverCb = useCallback(function (event) {\n    event.preventDefault();\n    event.persist();\n    stopPropagation(event);\n\n    if (event.dataTransfer) {\n      try {\n        event.dataTransfer.dropEffect = 'copy';\n      } catch (_unused) {}\n      /* eslint-disable-line no-empty */\n\n    }\n\n    if (isEvtWithFiles(event) && onDragOver) {\n      onDragOver(event);\n    }\n\n    return false;\n  }, [onDragOver, noDragEventsBubbling]);\n  var onDragLeaveCb = useCallback(function (event) {\n    event.preventDefault();\n    event.persist();\n    stopPropagation(event); // Only deactivate once the dropzone and all children have been left\n\n    var targets = dragTargetsRef.current.filter(function (target) {\n      return target !== event.target && rootRef.current && rootRef.current.contains(target);\n    });\n    dragTargetsRef.current = targets;\n\n    if (targets.length > 0) {\n      return;\n    }\n\n    dispatch({\n      isDragActive: false,\n      type: 'setDraggedFiles',\n      draggedFiles: []\n    });\n\n    if (isEvtWithFiles(event) && onDragLeave) {\n      onDragLeave(event);\n    }\n  }, [rootRef, onDragLeave, noDragEventsBubbling]);\n  var onDropCb = useCallback(function (event) {\n    event.preventDefault(); // Persist here because we need the event later after getFilesFromEvent() is done\n\n    event.persist();\n    stopPropagation(event);\n    dragTargetsRef.current = [];\n\n    if (isEvtWithFiles(event)) {\n      Promise.resolve(getFilesFromEvent(event)).then(function (files) {\n        if (isPropagationStopped(event) && !noDragEventsBubbling) {\n          return;\n        }\n\n        var acceptedFiles = [];\n        var rejectedFiles = [];\n        files.forEach(function (file) {\n          if (fileAccepted(file, accept) && fileMatchSize(file, minSize, maxSize)) {\n            acceptedFiles.push(file);\n          } else {\n            rejectedFiles.push(file);\n          }\n        });\n\n        if (!multiple && acceptedFiles.length > 1) {\n          rejectedFiles.push.apply(rejectedFiles, _toConsumableArray(acceptedFiles.splice(0))); // Reject everything and empty accepted files\n        }\n\n        dispatch({\n          acceptedFiles: acceptedFiles,\n          rejectedFiles: rejectedFiles,\n          type: 'setFiles'\n        });\n\n        if (onDrop) {\n          onDrop(acceptedFiles, rejectedFiles, event);\n        }\n\n        if (rejectedFiles.length > 0 && onDropRejected) {\n          onDropRejected(rejectedFiles, event);\n        }\n\n        if (acceptedFiles.length > 0 && onDropAccepted) {\n          onDropAccepted(acceptedFiles, event);\n        }\n      });\n    }\n\n    dispatch({\n      type: 'reset'\n    });\n  }, [multiple, accept, minSize, maxSize, getFilesFromEvent, onDrop, onDropAccepted, onDropRejected, noDragEventsBubbling]);\n\n  var composeHandler = function composeHandler(fn) {\n    return disabled ? null : fn;\n  };\n\n  var composeKeyboardHandler = function composeKeyboardHandler(fn) {\n    return noKeyboard ? null : composeHandler(fn);\n  };\n\n  var composeDragHandler = function composeDragHandler(fn) {\n    return noDrag ? null : composeHandler(fn);\n  };\n\n  var stopPropagation = function stopPropagation(event) {\n    if (noDragEventsBubbling) {\n      event.stopPropagation();\n    }\n  };\n\n  var getRootProps = useMemo(function () {\n    return function () {\n      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref3$refKey = _ref3.refKey,\n          refKey = _ref3$refKey === void 0 ? 'ref' : _ref3$refKey,\n          onKeyDown = _ref3.onKeyDown,\n          onFocus = _ref3.onFocus,\n          onBlur = _ref3.onBlur,\n          onClick = _ref3.onClick,\n          onDragEnter = _ref3.onDragEnter,\n          onDragOver = _ref3.onDragOver,\n          onDragLeave = _ref3.onDragLeave,\n          onDrop = _ref3.onDrop,\n          rest = _objectWithoutProperties(_ref3, [\"refKey\", \"onKeyDown\", \"onFocus\", \"onBlur\", \"onClick\", \"onDragEnter\", \"onDragOver\", \"onDragLeave\", \"onDrop\"]);\n\n      return _objectSpread(_defineProperty({\n        onKeyDown: composeKeyboardHandler(composeEventHandlers(onKeyDown, onKeyDownCb)),\n        onFocus: composeKeyboardHandler(composeEventHandlers(onFocus, onFocusCb)),\n        onBlur: composeKeyboardHandler(composeEventHandlers(onBlur, onBlurCb)),\n        onClick: composeHandler(composeEventHandlers(onClick, onClickCb)),\n        onDragEnter: composeDragHandler(composeEventHandlers(onDragEnter, onDragEnterCb)),\n        onDragOver: composeDragHandler(composeEventHandlers(onDragOver, onDragOverCb)),\n        onDragLeave: composeDragHandler(composeEventHandlers(onDragLeave, onDragLeaveCb)),\n        onDrop: composeDragHandler(composeEventHandlers(onDrop, onDropCb))\n      }, refKey, rootRef), !disabled && !noKeyboard ? {\n        tabIndex: 0\n      } : {}, {}, rest);\n    };\n  }, [rootRef, onKeyDownCb, onFocusCb, onBlurCb, onClickCb, onDragEnterCb, onDragOverCb, onDragLeaveCb, onDropCb, noKeyboard, noDrag, disabled]);\n  var onInputElementClick = useCallback(function (event) {\n    event.stopPropagation();\n  }, []);\n  var getInputProps = useMemo(function () {\n    return function () {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref4$refKey = _ref4.refKey,\n          refKey = _ref4$refKey === void 0 ? 'ref' : _ref4$refKey,\n          onChange = _ref4.onChange,\n          onClick = _ref4.onClick,\n          rest = _objectWithoutProperties(_ref4, [\"refKey\", \"onChange\", \"onClick\"]);\n\n      var inputProps = _defineProperty({\n        accept: accept,\n        multiple: multiple,\n        type: 'file',\n        style: {\n          display: 'none'\n        },\n        onChange: composeHandler(composeEventHandlers(onChange, onDropCb)),\n        onClick: composeHandler(composeEventHandlers(onClick, onInputElementClick)),\n        autoComplete: 'off',\n        tabIndex: -1\n      }, refKey, inputRef);\n\n      return _objectSpread({}, inputProps, {}, rest);\n    };\n  }, [inputRef, accept, multiple, onDropCb, disabled]);\n  var fileCount = draggedFiles.length;\n  var isDragAccept = fileCount > 0 && allFilesAccepted({\n    files: draggedFiles,\n    accept: accept,\n    minSize: minSize,\n    maxSize: maxSize,\n    multiple: multiple\n  });\n  var isDragReject = fileCount > 0 && !isDragAccept;\n  return _objectSpread({}, state, {\n    isDragAccept: isDragAccept,\n    isDragReject: isDragReject,\n    isFocused: isFocused && !disabled,\n    getRootProps: getRootProps,\n    getInputProps: getInputProps,\n    rootRef: rootRef,\n    inputRef: inputRef,\n    open: composeHandler(openFileDialog)\n  });\n}\n\nfunction reducer(state, action) {\n  /* istanbul ignore next */\n  switch (action.type) {\n    case 'focus':\n      return _objectSpread({}, state, {\n        isFocused: true\n      });\n\n    case 'blur':\n      return _objectSpread({}, state, {\n        isFocused: false\n      });\n\n    case 'openDialog':\n      return _objectSpread({}, state, {\n        isFileDialogActive: true\n      });\n\n    case 'closeDialog':\n      return _objectSpread({}, state, {\n        isFileDialogActive: false\n      });\n\n    case 'setDraggedFiles':\n      /* eslint no-case-declarations: 0 */\n      var isDragActive = action.isDragActive,\n          draggedFiles = action.draggedFiles;\n      return _objectSpread({}, state, {\n        draggedFiles: draggedFiles,\n        isDragActive: isDragActive\n      });\n\n    case 'setFiles':\n      return _objectSpread({}, state, {\n        acceptedFiles: action.acceptedFiles,\n        rejectedFiles: action.rejectedFiles\n      });\n\n    case 'reset':\n      return _objectSpread({}, state, {\n        isFileDialogActive: false,\n        isDragActive: false,\n        draggedFiles: [],\n        acceptedFiles: [],\n        rejectedFiles: []\n      });\n\n    default:\n      return state;\n  }\n}","module.exports = require(\"regenerator-runtime\");\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n'use strict';\n\nvar _assign = require('object-assign');\n\n// -- Inlined from fbjs --\n\nvar emptyObject = {};\n\nif (process.env.NODE_ENV !== 'production') {\n  Object.freeze(emptyObject);\n}\n\nvar validateFormat = function validateFormat(format) {};\n\nif (process.env.NODE_ENV !== 'production') {\n  validateFormat = function validateFormat(format) {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  };\n}\n\nfunction _invariant(condition, format, a, b, c, d, e, f) {\n  validateFormat(format);\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\nvar warning = function(){};\n\nif (process.env.NODE_ENV !== 'production') {\n  var printWarning = function printWarning(format) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    var argIndex = 0;\n    var message = 'Warning: ' + format.replace(/%s/g, function () {\n      return args[argIndex++];\n    });\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n\n  warning = function warning(condition, format) {\n    if (format === undefined) {\n      throw new Error('`warning(condition, format, ...args)` requires a warning ' + 'message argument');\n    }\n\n    if (format.indexOf('Failed Composite propType: ') === 0) {\n      return; // Ignore CompositeComponent proptype check.\n    }\n\n    if (!condition) {\n      for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n        args[_key2 - 2] = arguments[_key2];\n      }\n\n      printWarning.apply(undefined, [format].concat(args));\n    }\n  };\n}\n\n// /-- Inlined from fbjs --\n\nvar MIXINS_KEY = 'mixins';\n\n// Helper function to allow the creation of anonymous functions which do not\n// have .name set to the name of the variable being assigned to.\nfunction identity(fn) {\n  return fn;\n}\n\nvar ReactPropTypeLocationNames;\nif (process.env.NODE_ENV !== 'production') {\n  ReactPropTypeLocationNames = {\n    prop: 'prop',\n    context: 'context',\n    childContext: 'child context'\n  };\n} else {\n  ReactPropTypeLocationNames = {};\n}\n\nfunction factory(ReactComponent, isValidElement, ReactNoopUpdateQueue) {\n  /**\n   * Policies that describe methods in `ReactClassInterface`.\n   */\n\n  var injectedMixins = [];\n\n  /**\n   * Composite components are higher-level components that compose other composite\n   * or host components.\n   *\n   * To create a new type of `ReactClass`, pass a specification of\n   * your new class to `React.createClass`. The only requirement of your class\n   * specification is that you implement a `render` method.\n   *\n   *   var MyComponent = React.createClass({\n   *     render: function() {\n   *       return <div>Hello World</div>;\n   *     }\n   *   });\n   *\n   * The class specification supports a specific protocol of methods that have\n   * special meaning (e.g. `render`). See `ReactClassInterface` for\n   * more the comprehensive protocol. Any other properties and methods in the\n   * class specification will be available on the prototype.\n   *\n   * @interface ReactClassInterface\n   * @internal\n   */\n  var ReactClassInterface = {\n    /**\n     * An array of Mixin objects to include when defining your component.\n     *\n     * @type {array}\n     * @optional\n     */\n    mixins: 'DEFINE_MANY',\n\n    /**\n     * An object containing properties and methods that should be defined on\n     * the component's constructor instead of its prototype (static methods).\n     *\n     * @type {object}\n     * @optional\n     */\n    statics: 'DEFINE_MANY',\n\n    /**\n     * Definition of prop types for this component.\n     *\n     * @type {object}\n     * @optional\n     */\n    propTypes: 'DEFINE_MANY',\n\n    /**\n     * Definition of context types for this component.\n     *\n     * @type {object}\n     * @optional\n     */\n    contextTypes: 'DEFINE_MANY',\n\n    /**\n     * Definition of context types this component sets for its children.\n     *\n     * @type {object}\n     * @optional\n     */\n    childContextTypes: 'DEFINE_MANY',\n\n    // ==== Definition methods ====\n\n    /**\n     * Invoked when the component is mounted. Values in the mapping will be set on\n     * `this.props` if that prop is not specified (i.e. using an `in` check).\n     *\n     * This method is invoked before `getInitialState` and therefore cannot rely\n     * on `this.state` or use `this.setState`.\n     *\n     * @return {object}\n     * @optional\n     */\n    getDefaultProps: 'DEFINE_MANY_MERGED',\n\n    /**\n     * Invoked once before the component is mounted. The return value will be used\n     * as the initial value of `this.state`.\n     *\n     *   getInitialState: function() {\n     *     return {\n     *       isOn: false,\n     *       fooBaz: new BazFoo()\n     *     }\n     *   }\n     *\n     * @return {object}\n     * @optional\n     */\n    getInitialState: 'DEFINE_MANY_MERGED',\n\n    /**\n     * @return {object}\n     * @optional\n     */\n    getChildContext: 'DEFINE_MANY_MERGED',\n\n    /**\n     * Uses props from `this.props` and state from `this.state` to render the\n     * structure of the component.\n     *\n     * No guarantees are made about when or how often this method is invoked, so\n     * it must not have side effects.\n     *\n     *   render: function() {\n     *     var name = this.props.name;\n     *     return <div>Hello, {name}!</div>;\n     *   }\n     *\n     * @return {ReactComponent}\n     * @required\n     */\n    render: 'DEFINE_ONCE',\n\n    // ==== Delegate methods ====\n\n    /**\n     * Invoked when the component is initially created and about to be mounted.\n     * This may have side effects, but any external subscriptions or data created\n     * by this method must be cleaned up in `componentWillUnmount`.\n     *\n     * @optional\n     */\n    componentWillMount: 'DEFINE_MANY',\n\n    /**\n     * Invoked when the component has been mounted and has a DOM representation.\n     * However, there is no guarantee that the DOM node is in the document.\n     *\n     * Use this as an opportunity to operate on the DOM when the component has\n     * been mounted (initialized and rendered) for the first time.\n     *\n     * @param {DOMElement} rootNode DOM element representing the component.\n     * @optional\n     */\n    componentDidMount: 'DEFINE_MANY',\n\n    /**\n     * Invoked before the component receives new props.\n     *\n     * Use this as an opportunity to react to a prop transition by updating the\n     * state using `this.setState`. Current props are accessed via `this.props`.\n     *\n     *   componentWillReceiveProps: function(nextProps, nextContext) {\n     *     this.setState({\n     *       likesIncreasing: nextProps.likeCount > this.props.likeCount\n     *     });\n     *   }\n     *\n     * NOTE: There is no equivalent `componentWillReceiveState`. An incoming prop\n     * transition may cause a state change, but the opposite is not true. If you\n     * need it, you are probably looking for `componentWillUpdate`.\n     *\n     * @param {object} nextProps\n     * @optional\n     */\n    componentWillReceiveProps: 'DEFINE_MANY',\n\n    /**\n     * Invoked while deciding if the component should be updated as a result of\n     * receiving new props, state and/or context.\n     *\n     * Use this as an opportunity to `return false` when you're certain that the\n     * transition to the new props/state/context will not require a component\n     * update.\n     *\n     *   shouldComponentUpdate: function(nextProps, nextState, nextContext) {\n     *     return !equal(nextProps, this.props) ||\n     *       !equal(nextState, this.state) ||\n     *       !equal(nextContext, this.context);\n     *   }\n     *\n     * @param {object} nextProps\n     * @param {?object} nextState\n     * @param {?object} nextContext\n     * @return {boolean} True if the component should update.\n     * @optional\n     */\n    shouldComponentUpdate: 'DEFINE_ONCE',\n\n    /**\n     * Invoked when the component is about to update due to a transition from\n     * `this.props`, `this.state` and `this.context` to `nextProps`, `nextState`\n     * and `nextContext`.\n     *\n     * Use this as an opportunity to perform preparation before an update occurs.\n     *\n     * NOTE: You **cannot** use `this.setState()` in this method.\n     *\n     * @param {object} nextProps\n     * @param {?object} nextState\n     * @param {?object} nextContext\n     * @param {ReactReconcileTransaction} transaction\n     * @optional\n     */\n    componentWillUpdate: 'DEFINE_MANY',\n\n    /**\n     * Invoked when the component's DOM representation has been updated.\n     *\n     * Use this as an opportunity to operate on the DOM when the component has\n     * been updated.\n     *\n     * @param {object} prevProps\n     * @param {?object} prevState\n     * @param {?object} prevContext\n     * @param {DOMElement} rootNode DOM element representing the component.\n     * @optional\n     */\n    componentDidUpdate: 'DEFINE_MANY',\n\n    /**\n     * Invoked when the component is about to be removed from its parent and have\n     * its DOM representation destroyed.\n     *\n     * Use this as an opportunity to deallocate any external resources.\n     *\n     * NOTE: There is no `componentDidUnmount` since your component will have been\n     * destroyed by that point.\n     *\n     * @optional\n     */\n    componentWillUnmount: 'DEFINE_MANY',\n\n    /**\n     * Replacement for (deprecated) `componentWillMount`.\n     *\n     * @optional\n     */\n    UNSAFE_componentWillMount: 'DEFINE_MANY',\n\n    /**\n     * Replacement for (deprecated) `componentWillReceiveProps`.\n     *\n     * @optional\n     */\n    UNSAFE_componentWillReceiveProps: 'DEFINE_MANY',\n\n    /**\n     * Replacement for (deprecated) `componentWillUpdate`.\n     *\n     * @optional\n     */\n    UNSAFE_componentWillUpdate: 'DEFINE_MANY',\n\n    // ==== Advanced methods ====\n\n    /**\n     * Updates the component's currently mounted DOM representation.\n     *\n     * By default, this implements React's rendering and reconciliation algorithm.\n     * Sophisticated clients may wish to override this.\n     *\n     * @param {ReactReconcileTransaction} transaction\n     * @internal\n     * @overridable\n     */\n    updateComponent: 'OVERRIDE_BASE'\n  };\n\n  /**\n   * Similar to ReactClassInterface but for static methods.\n   */\n  var ReactClassStaticInterface = {\n    /**\n     * This method is invoked after a component is instantiated and when it\n     * receives new props. Return an object to update state in response to\n     * prop changes. Return null to indicate no change to state.\n     *\n     * If an object is returned, its keys will be merged into the existing state.\n     *\n     * @return {object || null}\n     * @optional\n     */\n    getDerivedStateFromProps: 'DEFINE_MANY_MERGED'\n  };\n\n  /**\n   * Mapping from class specification keys to special processing functions.\n   *\n   * Although these are declared like instance properties in the specification\n   * when defining classes using `React.createClass`, they are actually static\n   * and are accessible on the constructor instead of the prototype. Despite\n   * being static, they must be defined outside of the \"statics\" key under\n   * which all other static methods are defined.\n   */\n  var RESERVED_SPEC_KEYS = {\n    displayName: function(Constructor, displayName) {\n      Constructor.displayName = displayName;\n    },\n    mixins: function(Constructor, mixins) {\n      if (mixins) {\n        for (var i = 0; i < mixins.length; i++) {\n          mixSpecIntoComponent(Constructor, mixins[i]);\n        }\n      }\n    },\n    childContextTypes: function(Constructor, childContextTypes) {\n      if (process.env.NODE_ENV !== 'production') {\n        validateTypeDef(Constructor, childContextTypes, 'childContext');\n      }\n      Constructor.childContextTypes = _assign(\n        {},\n        Constructor.childContextTypes,\n        childContextTypes\n      );\n    },\n    contextTypes: function(Constructor, contextTypes) {\n      if (process.env.NODE_ENV !== 'production') {\n        validateTypeDef(Constructor, contextTypes, 'context');\n      }\n      Constructor.contextTypes = _assign(\n        {},\n        Constructor.contextTypes,\n        contextTypes\n      );\n    },\n    /**\n     * Special case getDefaultProps which should move into statics but requires\n     * automatic merging.\n     */\n    getDefaultProps: function(Constructor, getDefaultProps) {\n      if (Constructor.getDefaultProps) {\n        Constructor.getDefaultProps = createMergedResultFunction(\n          Constructor.getDefaultProps,\n          getDefaultProps\n        );\n      } else {\n        Constructor.getDefaultProps = getDefaultProps;\n      }\n    },\n    propTypes: function(Constructor, propTypes) {\n      if (process.env.NODE_ENV !== 'production') {\n        validateTypeDef(Constructor, propTypes, 'prop');\n      }\n      Constructor.propTypes = _assign({}, Constructor.propTypes, propTypes);\n    },\n    statics: function(Constructor, statics) {\n      mixStaticSpecIntoComponent(Constructor, statics);\n    },\n    autobind: function() {}\n  };\n\n  function validateTypeDef(Constructor, typeDef, location) {\n    for (var propName in typeDef) {\n      if (typeDef.hasOwnProperty(propName)) {\n        // use a warning instead of an _invariant so components\n        // don't show up in prod but only in __DEV__\n        if (process.env.NODE_ENV !== 'production') {\n          warning(\n            typeof typeDef[propName] === 'function',\n            '%s: %s type `%s` is invalid; it must be a function, usually from ' +\n              'React.PropTypes.',\n            Constructor.displayName || 'ReactClass',\n            ReactPropTypeLocationNames[location],\n            propName\n          );\n        }\n      }\n    }\n  }\n\n  function validateMethodOverride(isAlreadyDefined, name) {\n    var specPolicy = ReactClassInterface.hasOwnProperty(name)\n      ? ReactClassInterface[name]\n      : null;\n\n    // Disallow overriding of base class methods unless explicitly allowed.\n    if (ReactClassMixin.hasOwnProperty(name)) {\n      _invariant(\n        specPolicy === 'OVERRIDE_BASE',\n        'ReactClassInterface: You are attempting to override ' +\n          '`%s` from your class specification. Ensure that your method names ' +\n          'do not overlap with React methods.',\n        name\n      );\n    }\n\n    // Disallow defining methods more than once unless explicitly allowed.\n    if (isAlreadyDefined) {\n      _invariant(\n        specPolicy === 'DEFINE_MANY' || specPolicy === 'DEFINE_MANY_MERGED',\n        'ReactClassInterface: You are attempting to define ' +\n          '`%s` on your component more than once. This conflict may be due ' +\n          'to a mixin.',\n        name\n      );\n    }\n  }\n\n  /**\n   * Mixin helper which handles policy validation and reserved\n   * specification keys when building React classes.\n   */\n  function mixSpecIntoComponent(Constructor, spec) {\n    if (!spec) {\n      if (process.env.NODE_ENV !== 'production') {\n        var typeofSpec = typeof spec;\n        var isMixinValid = typeofSpec === 'object' && spec !== null;\n\n        if (process.env.NODE_ENV !== 'production') {\n          warning(\n            isMixinValid,\n            \"%s: You're attempting to include a mixin that is either null \" +\n              'or not an object. Check the mixins included by the component, ' +\n              'as well as any mixins they include themselves. ' +\n              'Expected object but got %s.',\n            Constructor.displayName || 'ReactClass',\n            spec === null ? null : typeofSpec\n          );\n        }\n      }\n\n      return;\n    }\n\n    _invariant(\n      typeof spec !== 'function',\n      \"ReactClass: You're attempting to \" +\n        'use a component class or function as a mixin. Instead, just use a ' +\n        'regular object.'\n    );\n    _invariant(\n      !isValidElement(spec),\n      \"ReactClass: You're attempting to \" +\n        'use a component as a mixin. Instead, just use a regular object.'\n    );\n\n    var proto = Constructor.prototype;\n    var autoBindPairs = proto.__reactAutoBindPairs;\n\n    // By handling mixins before any other properties, we ensure the same\n    // chaining order is applied to methods with DEFINE_MANY policy, whether\n    // mixins are listed before or after these methods in the spec.\n    if (spec.hasOwnProperty(MIXINS_KEY)) {\n      RESERVED_SPEC_KEYS.mixins(Constructor, spec.mixins);\n    }\n\n    for (var name in spec) {\n      if (!spec.hasOwnProperty(name)) {\n        continue;\n      }\n\n      if (name === MIXINS_KEY) {\n        // We have already handled mixins in a special case above.\n        continue;\n      }\n\n      var property = spec[name];\n      var isAlreadyDefined = proto.hasOwnProperty(name);\n      validateMethodOverride(isAlreadyDefined, name);\n\n      if (RESERVED_SPEC_KEYS.hasOwnProperty(name)) {\n        RESERVED_SPEC_KEYS[name](Constructor, property);\n      } else {\n        // Setup methods on prototype:\n        // The following member methods should not be automatically bound:\n        // 1. Expected ReactClass methods (in the \"interface\").\n        // 2. Overridden methods (that were mixed in).\n        var isReactClassMethod = ReactClassInterface.hasOwnProperty(name);\n        var isFunction = typeof property === 'function';\n        var shouldAutoBind =\n          isFunction &&\n          !isReactClassMethod &&\n          !isAlreadyDefined &&\n          spec.autobind !== false;\n\n        if (shouldAutoBind) {\n          autoBindPairs.push(name, property);\n          proto[name] = property;\n        } else {\n          if (isAlreadyDefined) {\n            var specPolicy = ReactClassInterface[name];\n\n            // These cases should already be caught by validateMethodOverride.\n            _invariant(\n              isReactClassMethod &&\n                (specPolicy === 'DEFINE_MANY_MERGED' ||\n                  specPolicy === 'DEFINE_MANY'),\n              'ReactClass: Unexpected spec policy %s for key %s ' +\n                'when mixing in component specs.',\n              specPolicy,\n              name\n            );\n\n            // For methods which are defined more than once, call the existing\n            // methods before calling the new property, merging if appropriate.\n            if (specPolicy === 'DEFINE_MANY_MERGED') {\n              proto[name] = createMergedResultFunction(proto[name], property);\n            } else if (specPolicy === 'DEFINE_MANY') {\n              proto[name] = createChainedFunction(proto[name], property);\n            }\n          } else {\n            proto[name] = property;\n            if (process.env.NODE_ENV !== 'production') {\n              // Add verbose displayName to the function, which helps when looking\n              // at profiling tools.\n              if (typeof property === 'function' && spec.displayName) {\n                proto[name].displayName = spec.displayName + '_' + name;\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  function mixStaticSpecIntoComponent(Constructor, statics) {\n    if (!statics) {\n      return;\n    }\n\n    for (var name in statics) {\n      var property = statics[name];\n      if (!statics.hasOwnProperty(name)) {\n        continue;\n      }\n\n      var isReserved = name in RESERVED_SPEC_KEYS;\n      _invariant(\n        !isReserved,\n        'ReactClass: You are attempting to define a reserved ' +\n          'property, `%s`, that shouldn\\'t be on the \"statics\" key. Define it ' +\n          'as an instance property instead; it will still be accessible on the ' +\n          'constructor.',\n        name\n      );\n\n      var isAlreadyDefined = name in Constructor;\n      if (isAlreadyDefined) {\n        var specPolicy = ReactClassStaticInterface.hasOwnProperty(name)\n          ? ReactClassStaticInterface[name]\n          : null;\n\n        _invariant(\n          specPolicy === 'DEFINE_MANY_MERGED',\n          'ReactClass: You are attempting to define ' +\n            '`%s` on your component more than once. This conflict may be ' +\n            'due to a mixin.',\n          name\n        );\n\n        Constructor[name] = createMergedResultFunction(Constructor[name], property);\n\n        return;\n      }\n\n      Constructor[name] = property;\n    }\n  }\n\n  /**\n   * Merge two objects, but throw if both contain the same key.\n   *\n   * @param {object} one The first object, which is mutated.\n   * @param {object} two The second object\n   * @return {object} one after it has been mutated to contain everything in two.\n   */\n  function mergeIntoWithNoDuplicateKeys(one, two) {\n    _invariant(\n      one && two && typeof one === 'object' && typeof two === 'object',\n      'mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.'\n    );\n\n    for (var key in two) {\n      if (two.hasOwnProperty(key)) {\n        _invariant(\n          one[key] === undefined,\n          'mergeIntoWithNoDuplicateKeys(): ' +\n            'Tried to merge two objects with the same key: `%s`. This conflict ' +\n            'may be due to a mixin; in particular, this may be caused by two ' +\n            'getInitialState() or getDefaultProps() methods returning objects ' +\n            'with clashing keys.',\n          key\n        );\n        one[key] = two[key];\n      }\n    }\n    return one;\n  }\n\n  /**\n   * Creates a function that invokes two functions and merges their return values.\n   *\n   * @param {function} one Function to invoke first.\n   * @param {function} two Function to invoke second.\n   * @return {function} Function that invokes the two argument functions.\n   * @private\n   */\n  function createMergedResultFunction(one, two) {\n    return function mergedResult() {\n      var a = one.apply(this, arguments);\n      var b = two.apply(this, arguments);\n      if (a == null) {\n        return b;\n      } else if (b == null) {\n        return a;\n      }\n      var c = {};\n      mergeIntoWithNoDuplicateKeys(c, a);\n      mergeIntoWithNoDuplicateKeys(c, b);\n      return c;\n    };\n  }\n\n  /**\n   * Creates a function that invokes two functions and ignores their return vales.\n   *\n   * @param {function} one Function to invoke first.\n   * @param {function} two Function to invoke second.\n   * @return {function} Function that invokes the two argument functions.\n   * @private\n   */\n  function createChainedFunction(one, two) {\n    return function chainedFunction() {\n      one.apply(this, arguments);\n      two.apply(this, arguments);\n    };\n  }\n\n  /**\n   * Binds a method to the component.\n   *\n   * @param {object} component Component whose method is going to be bound.\n   * @param {function} method Method to be bound.\n   * @return {function} The bound method.\n   */\n  function bindAutoBindMethod(component, method) {\n    var boundMethod = method.bind(component);\n    if (process.env.NODE_ENV !== 'production') {\n      boundMethod.__reactBoundContext = component;\n      boundMethod.__reactBoundMethod = method;\n      boundMethod.__reactBoundArguments = null;\n      var componentName = component.constructor.displayName;\n      var _bind = boundMethod.bind;\n      boundMethod.bind = function(newThis) {\n        for (\n          var _len = arguments.length,\n            args = Array(_len > 1 ? _len - 1 : 0),\n            _key = 1;\n          _key < _len;\n          _key++\n        ) {\n          args[_key - 1] = arguments[_key];\n        }\n\n        // User is trying to bind() an autobound method; we effectively will\n        // ignore the value of \"this\" that the user is trying to use, so\n        // let's warn.\n        if (newThis !== component && newThis !== null) {\n          if (process.env.NODE_ENV !== 'production') {\n            warning(\n              false,\n              'bind(): React component methods may only be bound to the ' +\n                'component instance. See %s',\n              componentName\n            );\n          }\n        } else if (!args.length) {\n          if (process.env.NODE_ENV !== 'production') {\n            warning(\n              false,\n              'bind(): You are binding a component method to the component. ' +\n                'React does this for you automatically in a high-performance ' +\n                'way, so you can safely remove this call. See %s',\n              componentName\n            );\n          }\n          return boundMethod;\n        }\n        var reboundMethod = _bind.apply(boundMethod, arguments);\n        reboundMethod.__reactBoundContext = component;\n        reboundMethod.__reactBoundMethod = method;\n        reboundMethod.__reactBoundArguments = args;\n        return reboundMethod;\n      };\n    }\n    return boundMethod;\n  }\n\n  /**\n   * Binds all auto-bound methods in a component.\n   *\n   * @param {object} component Component whose method is going to be bound.\n   */\n  function bindAutoBindMethods(component) {\n    var pairs = component.__reactAutoBindPairs;\n    for (var i = 0; i < pairs.length; i += 2) {\n      var autoBindKey = pairs[i];\n      var method = pairs[i + 1];\n      component[autoBindKey] = bindAutoBindMethod(component, method);\n    }\n  }\n\n  var IsMountedPreMixin = {\n    componentDidMount: function() {\n      this.__isMounted = true;\n    }\n  };\n\n  var IsMountedPostMixin = {\n    componentWillUnmount: function() {\n      this.__isMounted = false;\n    }\n  };\n\n  /**\n   * Add more to the ReactClass base class. These are all legacy features and\n   * therefore not already part of the modern ReactComponent.\n   */\n  var ReactClassMixin = {\n    /**\n     * TODO: This will be deprecated because state should always keep a consistent\n     * type signature and the only use case for this, is to avoid that.\n     */\n    replaceState: function(newState, callback) {\n      this.updater.enqueueReplaceState(this, newState, callback);\n    },\n\n    /**\n     * Checks whether or not this composite component is mounted.\n     * @return {boolean} True if mounted, false otherwise.\n     * @protected\n     * @final\n     */\n    isMounted: function() {\n      if (process.env.NODE_ENV !== 'production') {\n        warning(\n          this.__didWarnIsMounted,\n          '%s: isMounted is deprecated. Instead, make sure to clean up ' +\n            'subscriptions and pending requests in componentWillUnmount to ' +\n            'prevent memory leaks.',\n          (this.constructor && this.constructor.displayName) ||\n            this.name ||\n            'Component'\n        );\n        this.__didWarnIsMounted = true;\n      }\n      return !!this.__isMounted;\n    }\n  };\n\n  var ReactClassComponent = function() {};\n  _assign(\n    ReactClassComponent.prototype,\n    ReactComponent.prototype,\n    ReactClassMixin\n  );\n\n  /**\n   * Creates a composite component class given a class specification.\n   * See https://facebook.github.io/react/docs/top-level-api.html#react.createclass\n   *\n   * @param {object} spec Class specification (which must define `render`).\n   * @return {function} Component constructor function.\n   * @public\n   */\n  function createClass(spec) {\n    // To keep our warnings more understandable, we'll use a little hack here to\n    // ensure that Constructor.name !== 'Constructor'. This makes sure we don't\n    // unnecessarily identify a class without displayName as 'Constructor'.\n    var Constructor = identity(function(props, context, updater) {\n      // This constructor gets overridden by mocks. The argument is used\n      // by mocks to assert on what gets mounted.\n\n      if (process.env.NODE_ENV !== 'production') {\n        warning(\n          this instanceof Constructor,\n          'Something is calling a React component directly. Use a factory or ' +\n            'JSX instead. See: https://fb.me/react-legacyfactory'\n        );\n      }\n\n      // Wire up auto-binding\n      if (this.__reactAutoBindPairs.length) {\n        bindAutoBindMethods(this);\n      }\n\n      this.props = props;\n      this.context = context;\n      this.refs = emptyObject;\n      this.updater = updater || ReactNoopUpdateQueue;\n\n      this.state = null;\n\n      // ReactClasses doesn't have constructors. Instead, they use the\n      // getInitialState and componentWillMount methods for initialization.\n\n      var initialState = this.getInitialState ? this.getInitialState() : null;\n      if (process.env.NODE_ENV !== 'production') {\n        // We allow auto-mocks to proceed as if they're returning null.\n        if (\n          initialState === undefined &&\n          this.getInitialState._isMockFunction\n        ) {\n          // This is probably bad practice. Consider warning here and\n          // deprecating this convenience.\n          initialState = null;\n        }\n      }\n      _invariant(\n        typeof initialState === 'object' && !Array.isArray(initialState),\n        '%s.getInitialState(): must return an object or null',\n        Constructor.displayName || 'ReactCompositeComponent'\n      );\n\n      this.state = initialState;\n    });\n    Constructor.prototype = new ReactClassComponent();\n    Constructor.prototype.constructor = Constructor;\n    Constructor.prototype.__reactAutoBindPairs = [];\n\n    injectedMixins.forEach(mixSpecIntoComponent.bind(null, Constructor));\n\n    mixSpecIntoComponent(Constructor, IsMountedPreMixin);\n    mixSpecIntoComponent(Constructor, spec);\n    mixSpecIntoComponent(Constructor, IsMountedPostMixin);\n\n    // Initialize the defaultProps property after all mixins have been merged.\n    if (Constructor.getDefaultProps) {\n      Constructor.defaultProps = Constructor.getDefaultProps();\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      // This is a tag to indicate that the use of these method names is ok,\n      // since it's used with createClass. If it's not, then it's likely a\n      // mistake so we'll warn you to use the static property, property\n      // initializer or constructor respectively.\n      if (Constructor.getDefaultProps) {\n        Constructor.getDefaultProps.isReactClassApproved = {};\n      }\n      if (Constructor.prototype.getInitialState) {\n        Constructor.prototype.getInitialState.isReactClassApproved = {};\n      }\n    }\n\n    _invariant(\n      Constructor.prototype.render,\n      'createClass(...): Class specification must implement a `render` method.'\n    );\n\n    if (process.env.NODE_ENV !== 'production') {\n      warning(\n        !Constructor.prototype.componentShouldUpdate,\n        '%s has a method called ' +\n          'componentShouldUpdate(). Did you mean shouldComponentUpdate()? ' +\n          'The name is phrased as a question because the function is ' +\n          'expected to return a value.',\n        spec.displayName || 'A component'\n      );\n      warning(\n        !Constructor.prototype.componentWillRecieveProps,\n        '%s has a method called ' +\n          'componentWillRecieveProps(). Did you mean componentWillReceiveProps()?',\n        spec.displayName || 'A component'\n      );\n      warning(\n        !Constructor.prototype.UNSAFE_componentWillRecieveProps,\n        '%s has a method called UNSAFE_componentWillRecieveProps(). ' +\n          'Did you mean UNSAFE_componentWillReceiveProps()?',\n        spec.displayName || 'A component'\n      );\n    }\n\n    // Reduce time spent doing lookups by setting these on the prototype.\n    for (var methodName in ReactClassInterface) {\n      if (!Constructor.prototype[methodName]) {\n        Constructor.prototype[methodName] = null;\n      }\n    }\n\n    return Constructor;\n  }\n\n  return createClass;\n}\n\nmodule.exports = factory;\n","'use strict';\n\nvar React = require('react'),\n\tcreateClass = require('create-react-class'),\n\tDaysView = require('./DaysView'),\n\tMonthsView = require('./MonthsView'),\n\tYearsView = require('./YearsView'),\n\tTimeView = require('./TimeView')\n\t;\n\nvar CalendarContainer = createClass({\n\tviewComponents: {\n\t\tdays: DaysView,\n\t\tmonths: MonthsView,\n\t\tyears: YearsView,\n\t\ttime: TimeView\n\t},\n\n\trender: function() {\n\t\treturn React.createElement( this.viewComponents[ this.props.view ], this.props.viewProps );\n\t}\n});\n\nmodule.exports = CalendarContainer;\n","'use strict';\n\nvar React = require('react'),\n\tcreateClass = require('create-react-class'),\n\tmoment = require('moment')\n\t;\n\nvar DateTimePickerDays = createClass({\n\trender: function() {\n\t\tvar footer = this.renderFooter(),\n\t\t\tdate = this.props.viewDate,\n\t\t\tlocale = date.localeData(),\n\t\t\ttableChildren\n\t\t\t;\n\n\t\ttableChildren = [\n\t\t\tReact.createElement('thead', { key: 'th' }, [\n\t\t\t\tReact.createElement('tr', { key: 'h' }, [\n\t\t\t\t\tReact.createElement('th', { key: 'p', className: 'rdtPrev', onClick: this.props.subtractTime( 1, 'months' )}, React.createElement('span', {}, '‹' )),\n\t\t\t\t\tReact.createElement('th', { key: 's', className: 'rdtSwitch', onClick: this.props.showView( 'months' ), colSpan: 5, 'data-value': this.props.viewDate.month() }, locale.months( date ) + ' ' + date.year() ),\n\t\t\t\t\tReact.createElement('th', { key: 'n', className: 'rdtNext', onClick: this.props.addTime( 1, 'months' )}, React.createElement('span', {}, '›' ))\n\t\t\t\t]),\n\t\t\t\tReact.createElement('tr', { key: 'd'}, this.getDaysOfWeek( locale ).map( function( day, index ) { return React.createElement('th', { key: day + index, className: 'dow'}, day ); }) )\n\t\t\t]),\n\t\t\tReact.createElement('tbody', { key: 'tb' }, this.renderDays())\n\t\t];\n\n\t\tif ( footer )\n\t\t\ttableChildren.push( footer );\n\n\t\treturn React.createElement('div', { className: 'rdtDays' },\n\t\t\tReact.createElement('table', {}, tableChildren )\n\t\t);\n\t},\n\n\t/**\n\t * Get a list of the days of the week\n\t * depending on the current locale\n\t * @return {array} A list with the shortname of the days\n\t */\n\tgetDaysOfWeek: function( locale ) {\n\t\tvar days = locale._weekdaysMin,\n\t\t\tfirst = locale.firstDayOfWeek(),\n\t\t\tdow = [],\n\t\t\ti = 0\n\t\t\t;\n\n\t\tdays.forEach( function( day ) {\n\t\t\tdow[ (7 + ( i++ ) - first) % 7 ] = day;\n\t\t});\n\n\t\treturn dow;\n\t},\n\n\trenderDays: function() {\n\t\tvar date = this.props.viewDate,\n\t\t\tselected = this.props.selectedDate && this.props.selectedDate.clone(),\n\t\t\tprevMonth = date.clone().subtract( 1, 'months' ),\n\t\t\tcurrentYear = date.year(),\n\t\t\tcurrentMonth = date.month(),\n\t\t\tweeks = [],\n\t\t\tdays = [],\n\t\t\trenderer = this.props.renderDay || this.renderDay,\n\t\t\tisValid = this.props.isValidDate || this.alwaysValidDate,\n\t\t\tclasses, isDisabled, dayProps, currentDate\n\t\t\t;\n\n\t\t// Go to the last week of the previous month\n\t\tprevMonth.date( prevMonth.daysInMonth() ).startOf( 'week' );\n\t\tvar lastDay = prevMonth.clone().add( 42, 'd' );\n\n\t\twhile ( prevMonth.isBefore( lastDay ) ) {\n\t\t\tclasses = 'rdtDay';\n\t\t\tcurrentDate = prevMonth.clone();\n\n\t\t\tif ( ( prevMonth.year() === currentYear && prevMonth.month() < currentMonth ) || ( prevMonth.year() < currentYear ) )\n\t\t\t\tclasses += ' rdtOld';\n\t\t\telse if ( ( prevMonth.year() === currentYear && prevMonth.month() > currentMonth ) || ( prevMonth.year() > currentYear ) )\n\t\t\t\tclasses += ' rdtNew';\n\n\t\t\tif ( selected && prevMonth.isSame( selected, 'day' ) )\n\t\t\t\tclasses += ' rdtActive';\n\n\t\t\tif ( prevMonth.isSame( moment(), 'day' ) )\n\t\t\t\tclasses += ' rdtToday';\n\n\t\t\tisDisabled = !isValid( currentDate, selected );\n\t\t\tif ( isDisabled )\n\t\t\t\tclasses += ' rdtDisabled';\n\n\t\t\tdayProps = {\n\t\t\t\tkey: prevMonth.format( 'M_D' ),\n\t\t\t\t'data-value': prevMonth.date(),\n\t\t\t\tclassName: classes\n\t\t\t};\n\n\t\t\tif ( !isDisabled )\n\t\t\t\tdayProps.onClick = this.updateSelectedDate;\n\n\t\t\tdays.push( renderer( dayProps, currentDate, selected ) );\n\n\t\t\tif ( days.length === 7 ) {\n\t\t\t\tweeks.push( React.createElement('tr', { key: prevMonth.format( 'M_D' )}, days ) );\n\t\t\t\tdays = [];\n\t\t\t}\n\n\t\t\tprevMonth.add( 1, 'd' );\n\t\t}\n\n\t\treturn weeks;\n\t},\n\n\tupdateSelectedDate: function( event ) {\n\t\tthis.props.updateSelectedDate( event, true );\n\t},\n\n\trenderDay: function( props, currentDate ) {\n\t\treturn React.createElement('td',  props, currentDate.date() );\n\t},\n\n\trenderFooter: function() {\n\t\tif ( !this.props.timeFormat )\n\t\t\treturn '';\n\n\t\tvar date = this.props.selectedDate || this.props.viewDate;\n\n\t\treturn React.createElement('tfoot', { key: 'tf'},\n\t\t\tReact.createElement('tr', {},\n\t\t\t\tReact.createElement('td', { onClick: this.props.showView( 'time' ), colSpan: 7, className: 'rdtTimeToggle' }, date.format( this.props.timeFormat ))\n\t\t\t)\n\t\t);\n\t},\n\n\talwaysValidDate: function() {\n\t\treturn 1;\n\t}\n});\n\nmodule.exports = DateTimePickerDays;\n","'use strict';\n\nvar React = require('react'),\n\tcreateClass = require('create-react-class')\n;\n\nvar DateTimePickerMonths = createClass({\n\trender: function() {\n\t\treturn React.createElement('div', { className: 'rdtMonths' }, [\n\t\t\tReact.createElement('table', { key: 'a' }, React.createElement('thead', {}, React.createElement('tr', {}, [\n\t\t\t\tReact.createElement('th', { key: 'prev', className: 'rdtPrev', onClick: this.props.subtractTime( 1, 'years' )}, React.createElement('span', {}, '‹' )),\n\t\t\t\tReact.createElement('th', { key: 'year', className: 'rdtSwitch', onClick: this.props.showView( 'years' ), colSpan: 2, 'data-value': this.props.viewDate.year() }, this.props.viewDate.year() ),\n\t\t\t\tReact.createElement('th', { key: 'next', className: 'rdtNext', onClick: this.props.addTime( 1, 'years' )}, React.createElement('span', {}, '›' ))\n\t\t\t]))),\n\t\t\tReact.createElement('table', { key: 'months' }, React.createElement('tbody', { key: 'b' }, this.renderMonths()))\n\t\t]);\n\t},\n\n\trenderMonths: function() {\n\t\tvar date = this.props.selectedDate,\n\t\t\tmonth = this.props.viewDate.month(),\n\t\t\tyear = this.props.viewDate.year(),\n\t\t\trows = [],\n\t\t\ti = 0,\n\t\t\tmonths = [],\n\t\t\trenderer = this.props.renderMonth || this.renderMonth,\n\t\t\tisValid = this.props.isValidDate || this.alwaysValidDate,\n\t\t\tclasses, props, currentMonth, isDisabled, noOfDaysInMonth, daysInMonth, validDay,\n\t\t\t// Date is irrelevant because we're only interested in month\n\t\t\tirrelevantDate = 1\n\t\t\t;\n\n\t\twhile (i < 12) {\n\t\t\tclasses = 'rdtMonth';\n\t\t\tcurrentMonth =\n\t\t\t\tthis.props.viewDate.clone().set({ year: year, month: i, date: irrelevantDate });\n\n\t\t\tnoOfDaysInMonth = currentMonth.endOf( 'month' ).format( 'D' );\n\t\t\tdaysInMonth = Array.from({ length: noOfDaysInMonth }, function( e, i ) {\n\t\t\t\treturn i + 1;\n\t\t\t});\n\n\t\t\tvalidDay = daysInMonth.find(function( d ) {\n\t\t\t\tvar day = currentMonth.clone().set( 'date', d );\n\t\t\t\treturn isValid( day );\n\t\t\t});\n\n\t\t\tisDisabled = ( validDay === undefined );\n\n\t\t\tif ( isDisabled )\n\t\t\t\tclasses += ' rdtDisabled';\n\n\t\t\tif ( date && i === date.month() && year === date.year() )\n\t\t\t\tclasses += ' rdtActive';\n\n\t\t\tprops = {\n\t\t\t\tkey: i,\n\t\t\t\t'data-value': i,\n\t\t\t\tclassName: classes\n\t\t\t};\n\n\t\t\tif ( !isDisabled )\n\t\t\t\tprops.onClick = ( this.props.updateOn === 'months' ?\n\t\t\t\t\tthis.updateSelectedMonth : this.props.setDate( 'month' ) );\n\n\t\t\tmonths.push( renderer( props, i, year, date && date.clone() ) );\n\n\t\t\tif ( months.length === 4 ) {\n\t\t\t\trows.push( React.createElement('tr', { key: month + '_' + rows.length }, months ) );\n\t\t\t\tmonths = [];\n\t\t\t}\n\n\t\t\ti++;\n\t\t}\n\n\t\treturn rows;\n\t},\n\n\tupdateSelectedMonth: function( event ) {\n\t\tthis.props.updateSelectedDate( event );\n\t},\n\n\trenderMonth: function( props, month ) {\n\t\tvar localMoment = this.props.viewDate;\n\t\tvar monthStr = localMoment.localeData().monthsShort( localMoment.month( month ) );\n\t\tvar strLength = 3;\n\t\t// Because some months are up to 5 characters long, we want to\n\t\t// use a fixed string length for consistency\n\t\tvar monthStrFixedLength = monthStr.substring( 0, strLength );\n\t\treturn React.createElement('td', props, capitalize( monthStrFixedLength ) );\n\t},\n\n\talwaysValidDate: function() {\n\t\treturn 1;\n\t},\n});\n\nfunction capitalize( str ) {\n\treturn str.charAt( 0 ).toUpperCase() + str.slice( 1 );\n}\n\nmodule.exports = DateTimePickerMonths;\n","'use strict';\n\nvar React = require('react'),\n\tcreateClass = require('create-react-class')\n;\n\nvar DateTimePickerYears = createClass({\n\trender: function() {\n\t\tvar year = parseInt( this.props.viewDate.year() / 10, 10 ) * 10;\n\n\t\treturn React.createElement('div', { className: 'rdtYears' }, [\n\t\t\tReact.createElement('table', { key: 'a' }, React.createElement('thead', {}, React.createElement('tr', {}, [\n\t\t\t\tReact.createElement('th', { key: 'prev', className: 'rdtPrev', onClick: this.props.subtractTime( 10, 'years' )}, React.createElement('span', {}, '‹' )),\n\t\t\t\tReact.createElement('th', { key: 'year', className: 'rdtSwitch', onClick: this.props.showView( 'years' ), colSpan: 2 }, year + '-' + ( year + 9 ) ),\n\t\t\t\tReact.createElement('th', { key: 'next', className: 'rdtNext', onClick: this.props.addTime( 10, 'years' )}, React.createElement('span', {}, '›' ))\n\t\t\t]))),\n\t\t\tReact.createElement('table', { key: 'years' }, React.createElement('tbody',  {}, this.renderYears( year )))\n\t\t]);\n\t},\n\n\trenderYears: function( year ) {\n\t\tvar years = [],\n\t\t\ti = -1,\n\t\t\trows = [],\n\t\t\trenderer = this.props.renderYear || this.renderYear,\n\t\t\tselectedDate = this.props.selectedDate,\n\t\t\tisValid = this.props.isValidDate || this.alwaysValidDate,\n\t\t\tclasses, props, currentYear, isDisabled, noOfDaysInYear, daysInYear, validDay,\n\t\t\t// Month and date are irrelevant here because\n\t\t\t// we're only interested in the year\n\t\t\tirrelevantMonth = 0,\n\t\t\tirrelevantDate = 1\n\t\t\t;\n\n\t\tyear--;\n\t\twhile (i < 11) {\n\t\t\tclasses = 'rdtYear';\n\t\t\tcurrentYear = this.props.viewDate.clone().set(\n\t\t\t\t{ year: year, month: irrelevantMonth, date: irrelevantDate } );\n\n\t\t\t// Not sure what 'rdtOld' is for, commenting out for now as it's not working properly\n\t\t\t// if ( i === -1 | i === 10 )\n\t\t\t\t// classes += ' rdtOld';\n\n\t\t\tnoOfDaysInYear = currentYear.endOf( 'year' ).format( 'DDD' );\n\t\t\tdaysInYear = Array.from({ length: noOfDaysInYear }, function( e, i ) {\n\t\t\t\treturn i + 1;\n\t\t\t});\n\n\t\t\tvalidDay = daysInYear.find(function( d ) {\n\t\t\t\tvar day = currentYear.clone().dayOfYear( d );\n\t\t\t\treturn isValid( day );\n\t\t\t});\n\n\t\t\tisDisabled = ( validDay === undefined );\n\n\t\t\tif ( isDisabled )\n\t\t\t\tclasses += ' rdtDisabled';\n\n\t\t\tif ( selectedDate && selectedDate.year() === year )\n\t\t\t\tclasses += ' rdtActive';\n\n\t\t\tprops = {\n\t\t\t\tkey: year,\n\t\t\t\t'data-value': year,\n\t\t\t\tclassName: classes\n\t\t\t};\n\n\t\t\tif ( !isDisabled )\n\t\t\t\tprops.onClick = ( this.props.updateOn === 'years' ?\n\t\t\t\t\tthis.updateSelectedYear : this.props.setDate('year') );\n\n\t\t\tyears.push( renderer( props, year, selectedDate && selectedDate.clone() ));\n\n\t\t\tif ( years.length === 4 ) {\n\t\t\t\trows.push( React.createElement('tr', { key: i }, years ) );\n\t\t\t\tyears = [];\n\t\t\t}\n\n\t\t\tyear++;\n\t\t\ti++;\n\t\t}\n\n\t\treturn rows;\n\t},\n\n\tupdateSelectedYear: function( event ) {\n\t\tthis.props.updateSelectedDate( event );\n\t},\n\n\trenderYear: function( props, year ) {\n\t\treturn React.createElement('td',  props, year );\n\t},\n\n\talwaysValidDate: function() {\n\t\treturn 1;\n\t},\n});\n\nmodule.exports = DateTimePickerYears;\n","'use strict';\n\nvar React = require('react'),\n\tcreateClass = require('create-react-class'),\n\tassign = require('object-assign')\n\t;\n\nvar DateTimePickerTime = createClass({\n\tgetInitialState: function() {\n\t\treturn this.calculateState( this.props );\n\t},\n\n\tcalculateState: function( props ) {\n\t\tvar date = props.selectedDate || props.viewDate,\n\t\t\tformat = props.timeFormat,\n\t\t\tcounters = []\n\t\t\t;\n\n\t\tif ( format.toLowerCase().indexOf('h') !== -1 ) {\n\t\t\tcounters.push('hours');\n\t\t\tif ( format.indexOf('m') !== -1 ) {\n\t\t\t\tcounters.push('minutes');\n\t\t\t\tif ( format.indexOf('s') !== -1 ) {\n\t\t\t\t\tcounters.push('seconds');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar hours = date.format( 'H' );\n\n\t\tvar daypart = false;\n\t\tif ( this.state !== null && this.props.timeFormat.toLowerCase().indexOf( ' a' ) !== -1 ) {\n\t\t\tif ( this.props.timeFormat.indexOf( ' A' ) !== -1 ) {\n\t\t\t\tdaypart = ( hours >= 12 ) ? 'PM' : 'AM';\n\t\t\t} else {\n\t\t\t\tdaypart = ( hours >= 12 ) ? 'pm' : 'am';\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\thours: hours,\n\t\t\tminutes: date.format( 'mm' ),\n\t\t\tseconds: date.format( 'ss' ),\n\t\t\tmilliseconds: date.format( 'SSS' ),\n\t\t\tdaypart: daypart,\n\t\t\tcounters: counters\n\t\t};\n\t},\n\n\trenderCounter: function( type ) {\n\t\tif ( type !== 'daypart' ) {\n\t\t\tvar value = this.state[ type ];\n\t\t\tif ( type === 'hours' && this.props.timeFormat.toLowerCase().indexOf( ' a' ) !== -1 ) {\n\t\t\t\tvalue = ( value - 1 ) % 12 + 1;\n\n\t\t\t\tif ( value === 0 ) {\n\t\t\t\t\tvalue = 12;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn React.createElement('div', { key: type, className: 'rdtCounter' }, [\n\t\t\t\tReact.createElement('span', { key: 'up', className: 'rdtBtn', onMouseDown: this.onStartClicking( 'increase', type ), onContextMenu: this.disableContextMenu }, '▲' ),\n\t\t\t\tReact.createElement('div', { key: 'c', className: 'rdtCount' }, value ),\n\t\t\t\tReact.createElement('span', { key: 'do', className: 'rdtBtn', onMouseDown: this.onStartClicking( 'decrease', type ), onContextMenu: this.disableContextMenu }, '▼' )\n\t\t\t]);\n\t\t}\n\t\treturn '';\n\t},\n\n\trenderDayPart: function() {\n\t\treturn React.createElement('div', { key: 'dayPart', className: 'rdtCounter' }, [\n\t\t\tReact.createElement('span', { key: 'up', className: 'rdtBtn', onMouseDown: this.onStartClicking( 'toggleDayPart', 'hours'), onContextMenu: this.disableContextMenu }, '▲' ),\n\t\t\tReact.createElement('div', { key: this.state.daypart, className: 'rdtCount' }, this.state.daypart ),\n\t\t\tReact.createElement('span', { key: 'do', className: 'rdtBtn', onMouseDown: this.onStartClicking( 'toggleDayPart', 'hours'), onContextMenu: this.disableContextMenu }, '▼' )\n\t\t]);\n\t},\n\n\trender: function() {\n\t\tvar me = this,\n\t\t\tcounters = []\n\t\t;\n\n\t\tthis.state.counters.forEach( function( c ) {\n\t\t\tif ( counters.length )\n\t\t\t\tcounters.push( React.createElement('div', { key: 'sep' + counters.length, className: 'rdtCounterSeparator' }, ':' ) );\n\t\t\tcounters.push( me.renderCounter( c ) );\n\t\t});\n\n\t\tif ( this.state.daypart !== false ) {\n\t\t\tcounters.push( me.renderDayPart() );\n\t\t}\n\n\t\tif ( this.state.counters.length === 3 && this.props.timeFormat.indexOf( 'S' ) !== -1 ) {\n\t\t\tcounters.push( React.createElement('div', { className: 'rdtCounterSeparator', key: 'sep5' }, ':' ) );\n\t\t\tcounters.push(\n\t\t\t\tReact.createElement('div', { className: 'rdtCounter rdtMilli', key: 'm' },\n\t\t\t\t\tReact.createElement('input', { value: this.state.milliseconds, type: 'text', onChange: this.updateMilli } )\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t}\n\n\t\treturn React.createElement('div', { className: 'rdtTime' },\n\t\t\tReact.createElement('table', {}, [\n\t\t\t\tthis.renderHeader(),\n\t\t\t\tReact.createElement('tbody', { key: 'b'}, React.createElement('tr', {}, React.createElement('td', {},\n\t\t\t\t\tReact.createElement('div', { className: 'rdtCounters' }, counters )\n\t\t\t\t)))\n\t\t\t])\n\t\t);\n\t},\n\n\tcomponentWillMount: function() {\n\t\tvar me = this;\n\t\tme.timeConstraints = {\n\t\t\thours: {\n\t\t\t\tmin: 0,\n\t\t\t\tmax: 23,\n\t\t\t\tstep: 1\n\t\t\t},\n\t\t\tminutes: {\n\t\t\t\tmin: 0,\n\t\t\t\tmax: 59,\n\t\t\t\tstep: 1\n\t\t\t},\n\t\t\tseconds: {\n\t\t\t\tmin: 0,\n\t\t\t\tmax: 59,\n\t\t\t\tstep: 1\n\t\t\t},\n\t\t\tmilliseconds: {\n\t\t\t\tmin: 0,\n\t\t\t\tmax: 999,\n\t\t\t\tstep: 1\n\t\t\t}\n\t\t};\n\t\t['hours', 'minutes', 'seconds', 'milliseconds'].forEach( function( type ) {\n\t\t\tassign(me.timeConstraints[ type ], me.props.timeConstraints[ type ]);\n\t\t});\n\t\tthis.setState( this.calculateState( this.props ) );\n\t},\n\n\tcomponentWillReceiveProps: function( nextProps ) {\n\t\tthis.setState( this.calculateState( nextProps ) );\n\t},\n\n\tupdateMilli: function( e ) {\n\t\tvar milli = parseInt( e.target.value, 10 );\n\t\tif ( milli === e.target.value && milli >= 0 && milli < 1000 ) {\n\t\t\tthis.props.setTime( 'milliseconds', milli );\n\t\t\tthis.setState( { milliseconds: milli } );\n\t\t}\n\t},\n\n\trenderHeader: function() {\n\t\tif ( !this.props.dateFormat )\n\t\t\treturn null;\n\n\t\tvar date = this.props.selectedDate || this.props.viewDate;\n\t\treturn React.createElement('thead', { key: 'h' }, React.createElement('tr', {},\n\t\t\tReact.createElement('th', { className: 'rdtSwitch', colSpan: 4, onClick: this.props.showView( 'days' ) }, date.format( this.props.dateFormat ) )\n\t\t));\n\t},\n\n\tonStartClicking: function( action, type ) {\n\t\tvar me = this;\n\n\t\treturn function() {\n\t\t\tvar update = {};\n\t\t\tupdate[ type ] = me[ action ]( type );\n\t\t\tme.setState( update );\n\n\t\t\tme.timer = setTimeout( function() {\n\t\t\t\tme.increaseTimer = setInterval( function() {\n\t\t\t\t\tupdate[ type ] = me[ action ]( type );\n\t\t\t\t\tme.setState( update );\n\t\t\t\t}, 70);\n\t\t\t}, 500);\n\n\t\t\tme.mouseUpListener = function() {\n\t\t\t\tclearTimeout( me.timer );\n\t\t\t\tclearInterval( me.increaseTimer );\n\t\t\t\tme.props.setTime( type, me.state[ type ] );\n\t\t\t\tdocument.body.removeEventListener( 'mouseup', me.mouseUpListener );\n\t\t\t\tdocument.body.removeEventListener( 'touchend', me.mouseUpListener );\n\t\t\t};\n\n\t\t\tdocument.body.addEventListener( 'mouseup', me.mouseUpListener );\n\t\t\tdocument.body.addEventListener( 'touchend', me.mouseUpListener );\n\t\t};\n\t},\n\n\tdisableContextMenu: function( event ) {\n\t\tevent.preventDefault();\n\t\treturn false;\n\t},\n\n\tpadValues: {\n\t\thours: 1,\n\t\tminutes: 2,\n\t\tseconds: 2,\n\t\tmilliseconds: 3\n\t},\n\n\ttoggleDayPart: function( type ) { // type is always 'hours'\n\t\tvar value = parseInt( this.state[ type ], 10) + 12;\n\t\tif ( value > this.timeConstraints[ type ].max )\n\t\t\tvalue = this.timeConstraints[ type ].min + ( value - ( this.timeConstraints[ type ].max + 1 ) );\n\t\treturn this.pad( type, value );\n\t},\n\n\tincrease: function( type ) {\n\t\tvar value = parseInt( this.state[ type ], 10) + this.timeConstraints[ type ].step;\n\t\tif ( value > this.timeConstraints[ type ].max )\n\t\t\tvalue = this.timeConstraints[ type ].min + ( value - ( this.timeConstraints[ type ].max + 1 ) );\n\t\treturn this.pad( type, value );\n\t},\n\n\tdecrease: function( type ) {\n\t\tvar value = parseInt( this.state[ type ], 10) - this.timeConstraints[ type ].step;\n\t\tif ( value < this.timeConstraints[ type ].min )\n\t\t\tvalue = this.timeConstraints[ type ].max + 1 - ( this.timeConstraints[ type ].min - value );\n\t\treturn this.pad( type, value );\n\t},\n\n\tpad: function( type, value ) {\n\t\tvar str = value + '';\n\t\twhile ( str.length < this.padValues[ type ] )\n\t\t\tstr = '0' + str;\n\t\treturn str;\n\t},\n});\n\nmodule.exports = DateTimePickerTime;\n","import { Component, createElement } from 'react';\nimport { findDOMNode } from 'react-dom';\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\n/**\n * Check whether some DOM node is our Component's node.\n */\nfunction isNodeFound(current, componentNode, ignoreClass) {\n  if (current === componentNode) {\n    return true;\n  } // SVG <use/> elements do not technically reside in the rendered DOM, so\n  // they do not have classList directly, but they offer a link to their\n  // corresponding element, which can have classList. This extra check is for\n  // that case.\n  // See: http://www.w3.org/TR/SVG11/struct.html#InterfaceSVGUseElement\n  // Discussion: https://github.com/Pomax/react-onclickoutside/pull/17\n\n\n  if (current.correspondingElement) {\n    return current.correspondingElement.classList.contains(ignoreClass);\n  }\n\n  return current.classList.contains(ignoreClass);\n}\n/**\n * Try to find our node in a hierarchy of nodes, returning the document\n * node as highest node if our node is not found in the path up.\n */\n\nfunction findHighest(current, componentNode, ignoreClass) {\n  if (current === componentNode) {\n    return true;\n  } // If source=local then this event came from 'somewhere'\n  // inside and should be ignored. We could handle this with\n  // a layered approach, too, but that requires going back to\n  // thinking in terms of Dom node nesting, running counter\n  // to React's 'you shouldn't care about the DOM' philosophy.\n\n\n  while (current.parentNode) {\n    if (isNodeFound(current, componentNode, ignoreClass)) {\n      return true;\n    }\n\n    current = current.parentNode;\n  }\n\n  return current;\n}\n/**\n * Check if the browser scrollbar was clicked\n */\n\nfunction clickedScrollbar(evt) {\n  return document.documentElement.clientWidth <= evt.clientX || document.documentElement.clientHeight <= evt.clientY;\n}\n\n// ideally will get replaced with external dep\n// when rafrex/detect-passive-events#4 and rafrex/detect-passive-events#5 get merged in\nvar testPassiveEventSupport = function testPassiveEventSupport() {\n  if (typeof window === 'undefined' || typeof window.addEventListener !== 'function') {\n    return;\n  }\n\n  var passive = false;\n  var options = Object.defineProperty({}, 'passive', {\n    get: function get() {\n      passive = true;\n    }\n  });\n\n  var noop = function noop() {};\n\n  window.addEventListener('testPassiveEventSupport', noop, options);\n  window.removeEventListener('testPassiveEventSupport', noop, options);\n  return passive;\n};\n\nfunction autoInc(seed) {\n  if (seed === void 0) {\n    seed = 0;\n  }\n\n  return function () {\n    return ++seed;\n  };\n}\n\nvar uid = autoInc();\n\nvar passiveEventSupport;\nvar handlersMap = {};\nvar enabledInstances = {};\nvar touchEvents = ['touchstart', 'touchmove'];\nvar IGNORE_CLASS_NAME = 'ignore-react-onclickoutside';\n/**\n * Options for addEventHandler and removeEventHandler\n */\n\nfunction getEventHandlerOptions(instance, eventName) {\n  var handlerOptions = null;\n  var isTouchEvent = touchEvents.indexOf(eventName) !== -1;\n\n  if (isTouchEvent && passiveEventSupport) {\n    handlerOptions = {\n      passive: !instance.props.preventDefault\n    };\n  }\n\n  return handlerOptions;\n}\n/**\n * This function generates the HOC function that you'll use\n * in order to impart onOutsideClick listening to an\n * arbitrary component. It gets called at the end of the\n * bootstrapping code to yield an instance of the\n * onClickOutsideHOC function defined inside setupHOC().\n */\n\n\nfunction onClickOutsideHOC(WrappedComponent, config) {\n  var _class, _temp;\n\n  var componentName = WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  return _temp = _class =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(onClickOutside, _Component);\n\n    function onClickOutside(props) {\n      var _this;\n\n      _this = _Component.call(this, props) || this;\n\n      _this.__outsideClickHandler = function (event) {\n        if (typeof _this.__clickOutsideHandlerProp === 'function') {\n          _this.__clickOutsideHandlerProp(event);\n\n          return;\n        }\n\n        var instance = _this.getInstance();\n\n        if (typeof instance.props.handleClickOutside === 'function') {\n          instance.props.handleClickOutside(event);\n          return;\n        }\n\n        if (typeof instance.handleClickOutside === 'function') {\n          instance.handleClickOutside(event);\n          return;\n        }\n\n        throw new Error(\"WrappedComponent: \" + componentName + \" lacks a handleClickOutside(event) function for processing outside click events.\");\n      };\n\n      _this.__getComponentNode = function () {\n        var instance = _this.getInstance();\n\n        if (config && typeof config.setClickOutsideRef === 'function') {\n          return config.setClickOutsideRef()(instance);\n        }\n\n        if (typeof instance.setClickOutsideRef === 'function') {\n          return instance.setClickOutsideRef();\n        }\n\n        return findDOMNode(instance);\n      };\n\n      _this.enableOnClickOutside = function () {\n        if (typeof document === 'undefined' || enabledInstances[_this._uid]) {\n          return;\n        }\n\n        if (typeof passiveEventSupport === 'undefined') {\n          passiveEventSupport = testPassiveEventSupport();\n        }\n\n        enabledInstances[_this._uid] = true;\n        var events = _this.props.eventTypes;\n\n        if (!events.forEach) {\n          events = [events];\n        }\n\n        handlersMap[_this._uid] = function (event) {\n          if (_this.componentNode === null) return;\n\n          if (_this.props.preventDefault) {\n            event.preventDefault();\n          }\n\n          if (_this.props.stopPropagation) {\n            event.stopPropagation();\n          }\n\n          if (_this.props.excludeScrollbar && clickedScrollbar(event)) return;\n          var current = event.target;\n\n          if (findHighest(current, _this.componentNode, _this.props.outsideClickIgnoreClass) !== document) {\n            return;\n          }\n\n          _this.__outsideClickHandler(event);\n        };\n\n        events.forEach(function (eventName) {\n          document.addEventListener(eventName, handlersMap[_this._uid], getEventHandlerOptions(_this, eventName));\n        });\n      };\n\n      _this.disableOnClickOutside = function () {\n        delete enabledInstances[_this._uid];\n        var fn = handlersMap[_this._uid];\n\n        if (fn && typeof document !== 'undefined') {\n          var events = _this.props.eventTypes;\n\n          if (!events.forEach) {\n            events = [events];\n          }\n\n          events.forEach(function (eventName) {\n            return document.removeEventListener(eventName, fn, getEventHandlerOptions(_this, eventName));\n          });\n          delete handlersMap[_this._uid];\n        }\n      };\n\n      _this.getRef = function (ref) {\n        return _this.instanceRef = ref;\n      };\n\n      _this._uid = uid();\n      return _this;\n    }\n    /**\n     * Access the WrappedComponent's instance.\n     */\n\n\n    var _proto = onClickOutside.prototype;\n\n    _proto.getInstance = function getInstance() {\n      if (!WrappedComponent.prototype.isReactComponent) {\n        return this;\n      }\n\n      var ref = this.instanceRef;\n      return ref.getInstance ? ref.getInstance() : ref;\n    };\n\n    /**\n     * Add click listeners to the current document,\n     * linked to this component's state.\n     */\n    _proto.componentDidMount = function componentDidMount() {\n      // If we are in an environment without a DOM such\n      // as shallow rendering or snapshots then we exit\n      // early to prevent any unhandled errors being thrown.\n      if (typeof document === 'undefined' || !document.createElement) {\n        return;\n      }\n\n      var instance = this.getInstance();\n\n      if (config && typeof config.handleClickOutside === 'function') {\n        this.__clickOutsideHandlerProp = config.handleClickOutside(instance);\n\n        if (typeof this.__clickOutsideHandlerProp !== 'function') {\n          throw new Error(\"WrappedComponent: \" + componentName + \" lacks a function for processing outside click events specified by the handleClickOutside config option.\");\n        }\n      }\n\n      this.componentNode = this.__getComponentNode(); // return early so we dont initiate onClickOutside\n\n      if (this.props.disableOnClickOutside) return;\n      this.enableOnClickOutside();\n    };\n\n    _proto.componentDidUpdate = function componentDidUpdate() {\n      this.componentNode = this.__getComponentNode();\n    };\n    /**\n     * Remove all document's event listeners for this component\n     */\n\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      this.disableOnClickOutside();\n    };\n    /**\n     * Can be called to explicitly enable event listening\n     * for clicks and touches outside of this element.\n     */\n\n\n    /**\n     * Pass-through render\n     */\n    _proto.render = function render() {\n      // eslint-disable-next-line no-unused-vars\n      var _props = this.props,\n          excludeScrollbar = _props.excludeScrollbar,\n          props = _objectWithoutProperties(_props, [\"excludeScrollbar\"]);\n\n      if (WrappedComponent.prototype.isReactComponent) {\n        props.ref = this.getRef;\n      } else {\n        props.wrappedRef = this.getRef;\n      }\n\n      props.disableOnClickOutside = this.disableOnClickOutside;\n      props.enableOnClickOutside = this.enableOnClickOutside;\n      return createElement(WrappedComponent, props);\n    };\n\n    return onClickOutside;\n  }(Component), _class.displayName = \"OnClickOutside(\" + componentName + \")\", _class.defaultProps = {\n    eventTypes: ['mousedown', 'touchstart'],\n    excludeScrollbar: config && config.excludeScrollbar || false,\n    outsideClickIgnoreClass: IGNORE_CLASS_NAME,\n    preventDefault: false,\n    stopPropagation: false\n  }, _class.getClass = function () {\n    return WrappedComponent.getClass ? WrappedComponent.getClass() : WrappedComponent;\n  }, _temp;\n}\n\nexport { IGNORE_CLASS_NAME };\nexport default onClickOutsideHOC;\n","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (file, acceptedFiles) {\n  if (file && acceptedFiles) {\n    var acceptedFilesArray = Array.isArray(acceptedFiles) ? acceptedFiles : acceptedFiles.split(',');\n    var fileName = file.name || '';\n    var mimeType = (file.type || '').toLowerCase();\n    var baseMimeType = mimeType.replace(/\\/.*$/, '');\n    return acceptedFilesArray.some(function (type) {\n      var validType = type.trim().toLowerCase();\n\n      if (validType.charAt(0) === '.') {\n        return fileName.toLowerCase().endsWith(validType);\n      } else if (validType.endsWith('/*')) {\n        // This is something like a image/* mime type\n        return baseMimeType === validType.replace(/\\/.*$/, '');\n      }\n\n      return mimeType === validType;\n    });\n  }\n\n  return true;\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _assign = require(\"../core-js/object/assign\");\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _assign2.default || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};","module.exports = { \"default\": require(\"core-js/library/fn/object/assign\"), __esModule: true };","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || isEnum.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","module.exports = { \"default\": require(\"core-js/library/fn/object/get-prototype-of\"), __esModule: true };","require('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/_core').Object.getPrototypeOf;\n","// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./_to-object');\nvar $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","\"use strict\";\n\nexports.__esModule = true;\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};","module.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","require('./es6.array.iterator');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar TO_STRING_TAG = require('./_wks')('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","module.exports = function () { /* empty */ };\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","module.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toObject = require('./_to-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $GOPS = require('./_object-gops');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function' && !!$GOPS.f;\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  $GOPS.f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\nvar FAILS_ON_PRIMITIVES = $fails(function () { $GOPS.f(1); });\n\n$export($export.S + $export.F * FAILS_ON_PRIMITIVES, 'Object', {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return $GOPS.f(toObject(it));\n  }\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","require('./_wks-define')('asyncIterator');\n","require('./_wks-define')('observable');\n","\"use strict\";\n\nexports.__esModule = true;\n\nvar _setPrototypeOf = require(\"../core-js/object/set-prototype-of\");\n\nvar _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);\n\nvar _create = require(\"../core-js/object/create\");\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(superClass)));\n  }\n\n  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;\n};","module.exports = { \"default\": require(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };","require('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/_core').Object.setPrototypeOf;\n","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', { setPrototypeOf: require('./_set-proto').set });\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","module.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };","require('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n","var $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n","(typeof navigator !== \"undefined\") && (function(root, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define(function() {\n            return factory(root);\n        });\n    } else if (typeof module === \"object\" && module.exports) {\n        module.exports = factory(root);\n    } else {\n        root.lottie = factory(root);\n        root.bodymovin = root.lottie;\n    }\n}((window || {}), function(window) {\n\t\"use strict\";\r\nvar svgNS = \"http://www.w3.org/2000/svg\";\r\n\r\nvar locationHref = '';\r\n\r\nvar initialDefaultFrame = -999999;\r\n\r\nvar subframeEnabled = true;\r\nvar expressionsPlugin;\r\nvar isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\r\nvar cachedColors = {};\r\nvar bm_rounder = Math.round;\r\nvar bm_rnd;\r\nvar bm_pow = Math.pow;\r\nvar bm_sqrt = Math.sqrt;\r\nvar bm_abs = Math.abs;\r\nvar bm_floor = Math.floor;\r\nvar bm_max = Math.max;\r\nvar bm_min = Math.min;\r\nvar blitter = 10;\r\n\r\nvar BMMath = {};\r\n(function(){\r\n    var propertyNames = [\"abs\", \"acos\", \"acosh\", \"asin\", \"asinh\", \"atan\", \"atanh\", \"atan2\", \"ceil\", \"cbrt\", \"expm1\", \"clz32\", \"cos\", \"cosh\", \"exp\", \"floor\", \"fround\", \"hypot\", \"imul\", \"log\", \"log1p\", \"log2\", \"log10\", \"max\", \"min\", \"pow\", \"random\", \"round\", \"sign\", \"sin\", \"sinh\", \"sqrt\", \"tan\", \"tanh\", \"trunc\", \"E\", \"LN10\", \"LN2\", \"LOG10E\", \"LOG2E\", \"PI\", \"SQRT1_2\", \"SQRT2\"];\r\n    var i, len = propertyNames.length;\r\n    for(i=0;i<len;i+=1){\r\n        BMMath[propertyNames[i]] = Math[propertyNames[i]];\r\n    }\r\n}());\r\n\r\nfunction ProjectInterface(){return {};}\r\n\r\nBMMath.random = Math.random;\r\nBMMath.abs = function(val){\r\n    var tOfVal = typeof val;\r\n    if(tOfVal === 'object' && val.length){\r\n        var absArr = createSizedArray(val.length);\r\n        var i, len = val.length;\r\n        for(i=0;i<len;i+=1){\r\n            absArr[i] = Math.abs(val[i]);\r\n        }\r\n        return absArr;\r\n    }\r\n    return Math.abs(val);\r\n\r\n};\r\nvar defaultCurveSegments = 150;\r\nvar degToRads = Math.PI/180;\r\nvar roundCorner = 0.5519;\r\n\r\nfunction roundValues(flag){\r\n    if(flag){\r\n        bm_rnd = Math.round;\r\n    }else{\r\n        bm_rnd = function(val){\r\n            return val;\r\n        };\r\n    }\r\n}\r\nroundValues(false);\r\n\r\nfunction styleDiv(element){\r\n    element.style.position = 'absolute';\r\n    element.style.top = 0;\r\n    element.style.left = 0;\r\n    element.style.display = 'block';\r\n    element.style.transformOrigin = element.style.webkitTransformOrigin = '0 0';\r\n    element.style.backfaceVisibility  = element.style.webkitBackfaceVisibility = 'visible';\r\n    element.style.transformStyle = element.style.webkitTransformStyle = element.style.mozTransformStyle = \"preserve-3d\";\r\n}\r\n\r\nfunction BMEnterFrameEvent(type, currentTime, totalTime, frameMultiplier){\r\n    this.type = type;\r\n    this.currentTime = currentTime;\r\n    this.totalTime = totalTime;\r\n    this.direction = frameMultiplier < 0 ? -1 : 1;\r\n}\r\n\r\nfunction BMCompleteEvent(type, frameMultiplier){\r\n    this.type = type;\r\n    this.direction = frameMultiplier < 0 ? -1 : 1;\r\n}\r\n\r\nfunction BMCompleteLoopEvent(type, totalLoops, currentLoop, frameMultiplier){\r\n    this.type = type;\r\n    this.currentLoop = currentLoop;\r\n    this.totalLoops = totalLoops;\r\n    this.direction = frameMultiplier < 0 ? -1 : 1;\r\n}\r\n\r\nfunction BMSegmentStartEvent(type, firstFrame, totalFrames){\r\n    this.type = type;\r\n    this.firstFrame = firstFrame;\r\n    this.totalFrames = totalFrames;\r\n}\r\n\r\nfunction BMDestroyEvent(type, target){\r\n    this.type = type;\r\n    this.target = target;\r\n}\r\n\r\nfunction BMRenderFrameErrorEvent(nativeError, currentTime) {\r\n    this.type = 'renderFrameError';\r\n    this.nativeError = nativeError;\r\n    this.currentTime = currentTime;\r\n}\r\n\r\nfunction BMConfigErrorEvent(nativeError) {\r\n    this.type = 'configError';\r\n    this.nativeError = nativeError;\r\n}\r\n\r\nfunction BMAnimationConfigErrorEvent(type, nativeError) {\r\n    this.type = type;\r\n    this.nativeError = nativeError;\r\n    this.currentTime = currentTime;\r\n}\r\n\r\nvar createElementID = (function(){\r\n    var _count = 0;\r\n    return function createID() {\r\n        return '__lottie_element_' + ++_count\r\n    }\r\n}())\r\n\r\nfunction HSVtoRGB(h, s, v) {\r\n    var r, g, b, i, f, p, q, t;\r\n    i = Math.floor(h * 6);\r\n    f = h * 6 - i;\r\n    p = v * (1 - s);\r\n    q = v * (1 - f * s);\r\n    t = v * (1 - (1 - f) * s);\r\n    switch (i % 6) {\r\n        case 0: r = v; g = t; b = p; break;\r\n        case 1: r = q; g = v; b = p; break;\r\n        case 2: r = p; g = v; b = t; break;\r\n        case 3: r = p; g = q; b = v; break;\r\n        case 4: r = t; g = p; b = v; break;\r\n        case 5: r = v; g = p; b = q; break;\r\n    }\r\n    return [ r,\r\n        g,\r\n         b ];\r\n}\r\n\r\nfunction RGBtoHSV(r, g, b) {\r\n    var max = Math.max(r, g, b), min = Math.min(r, g, b),\r\n        d = max - min,\r\n        h,\r\n        s = (max === 0 ? 0 : d / max),\r\n        v = max / 255;\r\n\r\n    switch (max) {\r\n        case min: h = 0; break;\r\n        case r: h = (g - b) + d * (g < b ? 6: 0); h /= 6 * d; break;\r\n        case g: h = (b - r) + d * 2; h /= 6 * d; break;\r\n        case b: h = (r - g) + d * 4; h /= 6 * d; break;\r\n    }\r\n\r\n    return [\r\n         h,\r\n         s,\r\n         v\r\n    ];\r\n}\r\n\r\nfunction addSaturationToRGB(color,offset){\r\n    var hsv = RGBtoHSV(color[0]*255,color[1]*255,color[2]*255);\r\n    hsv[1] += offset;\r\n    if (hsv[1] > 1) {\r\n        hsv[1] = 1;\r\n    }\r\n    else if (hsv[1] <= 0) {\r\n        hsv[1] = 0;\r\n    }\r\n    return HSVtoRGB(hsv[0],hsv[1],hsv[2]);\r\n}\r\n\r\nfunction addBrightnessToRGB(color,offset){\r\n    var hsv = RGBtoHSV(color[0]*255,color[1]*255,color[2]*255);\r\n    hsv[2] += offset;\r\n    if (hsv[2] > 1) {\r\n        hsv[2] = 1;\r\n    }\r\n    else if (hsv[2] < 0) {\r\n        hsv[2] = 0;\r\n    }\r\n    return HSVtoRGB(hsv[0],hsv[1],hsv[2]);\r\n}\r\n\r\nfunction addHueToRGB(color,offset) {\r\n    var hsv = RGBtoHSV(color[0]*255,color[1]*255,color[2]*255);\r\n    hsv[0] += offset/360;\r\n    if (hsv[0] > 1) {\r\n        hsv[0] -= 1;\r\n    }\r\n    else if (hsv[0] < 0) {\r\n        hsv[0] += 1;\r\n    }\r\n    return HSVtoRGB(hsv[0],hsv[1],hsv[2]);\r\n}\r\n\r\nvar rgbToHex = (function(){\r\n    var colorMap = [];\r\n    var i;\r\n    var hex;\r\n    for(i=0;i<256;i+=1){\r\n        hex = i.toString(16);\r\n        colorMap[i] = hex.length == 1 ? '0' + hex : hex;\r\n    }\r\n\r\n    return function(r, g, b) {\r\n        if(r<0){\r\n            r = 0;\r\n        }\r\n        if(g<0){\r\n            g = 0;\r\n        }\r\n        if(b<0){\r\n            b = 0;\r\n        }\r\n        return '#' + colorMap[r] + colorMap[g] + colorMap[b];\r\n    };\r\n}());\r\nfunction BaseEvent(){}\r\nBaseEvent.prototype = {\r\n\ttriggerEvent: function (eventName, args) {\r\n\t    if (this._cbs[eventName]) {\r\n\t        var len = this._cbs[eventName].length;\r\n\t        for (var i = 0; i < len; i++){\r\n\t            this._cbs[eventName][i](args);\r\n\t        }\r\n\t    }\r\n\t},\r\n\taddEventListener: function (eventName, callback) {\r\n\t    if (!this._cbs[eventName]){\r\n\t        this._cbs[eventName] = [];\r\n\t    }\r\n\t    this._cbs[eventName].push(callback);\r\n\r\n\t\treturn function() {\r\n\t\t\tthis.removeEventListener(eventName, callback);\r\n\t\t}.bind(this);\r\n\t},\r\n\tremoveEventListener: function (eventName,callback){\r\n\t    if (!callback){\r\n\t        this._cbs[eventName] = null;\r\n\t    }else if(this._cbs[eventName]){\r\n\t        var i = 0, len = this._cbs[eventName].length;\r\n\t        while(i<len){\r\n\t            if(this._cbs[eventName][i] === callback){\r\n\t                this._cbs[eventName].splice(i,1);\r\n\t                i -=1;\r\n\t                len -= 1;\r\n\t            }\r\n\t            i += 1;\r\n\t        }\r\n\t        if(!this._cbs[eventName].length){\r\n\t            this._cbs[eventName] = null;\r\n\t        }\r\n\t    }\r\n\t}\r\n};\r\nvar createTypedArray = (function(){\r\n\tfunction createRegularArray(type, len){\r\n\t\tvar i = 0, arr = [], value;\r\n\t\tswitch(type) {\r\n\t\t\tcase 'int16':\r\n\t\t\tcase 'uint8c':\r\n\t\t\t\tvalue = 1;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tvalue = 1.1;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\tarr.push(value);\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\tfunction createTypedArray(type, len){\r\n\t\tif(type === 'float32') {\r\n\t\t\treturn new Float32Array(len);\r\n\t\t} else if(type === 'int16') {\r\n\t\t\treturn new Int16Array(len);\r\n\t\t} else if(type === 'uint8c') {\r\n\t\t\treturn new Uint8ClampedArray(len);\r\n\t\t}\r\n\t}\r\n\tif(typeof Uint8ClampedArray === 'function' && typeof Float32Array === 'function') {\r\n\t\treturn createTypedArray;\r\n\t} else {\r\n\t\treturn createRegularArray;\r\n\t}\r\n}());\r\n\r\nfunction createSizedArray(len) {\r\n\treturn Array.apply(null,{length:len});\r\n}\r\nfunction createNS(type) {\r\n\t//return {appendChild:function(){},setAttribute:function(){},style:{}}\r\n\treturn document.createElementNS(svgNS, type);\r\n}\r\nfunction createTag(type) {\r\n\t//return {appendChild:function(){},setAttribute:function(){},style:{}}\r\n\treturn document.createElement(type);\r\n}\r\nfunction DynamicPropertyContainer(){};\r\nDynamicPropertyContainer.prototype = {\r\n\taddDynamicProperty: function(prop) {\r\n\t\tif(this.dynamicProperties.indexOf(prop) === -1) {\r\n\t        this.dynamicProperties.push(prop);\r\n\t        this.container.addDynamicProperty(this);\r\n\t    \tthis._isAnimated = true;\r\n\t    }\r\n\t},\r\n\titerateDynamicProperties: function(){\r\n\t    this._mdf = false;\r\n\t    var i, len = this.dynamicProperties.length;\r\n\t    for(i=0;i<len;i+=1){\r\n\t        this.dynamicProperties[i].getValue();\r\n\t        if(this.dynamicProperties[i]._mdf) {\r\n\t            this._mdf = true;\r\n\t        }\r\n\t    }\r\n\t},\r\n\tinitDynamicPropertyContainer: function(container){\r\n\t    this.container = container;\r\n\t    this.dynamicProperties = [];\r\n\t    this._mdf = false;\r\n\t    this._isAnimated = false;\r\n\t}\r\n}\r\nvar getBlendMode = (function() {\r\n\r\n\tvar blendModeEnums = {\r\n        0:'source-over',\r\n        1:'multiply',\r\n        2:'screen',\r\n        3:'overlay',\r\n        4:'darken',\r\n        5:'lighten',\r\n        6:'color-dodge',\r\n        7:'color-burn',\r\n        8:'hard-light',\r\n        9:'soft-light',\r\n        10:'difference',\r\n        11:'exclusion',\r\n        12:'hue',\r\n        13:'saturation',\r\n        14:'color',\r\n        15:'luminosity'\r\n    }\r\n\r\n\treturn function(mode) {\r\n\t\treturn blendModeEnums[mode] || '';\r\n\t}\r\n}())\r\n/*!\r\n Transformation Matrix v2.0\r\n (c) Epistemex 2014-2015\r\n www.epistemex.com\r\n By Ken Fyrstenberg\r\n Contributions by leeoniya.\r\n License: MIT, header required.\r\n */\r\n\r\n/**\r\n * 2D transformation matrix object initialized with identity matrix.\r\n *\r\n * The matrix can synchronize a canvas context by supplying the context\r\n * as an argument, or later apply current absolute transform to an\r\n * existing context.\r\n *\r\n * All values are handled as floating point values.\r\n *\r\n * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\r\n * @prop {number} a - scale x\r\n * @prop {number} b - shear y\r\n * @prop {number} c - shear x\r\n * @prop {number} d - scale y\r\n * @prop {number} e - translate x\r\n * @prop {number} f - translate y\r\n * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\r\n * @constructor\r\n */\r\n\r\nvar Matrix = (function(){\r\n\r\n    var _cos = Math.cos;\r\n    var _sin = Math.sin;\r\n    var _tan = Math.tan;\r\n    var _rnd = Math.round;\r\n\r\n    function reset(){\r\n        this.props[0] = 1;\r\n        this.props[1] = 0;\r\n        this.props[2] = 0;\r\n        this.props[3] = 0;\r\n        this.props[4] = 0;\r\n        this.props[5] = 1;\r\n        this.props[6] = 0;\r\n        this.props[7] = 0;\r\n        this.props[8] = 0;\r\n        this.props[9] = 0;\r\n        this.props[10] = 1;\r\n        this.props[11] = 0;\r\n        this.props[12] = 0;\r\n        this.props[13] = 0;\r\n        this.props[14] = 0;\r\n        this.props[15] = 1;\r\n        return this;\r\n    }\r\n\r\n    function rotate(angle) {\r\n        if(angle === 0){\r\n            return this;\r\n        }\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(mCos, -mSin,  0, 0, mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function rotateX(angle){\r\n        if(angle === 0){\r\n            return this;\r\n        }\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(1, 0, 0, 0, 0, mCos, -mSin, 0, 0, mSin,  mCos, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function rotateY(angle){\r\n        if(angle === 0){\r\n            return this;\r\n        }\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(mCos,  0,  mSin, 0, 0, 1, 0, 0, -mSin,  0,  mCos, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function rotateZ(angle){\r\n        if(angle === 0){\r\n            return this;\r\n        }\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(mCos, -mSin,  0, 0, mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function shear(sx,sy){\r\n        return this._t(1, sy, sx, 1, 0, 0);\r\n    }\r\n\r\n    function skew(ax, ay){\r\n        return this.shear(_tan(ax), _tan(ay));\r\n    }\r\n\r\n    function skewFromAxis(ax, angle){\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(mCos, mSin,  0, 0, -mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1)\r\n            ._t(1, 0,  0, 0, _tan(ax),  1, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1)\r\n            ._t(mCos, -mSin,  0, 0, mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1);\r\n        //return this._t(mCos, mSin, -mSin, mCos, 0, 0)._t(1, 0, _tan(ax), 1, 0, 0)._t(mCos, -mSin, mSin, mCos, 0, 0);\r\n    }\r\n\r\n    function scale(sx, sy, sz) {\r\n        if(!sz && sz !== 0) {\r\n            sz = 1;\r\n        }\r\n        if(sx === 1 && sy === 1 && sz === 1){\r\n            return this;\r\n        }\r\n        return this._t(sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function setTransform(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {\r\n        this.props[0] = a;\r\n        this.props[1] = b;\r\n        this.props[2] = c;\r\n        this.props[3] = d;\r\n        this.props[4] = e;\r\n        this.props[5] = f;\r\n        this.props[6] = g;\r\n        this.props[7] = h;\r\n        this.props[8] = i;\r\n        this.props[9] = j;\r\n        this.props[10] = k;\r\n        this.props[11] = l;\r\n        this.props[12] = m;\r\n        this.props[13] = n;\r\n        this.props[14] = o;\r\n        this.props[15] = p;\r\n        return this;\r\n    }\r\n\r\n    function translate(tx, ty, tz) {\r\n        tz = tz || 0;\r\n        if(tx !== 0 || ty !== 0 || tz !== 0){\r\n            return this._t(1,0,0,0,0,1,0,0,0,0,1,0,tx,ty,tz,1);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    function transform(a2, b2, c2, d2, e2, f2, g2, h2, i2, j2, k2, l2, m2, n2, o2, p2) {\r\n\r\n        var _p = this.props;\r\n\r\n        if(a2 === 1 && b2 === 0 && c2 === 0 && d2 === 0 && e2 === 0 && f2 === 1 && g2 === 0 && h2 === 0 && i2 === 0 && j2 === 0 && k2 === 1 && l2 === 0){\r\n            //NOTE: commenting this condition because TurboFan deoptimizes code when present\r\n            //if(m2 !== 0 || n2 !== 0 || o2 !== 0){\r\n                _p[12] = _p[12] * a2 + _p[15] * m2;\r\n                _p[13] = _p[13] * f2 + _p[15] * n2;\r\n                _p[14] = _p[14] * k2 + _p[15] * o2;\r\n                _p[15] = _p[15] * p2;\r\n            //}\r\n            this._identityCalculated = false;\r\n            return this;\r\n        }\r\n\r\n        var a1 = _p[0];\r\n        var b1 = _p[1];\r\n        var c1 = _p[2];\r\n        var d1 = _p[3];\r\n        var e1 = _p[4];\r\n        var f1 = _p[5];\r\n        var g1 = _p[6];\r\n        var h1 = _p[7];\r\n        var i1 = _p[8];\r\n        var j1 = _p[9];\r\n        var k1 = _p[10];\r\n        var l1 = _p[11];\r\n        var m1 = _p[12];\r\n        var n1 = _p[13];\r\n        var o1 = _p[14];\r\n        var p1 = _p[15];\r\n\r\n        /* matrix order (canvas compatible):\r\n         * ace\r\n         * bdf\r\n         * 001\r\n         */\r\n        _p[0] = a1 * a2 + b1 * e2 + c1 * i2 + d1 * m2;\r\n        _p[1] = a1 * b2 + b1 * f2 + c1 * j2 + d1 * n2 ;\r\n        _p[2] = a1 * c2 + b1 * g2 + c1 * k2 + d1 * o2 ;\r\n        _p[3] = a1 * d2 + b1 * h2 + c1 * l2 + d1 * p2 ;\r\n\r\n        _p[4] = e1 * a2 + f1 * e2 + g1 * i2 + h1 * m2 ;\r\n        _p[5] = e1 * b2 + f1 * f2 + g1 * j2 + h1 * n2 ;\r\n        _p[6] = e1 * c2 + f1 * g2 + g1 * k2 + h1 * o2 ;\r\n        _p[7] = e1 * d2 + f1 * h2 + g1 * l2 + h1 * p2 ;\r\n\r\n        _p[8] = i1 * a2 + j1 * e2 + k1 * i2 + l1 * m2 ;\r\n        _p[9] = i1 * b2 + j1 * f2 + k1 * j2 + l1 * n2 ;\r\n        _p[10] = i1 * c2 + j1 * g2 + k1 * k2 + l1 * o2 ;\r\n        _p[11] = i1 * d2 + j1 * h2 + k1 * l2 + l1 * p2 ;\r\n\r\n        _p[12] = m1 * a2 + n1 * e2 + o1 * i2 + p1 * m2 ;\r\n        _p[13] = m1 * b2 + n1 * f2 + o1 * j2 + p1 * n2 ;\r\n        _p[14] = m1 * c2 + n1 * g2 + o1 * k2 + p1 * o2 ;\r\n        _p[15] = m1 * d2 + n1 * h2 + o1 * l2 + p1 * p2 ;\r\n\r\n        this._identityCalculated = false;\r\n        return this;\r\n    }\r\n\r\n    function isIdentity() {\r\n        if(!this._identityCalculated){\r\n            this._identity = !(this.props[0] !== 1 || this.props[1] !== 0 || this.props[2] !== 0 || this.props[3] !== 0 || this.props[4] !== 0 || this.props[5] !== 1 || this.props[6] !== 0 || this.props[7] !== 0 || this.props[8] !== 0 || this.props[9] !== 0 || this.props[10] !== 1 || this.props[11] !== 0 || this.props[12] !== 0 || this.props[13] !== 0 || this.props[14] !== 0 || this.props[15] !== 1);\r\n            this._identityCalculated = true;\r\n        }\r\n        return this._identity;\r\n    }\r\n\r\n    function equals(matr){\r\n        var i = 0;\r\n        while (i < 16) {\r\n            if(matr.props[i] !== this.props[i]) {\r\n                return false;\r\n            }\r\n            i+=1;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    function clone(matr){\r\n        var i;\r\n        for(i=0;i<16;i+=1){\r\n            matr.props[i] = this.props[i];\r\n        }\r\n    }\r\n\r\n    function cloneFromProps(props){\r\n        var i;\r\n        for(i=0;i<16;i+=1){\r\n            this.props[i] = props[i];\r\n        }\r\n    }\r\n\r\n    function applyToPoint(x, y, z) {\r\n\r\n        return {\r\n            x: x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\r\n            y: x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\r\n            z: x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]\r\n        };\r\n        /*return {\r\n         x: x * me.a + y * me.c + me.e,\r\n         y: x * me.b + y * me.d + me.f\r\n         };*/\r\n    }\r\n    function applyToX(x, y, z) {\r\n        return x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12];\r\n    }\r\n    function applyToY(x, y, z) {\r\n        return x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13];\r\n    }\r\n    function applyToZ(x, y, z) {\r\n        return x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14];\r\n    }\r\n\r\n    function getInverseMatrix() {\r\n        var determinant = this.props[0] * this.props[5] - this.props[1] * this.props[4];\r\n        var a = this.props[5]/determinant;\r\n        var b = - this.props[1]/determinant;\r\n        var c = - this.props[4]/determinant;\r\n        var d = this.props[0]/determinant;\r\n        var e = (this.props[4] * this.props[13] - this.props[5] * this.props[12])/determinant;\r\n        var f = - (this.props[0] * this.props[13] - this.props[1] * this.props[12])/determinant;\r\n        var inverseMatrix = new Matrix();\r\n        inverseMatrix.props[0] = a;\r\n        inverseMatrix.props[1] = b;\r\n        inverseMatrix.props[4] = c;\r\n        inverseMatrix.props[5] = d;\r\n        inverseMatrix.props[12] = e;\r\n        inverseMatrix.props[13] = f;\r\n        return inverseMatrix;\r\n    }\r\n\r\n    function inversePoint(pt) {\r\n        var inverseMatrix = this.getInverseMatrix();\r\n        return inverseMatrix.applyToPointArray(pt[0], pt[1], pt[2] || 0)\r\n    }\r\n\r\n    function inversePoints(pts){\r\n        var i, len = pts.length, retPts = [];\r\n        for(i=0;i<len;i+=1){\r\n            retPts[i] = inversePoint(pts[i]);\r\n        }\r\n        return retPts;\r\n    }\r\n\r\n    function applyToTriplePoints(pt1, pt2, pt3) {\r\n        var arr = createTypedArray('float32', 6);\r\n        if(this.isIdentity()) {\r\n            arr[0] = pt1[0];\r\n            arr[1] = pt1[1];\r\n            arr[2] = pt2[0];\r\n            arr[3] = pt2[1];\r\n            arr[4] = pt3[0];\r\n            arr[5] = pt3[1];\r\n        } else {\r\n            var p0 = this.props[0], p1 = this.props[1], p4 = this.props[4], p5 = this.props[5], p12 = this.props[12], p13 = this.props[13];\r\n            arr[0] = pt1[0] * p0 + pt1[1] * p4 + p12;\r\n            arr[1] = pt1[0] * p1 + pt1[1] * p5 + p13;\r\n            arr[2] = pt2[0] * p0 + pt2[1] * p4 + p12;\r\n            arr[3] = pt2[0] * p1 + pt2[1] * p5 + p13;\r\n            arr[4] = pt3[0] * p0 + pt3[1] * p4 + p12;\r\n            arr[5] = pt3[0] * p1 + pt3[1] * p5 + p13;\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    function applyToPointArray(x,y,z){\r\n        var arr;\r\n        if(this.isIdentity()) {\r\n            arr = [x,y,z];\r\n        } else {\r\n            arr = [\r\n                x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\r\n                x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\r\n                x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]\r\n            ];\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    function applyToPointStringified(x, y) {\r\n        if(this.isIdentity()) {\r\n            return x + ',' + y;\r\n        }\r\n        var _p = this.props;\r\n        return Math.round((x * _p[0] + y * _p[4] + _p[12]) * 100) / 100+','+ Math.round((x * _p[1] + y * _p[5] + _p[13]) * 100) / 100;\r\n    }\r\n\r\n    function toCSS() {\r\n        //Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\r\n        /*if(this.isIdentity()) {\r\n            return '';\r\n        }*/\r\n        var i = 0;\r\n        var props = this.props;\r\n        var cssValue = 'matrix3d(';\r\n        var v = 10000;\r\n        while(i<16){\r\n            cssValue += _rnd(props[i]*v)/v;\r\n            cssValue += i === 15 ? ')':',';\r\n            i += 1;\r\n        }\r\n        return cssValue;\r\n    }\r\n\r\n    function roundMatrixProperty(val) {\r\n        var v = 10000;\r\n        if((val < 0.000001 && val > 0) || (val > -0.000001 && val < 0)) {\r\n            return _rnd(val * v) / v;\r\n        }\r\n        return val;\r\n    }\r\n\r\n    function to2dCSS() {\r\n        //Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\r\n        /*if(this.isIdentity()) {\r\n            return '';\r\n        }*/\r\n        var props = this.props;\r\n        var _a = roundMatrixProperty(props[0]);\r\n        var _b = roundMatrixProperty(props[1]);\r\n        var _c = roundMatrixProperty(props[4]);\r\n        var _d = roundMatrixProperty(props[5]);\r\n        var _e = roundMatrixProperty(props[12]);\r\n        var _f = roundMatrixProperty(props[13]);\r\n        return \"matrix(\" + _a + ',' + _b + ',' + _c + ',' + _d + ',' + _e + ',' + _f + \")\";\r\n    }\r\n\r\n    return function(){\r\n        this.reset = reset;\r\n        this.rotate = rotate;\r\n        this.rotateX = rotateX;\r\n        this.rotateY = rotateY;\r\n        this.rotateZ = rotateZ;\r\n        this.skew = skew;\r\n        this.skewFromAxis = skewFromAxis;\r\n        this.shear = shear;\r\n        this.scale = scale;\r\n        this.setTransform = setTransform;\r\n        this.translate = translate;\r\n        this.transform = transform;\r\n        this.applyToPoint = applyToPoint;\r\n        this.applyToX = applyToX;\r\n        this.applyToY = applyToY;\r\n        this.applyToZ = applyToZ;\r\n        this.applyToPointArray = applyToPointArray;\r\n        this.applyToTriplePoints = applyToTriplePoints;\r\n        this.applyToPointStringified = applyToPointStringified;\r\n        this.toCSS = toCSS;\r\n        this.to2dCSS = to2dCSS;\r\n        this.clone = clone;\r\n        this.cloneFromProps = cloneFromProps;\r\n        this.equals = equals;\r\n        this.inversePoints = inversePoints;\r\n        this.inversePoint = inversePoint;\r\n        this.getInverseMatrix = getInverseMatrix;\r\n        this._t = this.transform;\r\n        this.isIdentity = isIdentity;\r\n        this._identity = true;\r\n        this._identityCalculated = false;\r\n\r\n        this.props = createTypedArray('float32', 16);\r\n        this.reset();\r\n    };\r\n}());\r\n\r\n/*\r\n Copyright 2014 David Bau.\r\n\r\n Permission is hereby granted, free of charge, to any person obtaining\r\n a copy of this software and associated documentation files (the\r\n \"Software\"), to deal in the Software without restriction, including\r\n without limitation the rights to use, copy, modify, merge, publish,\r\n distribute, sublicense, and/or sell copies of the Software, and to\r\n permit persons to whom the Software is furnished to do so, subject to\r\n the following conditions:\r\n\r\n The above copyright notice and this permission notice shall be\r\n included in all copies or substantial portions of the Software.\r\n\r\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\r\n IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\r\n CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\r\n TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n */\r\n\r\n(function (pool, math) {\r\n//\r\n// The following constants are related to IEEE 754 limits.\r\n//\r\n    var global = this,\r\n        width = 256,        // each RC4 output is 0 <= x < 256\r\n        chunks = 6,         // at least six RC4 outputs for each double\r\n        digits = 52,        // there are 52 significant digits in a double\r\n        rngname = 'random', // rngname: name for Math.random and Math.seedrandom\r\n        startdenom = math.pow(width, chunks),\r\n        significance = math.pow(2, digits),\r\n        overflow = significance * 2,\r\n        mask = width - 1,\r\n        nodecrypto;         // node.js crypto module, initialized at the bottom.\r\n\r\n//\r\n// seedrandom()\r\n// This is the seedrandom function described above.\r\n//\r\n    function seedrandom(seed, options, callback) {\r\n        var key = [];\r\n        options = (options === true) ? { entropy: true } : (options || {});\r\n\r\n        // Flatten the seed string or build one from local entropy if needed.\r\n        var shortseed = mixkey(flatten(\r\n            options.entropy ? [seed, tostring(pool)] :\r\n                (seed === null) ? autoseed() : seed, 3), key);\r\n\r\n        // Use the seed to initialize an ARC4 generator.\r\n        var arc4 = new ARC4(key);\r\n\r\n        // This function returns a random double in [0, 1) that contains\r\n        // randomness in every bit of the mantissa of the IEEE 754 value.\r\n        var prng = function() {\r\n            var n = arc4.g(chunks),             // Start with a numerator n < 2 ^ 48\r\n                d = startdenom,                 //   and denominator d = 2 ^ 48.\r\n                x = 0;                          //   and no 'extra last byte'.\r\n            while (n < significance) {          // Fill up all significant digits by\r\n                n = (n + x) * width;              //   shifting numerator and\r\n                d *= width;                       //   denominator and generating a\r\n                x = arc4.g(1);                    //   new least-significant-byte.\r\n            }\r\n            while (n >= overflow) {             // To avoid rounding up, before adding\r\n                n /= 2;                           //   last byte, shift everything\r\n                d /= 2;                           //   right using integer math until\r\n                x >>>= 1;                         //   we have exactly the desired bits.\r\n            }\r\n            return (n + x) / d;                 // Form the number within [0, 1).\r\n        };\r\n\r\n        prng.int32 = function() { return arc4.g(4) | 0; };\r\n        prng.quick = function() { return arc4.g(4) / 0x100000000; };\r\n        prng.double = prng;\r\n\r\n        // Mix the randomness into accumulated entropy.\r\n        mixkey(tostring(arc4.S), pool);\r\n\r\n        // Calling convention: what to return as a function of prng, seed, is_math.\r\n        return (options.pass || callback ||\r\n        function(prng, seed, is_math_call, state) {\r\n            if (state) {\r\n                // Load the arc4 state from the given state if it has an S array.\r\n                if (state.S) { copy(state, arc4); }\r\n                // Only provide the .state method if requested via options.state.\r\n                prng.state = function() { return copy(arc4, {}); };\r\n            }\r\n\r\n            // If called as a method of Math (Math.seedrandom()), mutate\r\n            // Math.random because that is how seedrandom.js has worked since v1.0.\r\n            if (is_math_call) { math[rngname] = prng; return seed; }\r\n\r\n            // Otherwise, it is a newer calling convention, so return the\r\n            // prng directly.\r\n            else return prng;\r\n        })(\r\n            prng,\r\n            shortseed,\r\n            'global' in options ? options.global : (this == math),\r\n            options.state);\r\n    }\r\n    math['seed' + rngname] = seedrandom;\r\n\r\n//\r\n// ARC4\r\n//\r\n// An ARC4 implementation.  The constructor takes a key in the form of\r\n// an array of at most (width) integers that should be 0 <= x < (width).\r\n//\r\n// The g(count) method returns a pseudorandom integer that concatenates\r\n// the next (count) outputs from ARC4.  Its return value is a number x\r\n// that is in the range 0 <= x < (width ^ count).\r\n//\r\n    function ARC4(key) {\r\n        var t, keylen = key.length,\r\n            me = this, i = 0, j = me.i = me.j = 0, s = me.S = [];\r\n\r\n        // The empty key [] is treated as [0].\r\n        if (!keylen) { key = [keylen++]; }\r\n\r\n        // Set up S using the standard key scheduling algorithm.\r\n        while (i < width) {\r\n            s[i] = i++;\r\n        }\r\n        for (i = 0; i < width; i++) {\r\n            s[i] = s[j = mask & (j + key[i % keylen] + (t = s[i]))];\r\n            s[j] = t;\r\n        }\r\n\r\n        // The \"g\" method returns the next (count) outputs as one number.\r\n        me.g = function(count) {\r\n            // Using instance members instead of closure state nearly doubles speed.\r\n            var t, r = 0,\r\n                i = me.i, j = me.j, s = me.S;\r\n            while (count--) {\r\n                t = s[i = mask & (i + 1)];\r\n                r = r * width + s[mask & ((s[i] = s[j = mask & (j + t)]) + (s[j] = t))];\r\n            }\r\n            me.i = i; me.j = j;\r\n            return r;\r\n            // For robust unpredictability, the function call below automatically\r\n            // discards an initial batch of values.  This is called RC4-drop[256].\r\n            // See http://google.com/search?q=rsa+fluhrer+response&btnI\r\n        };\r\n    }\r\n\r\n//\r\n// copy()\r\n// Copies internal state of ARC4 to or from a plain object.\r\n//\r\n    function copy(f, t) {\r\n        t.i = f.i;\r\n        t.j = f.j;\r\n        t.S = f.S.slice();\r\n        return t;\r\n    }\r\n\r\n//\r\n// flatten()\r\n// Converts an object tree to nested arrays of strings.\r\n//\r\n    function flatten(obj, depth) {\r\n        var result = [], typ = (typeof obj), prop;\r\n        if (depth && typ == 'object') {\r\n            for (prop in obj) {\r\n                try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}\r\n            }\r\n        }\r\n        return (result.length ? result : typ == 'string' ? obj : obj + '\\0');\r\n    }\r\n\r\n//\r\n// mixkey()\r\n// Mixes a string seed into a key that is an array of integers, and\r\n// returns a shortened string seed that is equivalent to the result key.\r\n//\r\n    function mixkey(seed, key) {\r\n        var stringseed = seed + '', smear, j = 0;\r\n        while (j < stringseed.length) {\r\n            key[mask & j] =\r\n                mask & ((smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++));\r\n        }\r\n        return tostring(key);\r\n    }\r\n\r\n//\r\n// autoseed()\r\n// Returns an object for autoseeding, using window.crypto and Node crypto\r\n// module if available.\r\n//\r\n    function autoseed() {\r\n        try {\r\n            if (nodecrypto) { return tostring(nodecrypto.randomBytes(width)); }\r\n            var out = new Uint8Array(width);\r\n            (global.crypto || global.msCrypto).getRandomValues(out);\r\n            return tostring(out);\r\n        } catch (e) {\r\n            var browser = global.navigator,\r\n                plugins = browser && browser.plugins;\r\n            return [+new Date(), global, plugins, global.screen, tostring(pool)];\r\n        }\r\n    }\r\n\r\n//\r\n// tostring()\r\n// Converts an array of charcodes to a string\r\n//\r\n    function tostring(a) {\r\n        return String.fromCharCode.apply(0, a);\r\n    }\r\n\r\n//\r\n// When seedrandom.js is loaded, we immediately mix a few bits\r\n// from the built-in RNG into the entropy pool.  Because we do\r\n// not want to interfere with deterministic PRNG state later,\r\n// seedrandom will not call math.random on its own again after\r\n// initialization.\r\n//\r\n    mixkey(math.random(), pool);\r\n\r\n//\r\n// Nodejs and AMD support: export the implementation as a module using\r\n// either convention.\r\n//\r\n\r\n// End anonymous scope, and pass initial values.\r\n})(\r\n    [],     // pool: entropy pool starts empty\r\n    BMMath    // math: package containing random, pow, and seedrandom\r\n);\r\nvar BezierFactory = (function(){\r\n    /**\r\n     * BezierEasing - use bezier curve for transition easing function\r\n     * by Gaëtan Renaudeau 2014 - 2015 – MIT License\r\n     *\r\n     * Credits: is based on Firefox's nsSMILKeySpline.cpp\r\n     * Usage:\r\n     * var spline = BezierEasing([ 0.25, 0.1, 0.25, 1.0 ])\r\n     * spline.get(x) => returns the easing value | x must be in [0, 1] range\r\n     *\r\n     */\r\n\r\n        var ob = {};\r\n    ob.getBezierEasing = getBezierEasing;\r\n    var beziers = {};\r\n\r\n    function getBezierEasing(a,b,c,d,nm){\r\n        var str = nm || ('bez_' + a+'_'+b+'_'+c+'_'+d).replace(/\\./g, 'p');\r\n        if(beziers[str]){\r\n            return beziers[str];\r\n        }\r\n        var bezEasing = new BezierEasing([a,b,c,d]);\r\n        beziers[str] = bezEasing;\r\n        return bezEasing;\r\n    }\r\n\r\n// These values are established by empiricism with tests (tradeoff: performance VS precision)\r\n    var NEWTON_ITERATIONS = 4;\r\n    var NEWTON_MIN_SLOPE = 0.001;\r\n    var SUBDIVISION_PRECISION = 0.0000001;\r\n    var SUBDIVISION_MAX_ITERATIONS = 10;\r\n\r\n    var kSplineTableSize = 11;\r\n    var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\r\n\r\n    var float32ArraySupported = typeof Float32Array === \"function\";\r\n\r\n    function A (aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1; }\r\n    function B (aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1; }\r\n    function C (aA1)      { return 3.0 * aA1; }\r\n\r\n// Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\r\n    function calcBezier (aT, aA1, aA2) {\r\n        return ((A(aA1, aA2)*aT + B(aA1, aA2))*aT + C(aA1))*aT;\r\n    }\r\n\r\n// Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\r\n    function getSlope (aT, aA1, aA2) {\r\n        return 3.0 * A(aA1, aA2)*aT*aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\r\n    }\r\n\r\n    function binarySubdivide (aX, aA, aB, mX1, mX2) {\r\n        var currentX, currentT, i = 0;\r\n        do {\r\n            currentT = aA + (aB - aA) / 2.0;\r\n            currentX = calcBezier(currentT, mX1, mX2) - aX;\r\n            if (currentX > 0.0) {\r\n                aB = currentT;\r\n            } else {\r\n                aA = currentT;\r\n            }\r\n        } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\r\n        return currentT;\r\n    }\r\n\r\n    function newtonRaphsonIterate (aX, aGuessT, mX1, mX2) {\r\n        for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\r\n            var currentSlope = getSlope(aGuessT, mX1, mX2);\r\n            if (currentSlope === 0.0) return aGuessT;\r\n            var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\r\n            aGuessT -= currentX / currentSlope;\r\n        }\r\n        return aGuessT;\r\n    }\r\n\r\n    /**\r\n     * points is an array of [ mX1, mY1, mX2, mY2 ]\r\n     */\r\n    function BezierEasing (points) {\r\n        this._p = points;\r\n        this._mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\r\n        this._precomputed = false;\r\n\r\n        this.get = this.get.bind(this);\r\n    }\r\n\r\n    BezierEasing.prototype = {\r\n\r\n        get: function (x) {\r\n            var mX1 = this._p[0],\r\n                mY1 = this._p[1],\r\n                mX2 = this._p[2],\r\n                mY2 = this._p[3];\r\n            if (!this._precomputed) this._precompute();\r\n            if (mX1 === mY1 && mX2 === mY2) return x; // linear\r\n            // Because JavaScript number are imprecise, we should guarantee the extremes are right.\r\n            if (x === 0) return 0;\r\n            if (x === 1) return 1;\r\n            return calcBezier(this._getTForX(x), mY1, mY2);\r\n        },\r\n\r\n        // Private part\r\n\r\n        _precompute: function () {\r\n            var mX1 = this._p[0],\r\n                mY1 = this._p[1],\r\n                mX2 = this._p[2],\r\n                mY2 = this._p[3];\r\n            this._precomputed = true;\r\n            if (mX1 !== mY1 || mX2 !== mY2)\r\n                this._calcSampleValues();\r\n        },\r\n\r\n        _calcSampleValues: function () {\r\n            var mX1 = this._p[0],\r\n                mX2 = this._p[2];\r\n            for (var i = 0; i < kSplineTableSize; ++i) {\r\n                this._mSampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * getTForX chose the fastest heuristic to determine the percentage value precisely from a given X projection.\r\n         */\r\n        _getTForX: function (aX) {\r\n            var mX1 = this._p[0],\r\n                mX2 = this._p[2],\r\n                mSampleValues = this._mSampleValues;\r\n\r\n            var intervalStart = 0.0;\r\n            var currentSample = 1;\r\n            var lastSample = kSplineTableSize - 1;\r\n\r\n            for (; currentSample !== lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {\r\n                intervalStart += kSampleStepSize;\r\n            }\r\n            --currentSample;\r\n\r\n            // Interpolate to provide an initial guess for t\r\n            var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample+1] - mSampleValues[currentSample]);\r\n            var guessForT = intervalStart + dist * kSampleStepSize;\r\n\r\n            var initialSlope = getSlope(guessForT, mX1, mX2);\r\n            if (initialSlope >= NEWTON_MIN_SLOPE) {\r\n                return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\r\n            } else if (initialSlope === 0.0) {\r\n                return guessForT;\r\n            } else {\r\n                return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\r\n            }\r\n        }\r\n    };\r\n\r\n    return ob;\r\n\r\n}());\r\n(function () {\r\n    var lastTime = 0;\r\n    var vendors = ['ms', 'moz', 'webkit', 'o'];\r\n    for(var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\r\n        window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\r\n        window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\r\n    }\r\n    if(!window.requestAnimationFrame)\r\n        window.requestAnimationFrame = function (callback, element) {\r\n            var currTime = new Date().getTime();\r\n            var timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n            var id = setTimeout(function () {\r\n                    callback(currTime + timeToCall);\r\n                },\r\n                timeToCall);\r\n            lastTime = currTime + timeToCall;\r\n            return id;\r\n        };\r\n    if(!window.cancelAnimationFrame)\r\n        window.cancelAnimationFrame = function (id) {\r\n            clearTimeout(id);\r\n        };\r\n}());\r\n\r\nfunction extendPrototype(sources,destination){\r\n    var i, len = sources.length, sourcePrototype;\r\n    for (i = 0;i < len;i += 1) {\r\n        sourcePrototype = sources[i].prototype;\r\n        for (var attr in sourcePrototype) {\r\n            if (sourcePrototype.hasOwnProperty(attr)) destination.prototype[attr] = sourcePrototype[attr];\r\n        }\r\n    }\r\n}\r\n\r\nfunction getDescriptor(object, prop) {\r\n    return Object.getOwnPropertyDescriptor(object, prop);\r\n}\r\n\r\nfunction createProxyFunction(prototype) {\r\n\tfunction ProxyFunction(){}\r\n\tProxyFunction.prototype = prototype;\r\n\treturn ProxyFunction;\r\n}\r\nfunction bezFunction(){\r\n\r\n    var easingFunctions = [];\r\n    var math = Math;\r\n\r\n    function pointOnLine2D(x1,y1, x2,y2, x3,y3){\r\n        var det1 = (x1*y2) + (y1*x3) + (x2*y3) - (x3*y2) - (y3*x1) - (x2*y1);\r\n        return det1 > -0.001 && det1 < 0.001;\r\n    }\r\n\r\n    function pointOnLine3D(x1,y1,z1, x2,y2,z2, x3,y3,z3){\r\n        if(z1 === 0 && z2 === 0 && z3 === 0) {\r\n            return pointOnLine2D(x1,y1, x2,y2, x3,y3);\r\n        }\r\n        var dist1 = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2) + Math.pow(z2 - z1, 2));\r\n        var dist2 = Math.sqrt(Math.pow(x3 - x1, 2) + Math.pow(y3 - y1, 2) + Math.pow(z3 - z1, 2));\r\n        var dist3 = Math.sqrt(Math.pow(x3 - x2, 2) + Math.pow(y3 - y2, 2) + Math.pow(z3 - z2, 2));\r\n        var diffDist;\r\n        if(dist1 > dist2){\r\n            if(dist1 > dist3){\r\n                diffDist = dist1 - dist2 - dist3;\r\n            } else {\r\n                diffDist = dist3 - dist2 - dist1;\r\n            }\r\n        } else if(dist3 > dist2){\r\n            diffDist = dist3 - dist2 - dist1;\r\n        } else {\r\n            diffDist = dist2 - dist1 - dist3;\r\n        }\r\n        return diffDist > -0.0001 && diffDist < 0.0001;\r\n    }\r\n\r\n    var getBezierLength = (function(){\r\n\r\n        return function(pt1,pt2,pt3,pt4){\r\n            var curveSegments = defaultCurveSegments;\r\n            var k;\r\n            var i, len;\r\n            var ptCoord,perc,addedLength = 0;\r\n            var ptDistance;\r\n            var point = [],lastPoint = [];\r\n            var lengthData = bezier_length_pool.newElement();\r\n            len = pt3.length;\r\n            for(k=0;k<curveSegments;k+=1){\r\n                perc = k/(curveSegments-1);\r\n                ptDistance = 0;\r\n                for(i=0;i<len;i+=1){\r\n                    ptCoord = bm_pow(1-perc,3)*pt1[i]+3*bm_pow(1-perc,2)*perc*pt3[i]+3*(1-perc)*bm_pow(perc,2)*pt4[i]+bm_pow(perc,3)*pt2[i];\r\n                    point[i] = ptCoord;\r\n                    if(lastPoint[i] !== null){\r\n                        ptDistance += bm_pow(point[i] - lastPoint[i],2);\r\n                    }\r\n                    lastPoint[i] = point[i];\r\n                }\r\n                if(ptDistance){\r\n                    ptDistance = bm_sqrt(ptDistance);\r\n                    addedLength += ptDistance;\r\n                }\r\n                lengthData.percents[k] = perc;\r\n                lengthData.lengths[k] = addedLength;\r\n            }\r\n            lengthData.addedLength = addedLength;\r\n            return lengthData;\r\n        };\r\n    }());\r\n\r\n    function getSegmentsLength(shapeData) {\r\n        var segmentsLength = segments_length_pool.newElement();\r\n        var closed = shapeData.c;\r\n        var pathV = shapeData.v;\r\n        var pathO = shapeData.o;\r\n        var pathI = shapeData.i;\r\n        var i, len = shapeData._length;\r\n        var lengths = segmentsLength.lengths;\r\n        var totalLength = 0;\r\n        for(i=0;i<len-1;i+=1){\r\n            lengths[i] = getBezierLength(pathV[i],pathV[i+1],pathO[i],pathI[i+1]);\r\n            totalLength += lengths[i].addedLength;\r\n        }\r\n        if(closed && len){\r\n            lengths[i] = getBezierLength(pathV[i],pathV[0],pathO[i],pathI[0]);\r\n            totalLength += lengths[i].addedLength;\r\n        }\r\n        segmentsLength.totalLength = totalLength;\r\n        return segmentsLength;\r\n    }\r\n\r\n    function BezierData(length){\r\n        this.segmentLength = 0;\r\n        this.points = new Array(length);\r\n    }\r\n\r\n    function PointData(partial,point){\r\n        this.partialLength = partial;\r\n        this.point = point;\r\n    }\r\n\r\n    var buildBezierData = (function(){\r\n\r\n        var storedData = {};\r\n\r\n        return function (pt1, pt2, pt3, pt4){\r\n            var bezierName = (pt1[0]+'_'+pt1[1]+'_'+pt2[0]+'_'+pt2[1]+'_'+pt3[0]+'_'+pt3[1]+'_'+pt4[0]+'_'+pt4[1]).replace(/\\./g, 'p');\r\n            if(!storedData[bezierName]){\r\n                var curveSegments = defaultCurveSegments;\r\n                var k, i, len;\r\n                var ptCoord,perc,addedLength = 0;\r\n                var ptDistance;\r\n                var point,lastPoint = null;\r\n                if (pt1.length === 2 && (pt1[0] != pt2[0] || pt1[1] != pt2[1]) && pointOnLine2D(pt1[0],pt1[1],pt2[0],pt2[1],pt1[0]+pt3[0],pt1[1]+pt3[1]) && pointOnLine2D(pt1[0],pt1[1],pt2[0],pt2[1],pt2[0]+pt4[0],pt2[1]+pt4[1])){\r\n                    curveSegments = 2;\r\n                }\r\n                var bezierData = new BezierData(curveSegments);\r\n                len = pt3.length;\r\n                for (k = 0; k < curveSegments; k += 1) {\r\n                    point = createSizedArray(len);\r\n                    perc = k / (curveSegments - 1);\r\n                    ptDistance = 0;\r\n                    for (i = 0; i < len; i += 1){\r\n                        ptCoord = bm_pow(1-perc,3)*pt1[i]+3*bm_pow(1-perc,2)*perc*(pt1[i] + pt3[i])+3*(1-perc)*bm_pow(perc,2)*(pt2[i] + pt4[i])+bm_pow(perc,3)*pt2[i];\r\n                        point[i] = ptCoord;\r\n                        if(lastPoint !== null){\r\n                            ptDistance += bm_pow(point[i] - lastPoint[i],2);\r\n                        }\r\n                    }\r\n                    ptDistance = bm_sqrt(ptDistance);\r\n                    addedLength += ptDistance;\r\n                    bezierData.points[k] = new PointData(ptDistance, point);\r\n                    lastPoint = point;\r\n                }\r\n                bezierData.segmentLength = addedLength;\r\n                storedData[bezierName] = bezierData;\r\n            }\r\n            return storedData[bezierName];\r\n        };\r\n    }());\r\n\r\n    function getDistancePerc(perc,bezierData){\r\n        var percents = bezierData.percents;\r\n        var lengths = bezierData.lengths;\r\n        var len = percents.length;\r\n        var initPos = bm_floor((len-1)*perc);\r\n        var lengthPos = perc*bezierData.addedLength;\r\n        var lPerc = 0;\r\n        if(initPos === len - 1 || initPos === 0 || lengthPos === lengths[initPos]){\r\n            return percents[initPos];\r\n        }else{\r\n            var dir = lengths[initPos] > lengthPos ? -1 : 1;\r\n            var flag = true;\r\n            while(flag){\r\n                if(lengths[initPos] <= lengthPos && lengths[initPos+1] > lengthPos){\r\n                    lPerc = (lengthPos - lengths[initPos]) / (lengths[initPos+1] - lengths[initPos]);\r\n                    flag = false;\r\n                }else{\r\n                    initPos += dir;\r\n                }\r\n                if(initPos < 0 || initPos >= len - 1){\r\n                    //FIX for TypedArrays that don't store floating point values with enough accuracy\r\n                    if(initPos === len - 1) {\r\n                        return percents[initPos];\r\n                    }\r\n                    flag = false;\r\n                }\r\n            }\r\n            return percents[initPos] + (percents[initPos+1] - percents[initPos])*lPerc;\r\n        }\r\n    }\r\n\r\n    function getPointInSegment(pt1, pt2, pt3, pt4, percent, bezierData) {\r\n        var t1 = getDistancePerc(percent,bezierData);\r\n        var u0 = 1;\r\n        var u1 = 1 - t1;\r\n        var ptX = Math.round((u1*u1*u1* pt1[0] + (t1*u1*u1 + u1*t1*u1 + u1*u1*t1)* pt3[0] + (t1*t1*u1 + u1*t1*t1 + t1*u1*t1)*pt4[0] + t1*t1*t1* pt2[0])* 1000) / 1000;\r\n        var ptY = Math.round((u1*u1*u1* pt1[1] + (t1*u1*u1 + u1*t1*u1 + u1*u1*t1)* pt3[1] + (t1*t1*u1 + u1*t1*t1 + t1*u1*t1)*pt4[1] + t1*t1*t1* pt2[1])* 1000) / 1000;\r\n        return [ptX, ptY];\r\n    }\r\n\r\n    function getSegmentArray() {\r\n\r\n    }\r\n\r\n    var bezier_segment_points = createTypedArray('float32', 8);\r\n\r\n    function getNewSegment(pt1,pt2,pt3,pt4,startPerc,endPerc, bezierData){\r\n\r\n        startPerc = startPerc < 0 ? 0 : startPerc > 1 ? 1 : startPerc;\r\n        var t0 = getDistancePerc(startPerc,bezierData);\r\n        endPerc = endPerc > 1 ? 1 : endPerc;\r\n        var t1 = getDistancePerc(endPerc,bezierData);\r\n        var i, len = pt1.length;\r\n        var u0 = 1 - t0;\r\n        var u1 = 1 - t1;\r\n        var u0u0u0 = u0*u0*u0;\r\n        var t0u0u0_3 = t0*u0*u0*3;\r\n        var t0t0u0_3 = t0*t0*u0*3;\r\n        var t0t0t0 = t0*t0*t0;\r\n        //\r\n        var u0u0u1 = u0*u0*u1;\r\n        var t0u0u1_3 = t0*u0*u1 + u0*t0*u1 + u0*u0*t1;\r\n        var t0t0u1_3 = t0*t0*u1 + u0*t0*t1 + t0*u0*t1;\r\n        var t0t0t1 = t0*t0*t1;\r\n        //\r\n        var u0u1u1 = u0*u1*u1;\r\n        var t0u1u1_3 = t0*u1*u1 + u0*t1*u1 + u0*u1*t1;\r\n        var t0t1u1_3 = t0*t1*u1 + u0*t1*t1 + t0*u1*t1;\r\n        var t0t1t1 = t0*t1*t1;\r\n        //\r\n        var u1u1u1 = u1*u1*u1;\r\n        var t1u1u1_3 = t1*u1*u1 + u1*t1*u1 + u1*u1*t1;\r\n        var t1t1u1_3 = t1*t1*u1 + u1*t1*t1 + t1*u1*t1;\r\n        var t1t1t1 = t1*t1*t1;\r\n        for(i=0;i<len;i+=1){\r\n            bezier_segment_points[i * 4] = Math.round((u0u0u0 * pt1[i] + t0u0u0_3 * pt3[i] + t0t0u0_3 * pt4[i] + t0t0t0 * pt2[i]) * 1000) / 1000;\r\n            bezier_segment_points[i * 4 + 1] = Math.round((u0u0u1 * pt1[i] + t0u0u1_3 * pt3[i] + t0t0u1_3 * pt4[i] + t0t0t1 * pt2[i]) * 1000) / 1000;\r\n            bezier_segment_points[i * 4 + 2] = Math.round((u0u1u1 * pt1[i] + t0u1u1_3 * pt3[i] + t0t1u1_3 * pt4[i] + t0t1t1 * pt2[i]) * 1000) / 1000;\r\n            bezier_segment_points[i * 4 + 3] = Math.round((u1u1u1 * pt1[i] + t1u1u1_3 * pt3[i] + t1t1u1_3 * pt4[i] + t1t1t1 * pt2[i]) * 1000) / 1000;\r\n        }\r\n\r\n        return bezier_segment_points;\r\n    }\r\n\r\n    return {\r\n        getSegmentsLength : getSegmentsLength,\r\n        getNewSegment : getNewSegment,\r\n        getPointInSegment : getPointInSegment,\r\n        buildBezierData : buildBezierData,\r\n        pointOnLine2D : pointOnLine2D,\r\n        pointOnLine3D : pointOnLine3D\r\n    };\r\n}\r\n\r\nvar bez = bezFunction();\r\nfunction dataFunctionManager(){\r\n\r\n    //var tCanvasHelper = createTag('canvas').getContext('2d');\r\n\r\n    function completeLayers(layers, comps, fontManager){\r\n        var layerData;\r\n        var animArray, lastFrame;\r\n        var i, len = layers.length;\r\n        var j, jLen, k, kLen;\r\n        for(i=0;i<len;i+=1){\r\n            layerData = layers[i];\r\n            if(!('ks' in layerData) || layerData.completed){\r\n                continue;\r\n            }\r\n            layerData.completed = true;\r\n            if(layerData.tt){\r\n                layers[i-1].td = layerData.tt;\r\n            }\r\n            animArray = [];\r\n            lastFrame = -1;\r\n            if(layerData.hasMask){\r\n                var maskProps = layerData.masksProperties;\r\n                jLen = maskProps.length;\r\n                for(j=0;j<jLen;j+=1){\r\n                    if(maskProps[j].pt.k.i){\r\n                        convertPathsToAbsoluteValues(maskProps[j].pt.k);\r\n                    }else{\r\n                        kLen = maskProps[j].pt.k.length;\r\n                        for(k=0;k<kLen;k+=1){\r\n                            if(maskProps[j].pt.k[k].s){\r\n                                convertPathsToAbsoluteValues(maskProps[j].pt.k[k].s[0]);\r\n                            }\r\n                            if(maskProps[j].pt.k[k].e){\r\n                                convertPathsToAbsoluteValues(maskProps[j].pt.k[k].e[0]);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if(layerData.ty===0){\r\n                layerData.layers = findCompLayers(layerData.refId, comps);\r\n                completeLayers(layerData.layers,comps, fontManager);\r\n            }else if(layerData.ty === 4){\r\n                completeShapes(layerData.shapes);\r\n            }else if(layerData.ty == 5){\r\n                completeText(layerData, fontManager);\r\n            }\r\n        }\r\n    }\r\n\r\n    function findCompLayers(id,comps){\r\n        var i = 0, len = comps.length;\r\n        while(i<len){\r\n            if(comps[i].id === id){\r\n                if(!comps[i].layers.__used) {\r\n                    comps[i].layers.__used = true;\r\n                    return comps[i].layers;\r\n                }\r\n                return JSON.parse(JSON.stringify(comps[i].layers));\r\n            }\r\n            i += 1;\r\n        }\r\n    }\r\n\r\n    function completeShapes(arr){\r\n        var i, len = arr.length;\r\n        var j, jLen;\r\n        var hasPaths = false;\r\n        for(i=len-1;i>=0;i-=1){\r\n            if(arr[i].ty == 'sh'){\r\n                if(arr[i].ks.k.i){\r\n                    convertPathsToAbsoluteValues(arr[i].ks.k);\r\n                }else{\r\n                    jLen = arr[i].ks.k.length;\r\n                    for(j=0;j<jLen;j+=1){\r\n                        if(arr[i].ks.k[j].s){\r\n                            convertPathsToAbsoluteValues(arr[i].ks.k[j].s[0]);\r\n                        }\r\n                        if(arr[i].ks.k[j].e){\r\n                            convertPathsToAbsoluteValues(arr[i].ks.k[j].e[0]);\r\n                        }\r\n                    }\r\n                }\r\n                hasPaths = true;\r\n            }else if(arr[i].ty == 'gr'){\r\n                completeShapes(arr[i].it);\r\n            }\r\n        }\r\n        /*if(hasPaths){\r\n            //mx: distance\r\n            //ss: sensitivity\r\n            //dc: decay\r\n            arr.splice(arr.length-1,0,{\r\n                \"ty\": \"ms\",\r\n                \"mx\":20,\r\n                \"ss\":10,\r\n                 \"dc\":0.001,\r\n                \"maxDist\":200\r\n            });\r\n        }*/\r\n    }\r\n\r\n    function convertPathsToAbsoluteValues(path){\r\n        var i, len = path.i.length;\r\n        for(i=0;i<len;i+=1){\r\n            path.i[i][0] += path.v[i][0];\r\n            path.i[i][1] += path.v[i][1];\r\n            path.o[i][0] += path.v[i][0];\r\n            path.o[i][1] += path.v[i][1];\r\n        }\r\n    }\r\n\r\n    function checkVersion(minimum,animVersionString){\r\n        var animVersion = animVersionString ? animVersionString.split('.') : [100,100,100];\r\n        if(minimum[0]>animVersion[0]){\r\n            return true;\r\n        } else if(animVersion[0] > minimum[0]){\r\n            return false;\r\n        }\r\n        if(minimum[1]>animVersion[1]){\r\n            return true;\r\n        } else if(animVersion[1] > minimum[1]){\r\n            return false;\r\n        }\r\n        if(minimum[2]>animVersion[2]){\r\n            return true;\r\n        } else if(animVersion[2] > minimum[2]){\r\n            return false;\r\n        }\r\n    }\r\n\r\n    var checkText = (function(){\r\n        var minimumVersion = [4,4,14];\r\n\r\n        function updateTextLayer(textLayer){\r\n            var documentData = textLayer.t.d;\r\n            textLayer.t.d = {\r\n                k: [\r\n                    {\r\n                        s:documentData,\r\n                        t:0\r\n                    }\r\n                ]\r\n            };\r\n        }\r\n\r\n        function iterateLayers(layers){\r\n            var i, len = layers.length;\r\n            for(i=0;i<len;i+=1){\r\n                if(layers[i].ty === 5){\r\n                    updateTextLayer(layers[i]);\r\n                }\r\n            }\r\n        }\r\n\r\n        return function (animationData){\r\n            if(checkVersion(minimumVersion,animationData.v)){\r\n                iterateLayers(animationData.layers);\r\n                if(animationData.assets){\r\n                    var i, len = animationData.assets.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        if(animationData.assets[i].layers){\r\n                            iterateLayers(animationData.assets[i].layers);\r\n\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }());\r\n\r\n    var checkChars = (function() {\r\n        var minimumVersion = [4,7,99];\r\n        return function (animationData){\r\n            if(animationData.chars && !checkVersion(minimumVersion,animationData.v)){\r\n                var i, len = animationData.chars.length, j, jLen, k, kLen;\r\n                var pathData, paths;\r\n                for(i = 0; i < len; i += 1) {\r\n                    if(animationData.chars[i].data && animationData.chars[i].data.shapes) {\r\n                        paths = animationData.chars[i].data.shapes[0].it;\r\n                        jLen = paths.length;\r\n\r\n                        for(j = 0; j < jLen; j += 1) {\r\n                            pathData = paths[j].ks.k;\r\n                            if(!pathData.__converted) {\r\n                                convertPathsToAbsoluteValues(paths[j].ks.k);\r\n                                pathData.__converted = true;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }());\r\n\r\n    var checkColors = (function(){\r\n        var minimumVersion = [4,1,9];\r\n\r\n        function iterateShapes(shapes){\r\n            var i, len = shapes.length;\r\n            var j, jLen;\r\n            for(i=0;i<len;i+=1){\r\n                if(shapes[i].ty === 'gr'){\r\n                    iterateShapes(shapes[i].it);\r\n                }else if(shapes[i].ty === 'fl' || shapes[i].ty === 'st'){\r\n                    if(shapes[i].c.k && shapes[i].c.k[0].i){\r\n                        jLen = shapes[i].c.k.length;\r\n                        for(j=0;j<jLen;j+=1){\r\n                            if(shapes[i].c.k[j].s){\r\n                                shapes[i].c.k[j].s[0] /= 255;\r\n                                shapes[i].c.k[j].s[1] /= 255;\r\n                                shapes[i].c.k[j].s[2] /= 255;\r\n                                shapes[i].c.k[j].s[3] /= 255;\r\n                            }\r\n                            if(shapes[i].c.k[j].e){\r\n                                shapes[i].c.k[j].e[0] /= 255;\r\n                                shapes[i].c.k[j].e[1] /= 255;\r\n                                shapes[i].c.k[j].e[2] /= 255;\r\n                                shapes[i].c.k[j].e[3] /= 255;\r\n                            }\r\n                        }\r\n                    } else {\r\n                        shapes[i].c.k[0] /= 255;\r\n                        shapes[i].c.k[1] /= 255;\r\n                        shapes[i].c.k[2] /= 255;\r\n                        shapes[i].c.k[3] /= 255;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        function iterateLayers(layers){\r\n            var i, len = layers.length;\r\n            for(i=0;i<len;i+=1){\r\n                if(layers[i].ty === 4){\r\n                    iterateShapes(layers[i].shapes);\r\n                }\r\n            }\r\n        }\r\n\r\n        return function (animationData){\r\n            if(checkVersion(minimumVersion,animationData.v)){\r\n                iterateLayers(animationData.layers);\r\n                if(animationData.assets){\r\n                    var i, len = animationData.assets.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        if(animationData.assets[i].layers){\r\n                            iterateLayers(animationData.assets[i].layers);\r\n\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }());\r\n\r\n    var checkShapes = (function(){\r\n        var minimumVersion = [4,4,18];\r\n\r\n\r\n\r\n        function completeShapes(arr){\r\n            var i, len = arr.length;\r\n            var j, jLen;\r\n            var hasPaths = false;\r\n            for(i=len-1;i>=0;i-=1){\r\n                if(arr[i].ty == 'sh'){\r\n                    if(arr[i].ks.k.i){\r\n                        arr[i].ks.k.c = arr[i].closed;\r\n                    }else{\r\n                        jLen = arr[i].ks.k.length;\r\n                        for(j=0;j<jLen;j+=1){\r\n                            if(arr[i].ks.k[j].s){\r\n                                arr[i].ks.k[j].s[0].c = arr[i].closed;\r\n                            }\r\n                            if(arr[i].ks.k[j].e){\r\n                                arr[i].ks.k[j].e[0].c = arr[i].closed;\r\n                            }\r\n                        }\r\n                    }\r\n                    hasPaths = true;\r\n                }else if(arr[i].ty == 'gr'){\r\n                    completeShapes(arr[i].it);\r\n                }\r\n            }\r\n        }\r\n\r\n        function iterateLayers(layers){\r\n            var layerData;\r\n            var i, len = layers.length;\r\n            var j, jLen, k, kLen;\r\n            for(i=0;i<len;i+=1){\r\n                layerData = layers[i];\r\n                if(layerData.hasMask){\r\n                    var maskProps = layerData.masksProperties;\r\n                    jLen = maskProps.length;\r\n                    for(j=0;j<jLen;j+=1){\r\n                        if(maskProps[j].pt.k.i){\r\n                            maskProps[j].pt.k.c = maskProps[j].cl;\r\n                        }else{\r\n                            kLen = maskProps[j].pt.k.length;\r\n                            for(k=0;k<kLen;k+=1){\r\n                                if(maskProps[j].pt.k[k].s){\r\n                                    maskProps[j].pt.k[k].s[0].c = maskProps[j].cl;\r\n                                }\r\n                                if(maskProps[j].pt.k[k].e){\r\n                                    maskProps[j].pt.k[k].e[0].c = maskProps[j].cl;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                if(layerData.ty === 4){\r\n                    completeShapes(layerData.shapes);\r\n                }\r\n            }\r\n        }\r\n\r\n        return function (animationData){\r\n            if(checkVersion(minimumVersion,animationData.v)){\r\n                iterateLayers(animationData.layers);\r\n                if(animationData.assets){\r\n                    var i, len = animationData.assets.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        if(animationData.assets[i].layers){\r\n                            iterateLayers(animationData.assets[i].layers);\r\n\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }());\r\n\r\n    function completeData(animationData, fontManager){\r\n        if(animationData.__complete){\r\n            return;\r\n        }\r\n        checkColors(animationData);\r\n        checkText(animationData);\r\n        checkChars(animationData);\r\n        checkShapes(animationData);\r\n        completeLayers(animationData.layers, animationData.assets, fontManager);\r\n        animationData.__complete = true;\r\n        //blitAnimation(animationData, animationData.assets, fontManager);\r\n    }\r\n\r\n    function completeText(data, fontManager){\r\n        if(data.t.a.length === 0 && !('m' in data.t.p)){\r\n            data.singleShape = true;\r\n        }\r\n    }\r\n\r\n    var moduleOb = {};\r\n    moduleOb.completeData = completeData;\r\n    moduleOb.checkColors = checkColors;\r\n    moduleOb.checkChars = checkChars;\r\n    moduleOb.checkShapes = checkShapes;\r\n    moduleOb.completeLayers = completeLayers;\r\n\r\n    return moduleOb;\r\n}\r\n\r\nvar dataManager = dataFunctionManager();\r\n\r\nvar FontManager = (function(){\r\n\r\n    var maxWaitingTime = 5000;\r\n    var emptyChar = {\r\n        w: 0,\r\n        size:0,\r\n        shapes:[]\r\n    };\r\n    var combinedCharacters = [];\r\n    //Hindi characters\r\n    combinedCharacters = combinedCharacters.concat([2304, 2305, 2306, 2307, 2362, 2363, 2364, 2364, 2366\r\n    , 2367, 2368, 2369, 2370, 2371, 2372, 2373, 2374, 2375, 2376, 2377, 2378, 2379\r\n    , 2380, 2381, 2382, 2383, 2387, 2388, 2389, 2390, 2391, 2402, 2403]);\r\n\r\n    function trimFontOptions(font) {\r\n        var familyArray = font.split(',');\r\n        var i, len = familyArray.length;\r\n        var enabledFamilies = [];\r\n        for (i = 0; i < len; i += 1) {\r\n            if (familyArray[i] !== 'sans-serif' && familyArray[i] !== 'monospace') {\r\n                enabledFamilies.push(familyArray[i]);\r\n            }\r\n        }\r\n        return enabledFamilies.join(',');\r\n    }\r\n\r\n    function setUpNode(font, family){\r\n        var parentNode = createTag('span');\r\n        parentNode.style.fontFamily    = family;\r\n        var node = createTag('span');\r\n        // Characters that vary significantly among different fonts\r\n        node.innerText = 'giItT1WQy@!-/#';\r\n        // Visible - so we can measure it - but not on the screen\r\n        parentNode.style.position      = 'absolute';\r\n        parentNode.style.left          = '-10000px';\r\n        parentNode.style.top           = '-10000px';\r\n        // Large font size makes even subtle changes obvious\r\n        parentNode.style.fontSize      = '300px';\r\n        // Reset any font properties\r\n        parentNode.style.fontVariant   = 'normal';\r\n        parentNode.style.fontStyle     = 'normal';\r\n        parentNode.style.fontWeight    = 'normal';\r\n        parentNode.style.letterSpacing = '0';\r\n        parentNode.appendChild(node);\r\n        document.body.appendChild(parentNode);\r\n\r\n        // Remember width with no applied web font\r\n        var width = node.offsetWidth;\r\n        node.style.fontFamily = trimFontOptions(font) + ', ' + family;\r\n        return {node:node, w:width, parent:parentNode};\r\n    }\r\n\r\n    function checkLoadedFonts() {\r\n        var i, len = this.fonts.length;\r\n        var node, w;\r\n        var loadedCount = len;\r\n        for(i=0;i<len; i+= 1){\r\n            if(this.fonts[i].loaded){\r\n                loadedCount -= 1;\r\n                continue;\r\n            }\r\n            if(this.fonts[i].fOrigin === 'n' || this.fonts[i].origin === 0){\r\n                this.fonts[i].loaded = true;\r\n            } else{\r\n                node = this.fonts[i].monoCase.node;\r\n                w = this.fonts[i].monoCase.w;\r\n                if(node.offsetWidth !== w){\r\n                    loadedCount -= 1;\r\n                    this.fonts[i].loaded = true;\r\n                }else{\r\n                    node = this.fonts[i].sansCase.node;\r\n                    w = this.fonts[i].sansCase.w;\r\n                    if(node.offsetWidth !== w){\r\n                        loadedCount -= 1;\r\n                        this.fonts[i].loaded = true;\r\n                    }\r\n                }\r\n                if(this.fonts[i].loaded){\r\n                    this.fonts[i].sansCase.parent.parentNode.removeChild(this.fonts[i].sansCase.parent);\r\n                    this.fonts[i].monoCase.parent.parentNode.removeChild(this.fonts[i].monoCase.parent);\r\n                }\r\n            }\r\n        }\r\n\r\n        if(loadedCount !== 0 && Date.now() - this.initTime < maxWaitingTime){\r\n            setTimeout(this.checkLoadedFontsBinded, 20);\r\n        }else{\r\n            setTimeout(this.setIsLoadedBinded, 10);\r\n\r\n        }\r\n    }\r\n\r\n    function createHelper(def, fontData){\r\n        var tHelper = createNS('text');\r\n        tHelper.style.fontSize = '100px';\r\n        //tHelper.style.fontFamily = fontData.fFamily;\r\n        tHelper.setAttribute('font-family', fontData.fFamily);\r\n        tHelper.setAttribute('font-style', fontData.fStyle);\r\n        tHelper.setAttribute('font-weight', fontData.fWeight);\r\n        tHelper.textContent = '1';\r\n        if(fontData.fClass){\r\n            tHelper.style.fontFamily = 'inherit';\r\n            tHelper.setAttribute('class', fontData.fClass);\r\n        } else {\r\n            tHelper.style.fontFamily = fontData.fFamily;\r\n        }\r\n        def.appendChild(tHelper);\r\n        var tCanvasHelper = createTag('canvas').getContext('2d');\r\n        tCanvasHelper.font = fontData.fWeight + ' ' + fontData.fStyle + ' 100px '+ fontData.fFamily;\r\n        //tCanvasHelper.font = ' 100px '+ fontData.fFamily;\r\n        return tHelper;\r\n    }\r\n\r\n    function addFonts(fontData, defs){\r\n        if(!fontData){\r\n            this.isLoaded = true;\r\n            return;\r\n        }\r\n        if(this.chars){\r\n            this.isLoaded = true;\r\n            this.fonts = fontData.list;\r\n            return;\r\n        }\r\n\r\n\r\n        var fontArr = fontData.list;\r\n        var i, len = fontArr.length;\r\n        var _pendingFonts = len;\r\n        for(i=0; i<len; i+= 1){\r\n            var shouldLoadFont = true;\r\n            var loadedSelector;\r\n            var j;\r\n            fontArr[i].loaded = false;\r\n            fontArr[i].monoCase = setUpNode(fontArr[i].fFamily,'monospace');\r\n            fontArr[i].sansCase = setUpNode(fontArr[i].fFamily,'sans-serif');\r\n            if(!fontArr[i].fPath) {\r\n                fontArr[i].loaded = true;\r\n                _pendingFonts -= 1;\r\n            }else if(fontArr[i].fOrigin === 'p' || fontArr[i].origin === 3){\r\n                loadedSelector = document.querySelectorAll('style[f-forigin=\"p\"][f-family=\"'+ fontArr[i].fFamily +'\"], style[f-origin=\"3\"][f-family=\"'+ fontArr[i].fFamily +'\"]');\r\n\r\n                if (loadedSelector.length > 0) {\r\n                    shouldLoadFont = false;\r\n                }\r\n\r\n                if (shouldLoadFont) {\r\n                    var s = createTag('style');\r\n                    s.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n                    s.setAttribute('f-origin', fontArr[i].origin);\r\n                    s.setAttribute('f-family', fontArr[i].fFamily);\r\n                    s.type = \"text/css\";\r\n                    s.innerText = \"@font-face {\" + \"font-family: \"+fontArr[i].fFamily+\"; font-style: normal; src: url('\"+fontArr[i].fPath+\"');}\";\r\n                    defs.appendChild(s);\r\n                }\r\n            } else if(fontArr[i].fOrigin === 'g' || fontArr[i].origin === 1){\r\n                loadedSelector = document.querySelectorAll('link[f-forigin=\"g\"], link[f-origin=\"1\"]');\r\n\r\n                for (j = 0; j < loadedSelector.length; j++) {\r\n                    if (loadedSelector[j].href.indexOf(fontArr[i].fPath) !== -1) {\r\n                        // Font is already loaded\r\n                        shouldLoadFont = false;\r\n                    }\r\n                }\r\n\r\n                if (shouldLoadFont) {\r\n                    var l = createTag('link');\r\n                    l.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n                    l.setAttribute('f-origin', fontArr[i].origin);\r\n                    l.type = \"text/css\";\r\n                    l.rel = \"stylesheet\";\r\n                    l.href = fontArr[i].fPath;\r\n                    document.body.appendChild(l);\r\n                }\r\n            } else if(fontArr[i].fOrigin === 't' || fontArr[i].origin === 2){\r\n                loadedSelector = document.querySelectorAll('script[f-forigin=\"t\"], script[f-origin=\"2\"]');\r\n\r\n                for (j = 0; j < loadedSelector.length; j++) {\r\n                    if (fontArr[i].fPath === loadedSelector[j].src) {\r\n                        // Font is already loaded\r\n                        shouldLoadFont = false;\r\n                    }\r\n                }\r\n\r\n                if (shouldLoadFont) {\r\n                    var sc = createTag('link');\r\n                    sc.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n                    sc.setAttribute('f-origin', fontArr[i].origin);\r\n                    sc.setAttribute('rel','stylesheet');\r\n                    sc.setAttribute('href',fontArr[i].fPath);\r\n                    defs.appendChild(sc);\r\n                }\r\n            }\r\n            fontArr[i].helper = createHelper(defs,fontArr[i]);\r\n            fontArr[i].cache = {};\r\n            this.fonts.push(fontArr[i]);\r\n        }\r\n        if (_pendingFonts === 0) {\r\n            this.isLoaded = true;\r\n        } else {\r\n            //On some cases even if the font is loaded, it won't load correctly when measuring text on canvas.\r\n            //Adding this timeout seems to fix it\r\n           setTimeout(this.checkLoadedFonts.bind(this), 100);\r\n        }\r\n    }\r\n\r\n    function addChars(chars){\r\n        if(!chars){\r\n            return;\r\n        }\r\n        if(!this.chars){\r\n            this.chars = [];\r\n        }\r\n        var i, len = chars.length;\r\n        var j, jLen = this.chars.length, found;\r\n        for(i=0;i<len;i+=1){\r\n            j = 0;\r\n            found = false;\r\n            while(j<jLen){\r\n                if(this.chars[j].style === chars[i].style && this.chars[j].fFamily === chars[i].fFamily && this.chars[j].ch === chars[i].ch){\r\n                    found = true;\r\n                }\r\n                j += 1;\r\n            }\r\n            if(!found){\r\n                this.chars.push(chars[i]);\r\n                jLen += 1;\r\n            }\r\n        }\r\n    }\r\n\r\n    function getCharData(char, style, font){\r\n        var i = 0, len = this.chars.length;\r\n        while( i < len) {\r\n            if(this.chars[i].ch === char && this.chars[i].style === style && this.chars[i].fFamily === font){\r\n\r\n                return this.chars[i];\r\n            }\r\n            i+= 1;\r\n        }\r\n        if((typeof char === 'string' && char.charCodeAt(0) !== 13 || !char) && console && console.warn) {\r\n            console.warn('Missing character from exported characters list: ', char, style, font);\r\n        }\r\n        return emptyChar;\r\n    }\r\n\r\n    function measureText(char, fontName, size) {\r\n        var fontData = this.getFontByName(fontName);\r\n        var index = char.charCodeAt(0);\r\n        if(!fontData.cache[index + 1]) {\r\n            var tHelper = fontData.helper;\r\n            //Canvas version\r\n            //fontData.cache[index] = tHelper.measureText(char).width / 100;\r\n            //SVG version\r\n            //console.log(tHelper.getBBox().width)\r\n            if (char === ' ') {\r\n                tHelper.textContent = '|' + char + '|';\r\n                var doubleSize = tHelper.getComputedTextLength();\r\n                tHelper.textContent = '||';\r\n                var singleSize = tHelper.getComputedTextLength();\r\n                fontData.cache[index + 1] = (doubleSize - singleSize)/100;\r\n            } else {\r\n                tHelper.textContent = char;\r\n                fontData.cache[index + 1] = (tHelper.getComputedTextLength())/100;\r\n            }\r\n        }\r\n        return fontData.cache[index + 1] * size;\r\n    }\r\n\r\n    function getFontByName(name){\r\n        var i = 0, len = this.fonts.length;\r\n        while(i<len){\r\n            if(this.fonts[i].fName === name) {\r\n                return this.fonts[i];\r\n            }\r\n            i += 1;\r\n        }\r\n        return this.fonts[0];\r\n    }\r\n\r\n    function getCombinedCharacterCodes() {\r\n        return combinedCharacters;\r\n    }\r\n\r\n    function setIsLoaded() {\r\n        this.isLoaded = true\r\n    }\r\n\r\n    var Font = function(){\r\n        this.fonts = [];\r\n        this.chars = null;\r\n        this.typekitLoaded = 0;\r\n        this.isLoaded = false;\r\n        this.initTime = Date.now();\r\n        this.setIsLoadedBinded = this.setIsLoaded.bind(this)\r\n        this.checkLoadedFontsBinded = this.checkLoadedFonts.bind(this)\r\n    };\r\n    //TODO: for now I'm adding these methods to the Class and not the prototype. Think of a better way to implement it. \r\n    Font.getCombinedCharacterCodes = getCombinedCharacterCodes;\r\n\r\n    var fontPrototype = {\r\n        addChars: addChars,\r\n        addFonts: addFonts,\r\n        getCharData: getCharData,\r\n        getFontByName: getFontByName,\r\n        measureText: measureText,\r\n        checkLoadedFonts: checkLoadedFonts,\r\n        setIsLoaded: setIsLoaded,\r\n    }\r\n\r\n    Font.prototype = fontPrototype;\r\n\r\n    return Font;\r\n\r\n}());\r\n\r\nvar PropertyFactory = (function(){\r\n\r\n    var initFrame = initialDefaultFrame;\r\n    var math_abs = Math.abs;\r\n\r\n    function interpolateValue(frameNum, caching) {\r\n        var offsetTime = this.offsetTime;\r\n        var newValue;\r\n        if (this.propType === 'multidimensional') {\r\n            newValue = createTypedArray('float32', this.pv.length);\r\n        }\r\n        var iterationIndex = caching.lastIndex;\r\n        var i = iterationIndex;\r\n        var len = this.keyframes.length - 1, flag = true;\r\n        var keyData, nextKeyData;\r\n\r\n        while (flag) {\r\n            keyData = this.keyframes[i];\r\n            nextKeyData = this.keyframes[i + 1];\r\n            if (i === len - 1 && frameNum >= nextKeyData.t - offsetTime){\r\n                if(keyData.h){\r\n                    keyData = nextKeyData;\r\n                }\r\n                iterationIndex = 0;\r\n                break;\r\n            }\r\n            if ((nextKeyData.t - offsetTime) > frameNum){\r\n                iterationIndex = i;\r\n                break;\r\n            }\r\n            if (i < len - 1){\r\n                i += 1;\r\n            } else {\r\n                iterationIndex = 0;\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n        var k, kLen, perc, jLen, j, fnc;\r\n        var nextKeyTime = nextKeyData.t - offsetTime;\r\n        var keyTime = keyData.t - offsetTime;\r\n        var endValue;\r\n        if (keyData.to) {\r\n            if (!keyData.bezierData) {\r\n                keyData.bezierData = bez.buildBezierData(keyData.s, nextKeyData.s || keyData.e, keyData.to, keyData.ti);\r\n            }\r\n            var bezierData = keyData.bezierData;\r\n            if (frameNum >= nextKeyTime || frameNum < keyTime) {\r\n                var ind = frameNum >= nextKeyTime ? bezierData.points.length - 1 : 0;\r\n                kLen = bezierData.points[ind].point.length;\r\n                for (k = 0; k < kLen; k += 1) {\r\n                    newValue[k] = bezierData.points[ind].point[k];\r\n                }\r\n                // caching._lastKeyframeIndex = -1;\r\n            } else {\r\n                if (keyData.__fnct) {\r\n                    fnc = keyData.__fnct;\r\n                } else {\r\n                    fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y, keyData.n).get;\r\n                    keyData.__fnct = fnc;\r\n                }\r\n                perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\r\n                var distanceInLine = bezierData.segmentLength*perc;\r\n\r\n                var segmentPerc;\r\n                var addedLength =  (caching.lastFrame < frameNum && caching._lastKeyframeIndex === i) ? caching._lastAddedLength : 0;\r\n                j =  (caching.lastFrame < frameNum && caching._lastKeyframeIndex === i) ? caching._lastPoint : 0;\r\n                flag = true;\r\n                jLen = bezierData.points.length;\r\n                while (flag) {\r\n                    addedLength += bezierData.points[j].partialLength;\r\n                    if (distanceInLine === 0 || perc === 0 || j === bezierData.points.length - 1) {\r\n                        kLen = bezierData.points[j].point.length;\r\n                        for (k = 0; k < kLen; k += 1) {\r\n                            newValue[k] = bezierData.points[j].point[k];\r\n                        }\r\n                        break;\r\n                    } else if (distanceInLine >= addedLength && distanceInLine < addedLength + bezierData.points[j + 1].partialLength) {\r\n                        segmentPerc = (distanceInLine - addedLength) / bezierData.points[j + 1].partialLength;\r\n                        kLen = bezierData.points[j].point.length;\r\n                        for (k = 0; k < kLen; k += 1) {\r\n                            newValue[k] = bezierData.points[j].point[k] + (bezierData.points[j + 1].point[k] - bezierData.points[j].point[k]) * segmentPerc;\r\n                        }\r\n                        break;\r\n                    }\r\n                    if (j < jLen - 1){\r\n                        j += 1;\r\n                    } else {\r\n                        flag = false;\r\n                    }\r\n                }\r\n                caching._lastPoint = j;\r\n                caching._lastAddedLength = addedLength - bezierData.points[j].partialLength;\r\n                caching._lastKeyframeIndex = i;\r\n            }\r\n        } else {\r\n            var outX, outY, inX, inY, keyValue;\r\n            len = keyData.s.length;\r\n            endValue = nextKeyData.s || keyData.e;\r\n            if (this.sh && keyData.h !== 1) {\r\n                if (frameNum >= nextKeyTime) {\r\n                    newValue[0] = endValue[0];\r\n                    newValue[1] = endValue[1];\r\n                    newValue[2] = endValue[2];\r\n                } else if (frameNum <= keyTime) {\r\n                    newValue[0] = keyData.s[0];\r\n                    newValue[1] = keyData.s[1];\r\n                    newValue[2] = keyData.s[2];\r\n                } else {\r\n                    var quatStart = createQuaternion(keyData.s);\r\n                    var quatEnd = createQuaternion(endValue);\r\n                    var time = (frameNum - keyTime) / (nextKeyTime - keyTime);\r\n                    quaternionToEuler(newValue, slerp(quatStart, quatEnd, time));\r\n                }\r\n                \r\n            } else {\r\n                for(i = 0; i < len; i += 1) {\r\n                    if (keyData.h !== 1) {\r\n                        if (frameNum >= nextKeyTime) {\r\n                            perc = 1;\r\n                        } else if(frameNum < keyTime) {\r\n                            perc = 0;\r\n                        } else {\r\n                            if(keyData.o.x.constructor === Array) {\r\n                                if (!keyData.__fnct) {\r\n                                    keyData.__fnct = [];\r\n                                }\r\n                                if (!keyData.__fnct[i]) {\r\n                                    outX = (typeof keyData.o.x[i] === 'undefined') ? keyData.o.x[0] : keyData.o.x[i];\r\n                                    outY = (typeof keyData.o.y[i] === 'undefined') ? keyData.o.y[0] : keyData.o.y[i];\r\n                                    inX = (typeof keyData.i.x[i] === 'undefined') ? keyData.i.x[0] : keyData.i.x[i];\r\n                                    inY = (typeof keyData.i.y[i] === 'undefined') ? keyData.i.y[0] : keyData.i.y[i];\r\n                                    fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\r\n                                    keyData.__fnct[i] = fnc;\r\n                                } else {\r\n                                    fnc = keyData.__fnct[i];\r\n                                }\r\n                            } else {\r\n                                if (!keyData.__fnct) {\r\n                                    outX = keyData.o.x;\r\n                                    outY = keyData.o.y;\r\n                                    inX = keyData.i.x;\r\n                                    inY = keyData.i.y;\r\n                                    fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\r\n                                    keyData.__fnct = fnc;\r\n                                } else {\r\n                                    fnc = keyData.__fnct;\r\n                                }\r\n                            }\r\n                            perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime ));\r\n                        }\r\n                    }\r\n\r\n                    endValue = nextKeyData.s || keyData.e;\r\n                    keyValue = keyData.h === 1 ? keyData.s[i] : keyData.s[i] + (endValue[i] - keyData.s[i]) * perc;\r\n\r\n                    if (this.propType === 'multidimensional') {\r\n                        newValue[i] = keyValue;\r\n                    } else {\r\n                        newValue = keyValue;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        caching.lastIndex = iterationIndex;\r\n        return newValue;\r\n    }\r\n\r\n    //based on @Toji's https://github.com/toji/gl-matrix/\r\n    function slerp(a, b, t) {\r\n        var out = [];\r\n        var ax = a[0], ay = a[1], az = a[2], aw = a[3],\r\n        bx = b[0], by = b[1], bz = b[2], bw = b[3]\r\n\r\n        var omega, cosom, sinom, scale0, scale1;\r\n\r\n        cosom = ax * bx + ay * by + az * bz + aw * bw;\r\n        if (cosom < 0.0) {\r\n            cosom = -cosom;\r\n            bx = -bx;\r\n            by = -by;\r\n            bz = -bz;\r\n            bw = -bw;\r\n        }\r\n        if ((1.0 - cosom) > 0.000001) {\r\n            omega = Math.acos(cosom);\r\n            sinom = Math.sin(omega);\r\n            scale0 = Math.sin((1.0 - t) * omega) / sinom;\r\n            scale1 = Math.sin(t * omega) / sinom;\r\n        } else {\r\n            scale0 = 1.0 - t;\r\n            scale1 = t;\r\n        }\r\n        out[0] = scale0 * ax + scale1 * bx;\r\n        out[1] = scale0 * ay + scale1 * by;\r\n        out[2] = scale0 * az + scale1 * bz;\r\n        out[3] = scale0 * aw + scale1 * bw;\r\n\r\n        return out;\r\n    }\r\n\r\n    function quaternionToEuler(out, quat) {\r\n        var qx = quat[0];\r\n        var qy = quat[1];\r\n        var qz = quat[2];\r\n        var qw = quat[3];\r\n        var heading = Math.atan2(2*qy*qw-2*qx*qz , 1 - 2*qy*qy - 2*qz*qz)\r\n        var attitude = Math.asin(2*qx*qy + 2*qz*qw) \r\n        var bank = Math.atan2(2*qx*qw-2*qy*qz , 1 - 2*qx*qx - 2*qz*qz);\r\n        out[0] = heading/degToRads;\r\n        out[1] = attitude/degToRads;\r\n        out[2] = bank/degToRads;\r\n    }\r\n\r\n    function createQuaternion(values) {\r\n        var heading = values[0] * degToRads;\r\n        var attitude = values[1] * degToRads;\r\n        var bank = values[2] * degToRads;\r\n        var c1 = Math.cos(heading / 2);\r\n        var c2 = Math.cos(attitude / 2);\r\n        var c3 = Math.cos(bank / 2);\r\n        var s1 = Math.sin(heading / 2);\r\n        var s2 = Math.sin(attitude / 2);\r\n        var s3 = Math.sin(bank / 2);\r\n        var w = c1 * c2 * c3 - s1 * s2 * s3;\r\n        var x = s1 * s2 * c3 + c1 * c2 * s3;\r\n        var y = s1 * c2 * c3 + c1 * s2 * s3;\r\n        var z = c1 * s2 * c3 - s1 * c2 * s3;\r\n\r\n        return [x,y,z,w];\r\n    }\r\n\r\n    function getValueAtCurrentTime(){\r\n        var frameNum = this.comp.renderedFrame - this.offsetTime;\r\n        var initTime = this.keyframes[0].t - this.offsetTime;\r\n        var endTime = this.keyframes[this.keyframes.length- 1].t-this.offsetTime;\r\n        if(!(frameNum === this._caching.lastFrame || (this._caching.lastFrame !== initFrame && ((this._caching.lastFrame >= endTime && frameNum >= endTime) || (this._caching.lastFrame < initTime && frameNum < initTime))))){\r\n            if(this._caching.lastFrame >= frameNum) {\r\n                this._caching._lastKeyframeIndex = -1;\r\n                this._caching.lastIndex = 0;\r\n            }\r\n\r\n            var renderResult = this.interpolateValue(frameNum, this._caching);\r\n            this.pv = renderResult;\r\n        }\r\n        this._caching.lastFrame = frameNum;\r\n        return this.pv;\r\n    }\r\n\r\n    function setVValue(val) {\r\n        var multipliedValue;\r\n        if(this.propType === 'unidimensional') {\r\n            multipliedValue = val * this.mult;\r\n            if(math_abs(this.v - multipliedValue) > 0.00001) {\r\n                this.v = multipliedValue;\r\n                this._mdf = true;\r\n            }\r\n        } else {\r\n            var i = 0, len = this.v.length;\r\n            while (i < len) {\r\n                multipliedValue = val[i] * this.mult;\r\n                if (math_abs(this.v[i] - multipliedValue) > 0.00001) {\r\n                    this.v[i] = multipliedValue;\r\n                    this._mdf = true;\r\n                }\r\n                i += 1;\r\n            }\r\n        }\r\n    }\r\n\r\n    function processEffectsSequence() {\r\n        if (this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) {\r\n            return;\r\n        }\r\n        if(this.lock) {\r\n            this.setVValue(this.pv);\r\n            return;\r\n        }\r\n        this.lock = true;\r\n        this._mdf = this._isFirstFrame;\r\n        var multipliedValue;\r\n        var i, len = this.effectsSequence.length;\r\n        var finalValue = this.kf ? this.pv : this.data.k;\r\n        for(i = 0; i < len; i += 1) {\r\n            finalValue = this.effectsSequence[i](finalValue);\r\n        }\r\n        this.setVValue(finalValue);\r\n        this._isFirstFrame = false;\r\n        this.lock = false;\r\n        this.frameId = this.elem.globalData.frameId;\r\n    }\r\n\r\n    function addEffect(effectFunction) {\r\n        this.effectsSequence.push(effectFunction);\r\n        this.container.addDynamicProperty(this);\r\n    }\r\n\r\n    function ValueProperty(elem, data, mult, container){\r\n        this.propType = 'unidimensional';\r\n        this.mult = mult || 1;\r\n        this.data = data;\r\n        this.v = mult ? data.k * mult : data.k;\r\n        this.pv = data.k;\r\n        this._mdf = false;\r\n        this.elem = elem;\r\n        this.container = container;\r\n        this.comp = elem.comp;\r\n        this.k = false;\r\n        this.kf = false;\r\n        this.vel = 0;\r\n        this.effectsSequence = [];\r\n        this._isFirstFrame = true;\r\n        this.getValue = processEffectsSequence;\r\n        this.setVValue = setVValue;\r\n        this.addEffect = addEffect;\r\n    }\r\n\r\n    function MultiDimensionalProperty(elem, data, mult, container) {\r\n        this.propType = 'multidimensional';\r\n        this.mult = mult || 1;\r\n        this.data = data;\r\n        this._mdf = false;\r\n        this.elem = elem;\r\n        this.container = container;\r\n        this.comp = elem.comp;\r\n        this.k = false;\r\n        this.kf = false;\r\n        this.frameId = -1;\r\n        var i, len = data.k.length;\r\n        this.v = createTypedArray('float32', len);\r\n        this.pv = createTypedArray('float32', len);\r\n        var arr = createTypedArray('float32', len);\r\n        this.vel = createTypedArray('float32', len);\r\n        for (i = 0; i < len; i += 1) {\r\n            this.v[i] = data.k[i] * this.mult;\r\n            this.pv[i] = data.k[i];\r\n        }\r\n        this._isFirstFrame = true;\r\n        this.effectsSequence = [];\r\n        this.getValue = processEffectsSequence;\r\n        this.setVValue = setVValue;\r\n        this.addEffect = addEffect;\r\n    }\r\n\r\n    function KeyframedValueProperty(elem, data, mult, container) {\r\n        this.propType = 'unidimensional';\r\n        this.keyframes = data.k;\r\n        this.offsetTime = elem.data.st;\r\n        this.frameId = -1;\r\n        this._caching = {lastFrame: initFrame, lastIndex: 0, value: 0, _lastKeyframeIndex: -1};\r\n        this.k = true;\r\n        this.kf = true;\r\n        this.data = data;\r\n        this.mult = mult || 1;\r\n        this.elem = elem;\r\n        this.container = container;\r\n        this.comp = elem.comp;\r\n        this.v = initFrame;\r\n        this.pv = initFrame;\r\n        this._isFirstFrame = true;\r\n        this.getValue = processEffectsSequence;\r\n        this.setVValue = setVValue;\r\n        this.interpolateValue = interpolateValue;\r\n        this.effectsSequence = [getValueAtCurrentTime.bind(this)];\r\n        this.addEffect = addEffect;\r\n    }\r\n\r\n    function KeyframedMultidimensionalProperty(elem, data, mult, container){\r\n        this.propType = 'multidimensional';\r\n        var i, len = data.k.length;\r\n        var s, e,to,ti;\r\n        for (i = 0; i < len - 1; i += 1) {\r\n            if (data.k[i].to && data.k[i].s && data.k[i + 1] && data.k[i + 1].s) {\r\n                s = data.k[i].s;\r\n                e = data.k[i + 1].s;\r\n                to = data.k[i].to;\r\n                ti = data.k[i].ti;\r\n                if((s.length === 2 && !(s[0] === e[0] && s[1] === e[1]) && bez.pointOnLine2D(s[0],s[1],e[0],e[1],s[0] + to[0],s[1] + to[1]) && bez.pointOnLine2D(s[0],s[1],e[0],e[1],e[0] + ti[0],e[1] + ti[1])) || (s.length === 3 && !(s[0] === e[0] && s[1] === e[1] && s[2] === e[2]) && bez.pointOnLine3D(s[0],s[1],s[2],e[0],e[1],e[2],s[0] + to[0],s[1] + to[1],s[2] + to[2]) && bez.pointOnLine3D(s[0],s[1],s[2],e[0],e[1],e[2],e[0] + ti[0],e[1] + ti[1],e[2] + ti[2]))){\r\n                    data.k[i].to = null;\r\n                    data.k[i].ti = null;\r\n                }\r\n                if(s[0] === e[0] && s[1] === e[1] && to[0] === 0 && to[1] === 0 && ti[0] === 0 && ti[1] === 0) {\r\n                    if(s.length === 2 || (s[2] === e[2] && to[2] === 0 && ti[2] === 0)) {\r\n                        data.k[i].to = null;\r\n                        data.k[i].ti = null;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.effectsSequence = [getValueAtCurrentTime.bind(this)];\r\n        this.keyframes = data.k;\r\n        this.offsetTime = elem.data.st;\r\n        this.k = true;\r\n        this.kf = true;\r\n        this._isFirstFrame = true;\r\n        this.mult = mult || 1;\r\n        this.elem = elem;\r\n        this.container = container;\r\n        this.comp = elem.comp;\r\n        this.getValue = processEffectsSequence;\r\n        this.setVValue = setVValue;\r\n        this.interpolateValue = interpolateValue;\r\n        this.frameId = -1;\r\n        var arrLen = data.k[0].s.length;\r\n        this.v = createTypedArray('float32', arrLen);\r\n        this.pv = createTypedArray('float32', arrLen);\r\n        for (i = 0; i < arrLen; i += 1) {\r\n            this.v[i] = initFrame;\r\n            this.pv[i] = initFrame;\r\n        }\r\n        this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray('float32', arrLen)};\r\n        this.addEffect = addEffect;\r\n    }\r\n\r\n    function getProp(elem,data,type, mult, container) {\r\n        var p;\r\n        if(!data.k.length){\r\n            p = new ValueProperty(elem,data, mult, container);\r\n        }else if(typeof(data.k[0]) === 'number'){\r\n            p = new MultiDimensionalProperty(elem,data, mult, container);\r\n        }else{\r\n            switch(type){\r\n                case 0:\r\n                    p = new KeyframedValueProperty(elem,data,mult, container);\r\n                    break;\r\n                case 1:\r\n                    p = new KeyframedMultidimensionalProperty(elem,data,mult, container);\r\n                    break;\r\n            }\r\n        }\r\n        if(p.effectsSequence.length){\r\n            container.addDynamicProperty(p);\r\n        }\r\n        return p;\r\n    }\r\n\r\n    var ob = {\r\n        getProp: getProp\r\n    };\r\n    return ob;\r\n}());\r\nvar TransformPropertyFactory = (function() {\r\n\r\n    var defaultVector = [0,0]\r\n\r\n    function applyToMatrix(mat) {\r\n        var _mdf = this._mdf;\r\n        this.iterateDynamicProperties();\r\n        this._mdf = this._mdf || _mdf;\r\n        if (this.a) {\r\n            mat.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n        }\r\n        if (this.s) {\r\n            mat.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n        }\r\n        if (this.sk) {\r\n            mat.skewFromAxis(-this.sk.v, this.sa.v);\r\n        }\r\n        if (this.r) {\r\n            mat.rotate(-this.r.v);\r\n        } else {\r\n            mat.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\r\n        }\r\n        if (this.data.p.s) {\r\n            if (this.data.p.z) {\r\n                mat.translate(this.px.v, this.py.v, -this.pz.v);\r\n            } else {\r\n                mat.translate(this.px.v, this.py.v, 0);\r\n            }\r\n        } else {\r\n            mat.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\r\n        }\r\n    }\r\n    function processKeys(forceRender){\r\n        if (this.elem.globalData.frameId === this.frameId) {\r\n            return;\r\n        }\r\n        if(this._isDirty) {\r\n            this.precalculateMatrix();\r\n            this._isDirty = false;\r\n        }\r\n\r\n        this.iterateDynamicProperties();\r\n\r\n        if (this._mdf || forceRender) {\r\n            this.v.cloneFromProps(this.pre.props);\r\n            if (this.appliedTransformations < 1) {\r\n                this.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n            }\r\n            if(this.appliedTransformations < 2) {\r\n                this.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n            }\r\n            if (this.sk && this.appliedTransformations < 3) {\r\n                this.v.skewFromAxis(-this.sk.v, this.sa.v);\r\n            }\r\n            if (this.r && this.appliedTransformations < 4) {\r\n                this.v.rotate(-this.r.v);\r\n            } else if (!this.r && this.appliedTransformations < 4){\r\n                this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\r\n            }\r\n            if (this.autoOriented) {\r\n                var v1,v2, frameRate = this.elem.globalData.frameRate;\r\n                if(this.p && this.p.keyframes && this.p.getValueAtTime) {\r\n                    if (this.p._caching.lastFrame+this.p.offsetTime <= this.p.keyframes[0].t) {\r\n                        v1 = this.p.getValueAtTime((this.p.keyframes[0].t + 0.01) / frameRate,0);\r\n                        v2 = this.p.getValueAtTime(this.p.keyframes[0].t / frameRate, 0);\r\n                    } else if(this.p._caching.lastFrame+this.p.offsetTime >= this.p.keyframes[this.p.keyframes.length - 1].t) {\r\n                        v1 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t / frameRate), 0);\r\n                        v2 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t - 0.05) / frameRate, 0);\r\n                    } else {\r\n                        v1 = this.p.pv;\r\n                        v2 = this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime - 0.01) / frameRate, this.p.offsetTime);\r\n                    }\r\n                } else if(this.px && this.px.keyframes && this.py.keyframes && this.px.getValueAtTime && this.py.getValueAtTime) {\r\n                    v1 = [];\r\n                    v2 = [];\r\n                    var px = this.px, py = this.py, frameRate;\r\n                    if (px._caching.lastFrame+px.offsetTime <= px.keyframes[0].t) {\r\n                        v1[0] = px.getValueAtTime((px.keyframes[0].t + 0.01) / frameRate,0);\r\n                        v1[1] = py.getValueAtTime((py.keyframes[0].t + 0.01) / frameRate,0);\r\n                        v2[0] = px.getValueAtTime((px.keyframes[0].t) / frameRate,0);\r\n                        v2[1] = py.getValueAtTime((py.keyframes[0].t) / frameRate,0);\r\n                    } else if(px._caching.lastFrame+px.offsetTime >= px.keyframes[px.keyframes.length - 1].t) {\r\n                        v1[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t / frameRate),0);\r\n                        v1[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t / frameRate),0);\r\n                        v2[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t - 0.01) / frameRate,0);\r\n                        v2[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t - 0.01) / frameRate,0);\r\n                    } else {\r\n                        v1 = [px.pv, py.pv];\r\n                        v2[0] = px.getValueAtTime((px._caching.lastFrame+px.offsetTime - 0.01) / frameRate,px.offsetTime);\r\n                        v2[1] = py.getValueAtTime((py._caching.lastFrame+py.offsetTime - 0.01) / frameRate,py.offsetTime);\r\n                    }\r\n                } else {\r\n                    v1 = v2 = defaultVector\r\n                }\r\n                this.v.rotate(-Math.atan2(v1[1] - v2[1], v1[0] - v2[0]));\r\n            }\r\n            if(this.data.p && this.data.p.s){\r\n                if(this.data.p.z) {\r\n                    this.v.translate(this.px.v, this.py.v, -this.pz.v);\r\n                } else {\r\n                    this.v.translate(this.px.v, this.py.v, 0);\r\n                }\r\n            }else{\r\n                this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2]);\r\n            }\r\n        }\r\n        this.frameId = this.elem.globalData.frameId;\r\n    }\r\n\r\n    function precalculateMatrix() {\r\n        if(!this.a.k) {\r\n            this.pre.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n            this.appliedTransformations = 1;\r\n        } else {\r\n            return;\r\n        }\r\n        if(!this.s.effectsSequence.length) {\r\n            this.pre.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n            this.appliedTransformations = 2;\r\n        } else {\r\n            return;\r\n        }\r\n        if(this.sk) {\r\n            if(!this.sk.effectsSequence.length && !this.sa.effectsSequence.length) {\r\n                this.pre.skewFromAxis(-this.sk.v, this.sa.v);\r\n            this.appliedTransformations = 3;\r\n            } else {\r\n                return;\r\n            }\r\n        }\r\n        if (this.r) {\r\n            if(!this.r.effectsSequence.length) {\r\n                this.pre.rotate(-this.r.v);\r\n                this.appliedTransformations = 4;\r\n            } else {\r\n                return;\r\n            }\r\n        } else if(!this.rz.effectsSequence.length && !this.ry.effectsSequence.length && !this.rx.effectsSequence.length && !this.or.effectsSequence.length) {\r\n            this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\r\n            this.appliedTransformations = 4;\r\n        }\r\n    }\r\n\r\n    function autoOrient(){\r\n        //\r\n        //var prevP = this.getValueAtTime();\r\n    }\r\n\r\n    function addDynamicProperty(prop) {\r\n        this._addDynamicProperty(prop);\r\n        this.elem.addDynamicProperty(prop);\r\n        this._isDirty = true;\r\n    }\r\n\r\n    function TransformProperty(elem,data,container){\r\n        this.elem = elem;\r\n        this.frameId = -1;\r\n        this.propType = 'transform';\r\n        this.data = data;\r\n        this.v = new Matrix();\r\n        //Precalculated matrix with non animated properties\r\n        this.pre = new Matrix();\r\n        this.appliedTransformations = 0;\r\n        this.initDynamicPropertyContainer(container || elem);\r\n        if(data.p && data.p.s){\r\n            this.px = PropertyFactory.getProp(elem,data.p.x,0,0,this);\r\n            this.py = PropertyFactory.getProp(elem,data.p.y,0,0,this);\r\n            if(data.p.z){\r\n                this.pz = PropertyFactory.getProp(elem,data.p.z,0,0,this);\r\n            }\r\n        }else{\r\n            this.p = PropertyFactory.getProp(elem,data.p || {k:[0,0,0]},1,0,this);\r\n        }\r\n        if(data.rx) {\r\n            this.rx = PropertyFactory.getProp(elem, data.rx, 0, degToRads, this);\r\n            this.ry = PropertyFactory.getProp(elem, data.ry, 0, degToRads, this);\r\n            this.rz = PropertyFactory.getProp(elem, data.rz, 0, degToRads, this);\r\n            if(data.or.k[0].ti) {\r\n                var i, len = data.or.k.length;\r\n                for(i=0;i<len;i+=1) {\r\n                    data.or.k[i].to = data.or.k[i].ti = null;\r\n                }\r\n            }\r\n            this.or = PropertyFactory.getProp(elem, data.or, 1, degToRads, this);\r\n            //sh Indicates it needs to be capped between -180 and 180\r\n            this.or.sh = true;\r\n        } else {\r\n            this.r = PropertyFactory.getProp(elem, data.r || {k: 0}, 0, degToRads, this);\r\n        }\r\n        if(data.sk){\r\n            this.sk = PropertyFactory.getProp(elem, data.sk, 0, degToRads, this);\r\n            this.sa = PropertyFactory.getProp(elem, data.sa, 0, degToRads, this);\r\n        }\r\n        this.a = PropertyFactory.getProp(elem,data.a || {k:[0,0,0]},1,0,this);\r\n        this.s = PropertyFactory.getProp(elem,data.s || {k:[100,100,100]},1,0.01,this);\r\n        // Opacity is not part of the transform properties, that's why it won't use this.dynamicProperties. That way transforms won't get updated if opacity changes.\r\n        if(data.o){\r\n            this.o = PropertyFactory.getProp(elem,data.o,0,0.01,elem);\r\n        } else {\r\n            this.o = {_mdf:false,v:1};\r\n        }\r\n        this._isDirty = true;\r\n        if(!this.dynamicProperties.length){\r\n            this.getValue(true);\r\n        }\r\n    }\r\n\r\n    TransformProperty.prototype = {\r\n        applyToMatrix: applyToMatrix,\r\n        getValue: processKeys,\r\n        precalculateMatrix: precalculateMatrix,\r\n        autoOrient: autoOrient\r\n    }\r\n\r\n    extendPrototype([DynamicPropertyContainer], TransformProperty);\r\n    TransformProperty.prototype.addDynamicProperty = addDynamicProperty;\r\n    TransformProperty.prototype._addDynamicProperty = DynamicPropertyContainer.prototype.addDynamicProperty;\r\n\r\n    function getTransformProperty(elem,data,container){\r\n        return new TransformProperty(elem,data,container);\r\n    }\r\n\r\n    return {\r\n        getTransformProperty: getTransformProperty\r\n    };\r\n\r\n}());\r\nfunction ShapePath(){\r\n\tthis.c = false;\r\n\tthis._length = 0;\r\n\tthis._maxLength = 8;\r\n\tthis.v = createSizedArray(this._maxLength);\r\n\tthis.o = createSizedArray(this._maxLength);\r\n\tthis.i = createSizedArray(this._maxLength);\r\n}\r\n\r\nShapePath.prototype.setPathData = function(closed, len) {\r\n\tthis.c = closed;\r\n\tthis.setLength(len);\r\n\tvar i = 0;\r\n\twhile(i < len){\r\n\t\tthis.v[i] = point_pool.newElement();\r\n\t\tthis.o[i] = point_pool.newElement();\r\n\t\tthis.i[i] = point_pool.newElement();\r\n\t\ti += 1;\r\n\t}\r\n};\r\n\r\nShapePath.prototype.setLength = function(len) {\r\n\twhile(this._maxLength < len) {\r\n\t\tthis.doubleArrayLength();\r\n\t}\r\n\tthis._length = len;\r\n};\r\n\r\nShapePath.prototype.doubleArrayLength = function() {\r\n\tthis.v = this.v.concat(createSizedArray(this._maxLength));\r\n\tthis.i = this.i.concat(createSizedArray(this._maxLength));\r\n\tthis.o = this.o.concat(createSizedArray(this._maxLength));\r\n\tthis._maxLength *= 2;\r\n};\r\n\r\nShapePath.prototype.setXYAt = function(x, y, type, pos, replace) {\r\n\tvar arr;\r\n\tthis._length = Math.max(this._length, pos + 1);\r\n\tif(this._length >= this._maxLength) {\r\n\t\tthis.doubleArrayLength();\r\n\t}\r\n\tswitch(type){\r\n\t\tcase 'v':\r\n\t\t\tarr = this.v;\r\n\t\t\tbreak;\r\n\t\tcase 'i':\r\n\t\t\tarr = this.i;\r\n\t\t\tbreak;\r\n\t\tcase 'o':\r\n\t\t\tarr = this.o;\r\n\t\t\tbreak;\r\n\t}\r\n\tif(!arr[pos] || (arr[pos] && !replace)){\r\n\t\tarr[pos] = point_pool.newElement();\r\n\t}\r\n\tarr[pos][0] = x;\r\n\tarr[pos][1] = y;\r\n};\r\n\r\nShapePath.prototype.setTripleAt = function(vX,vY,oX,oY,iX,iY,pos, replace) {\r\n\tthis.setXYAt(vX,vY,'v',pos, replace);\r\n\tthis.setXYAt(oX,oY,'o',pos, replace);\r\n\tthis.setXYAt(iX,iY,'i',pos, replace);\r\n};\r\n\r\nShapePath.prototype.reverse = function() {\r\n\tvar newPath = new ShapePath();\r\n\tnewPath.setPathData(this.c, this._length);\r\n\tvar vertices = this.v, outPoints = this.o, inPoints = this.i;\r\n\tvar init = 0;\r\n\tif (this.c) {\r\n\t\tnewPath.setTripleAt(vertices[0][0], vertices[0][1], inPoints[0][0], inPoints[0][1], outPoints[0][0], outPoints[0][1], 0, false);\r\n        init = 1;\r\n    }\r\n    var cnt = this._length - 1;\r\n    var len = this._length;\r\n\r\n    var i;\r\n    for (i = init; i < len; i += 1) {\r\n    \tnewPath.setTripleAt(vertices[cnt][0], vertices[cnt][1], inPoints[cnt][0], inPoints[cnt][1], outPoints[cnt][0], outPoints[cnt][1], i, false);\r\n        cnt -= 1;\r\n    }\r\n    return newPath;\r\n};\r\nvar ShapePropertyFactory = (function(){\r\n\r\n    var initFrame = -999999;\r\n\r\n    function interpolateShape(frameNum, previousValue, caching) {\r\n        var iterationIndex = caching.lastIndex;\r\n        var keyPropS,keyPropE,isHold, j, k, jLen, kLen, perc, vertexValue;\r\n        var kf = this.keyframes;\r\n        if(frameNum < kf[0].t-this.offsetTime){\r\n            keyPropS = kf[0].s[0];\r\n            isHold = true;\r\n            iterationIndex = 0;\r\n        }else if(frameNum >= kf[kf.length - 1].t-this.offsetTime){\r\n            keyPropS = kf[kf.length - 1].s ? kf[kf.length - 1].s[0] : kf[kf.length - 2].e[0];\r\n            /*if(kf[kf.length - 1].s){\r\n                keyPropS = kf[kf.length - 1].s[0];\r\n            }else{\r\n                keyPropS = kf[kf.length - 2].e[0];\r\n            }*/\r\n            isHold = true;\r\n        }else{\r\n            var i = iterationIndex;\r\n            var len = kf.length- 1,flag = true,keyData,nextKeyData;\r\n            while(flag){\r\n                keyData = kf[i];\r\n                nextKeyData = kf[i+1];\r\n                if((nextKeyData.t - this.offsetTime) > frameNum){\r\n                    break;\r\n                }\r\n                if(i < len - 1){\r\n                    i += 1;\r\n                }else{\r\n                    flag = false;\r\n                }\r\n            }\r\n            isHold = keyData.h === 1;\r\n            iterationIndex = i;\r\n            if(!isHold){\r\n                if(frameNum >= nextKeyData.t-this.offsetTime){\r\n                    perc = 1;\r\n                }else if(frameNum < keyData.t-this.offsetTime){\r\n                    perc = 0;\r\n                }else{\r\n                    var fnc;\r\n                    if(keyData.__fnct){\r\n                        fnc = keyData.__fnct;\r\n                    }else{\r\n                        fnc = BezierFactory.getBezierEasing(keyData.o.x,keyData.o.y,keyData.i.x,keyData.i.y).get;\r\n                        keyData.__fnct = fnc;\r\n                    }\r\n                    perc = fnc((frameNum-(keyData.t-this.offsetTime))/((nextKeyData.t-this.offsetTime)-(keyData.t-this.offsetTime)));\r\n                }\r\n                keyPropE = nextKeyData.s ? nextKeyData.s[0] : keyData.e[0];\r\n            }\r\n            keyPropS = keyData.s[0];\r\n        }\r\n        jLen = previousValue._length;\r\n        kLen = keyPropS.i[0].length;\r\n        caching.lastIndex = iterationIndex;\r\n\r\n        for(j=0;j<jLen;j+=1){\r\n            for(k=0;k<kLen;k+=1){\r\n                vertexValue = isHold ? keyPropS.i[j][k] :  keyPropS.i[j][k]+(keyPropE.i[j][k]-keyPropS.i[j][k])*perc;\r\n                previousValue.i[j][k] = vertexValue;\r\n                vertexValue = isHold ? keyPropS.o[j][k] :  keyPropS.o[j][k]+(keyPropE.o[j][k]-keyPropS.o[j][k])*perc;\r\n                previousValue.o[j][k] = vertexValue;\r\n                vertexValue = isHold ? keyPropS.v[j][k] :  keyPropS.v[j][k]+(keyPropE.v[j][k]-keyPropS.v[j][k])*perc;\r\n                previousValue.v[j][k] = vertexValue;\r\n            }\r\n        }\r\n    }\r\n\r\n    function interpolateShapeCurrentTime(){\r\n        var frameNum = this.comp.renderedFrame - this.offsetTime;\r\n        var initTime = this.keyframes[0].t - this.offsetTime;\r\n        var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\r\n        var lastFrame = this._caching.lastFrame;\r\n        if(!(lastFrame !== initFrame && ((lastFrame < initTime && frameNum < initTime) || (lastFrame > endTime && frameNum > endTime)))){\r\n            ////\r\n            this._caching.lastIndex = lastFrame < frameNum ? this._caching.lastIndex : 0;\r\n            this.interpolateShape(frameNum, this.pv, this._caching);\r\n            ////\r\n        }\r\n        this._caching.lastFrame = frameNum;\r\n        return this.pv;\r\n    }\r\n\r\n    function resetShape(){\r\n        this.paths = this.localShapeCollection;\r\n    }\r\n\r\n    function shapesEqual(shape1, shape2) {\r\n        if(shape1._length !== shape2._length || shape1.c !== shape2.c){\r\n            return false;\r\n        }\r\n        var i, len = shape1._length;\r\n        for(i = 0; i < len; i += 1) {\r\n            if(shape1.v[i][0] !== shape2.v[i][0] \r\n            || shape1.v[i][1] !== shape2.v[i][1] \r\n            || shape1.o[i][0] !== shape2.o[i][0] \r\n            || shape1.o[i][1] !== shape2.o[i][1] \r\n            || shape1.i[i][0] !== shape2.i[i][0] \r\n            || shape1.i[i][1] !== shape2.i[i][1]) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    function setVValue(newPath) {\r\n        if(!shapesEqual(this.v, newPath)) {\r\n            this.v = shape_pool.clone(newPath);\r\n            this.localShapeCollection.releaseShapes();\r\n            this.localShapeCollection.addShape(this.v);\r\n            this._mdf = true;\r\n            this.paths = this.localShapeCollection;\r\n        }\r\n    }\r\n\r\n    function processEffectsSequence() {\r\n        if (this.elem.globalData.frameId === this.frameId) {\r\n            return;\r\n        } else if (!this.effectsSequence.length) {\r\n            this._mdf = false;\r\n            return;\r\n        }\r\n        if (this.lock) {\r\n            this.setVValue(this.pv);\r\n            return;\r\n        }\r\n        this.lock = true;\r\n        this._mdf = false;\r\n        var finalValue = this.kf ? this.pv : this.data.ks ? this.data.ks.k : this.data.pt.k;\r\n        var i, len = this.effectsSequence.length;\r\n        for(i = 0; i < len; i += 1) {\r\n            finalValue = this.effectsSequence[i](finalValue);\r\n        }\r\n        this.setVValue(finalValue);\r\n        this.lock = false;\r\n        this.frameId = this.elem.globalData.frameId;\r\n    };\r\n\r\n    function ShapeProperty(elem, data, type){\r\n        this.propType = 'shape';\r\n        this.comp = elem.comp;\r\n        this.container = elem;\r\n        this.elem = elem;\r\n        this.data = data;\r\n        this.k = false;\r\n        this.kf = false;\r\n        this._mdf = false;\r\n        var pathData = type === 3 ? data.pt.k : data.ks.k;\r\n        this.v = shape_pool.clone(pathData);\r\n        this.pv = shape_pool.clone(this.v);\r\n        this.localShapeCollection = shapeCollection_pool.newShapeCollection();\r\n        this.paths = this.localShapeCollection;\r\n        this.paths.addShape(this.v);\r\n        this.reset = resetShape;\r\n        this.effectsSequence = [];\r\n    }\r\n\r\n    function addEffect(effectFunction) {\r\n        this.effectsSequence.push(effectFunction);\r\n        this.container.addDynamicProperty(this);\r\n    }\r\n\r\n    ShapeProperty.prototype.interpolateShape = interpolateShape;\r\n    ShapeProperty.prototype.getValue = processEffectsSequence;\r\n    ShapeProperty.prototype.setVValue = setVValue;\r\n    ShapeProperty.prototype.addEffect = addEffect;\r\n\r\n    function KeyframedShapeProperty(elem,data,type){\r\n        this.propType = 'shape';\r\n        this.comp = elem.comp;\r\n        this.elem = elem;\r\n        this.container = elem;\r\n        this.offsetTime = elem.data.st;\r\n        this.keyframes = type === 3 ? data.pt.k : data.ks.k;\r\n        this.k = true;\r\n        this.kf = true;\r\n        var i, len = this.keyframes[0].s[0].i.length;\r\n        var jLen = this.keyframes[0].s[0].i[0].length;\r\n        this.v = shape_pool.newElement();\r\n        this.v.setPathData(this.keyframes[0].s[0].c, len);\r\n        this.pv = shape_pool.clone(this.v);\r\n        this.localShapeCollection = shapeCollection_pool.newShapeCollection();\r\n        this.paths = this.localShapeCollection;\r\n        this.paths.addShape(this.v);\r\n        this.lastFrame = initFrame;\r\n        this.reset = resetShape;\r\n        this._caching = {lastFrame: initFrame, lastIndex: 0};\r\n        this.effectsSequence = [interpolateShapeCurrentTime.bind(this)];\r\n    }\r\n    KeyframedShapeProperty.prototype.getValue = processEffectsSequence;\r\n    KeyframedShapeProperty.prototype.interpolateShape = interpolateShape;\r\n    KeyframedShapeProperty.prototype.setVValue = setVValue;\r\n    KeyframedShapeProperty.prototype.addEffect = addEffect;\r\n\r\n    var EllShapeProperty = (function(){\r\n\r\n        var cPoint = roundCorner;\r\n\r\n        function EllShapeProperty(elem,data) {\r\n            /*this.v = {\r\n                v: createSizedArray(4),\r\n                i: createSizedArray(4),\r\n                o: createSizedArray(4),\r\n                c: true\r\n            };*/\r\n            this.v = shape_pool.newElement();\r\n            this.v.setPathData(true, 4);\r\n            this.localShapeCollection = shapeCollection_pool.newShapeCollection();\r\n            this.paths = this.localShapeCollection;\r\n            this.localShapeCollection.addShape(this.v);\r\n            this.d = data.d;\r\n            this.elem = elem;\r\n            this.comp = elem.comp;\r\n            this.frameId = -1;\r\n            this.initDynamicPropertyContainer(elem);\r\n            this.p = PropertyFactory.getProp(elem,data.p,1,0,this);\r\n            this.s = PropertyFactory.getProp(elem,data.s,1,0,this);\r\n            if(this.dynamicProperties.length){\r\n                this.k = true;\r\n            }else{\r\n                this.k = false;\r\n                this.convertEllToPath();\r\n            }\r\n        };\r\n\r\n        EllShapeProperty.prototype = {\r\n            reset: resetShape,\r\n            getValue: function (){\r\n                if(this.elem.globalData.frameId === this.frameId){\r\n                    return;\r\n                }\r\n                this.frameId = this.elem.globalData.frameId;\r\n                this.iterateDynamicProperties();\r\n\r\n                if(this._mdf){\r\n                    this.convertEllToPath();\r\n                }\r\n            },\r\n            convertEllToPath: function() {\r\n                var p0 = this.p.v[0], p1 = this.p.v[1], s0 = this.s.v[0]/2, s1 = this.s.v[1]/2;\r\n                var _cw = this.d !== 3;\r\n                var _v = this.v;\r\n                _v.v[0][0] = p0;\r\n                _v.v[0][1] = p1 - s1;\r\n                _v.v[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n                _v.v[1][1] = p1;\r\n                _v.v[2][0] = p0;\r\n                _v.v[2][1] = p1 + s1;\r\n                _v.v[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n                _v.v[3][1] = p1;\r\n                _v.i[0][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\r\n                _v.i[0][1] = p1 - s1;\r\n                _v.i[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n                _v.i[1][1] = p1 - s1 * cPoint;\r\n                _v.i[2][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\r\n                _v.i[2][1] = p1 + s1;\r\n                _v.i[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n                _v.i[3][1] = p1 + s1 * cPoint;\r\n                _v.o[0][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\r\n                _v.o[0][1] = p1 - s1;\r\n                _v.o[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n                _v.o[1][1] = p1 + s1 * cPoint;\r\n                _v.o[2][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\r\n                _v.o[2][1] = p1 + s1;\r\n                _v.o[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n                _v.o[3][1] = p1 - s1 * cPoint;\r\n            }\r\n        }\r\n\r\n        extendPrototype([DynamicPropertyContainer], EllShapeProperty);\r\n\r\n        return EllShapeProperty;\r\n    }());\r\n\r\n    var StarShapeProperty = (function() {\r\n\r\n        function StarShapeProperty(elem,data) {\r\n            this.v = shape_pool.newElement();\r\n            this.v.setPathData(true, 0);\r\n            this.elem = elem;\r\n            this.comp = elem.comp;\r\n            this.data = data;\r\n            this.frameId = -1;\r\n            this.d = data.d;\r\n            this.initDynamicPropertyContainer(elem);\r\n            if(data.sy === 1){\r\n                this.ir = PropertyFactory.getProp(elem,data.ir,0,0,this);\r\n                this.is = PropertyFactory.getProp(elem,data.is,0,0.01,this);\r\n                this.convertToPath = this.convertStarToPath;\r\n            } else {\r\n                this.convertToPath = this.convertPolygonToPath;\r\n            }\r\n            this.pt = PropertyFactory.getProp(elem,data.pt,0,0,this);\r\n            this.p = PropertyFactory.getProp(elem,data.p,1,0,this);\r\n            this.r = PropertyFactory.getProp(elem,data.r,0,degToRads,this);\r\n            this.or = PropertyFactory.getProp(elem,data.or,0,0,this);\r\n            this.os = PropertyFactory.getProp(elem,data.os,0,0.01,this);\r\n            this.localShapeCollection = shapeCollection_pool.newShapeCollection();\r\n            this.localShapeCollection.addShape(this.v);\r\n            this.paths = this.localShapeCollection;\r\n            if(this.dynamicProperties.length){\r\n                this.k = true;\r\n            }else{\r\n                this.k = false;\r\n                this.convertToPath();\r\n            }\r\n        };\r\n\r\n        StarShapeProperty.prototype = {\r\n            reset: resetShape,\r\n            getValue: function() {\r\n                if(this.elem.globalData.frameId === this.frameId){\r\n                    return;\r\n                }\r\n                this.frameId = this.elem.globalData.frameId;\r\n                this.iterateDynamicProperties();\r\n                if(this._mdf){\r\n                    this.convertToPath();\r\n                }\r\n            },\r\n            convertStarToPath: function() {\r\n                var numPts = Math.floor(this.pt.v)*2;\r\n                var angle = Math.PI*2/numPts;\r\n                /*this.v.v.length = numPts;\r\n                this.v.i.length = numPts;\r\n                this.v.o.length = numPts;*/\r\n                var longFlag = true;\r\n                var longRad = this.or.v;\r\n                var shortRad = this.ir.v;\r\n                var longRound = this.os.v;\r\n                var shortRound = this.is.v;\r\n                var longPerimSegment = 2*Math.PI*longRad/(numPts*2);\r\n                var shortPerimSegment = 2*Math.PI*shortRad/(numPts*2);\r\n                var i, rad,roundness,perimSegment, currentAng = -Math.PI/ 2;\r\n                currentAng += this.r.v;\r\n                var dir = this.data.d === 3 ? -1 : 1;\r\n                this.v._length = 0;\r\n                for(i=0;i<numPts;i+=1){\r\n                    rad = longFlag ? longRad : shortRad;\r\n                    roundness = longFlag ? longRound : shortRound;\r\n                    perimSegment = longFlag ? longPerimSegment : shortPerimSegment;\r\n                    var x = rad * Math.cos(currentAng);\r\n                    var y = rad * Math.sin(currentAng);\r\n                    var ox = x === 0 && y === 0 ? 0 : y/Math.sqrt(x*x + y*y);\r\n                    var oy = x === 0 && y === 0 ? 0 : -x/Math.sqrt(x*x + y*y);\r\n                    x +=  + this.p.v[0];\r\n                    y +=  + this.p.v[1];\r\n                    this.v.setTripleAt(x,y,x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir,x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir, i, true);\r\n\r\n                    /*this.v.v[i] = [x,y];\r\n                    this.v.i[i] = [x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir];\r\n                    this.v.o[i] = [x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir];\r\n                    this.v._length = numPts;*/\r\n                    longFlag = !longFlag;\r\n                    currentAng += angle*dir;\r\n                }\r\n            },\r\n            convertPolygonToPath: function() {\r\n                var numPts = Math.floor(this.pt.v);\r\n                var angle = Math.PI*2/numPts;\r\n                var rad = this.or.v;\r\n                var roundness = this.os.v;\r\n                var perimSegment = 2*Math.PI*rad/(numPts*4);\r\n                var i, currentAng = -Math.PI/ 2;\r\n                var dir = this.data.d === 3 ? -1 : 1;\r\n                currentAng += this.r.v;\r\n                this.v._length = 0;\r\n                for(i=0;i<numPts;i+=1){\r\n                    var x = rad * Math.cos(currentAng);\r\n                    var y = rad * Math.sin(currentAng);\r\n                    var ox = x === 0 && y === 0 ? 0 : y/Math.sqrt(x*x + y*y);\r\n                    var oy = x === 0 && y === 0 ? 0 : -x/Math.sqrt(x*x + y*y);\r\n                    x +=  + this.p.v[0];\r\n                    y +=  + this.p.v[1];\r\n                    this.v.setTripleAt(x,y,x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir,x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir, i, true);\r\n                    currentAng += angle*dir;\r\n                }\r\n                this.paths.length = 0;\r\n                this.paths[0] = this.v;\r\n            }\r\n\r\n        }\r\n        extendPrototype([DynamicPropertyContainer], StarShapeProperty);\r\n\r\n        return StarShapeProperty;\r\n    }());\r\n\r\n    var RectShapeProperty = (function() {\r\n\r\n         function RectShapeProperty(elem,data) {\r\n            this.v = shape_pool.newElement();\r\n            this.v.c = true;\r\n            this.localShapeCollection = shapeCollection_pool.newShapeCollection();\r\n            this.localShapeCollection.addShape(this.v);\r\n            this.paths = this.localShapeCollection;\r\n            this.elem = elem;\r\n            this.comp = elem.comp;\r\n            this.frameId = -1;\r\n            this.d = data.d;\r\n            this.initDynamicPropertyContainer(elem);\r\n            this.p = PropertyFactory.getProp(elem,data.p,1,0,this);\r\n            this.s = PropertyFactory.getProp(elem,data.s,1,0,this);\r\n            this.r = PropertyFactory.getProp(elem,data.r,0,0,this);\r\n            if(this.dynamicProperties.length){\r\n                this.k = true;\r\n            }else{\r\n                this.k = false;\r\n                this.convertRectToPath();\r\n            }\r\n        };\r\n\r\n        RectShapeProperty.prototype = {\r\n            convertRectToPath: function (){\r\n                var p0 = this.p.v[0], p1 = this.p.v[1], v0 = this.s.v[0]/2, v1 = this.s.v[1]/2;\r\n                var round = bm_min(v0,v1,this.r.v);\r\n                var cPoint = round*(1-roundCorner);\r\n                this.v._length = 0;\r\n\r\n                if(this.d === 2 || this.d === 1) {\r\n                    this.v.setTripleAt(p0+v0, p1-v1+round,p0+v0, p1-v1+round,p0+v0,p1-v1+cPoint,0, true);\r\n                    this.v.setTripleAt(p0+v0, p1+v1-round,p0+v0, p1+v1-cPoint,p0+v0, p1+v1-round,1, true);\r\n                    if(round!== 0){\r\n                        this.v.setTripleAt(p0+v0-round, p1+v1,p0+v0-round,p1+v1,p0+v0-cPoint,p1+v1,2, true);\r\n                        this.v.setTripleAt(p0-v0+round,p1+v1,p0-v0+cPoint,p1+v1,p0-v0+round,p1+v1,3, true);\r\n                        this.v.setTripleAt(p0-v0,p1+v1-round,p0-v0,p1+v1-round,p0-v0,p1+v1-cPoint,4, true);\r\n                        this.v.setTripleAt(p0-v0,p1-v1+round,p0-v0,p1-v1+cPoint,p0-v0,p1-v1+round,5, true);\r\n                        this.v.setTripleAt(p0-v0+round,p1-v1,p0-v0+round,p1-v1,p0-v0+cPoint,p1-v1,6, true);\r\n                        this.v.setTripleAt(p0+v0-round,p1-v1,p0+v0-cPoint,p1-v1,p0+v0-round,p1-v1,7, true);\r\n                    } else {\r\n                        this.v.setTripleAt(p0-v0,p1+v1,p0-v0+cPoint,p1+v1,p0-v0,p1+v1,2);\r\n                        this.v.setTripleAt(p0-v0,p1-v1,p0-v0,p1-v1+cPoint,p0-v0,p1-v1,3);\r\n                    }\r\n                }else{\r\n                    this.v.setTripleAt(p0+v0,p1-v1+round,p0+v0,p1-v1+cPoint,p0+v0,p1-v1+round,0, true);\r\n                    if(round!== 0){\r\n                        this.v.setTripleAt(p0+v0-round,p1-v1,p0+v0-round,p1-v1,p0+v0-cPoint,p1-v1,1, true);\r\n                        this.v.setTripleAt(p0-v0+round,p1-v1,p0-v0+cPoint,p1-v1,p0-v0+round,p1-v1,2, true);\r\n                        this.v.setTripleAt(p0-v0,p1-v1+round,p0-v0,p1-v1+round,p0-v0,p1-v1+cPoint,3, true);\r\n                        this.v.setTripleAt(p0-v0,p1+v1-round,p0-v0,p1+v1-cPoint,p0-v0,p1+v1-round,4, true);\r\n                        this.v.setTripleAt(p0-v0+round,p1+v1,p0-v0+round,p1+v1,p0-v0+cPoint,p1+v1,5, true);\r\n                        this.v.setTripleAt(p0+v0-round,p1+v1,p0+v0-cPoint,p1+v1,p0+v0-round,p1+v1,6, true);\r\n                        this.v.setTripleAt(p0+v0,p1+v1-round,p0+v0,p1+v1-round,p0+v0,p1+v1-cPoint,7, true);\r\n                    } else {\r\n                        this.v.setTripleAt(p0-v0,p1-v1,p0-v0+cPoint,p1-v1,p0-v0,p1-v1,1, true);\r\n                        this.v.setTripleAt(p0-v0,p1+v1,p0-v0,p1+v1-cPoint,p0-v0,p1+v1,2, true);\r\n                        this.v.setTripleAt(p0+v0,p1+v1,p0+v0-cPoint,p1+v1,p0+v0,p1+v1,3, true);\r\n\r\n                    }\r\n                }\r\n            },\r\n            getValue: function(frameNum){\r\n                if(this.elem.globalData.frameId === this.frameId){\r\n                    return;\r\n                }\r\n                this.frameId = this.elem.globalData.frameId;\r\n                this.iterateDynamicProperties();\r\n                if(this._mdf){\r\n                    this.convertRectToPath();\r\n                }\r\n\r\n            },\r\n            reset: resetShape\r\n        }\r\n        extendPrototype([DynamicPropertyContainer], RectShapeProperty);\r\n\r\n        return RectShapeProperty;\r\n    }());\r\n\r\n    function getShapeProp(elem,data,type){\r\n        var prop;\r\n        if(type === 3 || type === 4){\r\n            var dataProp = type === 3 ? data.pt : data.ks;\r\n            var keys = dataProp.k;\r\n            if(keys.length){\r\n                prop = new KeyframedShapeProperty(elem, data, type);\r\n            }else{\r\n                prop = new ShapeProperty(elem, data, type);\r\n            }\r\n        }else if(type === 5){\r\n            prop = new RectShapeProperty(elem, data);\r\n        }else if(type === 6){\r\n            prop = new EllShapeProperty(elem, data);\r\n        }else if(type === 7){\r\n            prop = new StarShapeProperty(elem, data);\r\n        }\r\n        if(prop.k){\r\n            elem.addDynamicProperty(prop);\r\n        }\r\n        return prop;\r\n    }\r\n\r\n    function getConstructorFunction() {\r\n        return ShapeProperty;\r\n    }\r\n\r\n    function getKeyframedConstructorFunction() {\r\n        return KeyframedShapeProperty;\r\n    }\r\n\r\n    var ob = {};\r\n    ob.getShapeProp = getShapeProp;\r\n    ob.getConstructorFunction = getConstructorFunction;\r\n    ob.getKeyframedConstructorFunction = getKeyframedConstructorFunction;\r\n    return ob;\r\n}());\r\nvar ShapeModifiers = (function(){\r\n    var ob = {};\r\n    var modifiers = {};\r\n    ob.registerModifier = registerModifier;\r\n    ob.getModifier = getModifier;\r\n\r\n    function registerModifier(nm,factory){\r\n        if(!modifiers[nm]){\r\n            modifiers[nm] = factory;\r\n        }\r\n    }\r\n\r\n    function getModifier(nm,elem, data){\r\n        return new modifiers[nm](elem, data);\r\n    }\r\n\r\n    return ob;\r\n}());\r\n\r\nfunction ShapeModifier(){}\r\nShapeModifier.prototype.initModifierProperties = function(){};\r\nShapeModifier.prototype.addShapeToModifier = function(){};\r\nShapeModifier.prototype.addShape = function(data){\r\n    if (!this.closed) {\r\n        // Adding shape to dynamic properties. It covers the case where a shape has no effects applied, to reset it's _mdf state on every tick.\r\n        data.sh.container.addDynamicProperty(data.sh);\r\n        var shapeData = {shape:data.sh, data: data, localShapeCollection:shapeCollection_pool.newShapeCollection()};\r\n        this.shapes.push(shapeData);\r\n        this.addShapeToModifier(shapeData);\r\n        if (this._isAnimated) {\r\n            data.setAsAnimated();\r\n        }\r\n    }\r\n};\r\nShapeModifier.prototype.init = function(elem,data){\r\n    this.shapes = [];\r\n    this.elem = elem;\r\n    this.initDynamicPropertyContainer(elem);\r\n    this.initModifierProperties(elem,data);\r\n    this.frameId = initialDefaultFrame;\r\n    this.closed = false;\r\n    this.k = false;\r\n    if(this.dynamicProperties.length){\r\n        this.k = true;\r\n    }else{\r\n        this.getValue(true);\r\n    }\r\n};\r\nShapeModifier.prototype.processKeys = function(){\r\n    if(this.elem.globalData.frameId === this.frameId){\r\n        return;\r\n    }\r\n    this.frameId = this.elem.globalData.frameId;\r\n    this.iterateDynamicProperties();\r\n};\r\n\r\nextendPrototype([DynamicPropertyContainer], ShapeModifier);\r\nfunction TrimModifier(){\r\n}\r\nextendPrototype([ShapeModifier], TrimModifier);\r\nTrimModifier.prototype.initModifierProperties = function(elem, data) {\r\n    this.s = PropertyFactory.getProp(elem, data.s, 0, 0.01, this);\r\n    this.e = PropertyFactory.getProp(elem, data.e, 0, 0.01, this);\r\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0, this);\r\n    this.sValue = 0;\r\n    this.eValue = 0;\r\n    this.getValue = this.processKeys;\r\n    this.m = data.m;\r\n    this._isAnimated = !!this.s.effectsSequence.length || !!this.e.effectsSequence.length || !!this.o.effectsSequence.length;\r\n};\r\n\r\nTrimModifier.prototype.addShapeToModifier = function(shapeData){\r\n    shapeData.pathsData = [];\r\n};\r\n\r\nTrimModifier.prototype.calculateShapeEdges = function(s, e, shapeLength, addedLength, totalModifierLength) {\r\n    var segments = [];\r\n    if (e <= 1) {\r\n        segments.push({\r\n            s: s,\r\n            e: e\r\n        });\r\n    } else if (s >= 1) {\r\n        segments.push({\r\n            s: s - 1,\r\n            e: e - 1\r\n        });\r\n    } else {\r\n        segments.push({\r\n            s: s,\r\n            e: 1\r\n        });\r\n        segments.push({\r\n            s: 0,\r\n            e: e - 1\r\n        });\r\n    }\r\n    var shapeSegments = [];\r\n    var i, len = segments.length, segmentOb;\r\n    for (i = 0; i < len; i += 1) {\r\n        segmentOb = segments[i];\r\n        if (segmentOb.e * totalModifierLength < addedLength || segmentOb.s * totalModifierLength > addedLength + shapeLength) {\r\n            \r\n        } else {\r\n            var shapeS, shapeE;\r\n            if (segmentOb.s * totalModifierLength <= addedLength) {\r\n                shapeS = 0;\r\n            } else {\r\n                shapeS = (segmentOb.s * totalModifierLength - addedLength) / shapeLength;\r\n            }\r\n            if(segmentOb.e * totalModifierLength >= addedLength + shapeLength) {\r\n                shapeE = 1;\r\n            } else {\r\n                shapeE = ((segmentOb.e * totalModifierLength - addedLength) / shapeLength);\r\n            }\r\n            shapeSegments.push([shapeS, shapeE]);\r\n        }\r\n    }\r\n    if (!shapeSegments.length) {\r\n        shapeSegments.push([0, 0]);\r\n    }\r\n    return shapeSegments;\r\n};\r\n\r\nTrimModifier.prototype.releasePathsData = function(pathsData) {\r\n    var i, len = pathsData.length;\r\n    for (i = 0; i < len; i += 1) {\r\n        segments_length_pool.release(pathsData[i]);\r\n    }\r\n    pathsData.length = 0;\r\n    return pathsData;\r\n};\r\n\r\nTrimModifier.prototype.processShapes = function(_isFirstFrame) {\r\n    var s, e;\r\n    if (this._mdf || _isFirstFrame) {\r\n        var o = (this.o.v % 360) / 360;\r\n        if (o < 0) {\r\n            o += 1;\r\n        }\r\n        s = (this.s.v > 1 ? 1 : this.s.v < 0 ? 0 : this.s.v) + o;\r\n        e = (this.e.v > 1 ? 1 : this.e.v < 0 ? 0 : this.e.v) + o;\r\n        if (s === e) {\r\n\r\n        }\r\n        if (s > e) {\r\n            var _s = s;\r\n            s = e;\r\n            e = _s;\r\n        }\r\n        s = Math.round(s * 10000) * 0.0001;\r\n        e = Math.round(e * 10000) * 0.0001;\r\n        this.sValue = s;\r\n        this.eValue = e;\r\n    } else {\r\n        s = this.sValue;\r\n        e = this.eValue;\r\n    }\r\n    var shapePaths;\r\n    var i, len = this.shapes.length, j, jLen;\r\n    var pathsData, pathData, totalShapeLength, totalModifierLength = 0;\r\n\r\n    if (e === s) {\r\n        for (i = 0; i < len; i += 1) {\r\n            this.shapes[i].localShapeCollection.releaseShapes();\r\n            this.shapes[i].shape._mdf = true;\r\n            this.shapes[i].shape.paths = this.shapes[i].localShapeCollection;\r\n            if (this._mdf) {\r\n                this.shapes[i].pathsData.length = 0;\r\n            }\r\n        }\r\n    } else if (!((e === 1 && s === 0) || (e===0 && s === 1))){\r\n        var segments = [], shapeData, localShapeCollection;\r\n        for (i = 0; i < len; i += 1) {\r\n            shapeData = this.shapes[i];\r\n            // if shape hasn't changed and trim properties haven't changed, cached previous path can be used\r\n            if (!shapeData.shape._mdf && !this._mdf && !_isFirstFrame && this.m !== 2) {\r\n                shapeData.shape.paths = shapeData.localShapeCollection;\r\n            } else {\r\n                shapePaths = shapeData.shape.paths;\r\n                jLen = shapePaths._length;\r\n                totalShapeLength = 0;\r\n                if (!shapeData.shape._mdf && shapeData.pathsData.length) {\r\n                    totalShapeLength = shapeData.totalShapeLength;\r\n                } else {\r\n                    pathsData = this.releasePathsData(shapeData.pathsData);\r\n                    for (j = 0; j < jLen; j += 1) {\r\n                        pathData = bez.getSegmentsLength(shapePaths.shapes[j]);\r\n                        pathsData.push(pathData);\r\n                        totalShapeLength += pathData.totalLength;\r\n                    }\r\n                    shapeData.totalShapeLength = totalShapeLength;\r\n                    shapeData.pathsData = pathsData;\r\n                }\r\n\r\n                totalModifierLength += totalShapeLength;\r\n                shapeData.shape._mdf = true;\r\n            }\r\n        }\r\n        var shapeS = s, shapeE = e, addedLength = 0, edges;\r\n        for (i = len - 1; i >= 0; i -= 1) {\r\n            shapeData = this.shapes[i];\r\n            if (shapeData.shape._mdf) {\r\n                localShapeCollection = shapeData.localShapeCollection;\r\n                localShapeCollection.releaseShapes();\r\n                //if m === 2 means paths are trimmed individually so edges need to be found for this specific shape relative to whoel group\r\n                if (this.m === 2 && len > 1) {\r\n                    edges = this.calculateShapeEdges(s, e, shapeData.totalShapeLength, addedLength, totalModifierLength);\r\n                    addedLength += shapeData.totalShapeLength;\r\n                } else {\r\n                    edges = [[shapeS, shapeE]];\r\n                }\r\n                jLen = edges.length;\r\n                for (j = 0; j < jLen; j += 1) {\r\n                    shapeS = edges[j][0];\r\n                    shapeE = edges[j][1];\r\n                    segments.length = 0;\r\n                    if (shapeE <= 1) {\r\n                        segments.push({\r\n                            s:shapeData.totalShapeLength * shapeS,\r\n                            e:shapeData.totalShapeLength * shapeE\r\n                        });\r\n                    } else if (shapeS >= 1) {\r\n                        segments.push({\r\n                            s:shapeData.totalShapeLength * (shapeS - 1),\r\n                            e:shapeData.totalShapeLength * (shapeE - 1)\r\n                        });\r\n                    } else {\r\n                        segments.push({\r\n                            s:shapeData.totalShapeLength * shapeS,\r\n                            e:shapeData.totalShapeLength\r\n                        });\r\n                        segments.push({\r\n                            s:0,\r\n                            e:shapeData.totalShapeLength * (shapeE - 1)\r\n                        });\r\n                    }\r\n                    var newShapesData = this.addShapes(shapeData,segments[0]);\r\n                    if (segments[0].s !== segments[0].e) {\r\n                        if (segments.length > 1) {\r\n                            var lastShapeInCollection = shapeData.shape.paths.shapes[shapeData.shape.paths._length - 1];\r\n                            if (lastShapeInCollection.c) {\r\n                                var lastShape = newShapesData.pop();\r\n                                this.addPaths(newShapesData, localShapeCollection);\r\n                                newShapesData = this.addShapes(shapeData, segments[1], lastShape);\r\n                            } else {\r\n                                this.addPaths(newShapesData, localShapeCollection);\r\n                                newShapesData = this.addShapes(shapeData, segments[1]);\r\n                            }\r\n                        } \r\n                        this.addPaths(newShapesData, localShapeCollection);\r\n                    }\r\n                    \r\n                }\r\n                shapeData.shape.paths = localShapeCollection;\r\n            }\r\n        }\r\n    } else if (this._mdf) {\r\n        for (i = 0; i < len; i += 1) {\r\n            //Releasign Trim Cached paths data when no trim applied in case shapes are modified inbetween.\r\n            //Don't remove this even if it's losing cached info.\r\n            this.shapes[i].pathsData.length = 0;\r\n            this.shapes[i].shape._mdf = true;\r\n        }\r\n    }\r\n};\r\n\r\nTrimModifier.prototype.addPaths = function(newPaths, localShapeCollection) {\r\n    var i, len = newPaths.length;\r\n    for (i = 0; i < len; i += 1) {\r\n        localShapeCollection.addShape(newPaths[i]);\r\n    }\r\n};\r\n\r\nTrimModifier.prototype.addSegment = function(pt1, pt2, pt3, pt4, shapePath, pos, newShape) {\r\n    shapePath.setXYAt(pt2[0], pt2[1], 'o', pos);\r\n    shapePath.setXYAt(pt3[0], pt3[1], 'i', pos + 1);\r\n    if(newShape){\r\n        shapePath.setXYAt(pt1[0], pt1[1], 'v', pos);\r\n    }\r\n    shapePath.setXYAt(pt4[0], pt4[1], 'v', pos + 1);\r\n};\r\n\r\nTrimModifier.prototype.addSegmentFromArray = function(points, shapePath, pos, newShape) {\r\n    shapePath.setXYAt(points[1], points[5], 'o', pos);\r\n    shapePath.setXYAt(points[2], points[6], 'i', pos + 1);\r\n    if(newShape){\r\n        shapePath.setXYAt(points[0], points[4], 'v', pos);\r\n    }\r\n    shapePath.setXYAt(points[3], points[7], 'v', pos + 1);\r\n};\r\n\r\nTrimModifier.prototype.addShapes = function(shapeData, shapeSegment, shapePath) {\r\n    var pathsData = shapeData.pathsData;\r\n    var shapePaths = shapeData.shape.paths.shapes;\r\n    var i, len = shapeData.shape.paths._length, j, jLen;\r\n    var addedLength = 0;\r\n    var currentLengthData,segmentCount;\r\n    var lengths;\r\n    var segment;\r\n    var shapes = [];\r\n    var initPos;\r\n    var newShape = true;\r\n    if (!shapePath) {\r\n        shapePath = shape_pool.newElement();\r\n        segmentCount = 0;\r\n        initPos = 0;\r\n    } else {\r\n        segmentCount = shapePath._length;\r\n        initPos = shapePath._length;\r\n    }\r\n    shapes.push(shapePath);\r\n    for (i = 0; i < len; i += 1) {\r\n        lengths = pathsData[i].lengths;\r\n        shapePath.c = shapePaths[i].c;\r\n        jLen = shapePaths[i].c ? lengths.length : lengths.length + 1;\r\n        for (j = 1; j < jLen; j +=1) {\r\n            currentLengthData = lengths[j-1];\r\n            if (addedLength + currentLengthData.addedLength < shapeSegment.s) {\r\n                addedLength += currentLengthData.addedLength;\r\n                shapePath.c = false;\r\n            } else if(addedLength > shapeSegment.e) {\r\n                shapePath.c = false;\r\n                break;\r\n            } else {\r\n                if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + currentLengthData.addedLength) {\r\n                    this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[j], shapePaths[i].v[j], shapePath, segmentCount, newShape);\r\n                    newShape = false;\r\n                } else {\r\n                    segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[j], shapePaths[i].o[j - 1], shapePaths[i].i[j], (shapeSegment.s - addedLength)/currentLengthData.addedLength,(shapeSegment.e - addedLength)/currentLengthData.addedLength, lengths[j-1]);\r\n                    this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);\r\n                    // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\r\n                    newShape = false;\r\n                    shapePath.c = false;\r\n                }\r\n                addedLength += currentLengthData.addedLength;\r\n                segmentCount += 1;\r\n            }\r\n        }\r\n        if (shapePaths[i].c && lengths.length) {\r\n            currentLengthData = lengths[j - 1];\r\n            if (addedLength <= shapeSegment.e) {\r\n                var segmentLength = lengths[j - 1].addedLength;\r\n                if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + segmentLength) {\r\n                    this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[0], shapePaths[i].v[0], shapePath, segmentCount, newShape);\r\n                    newShape = false;\r\n                } else {\r\n                    segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[0], shapePaths[i].o[j - 1], shapePaths[i].i[0], (shapeSegment.s - addedLength) / segmentLength, (shapeSegment.e - addedLength) / segmentLength, lengths[j - 1]);\r\n                    this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);\r\n                    // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\r\n                    newShape = false;\r\n                    shapePath.c = false;\r\n                }\r\n            } else {\r\n                shapePath.c = false;\r\n            }\r\n            addedLength += currentLengthData.addedLength;\r\n            segmentCount += 1;\r\n        }\r\n        if (shapePath._length) {\r\n            shapePath.setXYAt(shapePath.v[initPos][0], shapePath.v[initPos][1], 'i', initPos);\r\n            shapePath.setXYAt(shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1],'o', shapePath._length - 1);\r\n        }\r\n        if (addedLength > shapeSegment.e) {\r\n            break;\r\n        }\r\n        if (i < len - 1) {\r\n            shapePath = shape_pool.newElement();\r\n            newShape = true;\r\n            shapes.push(shapePath);\r\n            segmentCount = 0;\r\n        }\r\n    }\r\n    return shapes;\r\n};\r\n\r\n\r\nShapeModifiers.registerModifier('tm', TrimModifier);\r\nfunction RoundCornersModifier(){}\r\nextendPrototype([ShapeModifier],RoundCornersModifier);\r\nRoundCornersModifier.prototype.initModifierProperties = function(elem,data){\r\n    this.getValue = this.processKeys;\r\n    this.rd = PropertyFactory.getProp(elem,data.r,0,null,this);\r\n    this._isAnimated = !!this.rd.effectsSequence.length;\r\n};\r\n\r\nRoundCornersModifier.prototype.processPath = function(path, round){\r\n    var cloned_path = shape_pool.newElement();\r\n    cloned_path.c = path.c;\r\n    var i, len = path._length;\r\n    var currentV,currentI,currentO,closerV, newV,newO,newI,distance,newPosPerc,index = 0;\r\n    var vX,vY,oX,oY,iX,iY;\r\n    for(i=0;i<len;i+=1){\r\n        currentV = path.v[i];\r\n        currentO = path.o[i];\r\n        currentI = path.i[i];\r\n        if(currentV[0]===currentO[0] && currentV[1]===currentO[1] && currentV[0]===currentI[0] && currentV[1]===currentI[1]){\r\n            if((i===0 || i === len - 1) && !path.c){\r\n                cloned_path.setTripleAt(currentV[0],currentV[1],currentO[0],currentO[1],currentI[0],currentI[1],index);\r\n                /*cloned_path.v[index] = currentV;\r\n                cloned_path.o[index] = currentO;\r\n                cloned_path.i[index] = currentI;*/\r\n                index += 1;\r\n            } else {\r\n                if(i===0){\r\n                    closerV = path.v[len-1];\r\n                } else {\r\n                    closerV = path.v[i-1];\r\n                }\r\n                distance = Math.sqrt(Math.pow(currentV[0]-closerV[0],2)+Math.pow(currentV[1]-closerV[1],2));\r\n                newPosPerc = distance ? Math.min(distance/2,round)/distance : 0;\r\n                vX = iX = currentV[0]+(closerV[0]-currentV[0])*newPosPerc;\r\n                vY = iY = currentV[1]-(currentV[1]-closerV[1])*newPosPerc;\r\n                oX = vX-(vX-currentV[0])*roundCorner;\r\n                oY = vY-(vY-currentV[1])*roundCorner;\r\n                cloned_path.setTripleAt(vX,vY,oX,oY,iX,iY,index);\r\n                index += 1;\r\n\r\n                if(i === len - 1){\r\n                    closerV = path.v[0];\r\n                } else {\r\n                    closerV = path.v[i+1];\r\n                }\r\n                distance = Math.sqrt(Math.pow(currentV[0]-closerV[0],2)+Math.pow(currentV[1]-closerV[1],2));\r\n                newPosPerc = distance ? Math.min(distance/2,round)/distance : 0;\r\n                vX = oX = currentV[0]+(closerV[0]-currentV[0])*newPosPerc;\r\n                vY = oY = currentV[1]+(closerV[1]-currentV[1])*newPosPerc;\r\n                iX = vX-(vX-currentV[0])*roundCorner;\r\n                iY = vY-(vY-currentV[1])*roundCorner;\r\n                cloned_path.setTripleAt(vX,vY,oX,oY,iX,iY,index);\r\n                index += 1;\r\n            }\r\n        } else {\r\n            cloned_path.setTripleAt(path.v[i][0],path.v[i][1],path.o[i][0],path.o[i][1],path.i[i][0],path.i[i][1],index);\r\n            index += 1;\r\n        }\r\n    }\r\n    return cloned_path;\r\n};\r\n\r\nRoundCornersModifier.prototype.processShapes = function(_isFirstFrame){\r\n    var shapePaths;\r\n    var i, len = this.shapes.length;\r\n    var j, jLen;\r\n    var rd = this.rd.v;\r\n\r\n    if(rd !== 0){\r\n        var shapeData, newPaths, localShapeCollection;\r\n        for(i=0;i<len;i+=1){\r\n            shapeData = this.shapes[i];\r\n            newPaths = shapeData.shape.paths;\r\n            localShapeCollection = shapeData.localShapeCollection;\r\n            if(!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)){\r\n                localShapeCollection.releaseShapes();\r\n                shapeData.shape._mdf = true;\r\n                shapePaths = shapeData.shape.paths.shapes;\r\n                jLen = shapeData.shape.paths._length;\r\n                for(j=0;j<jLen;j+=1){\r\n                    localShapeCollection.addShape(this.processPath(shapePaths[j],rd));\r\n                }\r\n            }\r\n            shapeData.shape.paths = shapeData.localShapeCollection;\r\n        }\r\n\r\n    }\r\n    if(!this.dynamicProperties.length){\r\n        this._mdf = false;\r\n    }\r\n};\r\n\r\nShapeModifiers.registerModifier('rd',RoundCornersModifier);\r\nfunction PuckerAndBloatModifier(){}\r\nextendPrototype([ShapeModifier],PuckerAndBloatModifier);\r\nPuckerAndBloatModifier.prototype.initModifierProperties = function(elem,data){\r\n    this.getValue = this.processKeys;\r\n    this.amount = PropertyFactory.getProp(elem,data.a,0,null,this);\r\n    this._isAnimated = !!this.amount.effectsSequence.length;\r\n};\r\n\r\nPuckerAndBloatModifier.prototype.processPath = function(path, amount){\r\n    var percent = amount / 100;\r\n    var centerPoint = [0, 0];\r\n    var pathLength = path._length, i = 0;\r\n    for (i = 0; i < pathLength; i += 1) {\r\n        centerPoint[0] += path.v[i][0];\r\n        centerPoint[1] += path.v[i][1];\r\n    }\r\n    centerPoint[0] /= pathLength;\r\n    centerPoint[1] /= pathLength;\r\n    var cloned_path = shape_pool.newElement();\r\n    cloned_path.c = path.c;\r\n    var vX, vY, oX, oY, iX, iY;\r\n    for(i = 0; i < pathLength; i += 1) {\r\n        vX = path.v[i][0] + (centerPoint[0] - path.v[i][0]) * percent;\r\n        vY = path.v[i][1] + (centerPoint[1] - path.v[i][1]) * percent;\r\n        oX = path.o[i][0] + (centerPoint[0] - path.o[i][0]) * -percent;\r\n        oY = path.o[i][1] + (centerPoint[1] - path.o[i][1]) * -percent;\r\n        iX = path.i[i][0] + (centerPoint[0] - path.i[i][0]) * -percent;\r\n        iY = path.i[i][1] + (centerPoint[1] - path.i[i][1]) * -percent;\r\n        cloned_path.setTripleAt(vX, vY, oX, oY, iX, iY, i);\r\n    }\r\n    return cloned_path;\r\n};\r\n\r\nPuckerAndBloatModifier.prototype.processShapes = function(_isFirstFrame){\r\n    var shapePaths;\r\n    var i, len = this.shapes.length;\r\n    var j, jLen;\r\n    var amount = this.amount.v;\r\n\r\n    if(amount !== 0){\r\n        var shapeData, newPaths, localShapeCollection;\r\n        for(i=0;i<len;i+=1){\r\n            shapeData = this.shapes[i];\r\n            newPaths = shapeData.shape.paths;\r\n            localShapeCollection = shapeData.localShapeCollection;\r\n            if(!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)){\r\n                localShapeCollection.releaseShapes();\r\n                shapeData.shape._mdf = true;\r\n                shapePaths = shapeData.shape.paths.shapes;\r\n                jLen = shapeData.shape.paths._length;\r\n                for(j=0;j<jLen;j+=1){\r\n                    localShapeCollection.addShape(this.processPath(shapePaths[j], amount));\r\n                }\r\n            }\r\n            shapeData.shape.paths = shapeData.localShapeCollection;\r\n        }\r\n    }\r\n    if(!this.dynamicProperties.length){\r\n        this._mdf = false;\r\n    }\r\n};\r\nShapeModifiers.registerModifier('pb',PuckerAndBloatModifier);\r\nfunction RepeaterModifier(){}\r\nextendPrototype([ShapeModifier], RepeaterModifier);\r\n\r\nRepeaterModifier.prototype.initModifierProperties = function(elem,data){\r\n    this.getValue = this.processKeys;\r\n    this.c = PropertyFactory.getProp(elem,data.c,0,null,this);\r\n    this.o = PropertyFactory.getProp(elem,data.o,0,null,this);\r\n    this.tr = TransformPropertyFactory.getTransformProperty(elem,data.tr,this);\r\n    this.so = PropertyFactory.getProp(elem,data.tr.so,0,0.01,this);\r\n    this.eo = PropertyFactory.getProp(elem,data.tr.eo,0,0.01,this);\r\n    this.data = data;\r\n    if(!this.dynamicProperties.length){\r\n        this.getValue(true);\r\n    }\r\n    this._isAnimated = !!this.dynamicProperties.length;\r\n    this.pMatrix = new Matrix();\r\n    this.rMatrix = new Matrix();\r\n    this.sMatrix = new Matrix();\r\n    this.tMatrix = new Matrix();\r\n    this.matrix = new Matrix();\r\n};\r\n\r\nRepeaterModifier.prototype.applyTransforms = function(pMatrix, rMatrix, sMatrix, transform, perc, inv){\r\n    var dir = inv ? -1 : 1;\r\n    var scaleX = transform.s.v[0] + (1 - transform.s.v[0]) * (1 - perc);\r\n    var scaleY = transform.s.v[1] + (1 - transform.s.v[1]) * (1 - perc);\r\n    pMatrix.translate(transform.p.v[0] * dir * perc, transform.p.v[1] * dir * perc, transform.p.v[2]);\r\n    rMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\r\n    rMatrix.rotate(-transform.r.v * dir * perc);\r\n    rMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\r\n    sMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\r\n    sMatrix.scale(inv ? 1/scaleX : scaleX, inv ? 1/scaleY : scaleY);\r\n    sMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\r\n};\r\n\r\nRepeaterModifier.prototype.init = function(elem, arr, pos, elemsData) {\r\n    this.elem = elem;\r\n    this.arr = arr;\r\n    this.pos = pos;\r\n    this.elemsData = elemsData;\r\n    this._currentCopies = 0;\r\n    this._elements = [];\r\n    this._groups = [];\r\n    this.frameId = -1;\r\n    this.initDynamicPropertyContainer(elem);\r\n    this.initModifierProperties(elem,arr[pos]);\r\n    var cont = 0;\r\n    while(pos>0){\r\n        pos -= 1;\r\n        //this._elements.unshift(arr.splice(pos,1)[0]);\r\n        this._elements.unshift(arr[pos]);\r\n        cont += 1;\r\n    }\r\n    if(this.dynamicProperties.length){\r\n        this.k = true;\r\n    }else{\r\n        this.getValue(true);\r\n    }\r\n};\r\n\r\nRepeaterModifier.prototype.resetElements = function(elements){\r\n    var i, len = elements.length;\r\n    for(i = 0; i < len; i += 1) {\r\n        elements[i]._processed = false;\r\n        if(elements[i].ty === 'gr'){\r\n            this.resetElements(elements[i].it);\r\n        }\r\n    }\r\n};\r\n\r\nRepeaterModifier.prototype.cloneElements = function(elements){\r\n    var i, len = elements.length;\r\n    var newElements = JSON.parse(JSON.stringify(elements));\r\n    this.resetElements(newElements);\r\n    return newElements;\r\n};\r\n\r\nRepeaterModifier.prototype.changeGroupRender = function(elements, renderFlag) {\r\n    var i, len = elements.length;\r\n    for(i = 0; i < len; i += 1) {\r\n        elements[i]._render = renderFlag;\r\n        if(elements[i].ty === 'gr') {\r\n            this.changeGroupRender(elements[i].it, renderFlag);\r\n        }\r\n    }\r\n};\r\n\r\nRepeaterModifier.prototype.processShapes = function(_isFirstFrame) {\r\n    var items, itemsTransform, i, dir, cont;\r\n    if(this._mdf || _isFirstFrame){\r\n        var copies = Math.ceil(this.c.v);\r\n        if(this._groups.length < copies){\r\n            while(this._groups.length < copies){\r\n                var group = {\r\n                    it:this.cloneElements(this._elements),\r\n                    ty:'gr'\r\n                };\r\n                group.it.push({\"a\":{\"a\":0,\"ix\":1,\"k\":[0,0]},\"nm\":\"Transform\",\"o\":{\"a\":0,\"ix\":7,\"k\":100},\"p\":{\"a\":0,\"ix\":2,\"k\":[0,0]},\"r\":{\"a\":1,\"ix\":6,\"k\":[{s:0,e:0,t:0},{s:0,e:0,t:1}]},\"s\":{\"a\":0,\"ix\":3,\"k\":[100,100]},\"sa\":{\"a\":0,\"ix\":5,\"k\":0},\"sk\":{\"a\":0,\"ix\":4,\"k\":0},\"ty\":\"tr\"});\r\n                \r\n                this.arr.splice(0,0,group);\r\n                this._groups.splice(0,0,group);\r\n                this._currentCopies += 1;\r\n            }\r\n            this.elem.reloadShapes();\r\n        }\r\n        cont = 0;\r\n        var renderFlag;\r\n        for(i = 0; i  <= this._groups.length - 1; i += 1){\r\n            renderFlag = cont < copies;\r\n            this._groups[i]._render = renderFlag;\r\n            this.changeGroupRender(this._groups[i].it, renderFlag);\r\n            cont += 1;\r\n        }\r\n        \r\n        this._currentCopies = copies;\r\n        ////\r\n\r\n        var offset = this.o.v;\r\n        var offsetModulo = offset%1;\r\n        var roundOffset = offset > 0 ? Math.floor(offset) : Math.ceil(offset);\r\n        var k;\r\n        var tMat = this.tr.v.props;\r\n        var pProps = this.pMatrix.props;\r\n        var rProps = this.rMatrix.props;\r\n        var sProps = this.sMatrix.props;\r\n        this.pMatrix.reset();\r\n        this.rMatrix.reset();\r\n        this.sMatrix.reset();\r\n        this.tMatrix.reset();\r\n        this.matrix.reset();\r\n        var iteration = 0;\r\n\r\n        if(offset > 0) {\r\n            while(iteration<roundOffset){\r\n                this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\r\n                iteration += 1;\r\n            }\r\n            if(offsetModulo){\r\n                this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, offsetModulo, false);\r\n                iteration += offsetModulo;\r\n            }\r\n        } else if(offset < 0) {\r\n            while(iteration>roundOffset){\r\n                this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, true);\r\n                iteration -= 1;\r\n            }\r\n            if(offsetModulo){\r\n                this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, - offsetModulo, true);\r\n                iteration -= offsetModulo;\r\n            }\r\n        }\r\n        i = this.data.m === 1 ? 0 : this._currentCopies - 1;\r\n        dir = this.data.m === 1 ? 1 : -1;\r\n        cont = this._currentCopies;\r\n        var j, jLen;\r\n        while(cont){\r\n            items = this.elemsData[i].it;\r\n            itemsTransform = items[items.length - 1].transform.mProps.v.props;\r\n            jLen = itemsTransform.length;\r\n            items[items.length - 1].transform.mProps._mdf = true;\r\n            items[items.length - 1].transform.op._mdf = true;\r\n            items[items.length - 1].transform.op.v = this.so.v + (this.eo.v - this.so.v) * (i / (this._currentCopies - 1));\r\n            if(iteration !== 0){\r\n                if((i !== 0 && dir === 1) || (i !== this._currentCopies - 1 && dir === -1)){\r\n                    this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\r\n                }\r\n                this.matrix.transform(rProps[0],rProps[1],rProps[2],rProps[3],rProps[4],rProps[5],rProps[6],rProps[7],rProps[8],rProps[9],rProps[10],rProps[11],rProps[12],rProps[13],rProps[14],rProps[15]);\r\n                this.matrix.transform(sProps[0],sProps[1],sProps[2],sProps[3],sProps[4],sProps[5],sProps[6],sProps[7],sProps[8],sProps[9],sProps[10],sProps[11],sProps[12],sProps[13],sProps[14],sProps[15]);\r\n                this.matrix.transform(pProps[0],pProps[1],pProps[2],pProps[3],pProps[4],pProps[5],pProps[6],pProps[7],pProps[8],pProps[9],pProps[10],pProps[11],pProps[12],pProps[13],pProps[14],pProps[15]);\r\n                \r\n                for(j=0;j<jLen;j+=1) {\r\n                    itemsTransform[j] = this.matrix.props[j];\r\n                }\r\n                this.matrix.reset();\r\n            } else {\r\n                this.matrix.reset();\r\n                for(j=0;j<jLen;j+=1) {\r\n                    itemsTransform[j] = this.matrix.props[j];\r\n                }\r\n            }\r\n            iteration += 1;\r\n            cont -= 1;\r\n            i += dir;\r\n        }\r\n    } else {\r\n        cont = this._currentCopies;\r\n        i = 0;\r\n        dir = 1;\r\n        while(cont){\r\n            items = this.elemsData[i].it;\r\n            itemsTransform = items[items.length - 1].transform.mProps.v.props;\r\n            items[items.length - 1].transform.mProps._mdf = false;\r\n            items[items.length - 1].transform.op._mdf = false;\r\n            cont -= 1;\r\n            i += dir;\r\n        }\r\n    }\r\n};\r\n\r\nRepeaterModifier.prototype.addShape = function(){};\r\n\r\nShapeModifiers.registerModifier('rp',RepeaterModifier);\r\nfunction ShapeCollection(){\r\n\tthis._length = 0;\r\n\tthis._maxLength = 4;\r\n\tthis.shapes = createSizedArray(this._maxLength);\r\n}\r\n\r\nShapeCollection.prototype.addShape = function(shapeData){\r\n\tif(this._length === this._maxLength){\r\n\t\tthis.shapes = this.shapes.concat(createSizedArray(this._maxLength));\r\n\t\tthis._maxLength *= 2;\r\n\t}\r\n\tthis.shapes[this._length] = shapeData;\r\n\tthis._length += 1;\r\n};\r\n\r\nShapeCollection.prototype.releaseShapes = function(){\r\n\tvar i;\r\n\tfor(i = 0; i < this._length; i += 1) {\r\n\t\tshape_pool.release(this.shapes[i]);\r\n\t}\r\n\tthis._length = 0;\r\n};\r\nfunction DashProperty(elem, data, renderer, container) {\r\n    this.elem = elem;\r\n    this.frameId = -1;\r\n    this.dataProps = createSizedArray(data.length);\r\n    this.renderer = renderer;\r\n    this.k = false;\r\n    this.dashStr = '';\r\n    this.dashArray = createTypedArray('float32',  data.length ? data.length - 1 : 0);\r\n    this.dashoffset = createTypedArray('float32',  1);\r\n    this.initDynamicPropertyContainer(container);\r\n    var i, len = data.length || 0, prop;\r\n    for(i = 0; i < len; i += 1) {\r\n        prop = PropertyFactory.getProp(elem,data[i].v,0, 0, this);\r\n        this.k = prop.k || this.k;\r\n        this.dataProps[i] = {n:data[i].n,p:prop};\r\n    }\r\n    if(!this.k){\r\n        this.getValue(true);\r\n    }\r\n    this._isAnimated = this.k;\r\n}\r\n\r\nDashProperty.prototype.getValue = function(forceRender) {\r\n    if(this.elem.globalData.frameId === this.frameId && !forceRender){\r\n        return;\r\n    }\r\n    this.frameId = this.elem.globalData.frameId;\r\n    this.iterateDynamicProperties();\r\n    this._mdf = this._mdf || forceRender;\r\n    if (this._mdf) {\r\n        var i = 0, len = this.dataProps.length;\r\n        if(this.renderer === 'svg') {\r\n            this.dashStr = '';\r\n        }\r\n        for(i=0;i<len;i+=1){\r\n            if(this.dataProps[i].n != 'o'){\r\n                if(this.renderer === 'svg') {\r\n                    this.dashStr += ' ' + this.dataProps[i].p.v;\r\n                }else{\r\n                    this.dashArray[i] = this.dataProps[i].p.v;\r\n                }\r\n            }else{\r\n                this.dashoffset[0] = this.dataProps[i].p.v;\r\n            }\r\n        }\r\n    }\r\n};\r\nextendPrototype([DynamicPropertyContainer], DashProperty);\r\nfunction GradientProperty(elem,data,container){\r\n    this.data = data;\r\n    this.c = createTypedArray('uint8c', data.p*4);\r\n    var cLength = data.k.k[0].s ? (data.k.k[0].s.length - data.p*4) : data.k.k.length - data.p*4;\r\n    this.o = createTypedArray('float32', cLength);\r\n    this._cmdf = false;\r\n    this._omdf = false;\r\n    this._collapsable = this.checkCollapsable();\r\n    this._hasOpacity = cLength;\r\n    this.initDynamicPropertyContainer(container);\r\n    this.prop = PropertyFactory.getProp(elem,data.k,1,null,this);\r\n    this.k = this.prop.k;\r\n    this.getValue(true);\r\n}\r\n\r\nGradientProperty.prototype.comparePoints = function(values, points) {\r\n    var i = 0, len = this.o.length/2, diff;\r\n    while(i < len) {\r\n        diff = Math.abs(values[i*4] - values[points*4 + i*2]);\r\n        if(diff > 0.01){\r\n            return false;\r\n        }\r\n        i += 1;\r\n    }\r\n    return true;\r\n};\r\n\r\nGradientProperty.prototype.checkCollapsable = function() {\r\n    if (this.o.length/2 !== this.c.length/4) {\r\n        return false;\r\n    }\r\n    if (this.data.k.k[0].s) {\r\n        var i = 0, len = this.data.k.k.length;\r\n        while (i < len) {\r\n            if (!this.comparePoints(this.data.k.k[i].s, this.data.p)) {\r\n                return false;\r\n            }\r\n            i += 1;\r\n        }\r\n    } else if(!this.comparePoints(this.data.k.k, this.data.p)) {\r\n        return false;\r\n    }\r\n    return true;\r\n};\r\n\r\nGradientProperty.prototype.getValue = function(forceRender){\r\n    this.prop.getValue();\r\n    this._mdf = false;\r\n    this._cmdf = false;\r\n    this._omdf = false;\r\n    if(this.prop._mdf || forceRender){\r\n        var i, len = this.data.p*4;\r\n        var mult, val;\r\n        for(i=0;i<len;i+=1){\r\n            mult = i%4 === 0 ? 100 : 255;\r\n            val = Math.round(this.prop.v[i]*mult);\r\n            if(this.c[i] !== val){\r\n                this.c[i] = val;\r\n                this._cmdf = !forceRender;\r\n            }\r\n        }\r\n        if(this.o.length){\r\n            len = this.prop.v.length;\r\n            for(i=this.data.p*4;i<len;i+=1){\r\n                mult = i%2 === 0 ? 100 : 1;\r\n                val = i%2 === 0 ?  Math.round(this.prop.v[i]*100):this.prop.v[i];\r\n                if(this.o[i-this.data.p*4] !== val){\r\n                    this.o[i-this.data.p*4] = val;\r\n                    this._omdf = !forceRender;\r\n                }\r\n            }\r\n        }\r\n        this._mdf = !forceRender;\r\n    }\r\n};\r\n\r\nextendPrototype([DynamicPropertyContainer], GradientProperty);\r\nvar buildShapeString = function(pathNodes, length, closed, mat) {\r\n\tif(length === 0) {\r\n            return '';\r\n        }\r\n        var _o = pathNodes.o;\r\n        var _i = pathNodes.i;\r\n        var _v = pathNodes.v;\r\n        var i, shapeString = \" M\" + mat.applyToPointStringified(_v[0][0], _v[0][1]);\r\n        for(i = 1; i < length; i += 1) {\r\n            shapeString += \" C\" + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + \" \" + mat.applyToPointStringified(_i[i][0], _i[i][1]) + \" \" + mat.applyToPointStringified(_v[i][0], _v[i][1]);\r\n        }\r\n        if (closed && length) {\r\n            shapeString += \" C\" + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + \" \" + mat.applyToPointStringified(_i[0][0], _i[0][1]) + \" \" + mat.applyToPointStringified(_v[0][0], _v[0][1]);\r\n            shapeString += 'z';\r\n        }\r\n        return shapeString;\r\n}\r\nvar audioControllerFactory = (function() {\r\n\r\n\tfunction AudioController(audioFactory) {\r\n\t\tthis.audios = [];\r\n\t\tthis.audioFactory = audioFactory;\r\n\t\tthis._volume = 1;\r\n\t\tthis._isMuted = false;\r\n\t}\r\n\r\n\tAudioController.prototype = {\r\n\t\taddAudio: function(audio) {\r\n\t\t\tthis.audios.push(audio);\r\n\t\t},\r\n\t\tpause: function() {\r\n\t\t\tvar i, len = this.audios.length;\r\n\t\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\t\tthis.audios[i].pause()\r\n\t\t\t}\r\n\t\t},\r\n\t\tresume: function() {\r\n\t\t\tvar i, len = this.audios.length;\r\n\t\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\t\tthis.audios[i].resume()\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetRate: function(rateValue) {\r\n\t\t\tvar i, len = this.audios.length;\r\n\t\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\t\tthis.audios[i].setRate(rateValue)\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreateAudio: function(assetPath) {\r\n\t\t\tif (this.audioFactory) {\r\n\t\t\t\treturn this.audioFactory(assetPath);\r\n\t\t\t} else if (Howl) {\r\n\t\t\t\treturn new Howl({\r\n\t\t\t\t\tsrc: [assetPath]\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tisPlaying: false,\r\n\t\t\t\t\tplay: function(){this.isPlaying = true},\r\n\t\t\t\t\tseek: function(){this.isPlaying = false},\r\n\t\t\t\t\tplaying: function(){},\r\n\t\t\t\t\trate: function(){},\r\n\t\t\t\t\tsetVolume: function(){},\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetAudioFactory: function(audioFactory) {\r\n\t\t\tthis.audioFactory = audioFactory;\r\n\t\t},\r\n\t\tsetVolume: function(value) {\r\n\t\t\tthis._volume = value;\r\n\t\t\tthis._updateVolume();\r\n\t\t},\r\n\t\tmute: function() {\r\n\t\t\tthis._isMuted = true;\r\n\t\t\tthis._updateVolume();\r\n\t\t},\r\n\t\tunmute: function() {\r\n\t\t\tthis._isMuted = false;\r\n\t\t\tthis._updateVolume();\r\n\t\t},\r\n\t\tgetVolume: function(value) {\r\n\t\t\treturn this._volume;\r\n\t\t},\r\n\t\t_updateVolume: function() {\r\n\t\t\tvar i, len = this.audios.length;\r\n\t\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\t\tthis.audios[i].volume(this._volume * (this._isMuted ? 0 : 1))\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn function() {\r\n\t\treturn new AudioController()\r\n\t}\r\n\r\n}())\r\nvar ImagePreloader = (function(){\r\n\r\n    var proxyImage = (function(){\r\n        var canvas = createTag('canvas');\r\n        canvas.width = 1;\r\n        canvas.height = 1;\r\n        var ctx = canvas.getContext('2d');\r\n        ctx.fillStyle = 'rgba(0,0,0,0)';\r\n        ctx.fillRect(0, 0, 1, 1);\r\n        return canvas;\r\n    }())\r\n\r\n    function imageLoaded(){\r\n        this.loadedAssets += 1;\r\n        if(this.loadedAssets === this.totalImages){\r\n            if(this.imagesLoadedCb) {\r\n                this.imagesLoadedCb(null);\r\n            }\r\n        }\r\n    }\r\n\r\n    function getAssetsPath(assetData, assetsPath, original_path) {\r\n        var path = '';\r\n        if (assetData.e) {\r\n            path = assetData.p;\r\n        } else if(assetsPath) {\r\n            var imagePath = assetData.p;\r\n            if (imagePath.indexOf('images/') !== -1) {\r\n                imagePath = imagePath.split('/')[1];\r\n            }\r\n            path = assetsPath + imagePath;\r\n        } else {\r\n            path = original_path;\r\n            path += assetData.u ? assetData.u : '';\r\n            path += assetData.p;\r\n        }\r\n        return path;\r\n    }\r\n\r\n    function createImageData(assetData) {\r\n        var path = getAssetsPath(assetData, this.assetsPath, this.path);\r\n        var img = createNS('image');\r\n        img.addEventListener('load', this._imageLoaded, false);\r\n        img.addEventListener('error', function() {\r\n            ob.img = proxyImage;\r\n            this._imageLoaded();\r\n        }.bind(this), false);\r\n        img.setAttributeNS('http://www.w3.org/1999/xlink','href', path);\r\n        var ob = {\r\n            img: img,\r\n            assetData: assetData\r\n        }\r\n        return ob;\r\n    }\r\n\r\n    function createImgData(assetData) {\r\n        var path = getAssetsPath(assetData, this.assetsPath, this.path);\r\n        var img = createTag('img');\r\n        img.crossOrigin = 'anonymous';\r\n        img.addEventListener('load', this._imageLoaded, false);\r\n        img.addEventListener('error', function() {\r\n            ob.img = proxyImage;\r\n            this._imageLoaded();\r\n        }.bind(this), false);\r\n        img.src = path;\r\n        var ob = {\r\n            img: img,\r\n            assetData: assetData\r\n        }\r\n        return ob;\r\n    }\r\n\r\n    function loadAssets(assets, cb){\r\n        this.imagesLoadedCb = cb;\r\n        var i, len = assets.length;\r\n        for (i = 0; i < len; i += 1) {\r\n            if(!assets[i].layers){\r\n                this.totalImages += 1;\r\n                this.images.push(this._createImageData(assets[i]));\r\n            }\r\n        }\r\n    }\r\n\r\n    function setPath(path){\r\n        this.path = path || '';\r\n    }\r\n\r\n    function setAssetsPath(path){\r\n        this.assetsPath = path || '';\r\n    }\r\n\r\n    function getImage(assetData) {\r\n        var i = 0, len = this.images.length;\r\n        while (i < len) {\r\n            if (this.images[i].assetData === assetData) {\r\n                return this.images[i].img;\r\n            }\r\n            i += 1;\r\n        }\r\n    }\r\n\r\n    function destroy() {\r\n        this.imagesLoadedCb = null;\r\n        this.images.length = 0;\r\n    }\r\n\r\n    function loaded() {\r\n        return this.totalImages === this.loadedAssets;\r\n    }\r\n\r\n    function setCacheType(type) {\r\n        if (type === 'svg') {\r\n            this._createImageData = this.createImageData.bind(this);\r\n        } else {\r\n            this._createImageData = this.createImgData.bind(this);\r\n        }\r\n    }\r\n\r\n    function ImagePreloader(type){\r\n        this._imageLoaded = imageLoaded.bind(this);\r\n        this.assetsPath = '';\r\n        this.path = '';\r\n        this.totalImages = 0;\r\n        this.loadedAssets = 0;\r\n        this.imagesLoadedCb = null;\r\n        this.images = [];\r\n    };\r\n\r\n    ImagePreloader.prototype = {\r\n        loadAssets: loadAssets,\r\n        setAssetsPath: setAssetsPath,\r\n        setPath: setPath,\r\n        loaded: loaded,\r\n        destroy: destroy,\r\n        getImage: getImage,\r\n        createImgData: createImgData,\r\n        createImageData: createImageData,\r\n        imageLoaded: imageLoaded,\r\n        setCacheType: setCacheType,\r\n    }\r\n\r\n    return ImagePreloader;\r\n}());\r\nvar featureSupport = (function(){\r\n\tvar ob = {\r\n\t\tmaskType: true\r\n\t};\r\n\tif (/MSIE 10/i.test(navigator.userAgent) || /MSIE 9/i.test(navigator.userAgent) || /rv:11.0/i.test(navigator.userAgent) || /Edge\\/\\d./i.test(navigator.userAgent)) {\r\n\t   ob.maskType = false;\r\n\t}\r\n\treturn ob;\r\n}());\r\nvar filtersFactory = (function(){\r\n\tvar ob = {};\r\n\tob.createFilter = createFilter;\r\n\tob.createAlphaToLuminanceFilter = createAlphaToLuminanceFilter;\r\n\r\n\tfunction createFilter(filId){\r\n        \tvar fil = createNS('filter');\r\n        \tfil.setAttribute('id',filId);\r\n                fil.setAttribute('filterUnits','objectBoundingBox');\r\n                fil.setAttribute('x','0%');\r\n                fil.setAttribute('y','0%');\r\n                fil.setAttribute('width','100%');\r\n                fil.setAttribute('height','100%');\r\n                return fil;\r\n\t}\r\n\r\n\tfunction createAlphaToLuminanceFilter(){\r\n                var feColorMatrix = createNS('feColorMatrix');\r\n                feColorMatrix.setAttribute('type','matrix');\r\n                feColorMatrix.setAttribute('color-interpolation-filters','sRGB');\r\n                feColorMatrix.setAttribute('values','0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1');\r\n                return feColorMatrix;\r\n\t}\r\n\r\n\treturn ob;\r\n}());\r\nvar assetLoader = (function(){\r\n\r\n\tfunction formatResponse(xhr) {\r\n\t\tif(xhr.response && typeof xhr.response === 'object') {\r\n\t\t\treturn xhr.response;\r\n\t\t} else if(xhr.response && typeof xhr.response === 'string') {\r\n\t\t\treturn JSON.parse(xhr.response);\r\n\t\t} else if(xhr.responseText) {\r\n\t\t\treturn JSON.parse(xhr.responseText);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction loadAsset(path, callback, errorCallback) {\r\n\t\tvar response;\r\n\t\tvar xhr = new XMLHttpRequest();\r\n\t\txhr.open('GET', path, true);\r\n\t\t// set responseType after calling open or IE will break.\r\n\t\ttry {\r\n\t\t    // This crashes on Android WebView prior to KitKat\r\n\t\t    xhr.responseType = \"json\";\r\n\t\t} catch (err) {}\r\n\t    xhr.send();\r\n\t    xhr.onreadystatechange = function () {\r\n\t        if (xhr.readyState == 4) {\r\n\t            if(xhr.status == 200){\r\n\t            \tresponse = formatResponse(xhr);\r\n\t            \tcallback(response);\r\n\t            }else{\r\n\t                try{\r\n\t            \t\tresponse = formatResponse(xhr);\r\n\t            \t\tcallback(response);\r\n\t                }catch(err){\r\n\t                \tif(errorCallback) {\r\n\t                \t\terrorCallback(err);\r\n\t                \t}\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t}\r\n\treturn {\r\n\t\tload: loadAsset\r\n\t}\r\n}())\r\n\r\nfunction TextAnimatorProperty(textData, renderType, elem){\r\n    this._isFirstFrame = true;\r\n\tthis._hasMaskedPath = false;\r\n\tthis._frameId = -1;\r\n\tthis._textData = textData;\r\n\tthis._renderType = renderType;\r\n    this._elem = elem;\r\n\tthis._animatorsData = createSizedArray(this._textData.a.length);\r\n\tthis._pathData = {};\r\n\tthis._moreOptions = {\r\n\t\talignment: {}\r\n\t};\r\n\tthis.renderedLetters = [];\r\n    this.lettersChangedFlag = false;\r\n    this.initDynamicPropertyContainer(elem);\r\n\r\n}\r\n\r\nTextAnimatorProperty.prototype.searchProperties = function(){\r\n    var i, len = this._textData.a.length, animatorProps;\r\n    var getProp = PropertyFactory.getProp;\r\n    for(i=0;i<len;i+=1){\r\n        animatorProps = this._textData.a[i];\r\n        this._animatorsData[i] = new TextAnimatorDataProperty(this._elem, animatorProps, this);\r\n    }\r\n    if(this._textData.p && 'm' in this._textData.p){\r\n        this._pathData = {\r\n            f: getProp(this._elem,this._textData.p.f,0,0,this),\r\n            l: getProp(this._elem,this._textData.p.l,0,0,this),\r\n            r: this._textData.p.r,\r\n            m: this._elem.maskManager.getMaskProperty(this._textData.p.m)\r\n        };\r\n        this._hasMaskedPath = true;\r\n    } else {\r\n        this._hasMaskedPath = false;\r\n    }\r\n    this._moreOptions.alignment = getProp(this._elem,this._textData.m.a,1,0,this);\r\n};\r\n\r\nTextAnimatorProperty.prototype.getMeasures = function(documentData, lettersChangedFlag){\r\n    this.lettersChangedFlag = lettersChangedFlag;\r\n    if(!this._mdf && !this._isFirstFrame && !lettersChangedFlag && (!this._hasMaskedPath || !this._pathData.m._mdf)) {\r\n        return;\r\n    }\r\n    this._isFirstFrame = false;\r\n    var alignment = this._moreOptions.alignment.v;\r\n    var animators = this._animatorsData;\r\n    var textData = this._textData;\r\n    var matrixHelper = this.mHelper;\r\n    var renderType = this._renderType;\r\n    var renderedLettersCount = this.renderedLetters.length;\r\n    var data = this.data;\r\n    var xPos,yPos;\r\n    var i, len;\r\n    var letters = documentData.l, pathInfo, currentLength, currentPoint, segmentLength, flag, pointInd, segmentInd, prevPoint, points, segments, partialLength, totalLength, perc, tanAngle, mask;\r\n    if(this._hasMaskedPath) {\r\n        mask = this._pathData.m;\r\n        if(!this._pathData.n || this._pathData._mdf){\r\n            var paths = mask.v;\r\n            if(this._pathData.r){\r\n                paths = paths.reverse();\r\n            }\r\n            // TODO: release bezier data cached from previous pathInfo: this._pathData.pi\r\n            pathInfo = {\r\n                tLength: 0,\r\n                segments: []\r\n            };\r\n            len = paths._length - 1;\r\n            var bezierData;\r\n            totalLength = 0;\r\n            for (i = 0; i < len; i += 1) {\r\n                bezierData = bez.buildBezierData(paths.v[i]\r\n                    , paths.v[i + 1]\r\n                    , [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]]\r\n                    , [paths.i[i + 1][0] - paths.v[i + 1][0], paths.i[i + 1][1] - paths.v[i + 1][1]]);\r\n                pathInfo.tLength += bezierData.segmentLength;\r\n                pathInfo.segments.push(bezierData);\r\n                totalLength += bezierData.segmentLength;\r\n            }\r\n            i = len;\r\n            if (mask.v.c) {\r\n                bezierData = bez.buildBezierData(paths.v[i]\r\n                    , paths.v[0]\r\n                    , [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]]\r\n                    , [paths.i[0][0] - paths.v[0][0], paths.i[0][1] - paths.v[0][1]]);\r\n                pathInfo.tLength += bezierData.segmentLength;\r\n                pathInfo.segments.push(bezierData);\r\n                totalLength += bezierData.segmentLength;\r\n            }\r\n            this._pathData.pi = pathInfo;\r\n        }\r\n        pathInfo = this._pathData.pi;\r\n\r\n        currentLength = this._pathData.f.v;\r\n        segmentInd = 0;\r\n        pointInd = 1;\r\n        segmentLength = 0;\r\n        flag = true;\r\n        segments = pathInfo.segments;\r\n        if (currentLength < 0 && mask.v.c) {\r\n            if (pathInfo.tLength < Math.abs(currentLength)) {\r\n                currentLength = -Math.abs(currentLength) % pathInfo.tLength;\r\n            }\r\n            segmentInd = segments.length - 1;\r\n            points = segments[segmentInd].points;\r\n            pointInd = points.length - 1;\r\n            while (currentLength < 0) {\r\n                currentLength += points[pointInd].partialLength;\r\n                pointInd -= 1;\r\n                if (pointInd < 0) {\r\n                    segmentInd -= 1;\r\n                    points = segments[segmentInd].points;\r\n                    pointInd = points.length - 1;\r\n                }\r\n            }\r\n\r\n        }\r\n        points = segments[segmentInd].points;\r\n        prevPoint = points[pointInd - 1];\r\n        currentPoint = points[pointInd];\r\n        partialLength = currentPoint.partialLength;\r\n    }\r\n\r\n\r\n    len = letters.length;\r\n    xPos = 0;\r\n    yPos = 0;\r\n    var yOff = documentData.finalSize * 1.2 * 0.714;\r\n    var firstLine = true;\r\n    var animatorProps, animatorSelector;\r\n    var j, jLen;\r\n    var letterValue;\r\n\r\n    jLen = animators.length;\r\n    var lastLetter;\r\n\r\n    var mult, ind = -1, offf, xPathPos, yPathPos;\r\n    var initPathPos = currentLength,initSegmentInd = segmentInd, initPointInd = pointInd, currentLine = -1;\r\n    var elemOpacity;\r\n    var sc,sw,fc,k;\r\n    var lineLength = 0;\r\n    var letterSw, letterSc, letterFc, letterM = '', letterP = this.defaultPropsArray, letterO;\r\n\r\n    //\r\n    if(documentData.j === 2 || documentData.j === 1) {\r\n        var animatorJustifyOffset = 0;\r\n        var animatorFirstCharOffset = 0;\r\n        var justifyOffsetMult = documentData.j === 2 ? -0.5 : -1;\r\n        var lastIndex = 0;\r\n        var isNewLine = true;\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n            if (letters[i].n) {\r\n                if(animatorJustifyOffset) {\r\n                    animatorJustifyOffset += animatorFirstCharOffset;\r\n                }\r\n                while (lastIndex < i) {\r\n                    letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\r\n                    lastIndex += 1;\r\n                }\r\n                animatorJustifyOffset = 0;\r\n                isNewLine = true;\r\n            } else {\r\n                for (j = 0; j < jLen; j += 1) {\r\n                    animatorProps = animators[j].a;\r\n                    if (animatorProps.t.propType) {\r\n                        if (isNewLine && documentData.j === 2) {\r\n                            animatorFirstCharOffset += animatorProps.t.v * justifyOffsetMult;\r\n                        }\r\n                        animatorSelector = animators[j].s;\r\n                        mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n                        if (mult.length) {\r\n                            animatorJustifyOffset += animatorProps.t.v*mult[0] * justifyOffsetMult;\r\n                        } else {\r\n                            animatorJustifyOffset += animatorProps.t.v*mult * justifyOffsetMult;\r\n                        }\r\n                    }\r\n                }\r\n                isNewLine = false;\r\n            }\r\n        }\r\n        if(animatorJustifyOffset) {\r\n            animatorJustifyOffset += animatorFirstCharOffset;\r\n        }\r\n        while(lastIndex < i) {\r\n            letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\r\n            lastIndex += 1;\r\n        }\r\n    }\r\n    //\r\n\r\n    for( i = 0; i < len; i += 1) {\r\n\r\n        matrixHelper.reset();\r\n        elemOpacity = 1;\r\n        if(letters[i].n) {\r\n            xPos = 0;\r\n            yPos += documentData.yOffset;\r\n            yPos += firstLine ? 1 : 0;\r\n            currentLength = initPathPos ;\r\n            firstLine = false;\r\n            lineLength = 0;\r\n            if(this._hasMaskedPath) {\r\n                segmentInd = initSegmentInd;\r\n                pointInd = initPointInd;\r\n                points = segments[segmentInd].points;\r\n                prevPoint = points[pointInd - 1];\r\n                currentPoint = points[pointInd];\r\n                partialLength = currentPoint.partialLength;\r\n                segmentLength = 0;\r\n            }\r\n            letterO = letterSw = letterFc = letterM = '';\r\n            letterP = this.defaultPropsArray;\r\n        }else{\r\n            if(this._hasMaskedPath) {\r\n                if(currentLine !== letters[i].line){\r\n                    switch(documentData.j){\r\n                        case 1:\r\n                            currentLength += totalLength - documentData.lineWidths[letters[i].line];\r\n                            break;\r\n                        case 2:\r\n                            currentLength += (totalLength - documentData.lineWidths[letters[i].line])/2;\r\n                            break;\r\n                    }\r\n                    currentLine = letters[i].line;\r\n                }\r\n                if (ind !== letters[i].ind) {\r\n                    if (letters[ind]) {\r\n                        currentLength += letters[ind].extra;\r\n                    }\r\n                    currentLength += letters[i].an / 2;\r\n                    ind = letters[i].ind;\r\n                }\r\n                currentLength += alignment[0] * letters[i].an / 200;\r\n                var animatorOffset = 0;\r\n                for (j = 0; j < jLen; j += 1) {\r\n                    animatorProps = animators[j].a;\r\n                    if (animatorProps.p.propType) {\r\n                        animatorSelector = animators[j].s;\r\n                        mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n                        if(mult.length){\r\n                            animatorOffset += animatorProps.p.v[0] * mult[0];\r\n                        } else{\r\n                            animatorOffset += animatorProps.p.v[0] * mult;\r\n                        }\r\n\r\n                    }\r\n                    if (animatorProps.a.propType) {\r\n                        animatorSelector = animators[j].s;\r\n                        mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n                        if(mult.length){\r\n                            animatorOffset += animatorProps.a.v[0] * mult[0];\r\n                        } else{\r\n                            animatorOffset += animatorProps.a.v[0] * mult;\r\n                        }\r\n\r\n                    }\r\n                }\r\n                flag = true;\r\n                while (flag) {\r\n                    if (segmentLength + partialLength >= currentLength + animatorOffset || !points) {\r\n                        perc = (currentLength + animatorOffset - segmentLength) / currentPoint.partialLength;\r\n                        xPathPos = prevPoint.point[0] + (currentPoint.point[0] - prevPoint.point[0]) * perc;\r\n                        yPathPos = prevPoint.point[1] + (currentPoint.point[1] - prevPoint.point[1]) * perc;\r\n                        matrixHelper.translate(-alignment[0]*letters[i].an/200, -(alignment[1] * yOff / 100));\r\n                        flag = false;\r\n                    } else if (points) {\r\n                        segmentLength += currentPoint.partialLength;\r\n                        pointInd += 1;\r\n                        if (pointInd >= points.length) {\r\n                            pointInd = 0;\r\n                            segmentInd += 1;\r\n                            if (!segments[segmentInd]) {\r\n                                if (mask.v.c) {\r\n                                    pointInd = 0;\r\n                                    segmentInd = 0;\r\n                                    points = segments[segmentInd].points;\r\n                                } else {\r\n                                    segmentLength -= currentPoint.partialLength;\r\n                                    points = null;\r\n                                }\r\n                            } else {\r\n                                points = segments[segmentInd].points;\r\n                            }\r\n                        }\r\n                        if (points) {\r\n                            prevPoint = currentPoint;\r\n                            currentPoint = points[pointInd];\r\n                            partialLength = currentPoint.partialLength;\r\n                        }\r\n                    }\r\n                }\r\n                offf = letters[i].an / 2 - letters[i].add;\r\n                matrixHelper.translate(-offf, 0, 0);\r\n            } else {\r\n                offf = letters[i].an/2 - letters[i].add;\r\n                matrixHelper.translate(-offf,0,0);\r\n\r\n                // Grouping alignment\r\n                matrixHelper.translate(-alignment[0]*letters[i].an/200, -alignment[1]*yOff/100, 0);\r\n            }\r\n\r\n            lineLength += letters[i].l/2;\r\n            for(j=0;j<jLen;j+=1){\r\n                animatorProps = animators[j].a;\r\n                if (animatorProps.t.propType) {\r\n                    animatorSelector = animators[j].s;\r\n                    mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n                    //This condition is to prevent applying tracking to first character in each line. Might be better to use a boolean \"isNewLine\"\r\n                    if(xPos !== 0 || documentData.j !== 0) {\r\n                        if(this._hasMaskedPath) {\r\n                            if(mult.length) {\r\n                                currentLength += animatorProps.t.v*mult[0];\r\n                            } else {\r\n                                currentLength += animatorProps.t.v*mult;\r\n                            }\r\n                        }else{\r\n                            if(mult.length) {\r\n                                xPos += animatorProps.t.v*mult[0];\r\n                            } else {\r\n                                xPos += animatorProps.t.v*mult;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            lineLength += letters[i].l/2;\r\n            if(documentData.strokeWidthAnim) {\r\n                sw = documentData.sw || 0;\r\n            }\r\n            if(documentData.strokeColorAnim) {\r\n                if(documentData.sc){\r\n                    sc = [documentData.sc[0], documentData.sc[1], documentData.sc[2]];\r\n                }else{\r\n                    sc = [0,0,0];\r\n                }\r\n            }\r\n            if(documentData.fillColorAnim && documentData.fc) {\r\n                fc = [documentData.fc[0], documentData.fc[1], documentData.fc[2]];\r\n            }\r\n            for(j=0;j<jLen;j+=1){\r\n                animatorProps = animators[j].a;\r\n                if (animatorProps.a.propType) {\r\n                    animatorSelector = animators[j].s;\r\n                    mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n\r\n                    if(mult.length){\r\n                        matrixHelper.translate(-animatorProps.a.v[0]*mult[0], -animatorProps.a.v[1]*mult[1], animatorProps.a.v[2]*mult[2]);\r\n                    } else {\r\n                        matrixHelper.translate(-animatorProps.a.v[0]*mult, -animatorProps.a.v[1]*mult, animatorProps.a.v[2]*mult);\r\n                    }\r\n                }\r\n            }\r\n            for(j=0;j<jLen;j+=1){\r\n                animatorProps = animators[j].a;\r\n                if (animatorProps.s.propType) {\r\n                    animatorSelector = animators[j].s;\r\n                    mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n                    if(mult.length){\r\n                        matrixHelper.scale(1+((animatorProps.s.v[0]-1)*mult[0]),1+((animatorProps.s.v[1]-1)*mult[1]),1);\r\n                    } else {\r\n                        matrixHelper.scale(1+((animatorProps.s.v[0]-1)*mult),1+((animatorProps.s.v[1]-1)*mult),1);\r\n                    }\r\n                }\r\n            }\r\n            for(j=0;j<jLen;j+=1) {\r\n                animatorProps = animators[j].a;\r\n                animatorSelector = animators[j].s;\r\n                mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n                if (animatorProps.sk.propType) {\r\n                    if(mult.length) {\r\n                        matrixHelper.skewFromAxis(-animatorProps.sk.v * mult[0], animatorProps.sa.v * mult[1]);\r\n                    } else {\r\n                        matrixHelper.skewFromAxis(-animatorProps.sk.v * mult, animatorProps.sa.v * mult);\r\n                    }\r\n                }\r\n                if (animatorProps.r.propType) {\r\n                    if(mult.length) {\r\n                        matrixHelper.rotateZ(-animatorProps.r.v * mult[2]);\r\n                    } else {\r\n                        matrixHelper.rotateZ(-animatorProps.r.v * mult);\r\n                    }\r\n                }\r\n                if (animatorProps.ry.propType) {\r\n\r\n                    if(mult.length) {\r\n                        matrixHelper.rotateY(animatorProps.ry.v*mult[1]);\r\n                    }else{\r\n                        matrixHelper.rotateY(animatorProps.ry.v*mult);\r\n                    }\r\n                }\r\n                if (animatorProps.rx.propType) {\r\n                    if(mult.length) {\r\n                        matrixHelper.rotateX(animatorProps.rx.v*mult[0]);\r\n                    } else {\r\n                        matrixHelper.rotateX(animatorProps.rx.v*mult);\r\n                    }\r\n                }\r\n                if (animatorProps.o.propType) {\r\n                    if(mult.length) {\r\n                        elemOpacity += ((animatorProps.o.v)*mult[0] - elemOpacity)*mult[0];\r\n                    } else {\r\n                        elemOpacity += ((animatorProps.o.v)*mult - elemOpacity)*mult;\r\n                    }\r\n                }\r\n                if (documentData.strokeWidthAnim && animatorProps.sw.propType) {\r\n                    if(mult.length) {\r\n                        sw += animatorProps.sw.v*mult[0];\r\n                    } else {\r\n                        sw += animatorProps.sw.v*mult;\r\n                    }\r\n                }\r\n                if (documentData.strokeColorAnim && animatorProps.sc.propType) {\r\n                    for(k=0;k<3;k+=1){\r\n                        if(mult.length) {\r\n                            sc[k] = sc[k] + (animatorProps.sc.v[k] - sc[k])*mult[0];\r\n                        } else {\r\n                            sc[k] = sc[k] + (animatorProps.sc.v[k] - sc[k])*mult;\r\n                        }\r\n                    }\r\n                }\r\n                if (documentData.fillColorAnim && documentData.fc) {\r\n                    if(animatorProps.fc.propType){\r\n                        for(k=0;k<3;k+=1){\r\n                            if(mult.length) {\r\n                                fc[k] = fc[k] + (animatorProps.fc.v[k] - fc[k])*mult[0];\r\n                            } else {\r\n                                fc[k] = fc[k] + (animatorProps.fc.v[k] - fc[k])*mult;\r\n                            }\r\n                        }\r\n                    }\r\n                    if(animatorProps.fh.propType){\r\n                        if(mult.length) {\r\n                            fc = addHueToRGB(fc,animatorProps.fh.v*mult[0]);\r\n                        } else {\r\n                            fc = addHueToRGB(fc,animatorProps.fh.v*mult);\r\n                        }\r\n                    }\r\n                    if(animatorProps.fs.propType){\r\n                        if(mult.length) {\r\n                            fc = addSaturationToRGB(fc,animatorProps.fs.v*mult[0]);\r\n                        } else {\r\n                            fc = addSaturationToRGB(fc,animatorProps.fs.v*mult);\r\n                        }\r\n                    }\r\n                    if(animatorProps.fb.propType){\r\n                        if(mult.length) {\r\n                            fc = addBrightnessToRGB(fc,animatorProps.fb.v*mult[0]);\r\n                        } else {\r\n                            fc = addBrightnessToRGB(fc,animatorProps.fb.v*mult);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            for(j=0;j<jLen;j+=1){\r\n                animatorProps = animators[j].a;\r\n\r\n                if (animatorProps.p.propType) {\r\n                    animatorSelector = animators[j].s;\r\n                    mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n                    if(this._hasMaskedPath) {\r\n                        if(mult.length) {\r\n                            matrixHelper.translate(0, animatorProps.p.v[1] * mult[0], -animatorProps.p.v[2] * mult[1]);\r\n                        } else {\r\n                            matrixHelper.translate(0, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\r\n                        }\r\n                    }else{\r\n                        if(mult.length) {\r\n                            matrixHelper.translate(animatorProps.p.v[0] * mult[0], animatorProps.p.v[1] * mult[1], -animatorProps.p.v[2] * mult[2]);\r\n                        } else {\r\n                            matrixHelper.translate(animatorProps.p.v[0] * mult, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\r\n                        \r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if(documentData.strokeWidthAnim){\r\n                letterSw = sw < 0 ? 0 : sw;\r\n            }\r\n            if(documentData.strokeColorAnim){\r\n                letterSc = 'rgb('+Math.round(sc[0]*255)+','+Math.round(sc[1]*255)+','+Math.round(sc[2]*255)+')';\r\n            }\r\n            if(documentData.fillColorAnim && documentData.fc){\r\n                letterFc = 'rgb('+Math.round(fc[0]*255)+','+Math.round(fc[1]*255)+','+Math.round(fc[2]*255)+')';\r\n            }\r\n\r\n            if(this._hasMaskedPath) {\r\n                matrixHelper.translate(0,-documentData.ls);\r\n\r\n                matrixHelper.translate(0, alignment[1]*yOff/100 + yPos,0);\r\n                if (textData.p.p) {\r\n                    tanAngle = (currentPoint.point[1] - prevPoint.point[1]) / (currentPoint.point[0] - prevPoint.point[0]);\r\n                    var rot = Math.atan(tanAngle) * 180 / Math.PI;\r\n                    if (currentPoint.point[0] < prevPoint.point[0]) {\r\n                        rot += 180;\r\n                    }\r\n                    matrixHelper.rotate(-rot * Math.PI / 180);\r\n                }\r\n                matrixHelper.translate(xPathPos, yPathPos, 0);\r\n                currentLength -= alignment[0]*letters[i].an/200;\r\n                if(letters[i+1] && ind !== letters[i+1].ind){\r\n                    currentLength += letters[i].an / 2;\r\n                    currentLength += documentData.tr/1000*documentData.finalSize;\r\n                }\r\n            }else{\r\n\r\n                matrixHelper.translate(xPos,yPos,0);\r\n\r\n                if(documentData.ps){\r\n                    //matrixHelper.translate(documentData.ps[0],documentData.ps[1],0);\r\n                    matrixHelper.translate(documentData.ps[0],documentData.ps[1] + documentData.ascent,0);\r\n                }\r\n                switch(documentData.j){\r\n                    case 1:\r\n                        matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]),0,0);\r\n                        break;\r\n                    case 2:\r\n                        matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line])/2,0,0);\r\n                        break;\r\n                }\r\n                matrixHelper.translate(0,-documentData.ls);\r\n                matrixHelper.translate(offf,0,0);\r\n                matrixHelper.translate(alignment[0]*letters[i].an/200,alignment[1]*yOff/100,0);\r\n                xPos += letters[i].l + documentData.tr/1000*documentData.finalSize;\r\n            }\r\n            if(renderType === 'html'){\r\n                letterM = matrixHelper.toCSS();\r\n            }else if(renderType === 'svg'){\r\n                letterM = matrixHelper.to2dCSS();\r\n            }else{\r\n                letterP = [matrixHelper.props[0],matrixHelper.props[1],matrixHelper.props[2],matrixHelper.props[3],matrixHelper.props[4],matrixHelper.props[5],matrixHelper.props[6],matrixHelper.props[7],matrixHelper.props[8],matrixHelper.props[9],matrixHelper.props[10],matrixHelper.props[11],matrixHelper.props[12],matrixHelper.props[13],matrixHelper.props[14],matrixHelper.props[15]];\r\n            }\r\n            letterO = elemOpacity;\r\n        }\r\n\r\n        if(renderedLettersCount <= i) {\r\n            letterValue = new LetterProps(letterO,letterSw,letterSc,letterFc,letterM,letterP);\r\n            this.renderedLetters.push(letterValue);\r\n            renderedLettersCount += 1;\r\n            this.lettersChangedFlag = true;\r\n        } else {\r\n            letterValue = this.renderedLetters[i];\r\n            this.lettersChangedFlag = letterValue.update(letterO, letterSw, letterSc, letterFc, letterM, letterP) || this.lettersChangedFlag;\r\n        }\r\n    }\r\n};\r\n\r\nTextAnimatorProperty.prototype.getValue = function(){\r\n\tif(this._elem.globalData.frameId === this._frameId){\r\n        return;\r\n    }\r\n    this._frameId = this._elem.globalData.frameId;\r\n    this.iterateDynamicProperties();\r\n};\r\n\r\nTextAnimatorProperty.prototype.mHelper = new Matrix();\r\nTextAnimatorProperty.prototype.defaultPropsArray = [];\r\nextendPrototype([DynamicPropertyContainer], TextAnimatorProperty);\r\nfunction TextAnimatorDataProperty(elem, animatorProps, container) {\r\n\tvar defaultData = {propType:false};\r\n\tvar getProp = PropertyFactory.getProp;\r\n\tvar textAnimator_animatables = animatorProps.a;\r\n\tthis.a = {\r\n\t\tr: textAnimator_animatables.r ? getProp(elem, textAnimator_animatables.r, 0, degToRads, container) : defaultData,\r\n\t\trx: textAnimator_animatables.rx ? getProp(elem, textAnimator_animatables.rx, 0, degToRads, container) : defaultData,\r\n\t\try: textAnimator_animatables.ry ? getProp(elem, textAnimator_animatables.ry, 0, degToRads, container) : defaultData,\r\n\t\tsk: textAnimator_animatables.sk ? getProp(elem, textAnimator_animatables.sk, 0, degToRads, container) : defaultData,\r\n\t\tsa: textAnimator_animatables.sa ? getProp(elem, textAnimator_animatables.sa, 0, degToRads, container) : defaultData,\r\n\t\ts: textAnimator_animatables.s ? getProp(elem, textAnimator_animatables.s, 1, 0.01, container) : defaultData,\r\n\t\ta: textAnimator_animatables.a ? getProp(elem, textAnimator_animatables.a, 1, 0, container) : defaultData,\r\n\t\to: textAnimator_animatables.o ? getProp(elem, textAnimator_animatables.o, 0, 0.01, container) : defaultData,\r\n\t\tp: textAnimator_animatables.p ? getProp(elem,textAnimator_animatables.p, 1, 0, container) : defaultData,\r\n\t\tsw: textAnimator_animatables.sw ? getProp(elem, textAnimator_animatables.sw, 0, 0, container) : defaultData,\r\n\t\tsc: textAnimator_animatables.sc ? getProp(elem, textAnimator_animatables.sc, 1, 0, container) : defaultData,\r\n\t\tfc: textAnimator_animatables.fc ? getProp(elem, textAnimator_animatables.fc, 1, 0, container) : defaultData,\r\n\t\tfh: textAnimator_animatables.fh ? getProp(elem, textAnimator_animatables.fh, 0, 0, container) : defaultData,\r\n\t\tfs: textAnimator_animatables.fs ? getProp(elem, textAnimator_animatables.fs, 0, 0.01, container) : defaultData,\r\n\t\tfb: textAnimator_animatables.fb ? getProp(elem, textAnimator_animatables.fb, 0, 0.01, container) : defaultData,\r\n\t\tt: textAnimator_animatables.t ? getProp(elem, textAnimator_animatables.t, 0, 0, container) : defaultData\r\n\t};\r\n\r\n\tthis.s = TextSelectorProp.getTextSelectorProp(elem,animatorProps.s, container);\r\n    this.s.t = animatorProps.s.t;\r\n}\r\nfunction LetterProps(o, sw, sc, fc, m, p){\r\n    this.o = o;\r\n    this.sw = sw;\r\n    this.sc = sc;\r\n    this.fc = fc;\r\n    this.m = m;\r\n    this.p = p;\r\n    this._mdf = {\r\n    \to: true,\r\n    \tsw: !!sw,\r\n    \tsc: !!sc,\r\n    \tfc: !!fc,\r\n    \tm: true,\r\n    \tp: true\r\n    };\r\n}\r\n\r\nLetterProps.prototype.update = function(o, sw, sc, fc, m, p) {\r\n\tthis._mdf.o = false;\r\n\tthis._mdf.sw = false;\r\n\tthis._mdf.sc = false;\r\n\tthis._mdf.fc = false;\r\n\tthis._mdf.m = false;\r\n\tthis._mdf.p = false;\r\n\tvar updated = false;\r\n\r\n\tif(this.o !== o) {\r\n\t\tthis.o = o;\r\n\t\tthis._mdf.o = true;\r\n\t\tupdated = true;\r\n\t}\r\n\tif(this.sw !== sw) {\r\n\t\tthis.sw = sw;\r\n\t\tthis._mdf.sw = true;\r\n\t\tupdated = true;\r\n\t}\r\n\tif(this.sc !== sc) {\r\n\t\tthis.sc = sc;\r\n\t\tthis._mdf.sc = true;\r\n\t\tupdated = true;\r\n\t}\r\n\tif(this.fc !== fc) {\r\n\t\tthis.fc = fc;\r\n\t\tthis._mdf.fc = true;\r\n\t\tupdated = true;\r\n\t}\r\n\tif(this.m !== m) {\r\n\t\tthis.m = m;\r\n\t\tthis._mdf.m = true;\r\n\t\tupdated = true;\r\n\t}\r\n\tif(p.length && (this.p[0] !== p[0] || this.p[1] !== p[1] || this.p[4] !== p[4] || this.p[5] !== p[5] || this.p[12] !== p[12] || this.p[13] !== p[13])) {\r\n\t\tthis.p = p;\r\n\t\tthis._mdf.p = true;\r\n\t\tupdated = true;\r\n\t}\r\n\treturn updated;\r\n};\r\nfunction TextProperty(elem, data){\r\n\tthis._frameId = initialDefaultFrame;\r\n\tthis.pv = '';\r\n\tthis.v = '';\r\n\tthis.kf = false;\r\n\tthis._isFirstFrame = true;\r\n\tthis._mdf = false;\r\n    this.data = data;\r\n\tthis.elem = elem;\r\n    this.comp = this.elem.comp;\r\n\tthis.keysIndex = 0;\r\n    this.canResize = false;\r\n    this.minimumFontSize = 1;\r\n    this.effectsSequence = [];\r\n\tthis.currentData = {\r\n\t\tascent: 0,\r\n        boxWidth: this.defaultBoxWidth,\r\n        f: '',\r\n        fStyle: '',\r\n        fWeight: '',\r\n        fc: '',\r\n        j: '',\r\n        justifyOffset: '',\r\n        l: [],\r\n        lh: 0,\r\n        lineWidths: [],\r\n        ls: '',\r\n        of: '',\r\n        s: '',\r\n        sc: '',\r\n        sw: 0,\r\n        t: 0,\r\n        tr: 0,\r\n        sz:0,\r\n        ps:null,\r\n        fillColorAnim: false,\r\n        strokeColorAnim: false,\r\n        strokeWidthAnim: false,\r\n        yOffset: 0,\r\n        finalSize:0,\r\n        finalText:[],\r\n        finalLineHeight: 0,\r\n        __complete: false\r\n\r\n\t};\r\n    this.copyData(this.currentData, this.data.d.k[0].s);\r\n\r\n    if(!this.searchProperty()) {\r\n        this.completeTextData(this.currentData);\r\n    }\r\n}\r\n\r\nTextProperty.prototype.defaultBoxWidth = [0,0];\r\n\r\nTextProperty.prototype.copyData = function(obj, data) {\r\n    for(var s in data) {\r\n        if(data.hasOwnProperty(s)) {\r\n            obj[s] = data[s];\r\n        }\r\n    }\r\n    return obj;\r\n}\r\n\r\nTextProperty.prototype.setCurrentData = function(data){\r\n    if(!data.__complete) {\r\n        this.completeTextData(data);\r\n    }\r\n    this.currentData = data;\r\n    this.currentData.boxWidth = this.currentData.boxWidth || this.defaultBoxWidth;\r\n    this._mdf = true;\r\n};\r\n\r\nTextProperty.prototype.searchProperty = function() {\r\n    return this.searchKeyframes();\r\n};\r\n\r\nTextProperty.prototype.searchKeyframes = function() {\r\n    this.kf = this.data.d.k.length > 1;\r\n    if(this.kf) {\r\n        this.addEffect(this.getKeyframeValue.bind(this));\r\n    }\r\n    return this.kf;\r\n}\r\n\r\nTextProperty.prototype.addEffect = function(effectFunction) {\r\n\tthis.effectsSequence.push(effectFunction);\r\n    this.elem.addDynamicProperty(this);\r\n};\r\n\r\nTextProperty.prototype.getValue = function(_finalValue) {\r\n    if((this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) && !_finalValue) {\r\n        return;\r\n    }\r\n    this.currentData.t = this.data.d.k[this.keysIndex].s.t;\r\n    var currentValue = this.currentData;\r\n    var currentIndex = this.keysIndex;\r\n    if(this.lock) {\r\n        this.setCurrentData(this.currentData);\r\n        return;\r\n    }\r\n    this.lock = true;\r\n    this._mdf = false;\r\n    var multipliedValue;\r\n    var i, len = this.effectsSequence.length;\r\n    var finalValue = _finalValue || this.data.d.k[this.keysIndex].s;\r\n    for(i = 0; i < len; i += 1) {\r\n        //Checking if index changed to prevent creating a new object every time the expression updates.\r\n        if(currentIndex !== this.keysIndex) {\r\n            finalValue = this.effectsSequence[i](finalValue, finalValue.t);\r\n        } else {\r\n            finalValue = this.effectsSequence[i](this.currentData, finalValue.t);\r\n        }\r\n    }\r\n    if(currentValue !== finalValue) {\r\n        this.setCurrentData(finalValue);\r\n    }\r\n    this.pv = this.v = this.currentData;\r\n    this.lock = false;\r\n    this.frameId = this.elem.globalData.frameId;\r\n}\r\n\r\nTextProperty.prototype.getKeyframeValue = function() {\r\n    var textKeys = this.data.d.k, textDocumentData;\r\n    var frameNum = this.elem.comp.renderedFrame;\r\n    var i = 0, len = textKeys.length;\r\n    while(i <= len - 1) {\r\n        textDocumentData = textKeys[i].s;\r\n        if(i === len - 1 || textKeys[i+1].t > frameNum){\r\n            break;\r\n        }\r\n        i += 1;\r\n    }\r\n    if(this.keysIndex !== i) {\r\n        this.keysIndex = i;\r\n    }\r\n    return this.data.d.k[this.keysIndex].s;\r\n};\r\n\r\nTextProperty.prototype.buildFinalText = function(text) {\r\n    var combinedCharacters = FontManager.getCombinedCharacterCodes();\r\n    var charactersArray = [];\r\n    var i = 0, len = text.length;\r\n    var charCode;\r\n    while (i < len) {\r\n        charCode = text.charCodeAt(i);\r\n        if (combinedCharacters.indexOf(charCode) !== -1) {\r\n            charactersArray[charactersArray.length - 1] += text.charAt(i);\r\n        } else {\r\n            if (charCode >= 0xD800 && charCode <= 0xDBFF) {\r\n                charCode = text.charCodeAt(i + 1);\r\n                if (charCode >= 0xDC00 && charCode <= 0xDFFF) {\r\n                    charactersArray.push(text.substr(i, 2));\r\n                    ++i;\r\n                } else {\r\n                    charactersArray.push(text.charAt(i));\r\n                }\r\n            } else {\r\n                charactersArray.push(text.charAt(i));\r\n            }\r\n        }\r\n        i += 1;\r\n    }\r\n    return charactersArray;\r\n}\r\n\r\nTextProperty.prototype.completeTextData = function(documentData) {\r\n    documentData.__complete = true;\r\n    var fontManager = this.elem.globalData.fontManager;\r\n    var data = this.data;\r\n    var letters = [];\r\n    var i, len;\r\n    var newLineFlag, index = 0, val;\r\n    var anchorGrouping = data.m.g;\r\n    var currentSize = 0, currentPos = 0, currentLine = 0, lineWidths = [];\r\n    var lineWidth = 0;\r\n    var maxLineWidth = 0;\r\n    var j, jLen;\r\n    var fontData = fontManager.getFontByName(documentData.f);\r\n    var charData, cLength = 0;\r\n    var styles = fontData.fStyle ? fontData.fStyle.split(' ') : [];\r\n\r\n    var fWeight = 'normal', fStyle = 'normal';\r\n    len = styles.length;\r\n    var styleName;\r\n    for(i=0;i<len;i+=1){\r\n        styleName = styles[i].toLowerCase();\r\n        switch(styleName) {\r\n            case 'italic':\r\n            fStyle = 'italic';\r\n            break;\r\n            case 'bold':\r\n            fWeight = '700';\r\n            break;\r\n            case 'black':\r\n            fWeight = '900';\r\n            break;\r\n            case 'medium':\r\n            fWeight = '500';\r\n            break;\r\n            case 'regular':\r\n            case 'normal':\r\n            fWeight = '400';\r\n            break;\r\n            case 'light':\r\n            case 'thin':\r\n            fWeight = '200';\r\n            break;\r\n        }\r\n    }\r\n    documentData.fWeight = fontData.fWeight || fWeight;\r\n    documentData.fStyle = fStyle;\r\n    documentData.finalSize = documentData.s;\r\n    documentData.finalText = this.buildFinalText(documentData.t);\r\n    len = documentData.finalText.length;\r\n    documentData.finalLineHeight = documentData.lh;\r\n    var trackingOffset = documentData.tr/1000*documentData.finalSize;\r\n    var charCode;\r\n    if(documentData.sz){\r\n        var flag = true;\r\n        var boxWidth = documentData.sz[0];\r\n        var boxHeight = documentData.sz[1];\r\n        var currentHeight, finalText;\r\n        while(flag) {\r\n            finalText = this.buildFinalText(documentData.t);\r\n            currentHeight = 0;\r\n            lineWidth = 0;\r\n            len = finalText.length;\r\n            trackingOffset = documentData.tr/1000*documentData.finalSize;\r\n            var lastSpaceIndex = -1;\r\n            for(i=0;i<len;i+=1){\r\n                charCode = finalText[i].charCodeAt(0);\r\n                newLineFlag = false;\r\n                if(finalText[i] === ' '){\r\n                    lastSpaceIndex = i;\r\n                }else if(charCode === 13 || charCode === 3){\r\n                    lineWidth = 0;\r\n                    newLineFlag = true;\r\n                    currentHeight += documentData.finalLineHeight || documentData.finalSize*1.2;\r\n                }\r\n                if(fontManager.chars){\r\n                    charData = fontManager.getCharData(finalText[i], fontData.fStyle, fontData.fFamily);\r\n                    cLength = newLineFlag ? 0 : charData.w*documentData.finalSize/100;\r\n                }else{\r\n                    //tCanvasHelper.font = documentData.s + 'px '+ fontData.fFamily;\r\n                    cLength = fontManager.measureText(finalText[i], documentData.f, documentData.finalSize);\r\n                }\r\n                if(lineWidth + cLength > boxWidth && finalText[i] !== ' '){\r\n                    if(lastSpaceIndex === -1){\r\n                        len += 1;\r\n                    } else {\r\n                        i = lastSpaceIndex;\r\n                    }\r\n                    currentHeight += documentData.finalLineHeight || documentData.finalSize*1.2;\r\n                    finalText.splice(i, lastSpaceIndex === i ? 1 : 0,\"\\r\");\r\n                    //finalText = finalText.substr(0,i) + \"\\r\" + finalText.substr(i === lastSpaceIndex ? i + 1 : i);\r\n                    lastSpaceIndex = -1;\r\n                    lineWidth = 0;\r\n                }else {\r\n                    lineWidth += cLength;\r\n                    lineWidth += trackingOffset;\r\n                }\r\n            }\r\n            currentHeight += fontData.ascent*documentData.finalSize/100;\r\n            if(this.canResize && documentData.finalSize > this.minimumFontSize && boxHeight < currentHeight) {\r\n                documentData.finalSize -= 1;\r\n                documentData.finalLineHeight = documentData.finalSize * documentData.lh / documentData.s;\r\n            } else {\r\n                documentData.finalText = finalText;\r\n                len = documentData.finalText.length;\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n    }\r\n    lineWidth = - trackingOffset;\r\n    cLength = 0;\r\n    var uncollapsedSpaces = 0;\r\n    var currentChar;\r\n    for (i = 0;i < len ;i += 1) {\r\n        newLineFlag = false;\r\n        currentChar = documentData.finalText[i];\r\n        charCode = currentChar.charCodeAt(0);\r\n        if (charCode === 13 || charCode === 3) {\r\n            uncollapsedSpaces = 0;\r\n            lineWidths.push(lineWidth);\r\n            maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\r\n            lineWidth = - 2 * trackingOffset;\r\n            val = '';\r\n            newLineFlag = true;\r\n            currentLine += 1;\r\n        }else{\r\n            val = currentChar;\r\n        }\r\n        if(fontManager.chars){\r\n            charData = fontManager.getCharData(currentChar, fontData.fStyle, fontManager.getFontByName(documentData.f).fFamily);\r\n            cLength = newLineFlag ? 0 : charData.w*documentData.finalSize/100;\r\n        }else{\r\n            //var charWidth = fontManager.measureText(val, documentData.f, documentData.finalSize);\r\n            //tCanvasHelper.font = documentData.finalSize + 'px '+ fontManager.getFontByName(documentData.f).fFamily;\r\n            cLength = fontManager.measureText(val, documentData.f, documentData.finalSize);\r\n        }\r\n\r\n        //\r\n        if(currentChar === ' '){\r\n            uncollapsedSpaces += cLength + trackingOffset;\r\n        } else {\r\n            lineWidth += cLength + trackingOffset + uncollapsedSpaces;\r\n            uncollapsedSpaces = 0;\r\n        }\r\n        letters.push({l:cLength,an:cLength,add:currentSize,n:newLineFlag, anIndexes:[], val: val, line: currentLine, animatorJustifyOffset: 0});\r\n        if(anchorGrouping == 2){\r\n            currentSize += cLength;\r\n            if(val === '' || val === ' ' || i === len - 1){\r\n                if(val === '' || val === ' '){\r\n                    currentSize -= cLength;\r\n                }\r\n                while(currentPos<=i){\r\n                    letters[currentPos].an = currentSize;\r\n                    letters[currentPos].ind = index;\r\n                    letters[currentPos].extra = cLength;\r\n                    currentPos += 1;\r\n                }\r\n                index += 1;\r\n                currentSize = 0;\r\n            }\r\n        }else if(anchorGrouping == 3){\r\n            currentSize += cLength;\r\n            if(val === '' || i === len - 1){\r\n                if(val === ''){\r\n                    currentSize -= cLength;\r\n                }\r\n                while(currentPos<=i){\r\n                    letters[currentPos].an = currentSize;\r\n                    letters[currentPos].ind = index;\r\n                    letters[currentPos].extra = cLength;\r\n                    currentPos += 1;\r\n                }\r\n                currentSize = 0;\r\n                index += 1;\r\n            }\r\n        }else{\r\n            letters[index].ind = index;\r\n            letters[index].extra = 0;\r\n            index += 1;\r\n        }\r\n    }\r\n    documentData.l = letters;\r\n    maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\r\n    lineWidths.push(lineWidth);\r\n    if(documentData.sz){\r\n        documentData.boxWidth = documentData.sz[0];\r\n        documentData.justifyOffset = 0;\r\n    }else{\r\n        documentData.boxWidth = maxLineWidth;\r\n        switch(documentData.j){\r\n            case 1:\r\n                documentData.justifyOffset = - documentData.boxWidth;\r\n                break;\r\n            case 2:\r\n                documentData.justifyOffset = - documentData.boxWidth/2;\r\n                break;\r\n            default:\r\n                documentData.justifyOffset = 0;\r\n        }\r\n    }\r\n    documentData.lineWidths = lineWidths;\r\n\r\n    var animators = data.a, animatorData, letterData;\r\n    jLen = animators.length;\r\n    var based, ind, indexes = [];\r\n    for(j=0;j<jLen;j+=1){\r\n        animatorData = animators[j];\r\n        if(animatorData.a.sc){\r\n            documentData.strokeColorAnim = true;\r\n        }\r\n        if(animatorData.a.sw){\r\n            documentData.strokeWidthAnim = true;\r\n        }\r\n        if(animatorData.a.fc || animatorData.a.fh || animatorData.a.fs || animatorData.a.fb){\r\n            documentData.fillColorAnim = true;\r\n        }\r\n        ind = 0;\r\n        based = animatorData.s.b;\r\n        for(i=0;i<len;i+=1){\r\n            letterData = letters[i];\r\n            letterData.anIndexes[j] = ind;\r\n            if((based == 1 && letterData.val !== '') || (based == 2 && letterData.val !== '' && letterData.val !== ' ') || (based == 3 && (letterData.n || letterData.val == ' ' || i == len - 1)) || (based == 4 && (letterData.n || i == len - 1))){\r\n                if(animatorData.s.rn === 1){\r\n                    indexes.push(ind);\r\n                }\r\n                ind += 1;\r\n            }\r\n        }\r\n        data.a[j].s.totalChars = ind;\r\n        var currentInd = -1, newInd;\r\n        if(animatorData.s.rn === 1){\r\n            for(i = 0; i < len; i += 1){\r\n                letterData = letters[i];\r\n                if(currentInd != letterData.anIndexes[j]){\r\n                    currentInd = letterData.anIndexes[j];\r\n                    newInd = indexes.splice(Math.floor(Math.random()*indexes.length),1)[0];\r\n                }\r\n                letterData.anIndexes[j] = newInd;\r\n            }\r\n        }\r\n    }\r\n    documentData.yOffset = documentData.finalLineHeight || documentData.finalSize*1.2;\r\n    documentData.ls = documentData.ls || 0;\r\n    documentData.ascent = fontData.ascent*documentData.finalSize/100;\r\n};\r\n\r\nTextProperty.prototype.updateDocumentData = function(newData, index) {\r\n\tindex = index === undefined ? this.keysIndex : index;\r\n    var dData = this.copyData({}, this.data.d.k[index].s);\r\n    dData = this.copyData(dData, newData);\r\n    this.data.d.k[index].s = dData;\r\n    this.recalculate(index);\r\n    this.elem.addDynamicProperty(this);\r\n};\r\n\r\nTextProperty.prototype.recalculate = function(index) {\r\n    var dData = this.data.d.k[index].s;\r\n    dData.__complete = false;\r\n    this.keysIndex = 0;\r\n    this._isFirstFrame = true;\r\n    this.getValue(dData);\r\n}\r\n\r\nTextProperty.prototype.canResizeFont = function(_canResize) {\r\n    this.canResize = _canResize;\r\n    this.recalculate(this.keysIndex);\r\n    this.elem.addDynamicProperty(this);\r\n};\r\n\r\nTextProperty.prototype.setMinimumFontSize = function(_fontValue) {\r\n    this.minimumFontSize = Math.floor(_fontValue) || 1;\r\n    this.recalculate(this.keysIndex);\r\n    this.elem.addDynamicProperty(this);\r\n};\r\n\r\nvar TextSelectorProp = (function(){\r\n    var max = Math.max;\r\n    var min = Math.min;\r\n    var floor = Math.floor;\r\n\r\n    function TextSelectorProp(elem,data){\r\n        this._currentTextLength = -1;\r\n        this.k = false;\r\n        this.data = data;\r\n        this.elem = elem;\r\n        this.comp = elem.comp;\r\n        this.finalS = 0;\r\n        this.finalE = 0;\r\n        this.initDynamicPropertyContainer(elem);\r\n        this.s = PropertyFactory.getProp(elem,data.s || {k:0},0,0,this);\r\n        if('e' in data){\r\n            this.e = PropertyFactory.getProp(elem,data.e,0,0,this);\r\n        }else{\r\n            this.e = {v:100};\r\n        }\r\n        this.o = PropertyFactory.getProp(elem,data.o || {k:0},0,0,this);\r\n        this.xe = PropertyFactory.getProp(elem,data.xe || {k:0},0,0,this);\r\n        this.ne = PropertyFactory.getProp(elem,data.ne || {k:0},0,0,this);\r\n        this.a = PropertyFactory.getProp(elem,data.a,0,0.01,this);\r\n        if(!this.dynamicProperties.length){\r\n            this.getValue();\r\n        }\r\n    }\r\n\r\n    TextSelectorProp.prototype = {\r\n        getMult: function(ind) {\r\n            if(this._currentTextLength !== this.elem.textProperty.currentData.l.length) {\r\n                this.getValue();\r\n            }\r\n            //var easer = bez.getEasingCurve(this.ne.v/100,0,1-this.xe.v/100,1);\r\n            var x1 = 0;\r\n            var y1 = 0;\r\n            var x2 = 1;\r\n            var y2 = 1;\r\n            if(this.ne.v > 0) {\r\n                x1 = this.ne.v / 100.0;\r\n            }\r\n            else {\r\n                y1 = -this.ne.v / 100.0;\r\n            }\r\n            if(this.xe.v > 0) {\r\n                x2 = 1.0 - this.xe.v / 100.0;\r\n            }\r\n            else {\r\n                y2 = 1.0 + this.xe.v / 100.0;\r\n            }\r\n            var easer = BezierFactory.getBezierEasing(x1, y1, x2, y2).get;\r\n\r\n            var mult = 0;\r\n            var s = this.finalS;\r\n            var e = this.finalE;\r\n            var type = this.data.sh;\r\n            if (type === 2){\r\n                if (e === s) {\r\n                    mult = ind >= e ? 1 : 0;\r\n                } else {\r\n                    mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n                }\r\n                mult = easer(mult);\r\n            } else if(type === 3) {\r\n                if (e === s) {\r\n                    mult = ind >= e ? 0 : 1;\r\n                }else{\r\n                    mult = 1 - max(0, min(0.5 / (e - s) + (ind - s) / (e - s),1));\r\n                }\r\n\r\n                mult = easer(mult);\r\n            } else if (type === 4) {\r\n                if (e === s) {\r\n                    mult = 0;\r\n                } else {\r\n                    mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n                    if (mult < 0.5) {\r\n                        mult *= 2;\r\n                    } else {\r\n                        mult = 1 - 2 * (mult - 0.5);\r\n                    }\r\n                }\r\n                mult = easer(mult);\r\n            } else if (type === 5) {\r\n                if (e === s){\r\n                    mult = 0;\r\n                } else {\r\n                    var tot = e - s;\r\n                    /*ind += 0.5;\r\n                    mult = -4/(tot*tot)*(ind*ind)+(4/tot)*ind;*/\r\n                    ind = min(max(0, ind + 0.5 - s), e - s);\r\n                    var x = -tot/2+ind;\r\n                    var a = tot/2;\r\n                    mult = Math.sqrt(1 - (x * x) / (a * a));\r\n                }\r\n                mult = easer(mult);\r\n            } else if (type === 6) {\r\n                if (e === s){\r\n                    mult = 0;\r\n                } else {\r\n                    ind = min(max(0, ind + 0.5 - s), e - s);\r\n                    mult = (1 + (Math.cos((Math.PI + Math.PI * 2 * (ind) / (e - s))))) / 2;\r\n                }\r\n                mult = easer(mult);\r\n            } else {\r\n                if (ind >= floor(s)) {\r\n                    if (ind - s < 0) {\r\n                        mult = max(0, min(min(e, 1) - (s - ind), 1));\r\n                    } else {\r\n                        mult = max(0, min(e - ind, 1));\r\n                    }\r\n                }\r\n                mult = easer(mult);\r\n            }\r\n            return mult*this.a.v;\r\n        },\r\n        getValue: function(newCharsFlag) {\r\n            this.iterateDynamicProperties();\r\n            this._mdf = newCharsFlag || this._mdf;\r\n            this._currentTextLength = this.elem.textProperty.currentData.l.length || 0;\r\n            if(newCharsFlag && this.data.r === 2) {\r\n                this.e.v = this._currentTextLength;\r\n            }\r\n            var divisor = this.data.r === 2 ? 1 : 100 / this.data.totalChars;\r\n            var o = this.o.v/divisor;\r\n            var s = this.s.v/divisor + o;\r\n            var e = (this.e.v/divisor) + o;\r\n            if(s>e){\r\n                var _s = s;\r\n                s = e;\r\n                e = _s;\r\n            }\r\n            this.finalS = s;\r\n            this.finalE = e;\r\n        }\r\n    }\r\n    extendPrototype([DynamicPropertyContainer], TextSelectorProp);\r\n\r\n    function getTextSelectorProp(elem, data,arr) {\r\n        return new TextSelectorProp(elem, data, arr);\r\n    }\r\n\r\n    return {\r\n        getTextSelectorProp: getTextSelectorProp\r\n    };\r\n}());\r\n\r\n    \r\nvar pool_factory = (function() {\r\n\treturn function(initialLength, _create, _release, _clone) {\r\n\r\n\t\tvar _length = 0;\r\n\t\tvar _maxLength = initialLength;\r\n\t\tvar pool = createSizedArray(_maxLength);\r\n\r\n\t\tvar ob = {\r\n\t\t\tnewElement: newElement,\r\n\t\t\trelease: release\r\n\t\t};\r\n\r\n\t\tfunction newElement(){\r\n\t\t\tvar element;\r\n\t\t\tif(_length){\r\n\t\t\t\t_length -= 1;\r\n\t\t\t\telement = pool[_length];\r\n\t\t\t} else {\r\n\t\t\t\telement = _create();\r\n\t\t\t}\r\n\t\t\treturn element;\r\n\t\t}\r\n\r\n\t\tfunction release(element) {\r\n\t\t\tif(_length === _maxLength) {\r\n\t\t\t\tpool = pooling.double(pool);\r\n\t\t\t\t_maxLength = _maxLength*2;\r\n\t\t\t}\r\n\t\t\tif (_release) {\r\n\t\t\t\t_release(element);\r\n\t\t\t}\r\n\t\t\tpool[_length] = element;\r\n\t\t\t_length += 1;\r\n\t\t}\r\n\r\n\t\tfunction clone() {\r\n\t\t\tvar clonedElement = newElement();\r\n\t\t\treturn _clone(clonedElement);\r\n\t\t}\r\n\r\n\t\treturn ob;\r\n\t};\r\n}());\r\n\r\nvar pooling = (function(){\r\n\r\n\tfunction double(arr){\r\n\t\treturn arr.concat(createSizedArray(arr.length));\r\n\t}\r\n\r\n\treturn {\r\n\t\tdouble: double\r\n\t};\r\n}());\r\nvar point_pool = (function(){\r\n\r\n\tfunction create() {\r\n\t\treturn createTypedArray('float32', 2);\r\n\t}\r\n\treturn pool_factory(8, create);\r\n}());\r\nvar shape_pool = (function(){\r\n\r\n\tfunction create() {\r\n\t\treturn new ShapePath();\r\n\t}\r\n\r\n\tfunction release(shapePath) {\r\n\t\tvar len = shapePath._length, i;\r\n\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\tpoint_pool.release(shapePath.v[i]);\r\n\t\t\tpoint_pool.release(shapePath.i[i]);\r\n\t\t\tpoint_pool.release(shapePath.o[i]);\r\n\t\t\tshapePath.v[i] = null;\r\n\t\t\tshapePath.i[i] = null;\r\n\t\t\tshapePath.o[i] = null;\r\n\t\t}\r\n\t\tshapePath._length = 0;\r\n\t\tshapePath.c = false;\r\n\t}\r\n\r\n\tfunction clone(shape) {\r\n\t\tvar cloned = factory.newElement();\r\n\t\tvar i, len = shape._length === undefined ? shape.v.length : shape._length;\r\n\t\tcloned.setLength(len);\r\n\t\tcloned.c = shape.c;\r\n\t\tvar pt;\r\n\t\t\r\n\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\tcloned.setTripleAt(shape.v[i][0],shape.v[i][1],shape.o[i][0],shape.o[i][1],shape.i[i][0],shape.i[i][1], i);\r\n\t\t}\r\n\t\treturn cloned;\r\n\t}\r\n\r\n\tvar factory = pool_factory(4, create, release);\r\n\tfactory.clone = clone;\r\n\r\n\treturn factory;\r\n}());\r\nvar shapeCollection_pool = (function(){\r\n\tvar ob = {\r\n\t\tnewShapeCollection: newShapeCollection,\r\n\t\trelease: release\r\n\t};\r\n\r\n\tvar _length = 0;\r\n\tvar _maxLength = 4;\r\n\tvar pool = createSizedArray(_maxLength);\r\n\r\n\tfunction newShapeCollection(){\r\n\t\tvar shapeCollection;\r\n\t\tif(_length){\r\n\t\t\t_length -= 1;\r\n\t\t\tshapeCollection = pool[_length];\r\n\t\t} else {\r\n\t\t\tshapeCollection = new ShapeCollection();\r\n\t\t}\r\n\t\treturn shapeCollection;\r\n\t}\r\n\r\n\tfunction release(shapeCollection) {\r\n\t\tvar i, len = shapeCollection._length;\r\n\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\tshape_pool.release(shapeCollection.shapes[i]);\r\n\t\t}\r\n\t\tshapeCollection._length = 0;\r\n\r\n\t\tif(_length === _maxLength) {\r\n\t\t\tpool = pooling.double(pool);\r\n\t\t\t_maxLength = _maxLength*2;\r\n\t\t}\r\n\t\tpool[_length] = shapeCollection;\r\n\t\t_length += 1;\r\n\t}\r\n\r\n\treturn ob;\r\n}());\r\nvar segments_length_pool = (function(){\r\n\r\n\tfunction create() {\r\n\t\treturn {\r\n\t\t\tlengths: [],\r\n\t\t\ttotalLength: 0\r\n\t\t};\r\n\t}\r\n\r\n\tfunction release(element) {\r\n\t\tvar i, len = element.lengths.length;\r\n\t\tfor(i=0;i<len;i+=1) {\r\n\t\t\tbezier_length_pool.release(element.lengths[i]);\r\n\t\t}\r\n\t\telement.lengths.length = 0;\r\n\t}\r\n\r\n\treturn pool_factory(8, create, release);\r\n}());\r\nvar bezier_length_pool = (function(){\r\n\r\n\tfunction create() {\r\n\t\treturn {\r\n            addedLength: 0,\r\n            percents: createTypedArray('float32', defaultCurveSegments),\r\n            lengths: createTypedArray('float32', defaultCurveSegments),\r\n        };\r\n\t}\r\n\treturn pool_factory(8, create);\r\n}());\r\nfunction BaseRenderer(){}\r\nBaseRenderer.prototype.checkLayers = function(num){\r\n    var i, len = this.layers.length, data;\r\n    this.completeLayers = true;\r\n    for (i = len - 1; i >= 0; i--) {\r\n        if (!this.elements[i]) {\r\n            data = this.layers[i];\r\n            if(data.ip - data.st <= (num - this.layers[i].st) && data.op - data.st > (num - this.layers[i].st))\r\n            {\r\n                this.buildItem(i);\r\n            }\r\n        }\r\n        this.completeLayers = this.elements[i] ? this.completeLayers:false;\r\n    }\r\n    this.checkPendingElements();\r\n};\r\n\r\nBaseRenderer.prototype.createItem = function(layer){\r\n    switch(layer.ty){\r\n        case 2:\r\n            return this.createImage(layer);\r\n        case 0:\r\n            return this.createComp(layer);\r\n        case 1:\r\n            return this.createSolid(layer);\r\n        case 3:\r\n            return this.createNull(layer);\r\n        case 4:\r\n            return this.createShape(layer);\r\n        case 5:\r\n            return this.createText(layer);\r\n        case 6:\r\n            return this.createAudio(layer);\r\n        case 13:\r\n            return this.createCamera(layer);\r\n    }\r\n    return this.createNull(layer);\r\n};\r\n\r\nBaseRenderer.prototype.createCamera = function(){\r\n    throw new Error('You\\'re using a 3d camera. Try the html renderer.');\r\n};\r\n\r\nBaseRenderer.prototype.createAudio = function(data){\r\n    return new AudioElement(data, this.globalData, this);\r\n};\r\n\r\nBaseRenderer.prototype.buildAllItems = function(){\r\n    var i, len = this.layers.length;\r\n    for(i=0;i<len;i+=1){\r\n        this.buildItem(i);\r\n    }\r\n    this.checkPendingElements();\r\n};\r\n\r\nBaseRenderer.prototype.includeLayers = function(newLayers){\r\n    this.completeLayers = false;\r\n    var i, len = newLayers.length;\r\n    var j, jLen = this.layers.length;\r\n    for(i=0;i<len;i+=1){\r\n        j = 0;\r\n        while(j<jLen){\r\n            if(this.layers[j].id == newLayers[i].id){\r\n                this.layers[j] = newLayers[i];\r\n                break;\r\n            }\r\n            j += 1;\r\n        }\r\n    }\r\n};\r\n\r\nBaseRenderer.prototype.setProjectInterface = function(pInterface){\r\n    this.globalData.projectInterface = pInterface;\r\n};\r\n\r\nBaseRenderer.prototype.initItems = function(){\r\n    if(!this.globalData.progressiveLoad){\r\n        this.buildAllItems();\r\n    }\r\n};\r\nBaseRenderer.prototype.buildElementParenting = function(element, parentName, hierarchy) {\r\n    var elements = this.elements;\r\n    var layers = this.layers;\r\n    var i=0, len = layers.length;\r\n    while (i < len) {\r\n        if (layers[i].ind == parentName) {\r\n            if (!elements[i] || elements[i] === true) {\r\n                this.buildItem(i);\r\n                this.addPendingElement(element);\r\n            } else {\r\n                hierarchy.push(elements[i]);\r\n                elements[i].setAsParent();\r\n                if(layers[i].parent !== undefined) {\r\n                    this.buildElementParenting(element, layers[i].parent, hierarchy);\r\n                } else {\r\n                    element.setHierarchy(hierarchy);\r\n                }\r\n            }\r\n        }\r\n        i += 1;\r\n    }\r\n};\r\n\r\nBaseRenderer.prototype.addPendingElement = function(element){\r\n    this.pendingElements.push(element);\r\n};\r\n\r\nBaseRenderer.prototype.searchExtraCompositions = function(assets){\r\n    var i, len = assets.length;\r\n    for(i=0;i<len;i+=1){\r\n        if(assets[i].xt){\r\n            var comp = this.createComp(assets[i]);\r\n            comp.initExpressions();\r\n            this.globalData.projectInterface.registerComposition(comp);\r\n        }\r\n    }\r\n};\r\n\r\nBaseRenderer.prototype.setupGlobalData = function(animData, fontsContainer) {\r\n    this.globalData.fontManager = new FontManager();\r\n    this.globalData.fontManager.addChars(animData.chars);\r\n    this.globalData.fontManager.addFonts(animData.fonts, fontsContainer);\r\n    this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem);\r\n    this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem);\r\n    this.globalData.imageLoader = this.animationItem.imagePreloader;\r\n    this.globalData.audioController = this.animationItem.audioController;\r\n    this.globalData.frameId = 0;\r\n    this.globalData.frameRate = animData.fr;\r\n    this.globalData.nm = animData.nm;\r\n    this.globalData.compSize = {\r\n        w: animData.w,\r\n        h: animData.h\r\n    }\r\n}\r\nfunction SVGRenderer(animationItem, config){\r\n    this.animationItem = animationItem;\r\n    this.layers = null;\r\n    this.renderedFrame = -1;\r\n    this.svgElement = createNS('svg');\r\n    var ariaLabel = '';\r\n    if (config && config.title) {\r\n        var titleElement = createNS('title');\r\n        var titleId = createElementID();\r\n        titleElement.setAttribute('id', titleId);\r\n        titleElement.textContent = config.title;\r\n        this.svgElement.appendChild(titleElement);\r\n        ariaLabel += titleId;\r\n    }\r\n    if (config && config.description) {\r\n        var descElement = createNS('desc');\r\n        var descId = createElementID();\r\n        descElement.setAttribute('id', descId);\r\n        descElement.textContent = config.description;\r\n        this.svgElement.appendChild(descElement);\r\n        ariaLabel += ' ' + descId;\r\n    }\r\n    if (ariaLabel) {\r\n        this.svgElement.setAttribute('aria-labelledby', ariaLabel)\r\n    }\r\n    var defs = createNS( 'defs');\r\n    this.svgElement.appendChild(defs);\r\n    var maskElement = createNS('g');\r\n    this.svgElement.appendChild(maskElement);\r\n    this.layerElement = maskElement;\r\n    this.renderConfig = {\r\n        preserveAspectRatio: (config && config.preserveAspectRatio) || 'xMidYMid meet',\r\n        imagePreserveAspectRatio: (config && config.imagePreserveAspectRatio) || 'xMidYMid slice',\r\n        progressiveLoad: (config && config.progressiveLoad) || false,\r\n        hideOnTransparent: (config && config.hideOnTransparent === false) ? false : true,\r\n        viewBoxOnly: (config && config.viewBoxOnly) || false,\r\n        viewBoxSize: (config && config.viewBoxSize) || false,\r\n        className: (config && config.className) || '',\r\n        id: (config && config.id) || '',\r\n        focusable: config && config.focusable,\r\n        filterSize: {\r\n            width: config && config.filterSize && config.filterSize.width || '100%',\r\n            height: config && config.filterSize && config.filterSize.height || '100%',\r\n            x: config && config.filterSize && config.filterSize.x || '0%',\r\n            y: config && config.filterSize && config.filterSize.y || '0%',\r\n        }\r\n    };\r\n\r\n    this.globalData = {\r\n        _mdf: false,\r\n        frameNum: -1,\r\n        defs: defs,\r\n        renderConfig: this.renderConfig\r\n    };\r\n    this.elements = [];\r\n    this.pendingElements = [];\r\n    this.destroyed = false;\r\n    this.rendererType = 'svg';\r\n\r\n}\r\n\r\nextendPrototype([BaseRenderer],SVGRenderer);\r\n\r\nSVGRenderer.prototype.createNull = function (data) {\r\n    return new NullElement(data,this.globalData,this);\r\n};\r\n\r\nSVGRenderer.prototype.createShape = function (data) {\r\n    return new SVGShapeElement(data,this.globalData,this);\r\n};\r\n\r\nSVGRenderer.prototype.createText = function (data) {\r\n    return new SVGTextElement(data,this.globalData,this);\r\n\r\n};\r\n\r\nSVGRenderer.prototype.createImage = function (data) {\r\n    return new IImageElement(data,this.globalData,this);\r\n};\r\n\r\nSVGRenderer.prototype.createComp = function (data) {\r\n    return new SVGCompElement(data,this.globalData,this);\r\n\r\n};\r\n\r\nSVGRenderer.prototype.createSolid = function (data) {\r\n    return new ISolidElement(data,this.globalData,this);\r\n};\r\n\r\nSVGRenderer.prototype.configAnimation = function(animData){\r\n    this.svgElement.setAttribute('xmlns','http://www.w3.org/2000/svg');\r\n    if(this.renderConfig.viewBoxSize) {\r\n        this.svgElement.setAttribute('viewBox',this.renderConfig.viewBoxSize);\r\n    } else {\r\n        this.svgElement.setAttribute('viewBox','0 0 '+animData.w+' '+animData.h);\r\n    }\r\n\r\n    if(!this.renderConfig.viewBoxOnly) {\r\n        this.svgElement.setAttribute('width',animData.w);\r\n        this.svgElement.setAttribute('height',animData.h);\r\n        this.svgElement.style.width = '100%';\r\n        this.svgElement.style.height = '100%';\r\n        this.svgElement.style.transform = 'translate3d(0,0,0)';\r\n    }\r\n    if (this.renderConfig.className) {\r\n        this.svgElement.setAttribute('class', this.renderConfig.className);\r\n    }\r\n    if (this.renderConfig.id) {\r\n        this.svgElement.setAttribute('id', this.renderConfig.id);\r\n    }\r\n    if (this.renderConfig.focusable !== undefined) {\r\n        this.svgElement.setAttribute('focusable', this.renderConfig.focusable);\r\n    }\r\n    this.svgElement.setAttribute('preserveAspectRatio',this.renderConfig.preserveAspectRatio);\r\n    //this.layerElement.style.transform = 'translate3d(0,0,0)';\r\n    //this.layerElement.style.transformOrigin = this.layerElement.style.mozTransformOrigin = this.layerElement.style.webkitTransformOrigin = this.layerElement.style['-webkit-transform'] = \"0px 0px 0px\";\r\n    this.animationItem.wrapper.appendChild(this.svgElement);\r\n    //Mask animation\r\n    var defs = this.globalData.defs;\r\n\r\n    this.setupGlobalData(animData, defs);\r\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\r\n    this.data = animData;\r\n\r\n    var maskElement = createNS( 'clipPath');\r\n    var rect = createNS('rect');\r\n    rect.setAttribute('width',animData.w);\r\n    rect.setAttribute('height',animData.h);\r\n    rect.setAttribute('x',0);\r\n    rect.setAttribute('y',0);\r\n    var maskId = createElementID();\r\n    maskElement.setAttribute('id', maskId);\r\n    maskElement.appendChild(rect);\r\n    this.layerElement.setAttribute(\"clip-path\", \"url(\" + locationHref + \"#\"+maskId+\")\");\r\n\r\n    defs.appendChild(maskElement);\r\n    this.layers = animData.layers;\r\n    this.elements = createSizedArray(animData.layers.length);\r\n};\r\n\r\n\r\nSVGRenderer.prototype.destroy = function () {\r\n    this.animationItem.wrapper.innerText = '';\r\n    this.layerElement = null;\r\n    this.globalData.defs = null;\r\n    var i, len = this.layers ? this.layers.length : 0;\r\n    for (i = 0; i < len; i++) {\r\n        if(this.elements[i]){\r\n            this.elements[i].destroy();\r\n        }\r\n    }\r\n    this.elements.length = 0;\r\n    this.destroyed = true;\r\n    this.animationItem = null;\r\n};\r\n\r\nSVGRenderer.prototype.updateContainerSize = function () {\r\n};\r\n\r\nSVGRenderer.prototype.buildItem  = function(pos){\r\n    var elements = this.elements;\r\n    if(elements[pos] || this.layers[pos].ty == 99){\r\n        return;\r\n    }\r\n    elements[pos] = true;\r\n    var element = this.createItem(this.layers[pos]);\r\n\r\n    elements[pos] = element;\r\n    if(expressionsPlugin){\r\n        if(this.layers[pos].ty === 0){\r\n            this.globalData.projectInterface.registerComposition(element);\r\n        }\r\n        element.initExpressions();\r\n    }\r\n    this.appendElementInPos(element,pos);\r\n    if(this.layers[pos].tt){\r\n        if(!this.elements[pos - 1] || this.elements[pos - 1] === true){\r\n            this.buildItem(pos - 1);\r\n            this.addPendingElement(element);\r\n        } else {\r\n            element.setMatte(elements[pos - 1].layerId);\r\n        }\r\n    }\r\n};\r\n\r\nSVGRenderer.prototype.checkPendingElements  = function(){\r\n    while(this.pendingElements.length){\r\n        var element = this.pendingElements.pop();\r\n        element.checkParenting();\r\n        if(element.data.tt){\r\n            var i = 0, len = this.elements.length;\r\n            while(i<len){\r\n                if(this.elements[i] === element){\r\n                    element.setMatte(this.elements[i - 1].layerId);\r\n                    break;\r\n                }\r\n                i += 1;\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nSVGRenderer.prototype.renderFrame = function(num){\r\n    if(this.renderedFrame === num || this.destroyed){\r\n        return;\r\n    }\r\n    if(num === null){\r\n        num = this.renderedFrame;\r\n    }else{\r\n        this.renderedFrame = num;\r\n    }\r\n    // console.log('-------');\r\n    // console.log('FRAME ',num);\r\n    this.globalData.frameNum = num;\r\n    this.globalData.frameId += 1;\r\n    this.globalData.projectInterface.currentFrame = num;\r\n    this.globalData._mdf = false;\r\n    var i, len = this.layers.length;\r\n    if(!this.completeLayers){\r\n        this.checkLayers(num);\r\n    }\r\n    for (i = len - 1; i >= 0; i--) {\r\n        if(this.completeLayers || this.elements[i]){\r\n            this.elements[i].prepareFrame(num - this.layers[i].st);\r\n        }\r\n    }\r\n    if(this.globalData._mdf) {\r\n        for (i = 0; i < len; i += 1) {\r\n            if(this.completeLayers || this.elements[i]){\r\n                this.elements[i].renderFrame();\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nSVGRenderer.prototype.appendElementInPos = function(element, pos){\r\n    var newElement = element.getBaseElement();\r\n    if(!newElement){\r\n        return;\r\n    }\r\n    var i = 0;\r\n    var nextElement;\r\n    while(i<pos){\r\n        if(this.elements[i] && this.elements[i]!== true && this.elements[i].getBaseElement()){\r\n            nextElement = this.elements[i].getBaseElement();\r\n        }\r\n        i += 1;\r\n    }\r\n    if(nextElement){\r\n        this.layerElement.insertBefore(newElement, nextElement);\r\n    } else {\r\n        this.layerElement.appendChild(newElement);\r\n    }\r\n};\r\n\r\nSVGRenderer.prototype.hide = function(){\r\n    this.layerElement.style.display = 'none';\r\n};\r\n\r\nSVGRenderer.prototype.show = function(){\r\n    this.layerElement.style.display = 'block';\r\n};\r\n\r\nfunction CanvasRenderer(animationItem, config){\r\n    this.animationItem = animationItem;\r\n    this.renderConfig = {\r\n        clearCanvas: (config && config.clearCanvas !== undefined) ? config.clearCanvas : true,\r\n        context: (config && config.context) || null,\r\n        progressiveLoad: (config && config.progressiveLoad) || false,\r\n        preserveAspectRatio: (config && config.preserveAspectRatio) || 'xMidYMid meet',\r\n        imagePreserveAspectRatio: (config && config.imagePreserveAspectRatio) || 'xMidYMid slice',\r\n        className: (config && config.className) || '',\r\n        id: (config && config.id) || '',\r\n    };\r\n    this.renderConfig.dpr = (config && config.dpr) || 1;\r\n    if (this.animationItem.wrapper) {\r\n        this.renderConfig.dpr = (config && config.dpr) || window.devicePixelRatio || 1;\r\n    }\r\n    this.renderedFrame = -1;\r\n    this.globalData = {\r\n        frameNum: -1,\r\n        _mdf: false,\r\n        renderConfig: this.renderConfig,\r\n        currentGlobalAlpha: -1\r\n    };\r\n    this.contextData = new CVContextData();\r\n    this.elements = [];\r\n    this.pendingElements = [];\r\n    this.transformMat = new Matrix();\r\n    this.completeLayers = false;\r\n    this.rendererType = 'canvas';\r\n}\r\nextendPrototype([BaseRenderer],CanvasRenderer);\r\n\r\nCanvasRenderer.prototype.createShape = function (data) {\r\n    return new CVShapeElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createText = function (data) {\r\n    return new CVTextElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createImage = function (data) {\r\n    return new CVImageElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createComp = function (data) {\r\n    return new CVCompElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createSolid = function (data) {\r\n    return new CVSolidElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createNull = SVGRenderer.prototype.createNull;\r\n\r\nCanvasRenderer.prototype.ctxTransform = function(props){\r\n    if(props[0] === 1 && props[1] === 0 && props[4] === 0 && props[5] === 1 && props[12] === 0 && props[13] === 0){\r\n        return;\r\n    }\r\n    if(!this.renderConfig.clearCanvas){\r\n        this.canvasContext.transform(props[0],props[1],props[4],props[5],props[12],props[13]);\r\n        return;\r\n    }\r\n    this.transformMat.cloneFromProps(props);\r\n    var cProps = this.contextData.cTr.props;\r\n    this.transformMat.transform(cProps[0],cProps[1],cProps[2],cProps[3],cProps[4],cProps[5],cProps[6],cProps[7],cProps[8],cProps[9],cProps[10],cProps[11],cProps[12],cProps[13],cProps[14],cProps[15]);\r\n    //this.contextData.cTr.transform(props[0],props[1],props[2],props[3],props[4],props[5],props[6],props[7],props[8],props[9],props[10],props[11],props[12],props[13],props[14],props[15]);\r\n    this.contextData.cTr.cloneFromProps(this.transformMat.props);\r\n    var trProps = this.contextData.cTr.props;\r\n    this.canvasContext.setTransform(trProps[0],trProps[1],trProps[4],trProps[5],trProps[12],trProps[13]);\r\n};\r\n\r\nCanvasRenderer.prototype.ctxOpacity = function(op){\r\n    /*if(op === 1){\r\n        return;\r\n    }*/\r\n    if(!this.renderConfig.clearCanvas){\r\n        this.canvasContext.globalAlpha *= op < 0 ? 0 : op;\r\n        this.globalData.currentGlobalAlpha = this.contextData.cO;\r\n        return;\r\n    }\r\n    this.contextData.cO *= op < 0 ? 0 : op;\r\n    if(this.globalData.currentGlobalAlpha !== this.contextData.cO) {\r\n        this.canvasContext.globalAlpha = this.contextData.cO;\r\n        this.globalData.currentGlobalAlpha = this.contextData.cO;\r\n    }\r\n};\r\n\r\nCanvasRenderer.prototype.reset = function(){\r\n    if(!this.renderConfig.clearCanvas){\r\n        this.canvasContext.restore();\r\n        return;\r\n    }\r\n    this.contextData.reset();\r\n};\r\n\r\nCanvasRenderer.prototype.save = function(actionFlag){\r\n    if(!this.renderConfig.clearCanvas){\r\n        this.canvasContext.save();\r\n        return;\r\n    }\r\n    if(actionFlag){\r\n        this.canvasContext.save();\r\n    }\r\n    var props = this.contextData.cTr.props;\r\n    if(this.contextData._length <= this.contextData.cArrPos) {\r\n        this.contextData.duplicate();\r\n    }\r\n    var i, arr = this.contextData.saved[this.contextData.cArrPos];\r\n    for (i = 0; i < 16; i += 1) {\r\n        arr[i] = props[i];\r\n    }\r\n    this.contextData.savedOp[this.contextData.cArrPos] = this.contextData.cO;\r\n    this.contextData.cArrPos += 1;\r\n};\r\n\r\nCanvasRenderer.prototype.restore = function(actionFlag){\r\n    if(!this.renderConfig.clearCanvas){\r\n        this.canvasContext.restore();\r\n        return;\r\n    }\r\n    if(actionFlag){\r\n        this.canvasContext.restore();\r\n        this.globalData.blendMode = 'source-over';\r\n    }\r\n    this.contextData.cArrPos -= 1;\r\n    var popped = this.contextData.saved[this.contextData.cArrPos];\r\n    var i,arr = this.contextData.cTr.props;\r\n    for(i=0;i<16;i+=1){\r\n        arr[i] = popped[i];\r\n    }\r\n    this.canvasContext.setTransform(popped[0],popped[1],popped[4],popped[5],popped[12],popped[13]);\r\n    popped = this.contextData.savedOp[this.contextData.cArrPos];\r\n    this.contextData.cO = popped;\r\n    if(this.globalData.currentGlobalAlpha !== popped) {\r\n        this.canvasContext.globalAlpha = popped;\r\n        this.globalData.currentGlobalAlpha = popped;\r\n    }\r\n};\r\n\r\nCanvasRenderer.prototype.configAnimation = function(animData){\r\n    if(this.animationItem.wrapper){\r\n        this.animationItem.container = createTag('canvas');\r\n        this.animationItem.container.style.width = '100%';\r\n        this.animationItem.container.style.height = '100%';\r\n        //this.animationItem.container.style.transform = 'translate3d(0,0,0)';\r\n        //this.animationItem.container.style.webkitTransform = 'translate3d(0,0,0)';\r\n        this.animationItem.container.style.transformOrigin = this.animationItem.container.style.mozTransformOrigin = this.animationItem.container.style.webkitTransformOrigin = this.animationItem.container.style['-webkit-transform'] = \"0px 0px 0px\";\r\n        this.animationItem.wrapper.appendChild(this.animationItem.container);\r\n        this.canvasContext = this.animationItem.container.getContext('2d');\r\n        if(this.renderConfig.className) {\r\n            this.animationItem.container.setAttribute('class', this.renderConfig.className);\r\n        }\r\n        if(this.renderConfig.id) {\r\n            this.animationItem.container.setAttribute('id', this.renderConfig.id);\r\n        }\r\n    }else{\r\n        this.canvasContext = this.renderConfig.context;\r\n    }\r\n    this.data = animData;\r\n    this.layers = animData.layers;\r\n    this.transformCanvas = {\r\n        w: animData.w,\r\n        h:animData.h,\r\n        sx:0,\r\n        sy:0,\r\n        tx:0,\r\n        ty:0\r\n    };\r\n    this.setupGlobalData(animData, document.body);\r\n    this.globalData.canvasContext = this.canvasContext;\r\n    this.globalData.renderer = this;\r\n    this.globalData.isDashed = false;\r\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\r\n    this.globalData.transformCanvas = this.transformCanvas;\r\n    this.elements = createSizedArray(animData.layers.length);\r\n\r\n    this.updateContainerSize();\r\n};\r\n\r\nCanvasRenderer.prototype.updateContainerSize = function () {\r\n    this.reset();\r\n    var elementWidth,elementHeight;\r\n    if(this.animationItem.wrapper && this.animationItem.container){\r\n        elementWidth = this.animationItem.wrapper.offsetWidth;\r\n        elementHeight = this.animationItem.wrapper.offsetHeight;\r\n        this.animationItem.container.setAttribute('width',elementWidth * this.renderConfig.dpr );\r\n        this.animationItem.container.setAttribute('height',elementHeight * this.renderConfig.dpr);\r\n    }else{\r\n        elementWidth = this.canvasContext.canvas.width * this.renderConfig.dpr;\r\n        elementHeight = this.canvasContext.canvas.height * this.renderConfig.dpr;\r\n    }\r\n    var elementRel,animationRel;\r\n    if(this.renderConfig.preserveAspectRatio.indexOf('meet') !== -1 || this.renderConfig.preserveAspectRatio.indexOf('slice') !== -1){\r\n        var par = this.renderConfig.preserveAspectRatio.split(' ');\r\n        var fillType = par[1] || 'meet';\r\n        var pos = par[0] || 'xMidYMid';\r\n        var xPos = pos.substr(0,4);\r\n        var yPos = pos.substr(4);\r\n        elementRel = elementWidth/elementHeight;\r\n        animationRel = this.transformCanvas.w/this.transformCanvas.h;\r\n        if(animationRel>elementRel && fillType === 'meet' || animationRel<elementRel && fillType === 'slice'){\r\n            this.transformCanvas.sx = elementWidth/(this.transformCanvas.w/this.renderConfig.dpr);\r\n            this.transformCanvas.sy = elementWidth/(this.transformCanvas.w/this.renderConfig.dpr);\r\n        }else{\r\n            this.transformCanvas.sx = elementHeight/(this.transformCanvas.h / this.renderConfig.dpr);\r\n            this.transformCanvas.sy = elementHeight/(this.transformCanvas.h / this.renderConfig.dpr);\r\n        }\r\n\r\n        if(xPos === 'xMid' && ((animationRel<elementRel && fillType==='meet') || (animationRel>elementRel && fillType === 'slice'))){\r\n            this.transformCanvas.tx = (elementWidth-this.transformCanvas.w*(elementHeight/this.transformCanvas.h))/2*this.renderConfig.dpr;\r\n        } else if(xPos === 'xMax' && ((animationRel<elementRel && fillType==='meet') || (animationRel>elementRel && fillType === 'slice'))){\r\n            this.transformCanvas.tx = (elementWidth-this.transformCanvas.w*(elementHeight/this.transformCanvas.h))*this.renderConfig.dpr;\r\n        } else {\r\n            this.transformCanvas.tx = 0;\r\n        }\r\n        if(yPos === 'YMid' && ((animationRel>elementRel && fillType==='meet') || (animationRel<elementRel && fillType === 'slice'))){\r\n            this.transformCanvas.ty = ((elementHeight-this.transformCanvas.h*(elementWidth/this.transformCanvas.w))/2)*this.renderConfig.dpr;\r\n        } else if(yPos === 'YMax' && ((animationRel>elementRel && fillType==='meet') || (animationRel<elementRel && fillType === 'slice'))){\r\n            this.transformCanvas.ty = ((elementHeight-this.transformCanvas.h*(elementWidth/this.transformCanvas.w)))*this.renderConfig.dpr;\r\n        } else {\r\n            this.transformCanvas.ty = 0;\r\n        }\r\n\r\n    }else if(this.renderConfig.preserveAspectRatio == 'none'){\r\n        this.transformCanvas.sx = elementWidth/(this.transformCanvas.w/this.renderConfig.dpr);\r\n        this.transformCanvas.sy = elementHeight/(this.transformCanvas.h/this.renderConfig.dpr);\r\n        this.transformCanvas.tx = 0;\r\n        this.transformCanvas.ty = 0;\r\n    }else{\r\n        this.transformCanvas.sx = this.renderConfig.dpr;\r\n        this.transformCanvas.sy = this.renderConfig.dpr;\r\n        this.transformCanvas.tx = 0;\r\n        this.transformCanvas.ty = 0;\r\n    }\r\n    this.transformCanvas.props = [this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1];\r\n    /*var i, len = this.elements.length;\r\n    for(i=0;i<len;i+=1){\r\n        if(this.elements[i] && this.elements[i].data.ty === 0){\r\n            this.elements[i].resize(this.globalData.transformCanvas);\r\n        }\r\n    }*/\r\n    this.ctxTransform(this.transformCanvas.props);\r\n    this.canvasContext.beginPath();\r\n    this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h);\r\n    this.canvasContext.closePath();\r\n    this.canvasContext.clip();\r\n\r\n    this.renderFrame(this.renderedFrame, true);\r\n};\r\n\r\nCanvasRenderer.prototype.destroy = function () {\r\n    if(this.renderConfig.clearCanvas) {\r\n        this.animationItem.wrapper.innerText = '';\r\n    }\r\n    var i, len = this.layers ? this.layers.length : 0;\r\n    for (i = len - 1; i >= 0; i-=1) {\r\n        if(this.elements[i]) {\r\n            this.elements[i].destroy();\r\n        }\r\n    }\r\n    this.elements.length = 0;\r\n    this.globalData.canvasContext = null;\r\n    this.animationItem.container = null;\r\n    this.destroyed = true;\r\n};\r\n\r\nCanvasRenderer.prototype.renderFrame = function(num, forceRender){\r\n    if((this.renderedFrame === num && this.renderConfig.clearCanvas === true && !forceRender) || this.destroyed || num === -1){\r\n        return;\r\n    }\r\n    this.renderedFrame = num;\r\n    this.globalData.frameNum = num - this.animationItem._isFirstFrame;\r\n    this.globalData.frameId += 1;\r\n    this.globalData._mdf = !this.renderConfig.clearCanvas || forceRender;\r\n    this.globalData.projectInterface.currentFrame = num;\r\n\r\n     // console.log('--------');\r\n     // console.log('NEW: ',num);\r\n    var i, len = this.layers.length;\r\n    if(!this.completeLayers){\r\n        this.checkLayers(num);\r\n    }\r\n\r\n    for (i = 0; i < len; i++) {\r\n        if(this.completeLayers || this.elements[i]){\r\n            this.elements[i].prepareFrame(num - this.layers[i].st);\r\n        }\r\n    }\r\n    if(this.globalData._mdf) {\r\n        if(this.renderConfig.clearCanvas === true){\r\n            this.canvasContext.clearRect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\r\n        }else{\r\n            this.save();\r\n        }\r\n        for (i = len - 1; i >= 0; i-=1) {\r\n            if(this.completeLayers || this.elements[i]){\r\n                this.elements[i].renderFrame();\r\n            }\r\n        }\r\n        if(this.renderConfig.clearCanvas !== true){\r\n            this.restore();\r\n        }\r\n    }\r\n};\r\n\r\nCanvasRenderer.prototype.buildItem = function(pos){\r\n    var elements = this.elements;\r\n    if(elements[pos] || this.layers[pos].ty == 99){\r\n        return;\r\n    }\r\n    var element = this.createItem(this.layers[pos], this,this.globalData);\r\n    elements[pos] = element;\r\n    element.initExpressions();\r\n    /*if(this.layers[pos].ty === 0){\r\n        element.resize(this.globalData.transformCanvas);\r\n    }*/\r\n};\r\n\r\nCanvasRenderer.prototype.checkPendingElements  = function(){\r\n    while(this.pendingElements.length){\r\n        var element = this.pendingElements.pop();\r\n        element.checkParenting();\r\n    }\r\n};\r\n\r\nCanvasRenderer.prototype.hide = function(){\r\n    this.animationItem.container.style.display = 'none';\r\n};\r\n\r\nCanvasRenderer.prototype.show = function(){\r\n    this.animationItem.container.style.display = 'block';\r\n};\r\n\r\nfunction HybridRenderer(animationItem, config){\r\n    this.animationItem = animationItem;\r\n    this.layers = null;\r\n    this.renderedFrame = -1;\r\n    this.renderConfig = {\r\n        className: (config && config.className) || '',\r\n        imagePreserveAspectRatio: (config && config.imagePreserveAspectRatio) || 'xMidYMid slice',\r\n        hideOnTransparent: (config && config.hideOnTransparent === false) ? false : true,\r\n        filterSize: {\r\n            width: config && config.filterSize && config.filterSize.width || '400%',\r\n            height: config && config.filterSize && config.filterSize.height || '400%',\r\n            x: config && config.filterSize && config.filterSize.x || '-100%',\r\n            y: config && config.filterSize && config.filterSize.y || '-100%',\r\n        }\r\n    };\r\n    this.globalData = {\r\n        _mdf: false,\r\n        frameNum: -1,\r\n        renderConfig: this.renderConfig\r\n    };\r\n    this.pendingElements = [];\r\n    this.elements = [];\r\n    this.threeDElements = [];\r\n    this.destroyed = false;\r\n    this.camera = null;\r\n    this.supports3d = true;\r\n    this.rendererType = 'html';\r\n\r\n}\r\n\r\nextendPrototype([BaseRenderer],HybridRenderer);\r\n\r\nHybridRenderer.prototype.buildItem = SVGRenderer.prototype.buildItem;\r\n\r\nHybridRenderer.prototype.checkPendingElements  = function(){\r\n    while(this.pendingElements.length){\r\n        var element = this.pendingElements.pop();\r\n        element.checkParenting();\r\n    }\r\n};\r\n\r\nHybridRenderer.prototype.appendElementInPos = function(element, pos){\r\n    var newDOMElement = element.getBaseElement();\r\n    if(!newDOMElement){\r\n        return;\r\n    }\r\n    var layer = this.layers[pos];\r\n    if(!layer.ddd || !this.supports3d){\r\n        if(this.threeDElements) {\r\n            this.addTo3dContainer(newDOMElement,pos);\r\n        } else {\r\n            var i = 0;\r\n            var nextDOMElement, nextLayer, tmpDOMElement;\r\n            while(i<pos){\r\n                if(this.elements[i] && this.elements[i]!== true && this.elements[i].getBaseElement){\r\n                    nextLayer = this.elements[i];\r\n                    tmpDOMElement = this.layers[i].ddd ? this.getThreeDContainerByPos(i) : nextLayer.getBaseElement();\r\n                    nextDOMElement = tmpDOMElement || nextDOMElement;\r\n                }\r\n                i += 1;\r\n            }\r\n            if(nextDOMElement){\r\n                if(!layer.ddd || !this.supports3d){\r\n                    this.layerElement.insertBefore(newDOMElement, nextDOMElement);\r\n                }\r\n            } else {\r\n                if(!layer.ddd || !this.supports3d){\r\n                    this.layerElement.appendChild(newDOMElement);\r\n                }\r\n            }\r\n        }\r\n        \r\n    } else {\r\n        this.addTo3dContainer(newDOMElement,pos);\r\n    }\r\n};\r\n\r\nHybridRenderer.prototype.createShape = function (data) {\r\n    if(!this.supports3d){\r\n        return new SVGShapeElement(data, this.globalData, this);\r\n    }\r\n    return new HShapeElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createText = function (data) {\r\n    if(!this.supports3d){\r\n        return new SVGTextElement(data, this.globalData, this);\r\n    }\r\n    return new HTextElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createCamera = function (data) {\r\n    this.camera = new HCameraElement(data, this.globalData, this);\r\n    return this.camera;\r\n};\r\n\r\nHybridRenderer.prototype.createImage = function (data) {\r\n    if(!this.supports3d){\r\n        return new IImageElement(data, this.globalData, this);\r\n    }\r\n    return new HImageElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createComp = function (data) {\r\n    if(!this.supports3d){\r\n        return new SVGCompElement(data, this.globalData, this);\r\n    }\r\n    return new HCompElement(data, this.globalData, this);\r\n\r\n};\r\n\r\nHybridRenderer.prototype.createSolid = function (data) {\r\n    if(!this.supports3d){\r\n        return new ISolidElement(data, this.globalData, this);\r\n    }\r\n    return new HSolidElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createNull = SVGRenderer.prototype.createNull;\r\n\r\nHybridRenderer.prototype.getThreeDContainerByPos = function(pos){\r\n    var i = 0, len = this.threeDElements.length;\r\n    while(i<len) {\r\n        if(this.threeDElements[i].startPos <= pos && this.threeDElements[i].endPos >= pos) {\r\n            return this.threeDElements[i].perspectiveElem;\r\n        }\r\n        i += 1;\r\n    }\r\n};\r\n\r\nHybridRenderer.prototype.createThreeDContainer = function(pos, type){\r\n    var perspectiveElem = createTag('div');\r\n    styleDiv(perspectiveElem);\r\n    var container = createTag('div');\r\n    styleDiv(container);\r\n    if(type === '3d') {\r\n        perspectiveElem.style.width = this.globalData.compSize.w+'px';\r\n        perspectiveElem.style.height = this.globalData.compSize.h+'px';\r\n        perspectiveElem.style.transformOrigin = perspectiveElem.style.mozTransformOrigin = perspectiveElem.style.webkitTransformOrigin = \"50% 50%\";\r\n        container.style.transform = container.style.webkitTransform = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\r\n    }\r\n    \r\n    perspectiveElem.appendChild(container);\r\n    //this.resizerElem.appendChild(perspectiveElem);\r\n    var threeDContainerData = {\r\n        container:container,\r\n        perspectiveElem:perspectiveElem,\r\n        startPos: pos,\r\n        endPos: pos,\r\n        type: type\r\n    };\r\n    this.threeDElements.push(threeDContainerData);\r\n    return threeDContainerData;\r\n};\r\n\r\nHybridRenderer.prototype.build3dContainers = function(){\r\n    var i, len = this.layers.length;\r\n    var lastThreeDContainerData;\r\n    var currentContainer = '';\r\n    for(i=0;i<len;i+=1){\r\n        if(this.layers[i].ddd && this.layers[i].ty !== 3){\r\n            if(currentContainer !== '3d'){\r\n                currentContainer = '3d';\r\n                lastThreeDContainerData = this.createThreeDContainer(i,'3d');\r\n            }\r\n            lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos,i);\r\n        } else {\r\n            if(currentContainer !== '2d'){\r\n                currentContainer = '2d';\r\n                lastThreeDContainerData = this.createThreeDContainer(i,'2d');\r\n            }\r\n            lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos,i);\r\n        }\r\n    }\r\n    len = this.threeDElements.length;\r\n    for(i = len - 1; i >= 0; i --) {\r\n        this.resizerElem.appendChild(this.threeDElements[i].perspectiveElem);\r\n    }\r\n};\r\n\r\nHybridRenderer.prototype.addTo3dContainer = function(elem,pos){\r\n    var i = 0, len = this.threeDElements.length;\r\n    while(i<len){\r\n        if(pos <= this.threeDElements[i].endPos){\r\n            var j = this.threeDElements[i].startPos;\r\n            var nextElement;\r\n            while(j<pos){\r\n                if(this.elements[j] && this.elements[j].getBaseElement){\r\n                    nextElement = this.elements[j].getBaseElement();\r\n                }\r\n                j += 1;\r\n            }\r\n            if(nextElement){\r\n                this.threeDElements[i].container.insertBefore(elem, nextElement);\r\n            } else {\r\n                this.threeDElements[i].container.appendChild(elem);\r\n            }\r\n            break;\r\n        }\r\n        i += 1;\r\n    }\r\n};\r\n\r\nHybridRenderer.prototype.configAnimation = function(animData){\r\n    var resizerElem = createTag('div');\r\n    var wrapper = this.animationItem.wrapper;\r\n    resizerElem.style.width = animData.w+'px';\r\n    resizerElem.style.height = animData.h+'px';\r\n    this.resizerElem = resizerElem;\r\n    styleDiv(resizerElem);\r\n    resizerElem.style.transformStyle = resizerElem.style.webkitTransformStyle = resizerElem.style.mozTransformStyle = \"flat\";\r\n    if(this.renderConfig.className) {\r\n      resizerElem.setAttribute('class', this.renderConfig.className);\r\n    }\r\n    wrapper.appendChild(resizerElem);\r\n\r\n    resizerElem.style.overflow = 'hidden';\r\n    var svg = createNS('svg');\r\n    svg.setAttribute('width','1');\r\n    svg.setAttribute('height','1');\r\n    styleDiv(svg);\r\n    this.resizerElem.appendChild(svg);\r\n    var defs = createNS('defs');\r\n    svg.appendChild(defs);\r\n    this.data = animData;\r\n    //Mask animation\r\n    this.setupGlobalData(animData, svg);\r\n    this.globalData.defs = defs;\r\n    this.layers = animData.layers;\r\n    this.layerElement = this.resizerElem;\r\n    this.build3dContainers();\r\n    this.updateContainerSize();\r\n};\r\n\r\nHybridRenderer.prototype.destroy = function () {\r\n    this.animationItem.wrapper.innerText = '';\r\n    this.animationItem.container = null;\r\n    this.globalData.defs = null;\r\n    var i, len = this.layers ? this.layers.length : 0;\r\n    for (i = 0; i < len; i++) {\r\n        this.elements[i].destroy();\r\n    }\r\n    this.elements.length = 0;\r\n    this.destroyed = true;\r\n    this.animationItem = null;\r\n};\r\n\r\nHybridRenderer.prototype.updateContainerSize = function () {\r\n    var elementWidth = this.animationItem.wrapper.offsetWidth;\r\n    var elementHeight = this.animationItem.wrapper.offsetHeight;\r\n    var elementRel = elementWidth/elementHeight;\r\n    var animationRel = this.globalData.compSize.w/this.globalData.compSize.h;\r\n    var sx,sy,tx,ty;\r\n    if(animationRel>elementRel){\r\n        sx = elementWidth/(this.globalData.compSize.w);\r\n        sy = elementWidth/(this.globalData.compSize.w);\r\n        tx = 0;\r\n        ty = ((elementHeight-this.globalData.compSize.h*(elementWidth/this.globalData.compSize.w))/2);\r\n    }else{\r\n        sx = elementHeight/(this.globalData.compSize.h);\r\n        sy = elementHeight/(this.globalData.compSize.h);\r\n        tx = (elementWidth-this.globalData.compSize.w*(elementHeight/this.globalData.compSize.h))/2;\r\n        ty = 0;\r\n    }\r\n    this.resizerElem.style.transform = this.resizerElem.style.webkitTransform = 'matrix3d(' + sx + ',0,0,0,0,'+sy+',0,0,0,0,1,0,'+tx+','+ty+',0,1)';\r\n};\r\n\r\nHybridRenderer.prototype.renderFrame = SVGRenderer.prototype.renderFrame;\r\n\r\nHybridRenderer.prototype.hide = function(){\r\n    this.resizerElem.style.display = 'none';\r\n};\r\n\r\nHybridRenderer.prototype.show = function(){\r\n    this.resizerElem.style.display = 'block';\r\n};\r\n\r\nHybridRenderer.prototype.initItems = function(){\r\n    this.buildAllItems();\r\n    if(this.camera){\r\n        this.camera.setup();\r\n    } else {\r\n        var cWidth = this.globalData.compSize.w;\r\n        var cHeight = this.globalData.compSize.h;\r\n        var i, len = this.threeDElements.length;\r\n        for(i=0;i<len;i+=1){\r\n            this.threeDElements[i].perspectiveElem.style.perspective = this.threeDElements[i].perspectiveElem.style.webkitPerspective = Math.sqrt(Math.pow(cWidth,2) + Math.pow(cHeight,2)) + 'px';\r\n        }\r\n    }\r\n};\r\n\r\nHybridRenderer.prototype.searchExtraCompositions = function(assets){\r\n    var i, len = assets.length;\r\n    var floatingContainer = createTag('div');\r\n    for(i=0;i<len;i+=1){\r\n        if(assets[i].xt){\r\n            var comp = this.createComp(assets[i],floatingContainer,this.globalData.comp,null);\r\n            comp.initExpressions();\r\n            this.globalData.projectInterface.registerComposition(comp);\r\n        }\r\n    }\r\n};\r\n\r\nfunction MaskElement(data,element,globalData) {\r\n    this.data = data;\r\n    this.element = element;\r\n    this.globalData = globalData;\r\n    this.storedData = [];\r\n    this.masksProperties = this.data.masksProperties || [];\r\n    this.maskElement = null;\r\n    var defs = this.globalData.defs;\r\n    var i, len = this.masksProperties ? this.masksProperties.length : 0;\r\n    this.viewData = createSizedArray(len);\r\n    this.solidPath = '';\r\n\r\n\r\n    var path, properties = this.masksProperties;\r\n    var count = 0;\r\n    var currentMasks = [];\r\n    var j, jLen;\r\n    var layerId = createElementID();\r\n    var rect, expansor, feMorph,x;\r\n    var maskType = 'clipPath', maskRef = 'clip-path';\r\n    for (i = 0; i < len; i++) {\r\n        if((properties[i].mode !== 'a' && properties[i].mode !== 'n')|| properties[i].inv || properties[i].o.k !== 100 || properties[i].o.x){\r\n            maskType = 'mask';\r\n            maskRef = 'mask';\r\n        }\r\n\r\n        if((properties[i].mode == 's' || properties[i].mode == 'i') && count === 0){\r\n            rect = createNS( 'rect');\r\n            rect.setAttribute('fill', '#ffffff');\r\n            rect.setAttribute('width', this.element.comp.data.w || 0);\r\n            rect.setAttribute('height', this.element.comp.data.h || 0);\r\n            currentMasks.push(rect);\r\n        } else {\r\n            rect = null;\r\n        }\r\n\r\n        path = createNS( 'path');\r\n        if(properties[i].mode == 'n') {\r\n            // TODO move this to a factory or to a constructor\r\n            this.viewData[i] = {\r\n                op: PropertyFactory.getProp(this.element,properties[i].o,0,0.01,this.element),\r\n                prop: ShapePropertyFactory.getShapeProp(this.element,properties[i],3),\r\n                elem: path,\r\n                lastPath: ''\r\n            };\r\n            defs.appendChild(path);\r\n            continue;\r\n        }\r\n        count += 1;\r\n\r\n        path.setAttribute('fill', properties[i].mode === 's' ? '#000000':'#ffffff');\r\n        path.setAttribute('clip-rule','nonzero');\r\n        var filterID;\r\n\r\n        if (properties[i].x.k !== 0) {\r\n            maskType = 'mask';\r\n            maskRef = 'mask';\r\n            x = PropertyFactory.getProp(this.element,properties[i].x,0,null,this.element);\r\n            filterID = createElementID();\r\n            expansor = createNS('filter');\r\n            expansor.setAttribute('id',filterID);\r\n            feMorph = createNS('feMorphology');\r\n            feMorph.setAttribute('operator','erode');\r\n            feMorph.setAttribute('in','SourceGraphic');\r\n            feMorph.setAttribute('radius','0');\r\n            expansor.appendChild(feMorph);\r\n            defs.appendChild(expansor);\r\n            path.setAttribute('stroke', properties[i].mode === 's' ? '#000000':'#ffffff');\r\n        } else {\r\n            feMorph = null;\r\n            x = null;\r\n        }\r\n\r\n        // TODO move this to a factory or to a constructor\r\n        this.storedData[i] = {\r\n             elem: path,\r\n             x: x,\r\n             expan: feMorph,\r\n            lastPath: '',\r\n            lastOperator:'',\r\n            filterId:filterID,\r\n            lastRadius:0\r\n        };\r\n        if(properties[i].mode == 'i'){\r\n            jLen = currentMasks.length;\r\n            var g = createNS('g');\r\n            for(j=0;j<jLen;j+=1){\r\n                g.appendChild(currentMasks[j]);\r\n            }\r\n            var mask = createNS('mask');\r\n            mask.setAttribute('mask-type','alpha');\r\n            mask.setAttribute('id',layerId+'_'+count);\r\n            mask.appendChild(path);\r\n            defs.appendChild(mask);\r\n            g.setAttribute('mask','url(' + locationHref + '#'+layerId+'_'+count+')');\r\n\r\n            currentMasks.length = 0;\r\n            currentMasks.push(g);\r\n        }else{\r\n            currentMasks.push(path);\r\n        }\r\n        if(properties[i].inv && !this.solidPath){\r\n            this.solidPath = this.createLayerSolidPath();\r\n        }\r\n        // TODO move this to a factory or to a constructor\r\n        this.viewData[i] = {\r\n            elem: path,\r\n            lastPath: '',\r\n            op: PropertyFactory.getProp(this.element,properties[i].o,0,0.01,this.element),\r\n            prop:ShapePropertyFactory.getShapeProp(this.element,properties[i],3),\r\n            invRect: rect\r\n        };\r\n        if(!this.viewData[i].prop.k){\r\n            this.drawPath(properties[i],this.viewData[i].prop.v,this.viewData[i]);\r\n        }\r\n    }\r\n\r\n    this.maskElement = createNS( maskType);\r\n\r\n    len = currentMasks.length;\r\n    for(i=0;i<len;i+=1){\r\n        this.maskElement.appendChild(currentMasks[i]);\r\n    }\r\n\r\n    if(count > 0){\r\n        this.maskElement.setAttribute('id', layerId);\r\n        this.element.maskedElement.setAttribute(maskRef, \"url(\" + locationHref + \"#\" + layerId + \")\");\r\n        defs.appendChild(this.maskElement);\r\n    }\r\n    if (this.viewData.length) {\r\n        this.element.addRenderableComponent(this);\r\n    }\r\n\r\n}\r\n\r\nMaskElement.prototype.getMaskProperty = function(pos){\r\n    return this.viewData[pos].prop;\r\n};\r\n\r\nMaskElement.prototype.renderFrame = function (isFirstFrame) {\r\n    var finalMat = this.element.finalTransform.mat;\r\n    var i, len = this.masksProperties.length;\r\n    for (i = 0; i < len; i++) {\r\n        if(this.viewData[i].prop._mdf || isFirstFrame){\r\n            this.drawPath(this.masksProperties[i],this.viewData[i].prop.v,this.viewData[i]);\r\n        }\r\n        if(this.viewData[i].op._mdf || isFirstFrame){\r\n            this.viewData[i].elem.setAttribute('fill-opacity',this.viewData[i].op.v);\r\n        }\r\n        if(this.masksProperties[i].mode !== 'n'){\r\n            if(this.viewData[i].invRect && (this.element.finalTransform.mProp._mdf || isFirstFrame)){\r\n                this.viewData[i].invRect.setAttribute('transform', finalMat.getInverseMatrix().to2dCSS())\r\n            }\r\n            if(this.storedData[i].x && (this.storedData[i].x._mdf || isFirstFrame)){\r\n                var feMorph = this.storedData[i].expan;\r\n                if(this.storedData[i].x.v < 0){\r\n                    if(this.storedData[i].lastOperator !== 'erode'){\r\n                        this.storedData[i].lastOperator = 'erode';\r\n                        this.storedData[i].elem.setAttribute('filter','url(' + locationHref + '#'+this.storedData[i].filterId+')');\r\n                    }\r\n                    feMorph.setAttribute('radius',-this.storedData[i].x.v);\r\n                }else{\r\n                    if(this.storedData[i].lastOperator !== 'dilate'){\r\n                        this.storedData[i].lastOperator = 'dilate';\r\n                        this.storedData[i].elem.setAttribute('filter',null);\r\n                    }\r\n                    this.storedData[i].elem.setAttribute('stroke-width', this.storedData[i].x.v*2);\r\n\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nMaskElement.prototype.getMaskelement = function () {\r\n    return this.maskElement;\r\n};\r\n\r\nMaskElement.prototype.createLayerSolidPath = function(){\r\n    var path = 'M0,0 ';\r\n    path += ' h' + this.globalData.compSize.w ;\r\n    path += ' v' + this.globalData.compSize.h ;\r\n    path += ' h-' + this.globalData.compSize.w ;\r\n    path += ' v-' + this.globalData.compSize.h + ' ';\r\n    return path;\r\n};\r\n\r\nMaskElement.prototype.drawPath = function(pathData,pathNodes,viewData){\r\n    var pathString = \" M\"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\r\n    var i, len;\r\n    len = pathNodes._length;\r\n    for(i=1;i<len;i+=1){\r\n        //pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[i][0]+','+pathNodes.i[i][1] + \" \"+pathNodes.v[i][0]+','+pathNodes.v[i][1];\r\n        pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[i][0]+','+pathNodes.i[i][1] + \" \"+pathNodes.v[i][0]+','+pathNodes.v[i][1];\r\n    }\r\n        //pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[0][0]+','+pathNodes.i[0][1] + \" \"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\r\n    if(pathNodes.c && len > 1){\r\n        pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[0][0]+','+pathNodes.i[0][1] + \" \"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\r\n    }\r\n    //pathNodes.__renderedString = pathString;\r\n\r\n    if(viewData.lastPath !== pathString){\r\n        var pathShapeValue = '';\r\n        if(viewData.elem){\r\n            if(pathNodes.c){\r\n                pathShapeValue = pathData.inv ? this.solidPath + pathString : pathString;\r\n            }\r\n            viewData.elem.setAttribute('d',pathShapeValue);\r\n        }\r\n        viewData.lastPath = pathString;\r\n    }\r\n};\r\n\r\nMaskElement.prototype.destroy = function(){\r\n    this.element = null;\r\n    this.globalData = null;\r\n    this.maskElement = null;\r\n    this.data = null;\r\n    this.masksProperties = null;\r\n};\r\n\r\n/**\r\n * @file \r\n * Handles AE's layer parenting property.\r\n *\r\n */\r\n\r\nfunction HierarchyElement(){}\r\n\r\nHierarchyElement.prototype = {\r\n\t/**\r\n     * @function \r\n     * Initializes hierarchy properties\r\n     *\r\n     */\r\n\tinitHierarchy: function() {\r\n\t\t//element's parent list\r\n\t    this.hierarchy = [];\r\n\t    //if element is parent of another layer _isParent will be true\r\n\t    this._isParent = false;\r\n\t    this.checkParenting();\r\n\t},\r\n\t/**\r\n     * @function \r\n     * Sets layer's hierarchy.\r\n     * @param {array} hierarch\r\n     * layer's parent list\r\n     *\r\n     */ \r\n\tsetHierarchy: function(hierarchy){\r\n\t    this.hierarchy = hierarchy;\r\n\t},\r\n\t/**\r\n     * @function \r\n     * Sets layer as parent.\r\n     *\r\n     */ \r\n\tsetAsParent: function() {\r\n\t    this._isParent = true;\r\n\t},\r\n\t/**\r\n     * @function \r\n     * Searches layer's parenting chain\r\n     *\r\n     */ \r\n\tcheckParenting: function(){\r\n\t    if (this.data.parent !== undefined){\r\n\t        this.comp.buildElementParenting(this, this.data.parent, []);\r\n\t    }\r\n\t}\r\n};\r\n/**\r\n * @file \r\n * Handles element's layer frame update.\r\n * Checks layer in point and out point\r\n *\r\n */\r\n\r\nfunction FrameElement(){}\r\n\r\nFrameElement.prototype = {\r\n    /**\r\n     * @function \r\n     * Initializes frame related properties.\r\n     *\r\n     */\r\n    initFrame: function(){\r\n        //set to true when inpoint is rendered\r\n        this._isFirstFrame = false;\r\n        //list of animated properties\r\n        this.dynamicProperties = [];\r\n        // If layer has been modified in current tick this will be true\r\n        this._mdf = false;\r\n    },\r\n    /**\r\n     * @function \r\n     * Calculates all dynamic values\r\n     *\r\n     * @param {number} num\r\n     * current frame number in Layer's time\r\n     * @param {boolean} isVisible\r\n     * if layers is currently in range\r\n     * \r\n     */\r\n    prepareProperties: function(num, isVisible) {\r\n        var i, len = this.dynamicProperties.length;\r\n        for (i = 0;i < len; i += 1) {\r\n            if (isVisible || (this._isParent && this.dynamicProperties[i].propType === 'transform')) {\r\n                this.dynamicProperties[i].getValue();\r\n                if (this.dynamicProperties[i]._mdf) {\r\n                    this.globalData._mdf = true;\r\n                    this._mdf = true;\r\n                }\r\n            }\r\n        }\r\n    },\r\n    addDynamicProperty: function(prop) {\r\n        if(this.dynamicProperties.indexOf(prop) === -1) {\r\n            this.dynamicProperties.push(prop);\r\n        }\r\n    }\r\n};\r\nfunction TransformElement(){}\r\n\r\nTransformElement.prototype = {\r\n    initTransform: function() {\r\n        this.finalTransform = {\r\n            mProp: this.data.ks ? TransformPropertyFactory.getTransformProperty(this, this.data.ks, this) : {o:0},\r\n            _matMdf: false,\r\n            _opMdf: false,\r\n            mat: new Matrix()\r\n        };\r\n        if (this.data.ao) {\r\n            this.finalTransform.mProp.autoOriented = true;\r\n        }\r\n\r\n        //TODO: check TYPE 11: Guided elements\r\n        if (this.data.ty !== 11) {\r\n            //this.createElements();\r\n        }\r\n    },\r\n    renderTransform: function() {\r\n\r\n        this.finalTransform._opMdf = this.finalTransform.mProp.o._mdf || this._isFirstFrame;\r\n        this.finalTransform._matMdf = this.finalTransform.mProp._mdf || this._isFirstFrame;\r\n\r\n        if (this.hierarchy) {\r\n            var mat;\r\n            var finalMat = this.finalTransform.mat;\r\n            var i = 0, len = this.hierarchy.length;\r\n            //Checking if any of the transformation matrices in the hierarchy chain has changed.\r\n            if (!this.finalTransform._matMdf) {\r\n                while (i < len) {\r\n                    if (this.hierarchy[i].finalTransform.mProp._mdf) {\r\n                        this.finalTransform._matMdf = true;\r\n                        break;\r\n                    }\r\n                    i += 1;\r\n                }\r\n            }\r\n            \r\n            if (this.finalTransform._matMdf) {\r\n                mat = this.finalTransform.mProp.v.props;\r\n                finalMat.cloneFromProps(mat);\r\n                for (i = 0; i < len; i += 1) {\r\n                    mat = this.hierarchy[i].finalTransform.mProp.v.props;\r\n                    finalMat.transform(mat[0], mat[1], mat[2], mat[3], mat[4], mat[5], mat[6], mat[7], mat[8], mat[9], mat[10], mat[11], mat[12], mat[13], mat[14], mat[15]);\r\n                }\r\n            }\r\n        }\r\n    },\r\n    globalToLocal: function(pt) {\r\n        var transforms = [];\r\n        transforms.push(this.finalTransform);\r\n        var flag = true;\r\n        var comp = this.comp;\r\n        while (flag) {\r\n            if (comp.finalTransform) {\r\n                if (comp.data.hasMask) {\r\n                    transforms.splice(0, 0, comp.finalTransform);\r\n                }\r\n                comp = comp.comp;\r\n            } else {\r\n                flag = false;\r\n            }\r\n        }\r\n        var i, len = transforms.length,ptNew;\r\n        for (i = 0; i < len; i += 1) {\r\n            ptNew = transforms[i].mat.applyToPointArray(0, 0, 0);\r\n            //ptNew = transforms[i].mat.applyToPointArray(pt[0],pt[1],pt[2]);\r\n            pt = [pt[0] - ptNew[0], pt[1] - ptNew[1], 0];\r\n        }\r\n        return pt;\r\n    },\r\n    mHelper: new Matrix()\r\n};\r\nfunction RenderableElement(){\r\n\r\n}\r\n\r\nRenderableElement.prototype = {\r\n    initRenderable: function() {\r\n        //layer's visibility related to inpoint and outpoint. Rename isVisible to isInRange\r\n        this.isInRange = false;\r\n        //layer's display state\r\n        this.hidden = false;\r\n        // If layer's transparency equals 0, it can be hidden\r\n        this.isTransparent = false;\r\n        //list of animated components\r\n        this.renderableComponents = [];\r\n    },\r\n    addRenderableComponent: function(component) {\r\n        if(this.renderableComponents.indexOf(component) === -1) {\r\n            this.renderableComponents.push(component);\r\n        }\r\n    },\r\n    removeRenderableComponent: function(component) {\r\n        if(this.renderableComponents.indexOf(component) !== -1) {\r\n            this.renderableComponents.splice(this.renderableComponents.indexOf(component), 1);\r\n        }\r\n    },\r\n    prepareRenderableFrame: function(num) {\r\n        this.checkLayerLimits(num);\r\n    },\r\n    checkTransparency: function(){\r\n        if(this.finalTransform.mProp.o.v <= 0) {\r\n            if(!this.isTransparent && this.globalData.renderConfig.hideOnTransparent){\r\n                this.isTransparent = true;\r\n                this.hide();\r\n            }\r\n        } else if(this.isTransparent) {\r\n            this.isTransparent = false;\r\n            this.show();\r\n        }\r\n    },\r\n    /**\r\n     * @function \r\n     * Initializes frame related properties.\r\n     *\r\n     * @param {number} num\r\n     * current frame number in Layer's time\r\n     * \r\n     */\r\n    checkLayerLimits: function(num) {\r\n        if(this.data.ip - this.data.st <= num && this.data.op - this.data.st > num)\r\n        {\r\n            if(this.isInRange !== true){\r\n                this.globalData._mdf = true;\r\n                this._mdf = true;\r\n                this.isInRange = true;\r\n                this.show();\r\n            }\r\n        } else {\r\n            if(this.isInRange !== false){\r\n                this.globalData._mdf = true;\r\n                this.isInRange = false;\r\n                this.hide();\r\n            }\r\n        }\r\n    },\r\n    renderRenderable: function() {\r\n        var i, len = this.renderableComponents.length;\r\n        for(i = 0; i < len; i += 1) {\r\n            this.renderableComponents[i].renderFrame(this._isFirstFrame);\r\n        }\r\n        /*this.maskManager.renderFrame(this.finalTransform.mat);\r\n        this.renderableEffectsManager.renderFrame(this._isFirstFrame);*/\r\n    },\r\n    sourceRectAtTime: function(){\r\n        return {\r\n            top:0,\r\n            left:0,\r\n            width:100,\r\n            height:100\r\n        };\r\n    },\r\n    getLayerSize: function(){\r\n        if(this.data.ty === 5){\r\n            return {w:this.data.textData.width,h:this.data.textData.height};\r\n        }else{\r\n            return {w:this.data.width,h:this.data.height};\r\n        }\r\n    }\r\n};\r\nfunction RenderableDOMElement() {}\r\n\r\n(function(){\r\n    var _prototype = {\r\n        initElement: function(data,globalData,comp) {\r\n            this.initFrame();\r\n            this.initBaseData(data, globalData, comp);\r\n            this.initTransform(data, globalData, comp);\r\n            this.initHierarchy();\r\n            this.initRenderable();\r\n            this.initRendererElement();\r\n            this.createContainerElements();\r\n            this.createRenderableComponents();\r\n            this.createContent();\r\n            this.hide();\r\n        },\r\n        hide: function(){\r\n            if (!this.hidden && (!this.isInRange || this.isTransparent)) {\r\n                var elem = this.baseElement || this.layerElement;\r\n                elem.style.display = 'none';\r\n                this.hidden = true;\r\n            }\r\n        },\r\n        show: function(){\r\n            if (this.isInRange && !this.isTransparent){\r\n                if (!this.data.hd) {\r\n                    var elem = this.baseElement || this.layerElement;\r\n                    elem.style.display = 'block';\r\n                }\r\n                this.hidden = false;\r\n                this._isFirstFrame = true;\r\n            }\r\n        },\r\n        renderFrame: function() {\r\n            //If it is exported as hidden (data.hd === true) no need to render\r\n            //If it is not visible no need to render\r\n            if (this.data.hd || this.hidden) {\r\n                return;\r\n            }\r\n            this.renderTransform();\r\n            this.renderRenderable();\r\n            this.renderElement();\r\n            this.renderInnerContent();\r\n            if (this._isFirstFrame) {\r\n                this._isFirstFrame = false;\r\n            }\r\n        },\r\n        renderInnerContent: function() {},\r\n        prepareFrame: function(num) {\r\n            this._mdf = false;\r\n            this.prepareRenderableFrame(num);\r\n            this.prepareProperties(num, this.isInRange);\r\n            this.checkTransparency();\r\n        },\r\n        destroy: function(){\r\n            this.innerElem =  null;\r\n            this.destroyBaseElement();\r\n        }\r\n    };\r\n    extendPrototype([RenderableElement, createProxyFunction(_prototype)], RenderableDOMElement);\r\n}());\r\nfunction ProcessedElement(element, position) {\r\n\tthis.elem = element;\r\n\tthis.pos = position;\r\n}\r\nfunction SVGStyleData(data, level) {\r\n\tthis.data = data;\r\n\tthis.type = data.ty;\r\n\tthis.d = '';\r\n\tthis.lvl = level;\r\n\tthis._mdf = false;\r\n\tthis.closed = data.hd === true;\r\n\tthis.pElem = createNS('path');\r\n\tthis.msElem = null;\r\n}\r\n\r\nSVGStyleData.prototype.reset = function() {\r\n\tthis.d = '';\r\n\tthis._mdf = false;\r\n};\r\nfunction SVGShapeData(transformers, level, shape) {\r\n    this.caches = [];\r\n    this.styles = [];\r\n    this.transformers = transformers;\r\n    this.lStr = '';\r\n    this.sh = shape;\r\n    this.lvl = level;\r\n    //TODO find if there are some cases where _isAnimated can be false. \r\n    // For now, since shapes add up with other shapes. They have to be calculated every time.\r\n    // One way of finding out is checking if all styles associated to this shape depend only of this shape\r\n    this._isAnimated = !!shape.k;\r\n    // TODO: commenting this for now since all shapes are animated\r\n    var i = 0, len = transformers.length;\r\n    while(i < len) {\r\n    \tif(transformers[i].mProps.dynamicProperties.length) {\r\n    \t\tthis._isAnimated = true;\r\n    \t\tbreak;\r\n    \t}\r\n    \ti += 1;\r\n    }\r\n}\r\n\r\nSVGShapeData.prototype.setAsAnimated = function() {\r\n    this._isAnimated = true;\r\n}\r\nfunction SVGTransformData(mProps, op, container) {\r\n\tthis.transform = {\r\n\t\tmProps: mProps,\r\n\t\top: op,\r\n\t\tcontainer: container\r\n\t};\r\n\tthis.elements = [];\r\n    this._isAnimated = this.transform.mProps.dynamicProperties.length || this.transform.op.effectsSequence.length;\r\n}\r\nfunction SVGStrokeStyleData(elem, data, styleOb){\r\n\tthis.initDynamicPropertyContainer(elem);\r\n\tthis.getValue = this.iterateDynamicProperties;\r\n\tthis.o = PropertyFactory.getProp(elem,data.o,0,0.01,this);\r\n\tthis.w = PropertyFactory.getProp(elem,data.w,0,null,this);\r\n\tthis.d = new DashProperty(elem,data.d||{},'svg',this);\r\n\tthis.c = PropertyFactory.getProp(elem,data.c,1,255,this);\r\n\tthis.style = styleOb;\r\n    this._isAnimated = !!this._isAnimated;\r\n}\r\n\r\nextendPrototype([DynamicPropertyContainer], SVGStrokeStyleData);\r\nfunction SVGFillStyleData(elem, data, styleOb){\r\n\tthis.initDynamicPropertyContainer(elem);\r\n\tthis.getValue = this.iterateDynamicProperties;\r\n\tthis.o = PropertyFactory.getProp(elem,data.o,0,0.01,this);\r\n\tthis.c = PropertyFactory.getProp(elem,data.c,1,255,this);\r\n\tthis.style = styleOb;\r\n}\r\n\r\nextendPrototype([DynamicPropertyContainer], SVGFillStyleData);\r\nfunction SVGGradientFillStyleData(elem, data, styleOb){\r\n    this.initDynamicPropertyContainer(elem);\r\n    this.getValue = this.iterateDynamicProperties;\r\n    this.initGradientData(elem, data, styleOb);\r\n}\r\n\r\nSVGGradientFillStyleData.prototype.initGradientData = function(elem, data, styleOb){\r\n    this.o = PropertyFactory.getProp(elem,data.o,0,0.01,this);\r\n    this.s = PropertyFactory.getProp(elem,data.s,1,null,this);\r\n    this.e = PropertyFactory.getProp(elem,data.e,1,null,this);\r\n    this.h = PropertyFactory.getProp(elem,data.h||{k:0},0,0.01,this);\r\n    this.a = PropertyFactory.getProp(elem,data.a||{k:0},0,degToRads,this);\r\n    this.g = new GradientProperty(elem,data.g,this);\r\n    this.style = styleOb;\r\n    this.stops = [];\r\n    this.setGradientData(styleOb.pElem, data);\r\n    this.setGradientOpacity(data, styleOb);\r\n    this._isAnimated = !!this._isAnimated;\r\n\r\n};\r\n\r\nSVGGradientFillStyleData.prototype.setGradientData = function(pathElement,data){\r\n\r\n    var gradientId = createElementID();\r\n    var gfill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\r\n    gfill.setAttribute('id',gradientId);\r\n    gfill.setAttribute('spreadMethod','pad');\r\n    gfill.setAttribute('gradientUnits','userSpaceOnUse');\r\n    var stops = [];\r\n    var stop, j, jLen;\r\n    jLen = data.g.p*4;\r\n    for(j=0;j<jLen;j+=4){\r\n        stop = createNS('stop');\r\n        gfill.appendChild(stop);\r\n        stops.push(stop);\r\n    }\r\n    pathElement.setAttribute( data.ty === 'gf' ? 'fill':'stroke','url(' + locationHref + '#'+gradientId+')');\r\n    \r\n    this.gf = gfill;\r\n    this.cst = stops;\r\n};\r\n\r\nSVGGradientFillStyleData.prototype.setGradientOpacity = function(data, styleOb){\r\n    if(this.g._hasOpacity && !this.g._collapsable){\r\n        var stop, j, jLen;\r\n        var mask = createNS(\"mask\");\r\n        var maskElement = createNS( 'path');\r\n        mask.appendChild(maskElement);\r\n        var opacityId = createElementID();\r\n        var maskId = createElementID();\r\n        mask.setAttribute('id',maskId);\r\n        var opFill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\r\n        opFill.setAttribute('id',opacityId);\r\n        opFill.setAttribute('spreadMethod','pad');\r\n        opFill.setAttribute('gradientUnits','userSpaceOnUse');\r\n        jLen = data.g.k.k[0].s ? data.g.k.k[0].s.length : data.g.k.k.length;\r\n        var stops = this.stops;\r\n        for(j=data.g.p*4;j<jLen;j+=2){\r\n            stop = createNS('stop');\r\n            stop.setAttribute('stop-color','rgb(255,255,255)');\r\n            opFill.appendChild(stop);\r\n            stops.push(stop);\r\n        }\r\n        maskElement.setAttribute( data.ty === 'gf' ? 'fill':'stroke','url(' + locationHref + '#'+opacityId+')');\r\n        this.of = opFill;\r\n        this.ms = mask;\r\n        this.ost = stops;\r\n        this.maskId = maskId;\r\n        styleOb.msElem = maskElement;\r\n    }\r\n};\r\n\r\nextendPrototype([DynamicPropertyContainer], SVGGradientFillStyleData);\r\nfunction SVGGradientStrokeStyleData(elem, data, styleOb){\r\n\tthis.initDynamicPropertyContainer(elem);\r\n\tthis.getValue = this.iterateDynamicProperties;\r\n\tthis.w = PropertyFactory.getProp(elem,data.w,0,null,this);\r\n\tthis.d = new DashProperty(elem,data.d||{},'svg',this);\r\n    this.initGradientData(elem, data, styleOb);\r\n    this._isAnimated = !!this._isAnimated;\r\n}\r\n\r\nextendPrototype([SVGGradientFillStyleData, DynamicPropertyContainer], SVGGradientStrokeStyleData);\r\nfunction ShapeGroupData() {\r\n\tthis.it = [];\r\n    this.prevViewData = [];\r\n    this.gr = createNS('g');\r\n}\r\nvar SVGElementsRenderer = (function() {\r\n\tvar _identityMatrix = new Matrix();\r\n\tvar _matrixHelper = new Matrix();\r\n\r\n\tvar ob = {\r\n\t\tcreateRenderFunction: createRenderFunction\r\n\t}\r\n\r\n\tfunction createRenderFunction(data) {\r\n\t    var ty = data.ty;\r\n\t    switch(data.ty) {\r\n\t        case 'fl':\r\n\t        return renderFill;\r\n\t        case 'gf':\r\n\t        return renderGradient;\r\n\t        case 'gs':\r\n\t        return renderGradientStroke;\r\n\t        case 'st':\r\n\t        return renderStroke;\r\n\t        case 'sh':\r\n\t        case 'el':\r\n\t        case 'rc':\r\n\t        case 'sr':\r\n\t        return renderPath;\r\n\t        case 'tr':\r\n\t        return renderContentTransform;\r\n\t    }\r\n\t}\r\n\r\n\tfunction renderContentTransform(styleData, itemData, isFirstFrame) {\r\n\t    if(isFirstFrame || itemData.transform.op._mdf){\r\n\t        itemData.transform.container.setAttribute('opacity',itemData.transform.op.v);\r\n\t    }\r\n\t    if(isFirstFrame || itemData.transform.mProps._mdf){\r\n\t        itemData.transform.container.setAttribute('transform',itemData.transform.mProps.v.to2dCSS());\r\n\t    }\r\n\t}\r\n\r\n\tfunction renderPath(styleData, itemData, isFirstFrame) {\r\n\t    var j, jLen,pathStringTransformed,redraw,pathNodes,l, lLen = itemData.styles.length;\r\n\t    var lvl = itemData.lvl;\r\n\t    var paths, mat, props, iterations, k;\r\n\t    for(l=0;l<lLen;l+=1){\r\n\t        redraw = itemData.sh._mdf || isFirstFrame;\r\n\t        if(itemData.styles[l].lvl < lvl){\r\n\t            mat = _matrixHelper.reset();\r\n\t            iterations = lvl - itemData.styles[l].lvl;\r\n\t            k = itemData.transformers.length-1;\r\n\t            while(!redraw && iterations > 0) {\r\n\t                redraw = itemData.transformers[k].mProps._mdf || redraw;\r\n\t                iterations --;\r\n\t                k --;\r\n\t            }\r\n\t            if(redraw) {\r\n\t                iterations = lvl - itemData.styles[l].lvl;\r\n\t                k = itemData.transformers.length-1;\r\n\t                while(iterations > 0) {\r\n\t                    props = itemData.transformers[k].mProps.v.props;\r\n\t                    mat.transform(props[0],props[1],props[2],props[3],props[4],props[5],props[6],props[7],props[8],props[9],props[10],props[11],props[12],props[13],props[14],props[15]);\r\n\t                    iterations --;\r\n\t                    k --;\r\n\t                }\r\n\t            }\r\n\t        } else {\r\n\t            mat = _identityMatrix;\r\n\t        }\r\n\t        paths = itemData.sh.paths;\r\n\t        jLen = paths._length;\r\n\t        if(redraw){\r\n\t            pathStringTransformed = '';\r\n\t            for(j=0;j<jLen;j+=1){\r\n\t                pathNodes = paths.shapes[j];\r\n\t                if(pathNodes && pathNodes._length){\r\n\t                    pathStringTransformed += buildShapeString(pathNodes, pathNodes._length, pathNodes.c, mat);\r\n\t                }\r\n\t            }\r\n\t            itemData.caches[l] = pathStringTransformed;\r\n\t        } else {\r\n\t            pathStringTransformed = itemData.caches[l];\r\n\t        }\r\n\t        itemData.styles[l].d += styleData.hd === true ? '' : pathStringTransformed;\r\n\t        itemData.styles[l]._mdf = redraw || itemData.styles[l]._mdf;\r\n\t    }\r\n\t}\r\n\r\n\tfunction renderFill (styleData,itemData, isFirstFrame){\r\n\t    var styleElem = itemData.style;\r\n\r\n\t    if(itemData.c._mdf || isFirstFrame){\r\n\t        styleElem.pElem.setAttribute('fill','rgb('+bm_floor(itemData.c.v[0])+','+bm_floor(itemData.c.v[1])+','+bm_floor(itemData.c.v[2])+')');\r\n\t    }\r\n\t    if(itemData.o._mdf || isFirstFrame){\r\n\t        styleElem.pElem.setAttribute('fill-opacity',itemData.o.v);\r\n\t    }\r\n\t};\r\n\r\n\tfunction renderGradientStroke (styleData, itemData, isFirstFrame) {\r\n\t    renderGradient(styleData, itemData, isFirstFrame);\r\n\t    renderStroke(styleData, itemData, isFirstFrame);\r\n\t}\r\n\r\n\tfunction renderGradient(styleData, itemData, isFirstFrame) {\r\n\t    var gfill = itemData.gf;\r\n\t    var hasOpacity = itemData.g._hasOpacity;\r\n\t    var pt1 = itemData.s.v, pt2 = itemData.e.v;\r\n\r\n\t    if (itemData.o._mdf || isFirstFrame) {\r\n\t        var attr = styleData.ty === 'gf' ? 'fill-opacity' : 'stroke-opacity';\r\n\t        itemData.style.pElem.setAttribute(attr, itemData.o.v);\r\n\t    }\r\n\t    if (itemData.s._mdf || isFirstFrame) {\r\n\t        var attr1 = styleData.t === 1 ? 'x1' : 'cx';\r\n\t        var attr2 = attr1 === 'x1' ? 'y1' : 'cy';\r\n\t        gfill.setAttribute(attr1, pt1[0]);\r\n\t        gfill.setAttribute(attr2, pt1[1]);\r\n\t        if (hasOpacity && !itemData.g._collapsable) {\r\n\t            itemData.of.setAttribute(attr1, pt1[0]);\r\n\t            itemData.of.setAttribute(attr2, pt1[1]);\r\n\t        }\r\n\t    }\r\n\t    var stops, i, len, stop;\r\n\t    if (itemData.g._cmdf || isFirstFrame) {\r\n\t        stops = itemData.cst;\r\n\t        var cValues = itemData.g.c;\r\n\t        len = stops.length;\r\n\t        for (i = 0; i < len; i += 1){\r\n\t            stop = stops[i];\r\n\t            stop.setAttribute('offset', cValues[i * 4] + '%');\r\n\t            stop.setAttribute('stop-color','rgb('+ cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ','+cValues[i * 4 + 3] + ')');\r\n\t        }\r\n\t    }\r\n\t    if (hasOpacity && (itemData.g._omdf || isFirstFrame)) {\r\n\t        var oValues = itemData.g.o;\r\n\t        if(itemData.g._collapsable) {\r\n\t            stops = itemData.cst;\r\n\t        } else {\r\n\t            stops = itemData.ost;\r\n\t        }\r\n\t        len = stops.length;\r\n\t        for (i = 0; i < len; i += 1) {\r\n\t            stop = stops[i];\r\n\t            if(!itemData.g._collapsable) {\r\n\t                stop.setAttribute('offset', oValues[i * 2] + '%');\r\n\t            }\r\n\t            stop.setAttribute('stop-opacity', oValues[i * 2 + 1]);\r\n\t        }\r\n\t    }\r\n\t    if (styleData.t === 1) {\r\n\t        if (itemData.e._mdf  || isFirstFrame) {\r\n\t            gfill.setAttribute('x2', pt2[0]);\r\n\t            gfill.setAttribute('y2', pt2[1]);\r\n\t            if (hasOpacity && !itemData.g._collapsable) {\r\n\t                itemData.of.setAttribute('x2', pt2[0]);\r\n\t                itemData.of.setAttribute('y2', pt2[1]);\r\n\t            }\r\n\t        }\r\n\t    } else {\r\n\t        var rad;\r\n\t        if (itemData.s._mdf || itemData.e._mdf || isFirstFrame) {\r\n\t            rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n\t            gfill.setAttribute('r', rad);\r\n\t            if(hasOpacity && !itemData.g._collapsable){\r\n\t                itemData.of.setAttribute('r', rad);\r\n\t            }\r\n\t        }\r\n\t        if (itemData.e._mdf || itemData.h._mdf || itemData.a._mdf || isFirstFrame) {\r\n\t            if (!rad) {\r\n\t                rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n\t            }\r\n\t            var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\r\n\r\n\t            var percent = itemData.h.v >= 1 ? 0.99 : itemData.h.v <= -1 ? -0.99: itemData.h.v;\r\n\t            var dist = rad * percent;\r\n\t            var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\r\n\t            var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\r\n\t            gfill.setAttribute('fx', x);\r\n\t            gfill.setAttribute('fy', y);\r\n\t            if (hasOpacity && !itemData.g._collapsable) {\r\n\t                itemData.of.setAttribute('fx', x);\r\n\t                itemData.of.setAttribute('fy', y);\r\n\t            }\r\n\t        }\r\n\t        //gfill.setAttribute('fy','200');\r\n\t    }\r\n\t};\r\n\r\n\tfunction renderStroke(styleData, itemData, isFirstFrame) {\r\n\t    var styleElem = itemData.style;\r\n\t    var d = itemData.d;\r\n\t    if (d && (d._mdf || isFirstFrame) && d.dashStr) {\r\n\t        styleElem.pElem.setAttribute('stroke-dasharray', d.dashStr);\r\n\t        styleElem.pElem.setAttribute('stroke-dashoffset', d.dashoffset[0]);\r\n\t    }\r\n\t    if(itemData.c && (itemData.c._mdf || isFirstFrame)){\r\n\t        styleElem.pElem.setAttribute('stroke','rgb(' + bm_floor(itemData.c.v[0]) + ',' + bm_floor(itemData.c.v[1]) + ',' + bm_floor(itemData.c.v[2]) + ')');\r\n\t    }\r\n\t    if(itemData.o._mdf || isFirstFrame){\r\n\t        styleElem.pElem.setAttribute('stroke-opacity', itemData.o.v);\r\n\t    }\r\n\t    if(itemData.w._mdf || isFirstFrame){\r\n\t        styleElem.pElem.setAttribute('stroke-width', itemData.w.v);\r\n\t        if(styleElem.msElem){\r\n\t            styleElem.msElem.setAttribute('stroke-width', itemData.w.v);\r\n\t        }\r\n\t    }\r\n\t};\r\n\r\n\treturn ob;\r\n}())\r\nfunction ShapeTransformManager() {\r\n\tthis.sequences = {};\r\n\tthis.sequenceList = [];\r\n    this.transform_key_count = 0;\r\n}\r\n\r\nShapeTransformManager.prototype = {\r\n\taddTransformSequence: function(transforms) {\r\n\t\tvar i, len = transforms.length;\r\n\t\tvar key = '_';\r\n\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\tkey += transforms[i].transform.key + '_';\r\n\t\t}\r\n\t\tvar sequence = this.sequences[key];\r\n\t\tif(!sequence) {\r\n\t\t\tsequence = {\r\n\t\t\t\ttransforms: [].concat(transforms),\r\n\t\t\t\tfinalTransform: new Matrix(),\r\n\t\t\t\t_mdf: false\r\n\t\t\t};\r\n\t\t\tthis.sequences[key] = sequence;\r\n\t\t\tthis.sequenceList.push(sequence);\r\n\t\t}\r\n\t\treturn sequence;\r\n\t},\r\n\tprocessSequence: function(sequence, isFirstFrame) {\r\n\t\tvar i = 0, len = sequence.transforms.length, _mdf = isFirstFrame;\r\n\t\twhile (i < len && !isFirstFrame) {\r\n\t\t\tif (sequence.transforms[i].transform.mProps._mdf) {\r\n\t\t\t\t_mdf = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\ti += 1\r\n\t\t}\r\n\t\tif (_mdf) {\r\n\t\t\tvar props;\r\n\t\t\tsequence.finalTransform.reset();\r\n\t\t\tfor (i = len - 1; i >= 0; i -= 1) {\r\n\t\t        props = sequence.transforms[i].transform.mProps.v.props;\r\n\t\t        sequence.finalTransform.transform(props[0],props[1],props[2],props[3],props[4],props[5],props[6],props[7],props[8],props[9],props[10],props[11],props[12],props[13],props[14],props[15]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tsequence._mdf = _mdf;\r\n\t\t\r\n\t},\r\n\tprocessSequences: function(isFirstFrame) {\r\n\t\tvar i, len = this.sequenceList.length;\r\n\t\tfor (i = 0; i < len; i += 1) {\r\n\t\t\tthis.processSequence(this.sequenceList[i], isFirstFrame);\r\n\t\t}\r\n\r\n\t},\r\n\tgetNewKey: function() {\r\n\t\treturn '_' + this.transform_key_count++;\r\n\t}\r\n}\r\nfunction CVShapeData(element, data, styles, transformsManager) {\r\n    this.styledShapes = [];\r\n    this.tr = [0,0,0,0,0,0];\r\n    var ty = 4;\r\n    if(data.ty == 'rc'){\r\n        ty = 5;\r\n    }else if(data.ty == 'el'){\r\n        ty = 6;\r\n    }else if(data.ty == 'sr'){\r\n        ty = 7;\r\n    }\r\n    this.sh = ShapePropertyFactory.getShapeProp(element,data,ty,element);\r\n    var i , len = styles.length,styledShape;\r\n    for (i = 0; i < len; i += 1) {\r\n        if (!styles[i].closed) {\r\n            styledShape = {\r\n                transforms: transformsManager.addTransformSequence(styles[i].transforms),\r\n                trNodes: []\r\n            }\r\n            this.styledShapes.push(styledShape);\r\n            styles[i].elements.push(styledShape);\r\n        }\r\n    }\r\n}\r\n\r\nCVShapeData.prototype.setAsAnimated = SVGShapeData.prototype.setAsAnimated;\r\nfunction BaseElement(){\r\n}\r\n\r\nBaseElement.prototype = {\r\n    checkMasks: function(){\r\n        if(!this.data.hasMask){\r\n            return false;\r\n        }\r\n        var i = 0, len = this.data.masksProperties.length;\r\n        while(i<len) {\r\n            if((this.data.masksProperties[i].mode !== 'n' && this.data.masksProperties[i].cl !== false)) {\r\n                return true;\r\n            }\r\n            i += 1;\r\n        }\r\n        return false;\r\n    },\r\n    initExpressions: function(){\r\n        this.layerInterface = LayerExpressionInterface(this);\r\n        if(this.data.hasMask && this.maskManager) {\r\n            this.layerInterface.registerMaskInterface(this.maskManager);\r\n        }\r\n        var effectsInterface = EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);\r\n        this.layerInterface.registerEffectsInterface(effectsInterface);\r\n\r\n        if(this.data.ty === 0 || this.data.xt){\r\n            this.compInterface = CompExpressionInterface(this);\r\n        } else if(this.data.ty === 4){\r\n            this.layerInterface.shapeInterface = ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface);\r\n            this.layerInterface.content = this.layerInterface.shapeInterface;\r\n        } else if(this.data.ty === 5){\r\n            this.layerInterface.textInterface = TextExpressionInterface(this);\r\n            this.layerInterface.text = this.layerInterface.textInterface;\r\n        }\r\n    },\r\n    setBlendMode: function(){\r\n        var blendModeValue = getBlendMode(this.data.bm);\r\n        var elem = this.baseElement || this.layerElement;\r\n\r\n        elem.style['mix-blend-mode'] = blendModeValue;\r\n    },\r\n    initBaseData: function(data, globalData, comp){\r\n        this.globalData = globalData;\r\n        this.comp = comp;\r\n        this.data = data;\r\n        this.layerId = createElementID();\r\n        \r\n        //Stretch factor for old animations missing this property.\r\n        if(!this.data.sr){\r\n            this.data.sr = 1;\r\n        }\r\n        // effects manager\r\n        this.effectsManager = new EffectsManager(this.data,this,this.dynamicProperties);\r\n        \r\n    },\r\n    getType: function(){\r\n        return this.type;\r\n    }\r\n    ,sourceRectAtTime: function(){}\r\n}\r\nfunction NullElement(data,globalData,comp){\r\n    this.initFrame();\r\n\tthis.initBaseData(data, globalData, comp);\r\n    this.initFrame();\r\n    this.initTransform(data, globalData, comp);\r\n    this.initHierarchy();\r\n}\r\n\r\nNullElement.prototype.prepareFrame = function(num) {\r\n    this.prepareProperties(num, true);\r\n};\r\n\r\nNullElement.prototype.renderFrame = function() {\r\n};\r\n\r\nNullElement.prototype.getBaseElement = function() {\r\n\treturn null;\r\n};\r\n\r\nNullElement.prototype.destroy = function() {\r\n};\r\n\r\nNullElement.prototype.sourceRectAtTime = function() {\r\n};\r\n\r\nNullElement.prototype.hide = function() {\r\n};\r\n\r\nextendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement], NullElement);\r\n\r\nfunction SVGBaseElement(){\r\n}\r\n\r\nSVGBaseElement.prototype = {\r\n    initRendererElement: function() {\r\n        this.layerElement = createNS('g');\r\n    },\r\n    createContainerElements: function(){\r\n        this.matteElement = createNS('g');\r\n        this.transformedElement = this.layerElement;\r\n        this.maskedElement = this.layerElement;\r\n        this._sizeChanged = false;\r\n        var layerElementParent = null;\r\n        //If this layer acts as a mask for the following layer\r\n        var filId, fil, gg;\r\n        if (this.data.td) {\r\n            if (this.data.td == 3 || this.data.td == 1) {\r\n                var masker = createNS('mask');\r\n                masker.setAttribute('id', this.layerId);\r\n                masker.setAttribute('mask-type', this.data.td == 3 ? 'luminance' : 'alpha');\r\n                masker.appendChild(this.layerElement);\r\n                layerElementParent = masker;\r\n                this.globalData.defs.appendChild(masker);\r\n                // This is only for IE and Edge when mask if of type alpha\r\n                if (!featureSupport.maskType && this.data.td == 1) {\r\n                    masker.setAttribute('mask-type', 'luminance');\r\n                    filId = createElementID();\r\n                    fil = filtersFactory.createFilter(filId);\r\n                    this.globalData.defs.appendChild(fil);\r\n                    fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\r\n                    gg = createNS('g');\r\n                    gg.appendChild(this.layerElement);\r\n                    layerElementParent = gg;\r\n                    masker.appendChild(gg);\r\n                    gg.setAttribute('filter','url(' + locationHref + '#' + filId + ')');\r\n                }\r\n            } else if(this.data.td == 2) {\r\n                var maskGroup = createNS('mask');\r\n                maskGroup.setAttribute('id', this.layerId);\r\n                maskGroup.setAttribute('mask-type','alpha');\r\n                var maskGrouper = createNS('g');\r\n                maskGroup.appendChild(maskGrouper);\r\n                filId = createElementID();\r\n                fil = filtersFactory.createFilter(filId);\r\n                ////\r\n\r\n                // This solution doesn't work on Android when meta tag with viewport attribute is set\r\n                /*var feColorMatrix = createNS('feColorMatrix');\r\n                feColorMatrix.setAttribute('type', 'matrix');\r\n                feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n                feColorMatrix.setAttribute('values','1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 -1 1');\r\n                fil.appendChild(feColorMatrix);*/\r\n                ////\r\n                var feCTr = createNS('feComponentTransfer');\r\n                feCTr.setAttribute('in','SourceGraphic');\r\n                fil.appendChild(feCTr);\r\n                var feFunc = createNS('feFuncA');\r\n                feFunc.setAttribute('type','table');\r\n                feFunc.setAttribute('tableValues','1.0 0.0');\r\n                feCTr.appendChild(feFunc);\r\n                ////\r\n                this.globalData.defs.appendChild(fil);\r\n                var alphaRect = createNS('rect');\r\n                alphaRect.setAttribute('width',  this.comp.data.w);\r\n                alphaRect.setAttribute('height', this.comp.data.h);\r\n                alphaRect.setAttribute('x','0');\r\n                alphaRect.setAttribute('y','0');\r\n                alphaRect.setAttribute('fill','#ffffff');\r\n                alphaRect.setAttribute('opacity','0');\r\n                maskGrouper.setAttribute('filter', 'url(' + locationHref + '#'+filId+')');\r\n                maskGrouper.appendChild(alphaRect);\r\n                maskGrouper.appendChild(this.layerElement);\r\n                layerElementParent = maskGrouper;\r\n                if (!featureSupport.maskType) {\r\n                    maskGroup.setAttribute('mask-type', 'luminance');\r\n                    fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\r\n                    gg = createNS('g');\r\n                    maskGrouper.appendChild(alphaRect);\r\n                    gg.appendChild(this.layerElement);\r\n                    layerElementParent = gg;\r\n                    maskGrouper.appendChild(gg);\r\n                }\r\n                this.globalData.defs.appendChild(maskGroup);\r\n            }\r\n        } else if (this.data.tt) {\r\n            this.matteElement.appendChild(this.layerElement);\r\n            layerElementParent = this.matteElement;\r\n            this.baseElement = this.matteElement;\r\n        } else {\r\n            this.baseElement = this.layerElement;\r\n        }\r\n        if (this.data.ln) {\r\n            this.layerElement.setAttribute('id', this.data.ln);\r\n        }\r\n        if (this.data.cl) {\r\n            this.layerElement.setAttribute('class', this.data.cl);\r\n        }\r\n        //Clipping compositions to hide content that exceeds boundaries. If collapsed transformations is on, component should not be clipped\r\n        if (this.data.ty === 0 && !this.data.hd) {\r\n            var cp = createNS( 'clipPath');\r\n            var pt = createNS('path');\r\n            pt.setAttribute('d','M0,0 L' + this.data.w + ',0' + ' L' + this.data.w + ',' + this.data.h + ' L0,' + this.data.h + 'z');\r\n            var clipId = createElementID();\r\n            cp.setAttribute('id',clipId);\r\n            cp.appendChild(pt);\r\n            this.globalData.defs.appendChild(cp);\r\n\r\n            if (this.checkMasks()) {\r\n                var cpGroup = createNS('g');\r\n                cpGroup.setAttribute('clip-path','url(' + locationHref + '#'+clipId + ')');\r\n                cpGroup.appendChild(this.layerElement);\r\n                this.transformedElement = cpGroup;\r\n                if (layerElementParent) {\r\n                    layerElementParent.appendChild(this.transformedElement);\r\n                } else {\r\n                    this.baseElement = this.transformedElement;\r\n                }\r\n            } else {\r\n                this.layerElement.setAttribute('clip-path','url(' + locationHref + '#'+clipId+')');\r\n            }\r\n            \r\n        }\r\n        if (this.data.bm !== 0) {\r\n            this.setBlendMode();\r\n        }\r\n\r\n    },\r\n    renderElement: function() {\r\n        if (this.finalTransform._matMdf) {\r\n            this.transformedElement.setAttribute('transform', this.finalTransform.mat.to2dCSS());\r\n        }\r\n        if (this.finalTransform._opMdf) {\r\n            this.transformedElement.setAttribute('opacity', this.finalTransform.mProp.o.v);\r\n        }\r\n    },\r\n    destroyBaseElement: function() {\r\n        this.layerElement = null;\r\n        this.matteElement = null;\r\n        this.maskManager.destroy();\r\n    },\r\n    getBaseElement: function() {\r\n        if (this.data.hd) {\r\n            return null;\r\n        }\r\n        return this.baseElement;\r\n    },\r\n    createRenderableComponents: function() {\r\n        this.maskManager = new MaskElement(this.data, this, this.globalData);\r\n        this.renderableEffectsManager = new SVGEffects(this);\r\n    },\r\n    setMatte: function(id) {\r\n        if (!this.matteElement) {\r\n            return;\r\n        }\r\n        this.matteElement.setAttribute(\"mask\", \"url(\" + locationHref + \"#\" + id + \")\");\r\n    }\r\n};\r\nfunction IShapeElement(){\r\n}\r\n\r\nIShapeElement.prototype = {\r\n    addShapeToModifiers: function(data) {\r\n        var i, len = this.shapeModifiers.length;\r\n        for(i=0;i<len;i+=1){\r\n            this.shapeModifiers[i].addShape(data);\r\n        }\r\n    },\r\n    isShapeInAnimatedModifiers: function(data) {\r\n        var i = 0, len = this.shapeModifiers.length;\r\n        while(i < len) {\r\n            if(this.shapeModifiers[i].isAnimatedWithShape(data)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    },\r\n    renderModifiers: function() {\r\n        if(!this.shapeModifiers.length){\r\n            return;\r\n        }\r\n        var i, len = this.shapes.length;\r\n        for(i=0;i<len;i+=1){\r\n            this.shapes[i].sh.reset();\r\n        }\r\n\r\n        len = this.shapeModifiers.length;\r\n        for(i=len-1;i>=0;i-=1){\r\n            this.shapeModifiers[i].processShapes(this._isFirstFrame);\r\n        }\r\n    },\r\n    lcEnum: {\r\n        '1': 'butt',\r\n        '2': 'round',\r\n        '3': 'square'\r\n    },\r\n    ljEnum: {\r\n        '1': 'miter',\r\n        '2': 'round',\r\n        '3': 'bevel'\r\n    },\r\n    searchProcessedElement: function(elem){\r\n        var elements = this.processedElements;\r\n        var i = 0, len = elements.length;\r\n        while (i < len) {\r\n            if (elements[i].elem === elem) {\r\n                return elements[i].pos;\r\n            }\r\n            i += 1;\r\n        }\r\n        return 0;\r\n    },\r\n    addProcessedElement: function(elem, pos){\r\n        var elements = this.processedElements;\r\n        var i = elements.length;\r\n        while(i) {\r\n            i -= 1;\r\n            if (elements[i].elem === elem) {\r\n                elements[i].pos = pos;\r\n                return;\r\n            }\r\n        }\r\n        elements.push(new ProcessedElement(elem, pos));\r\n    },\r\n    prepareFrame: function(num) {\r\n        this.prepareRenderableFrame(num);\r\n        this.prepareProperties(num, this.isInRange);\r\n    }\r\n};\r\nfunction ITextElement(){\r\n}\r\n\r\nITextElement.prototype.initElement = function(data,globalData,comp){\r\n    this.lettersChangedFlag = true;\r\n    this.initFrame();\r\n    this.initBaseData(data, globalData, comp);\r\n    this.textProperty = new TextProperty(this, data.t, this.dynamicProperties);\r\n    this.textAnimator = new TextAnimatorProperty(data.t, this.renderType, this);\r\n    this.initTransform(data, globalData, comp);\r\n    this.initHierarchy();\r\n    this.initRenderable();\r\n    this.initRendererElement();\r\n    this.createContainerElements();\r\n    this.createRenderableComponents();\r\n    this.createContent();\r\n    this.hide();\r\n    this.textAnimator.searchProperties(this.dynamicProperties);\r\n};\r\n\r\nITextElement.prototype.prepareFrame = function(num) {\r\n    this._mdf = false;\r\n    this.prepareRenderableFrame(num);\r\n    this.prepareProperties(num, this.isInRange);\r\n    if(this.textProperty._mdf || this.textProperty._isFirstFrame) {\r\n        this.buildNewText();\r\n        this.textProperty._isFirstFrame = false;\r\n        this.textProperty._mdf = false;\r\n    }\r\n};\r\n\r\nITextElement.prototype.createPathShape = function(matrixHelper, shapes) {\r\n    var j,jLen = shapes.length;\r\n    var k, kLen, pathNodes;\r\n    var shapeStr = '';\r\n    for(j=0;j<jLen;j+=1){\r\n        pathNodes = shapes[j].ks.k;\r\n        shapeStr += buildShapeString(pathNodes, pathNodes.i.length, true, matrixHelper);\r\n    }\r\n    return shapeStr;\r\n};\r\n\r\nITextElement.prototype.updateDocumentData = function(newData, index) {\r\n    this.textProperty.updateDocumentData(newData, index);\r\n};\r\n\r\nITextElement.prototype.canResizeFont = function(_canResize) {\r\n    this.textProperty.canResizeFont(_canResize);\r\n};\r\n\r\nITextElement.prototype.setMinimumFontSize = function(_fontSize) {\r\n    this.textProperty.setMinimumFontSize(_fontSize);\r\n};\r\n\r\nITextElement.prototype.applyTextPropertiesToMatrix = function(documentData, matrixHelper, lineNumber, xPos, yPos) {\r\n    if(documentData.ps){\r\n        matrixHelper.translate(documentData.ps[0],documentData.ps[1] + documentData.ascent,0);\r\n    }\r\n    matrixHelper.translate(0,-documentData.ls,0);\r\n    switch(documentData.j){\r\n        case 1:\r\n            matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]),0,0);\r\n            break;\r\n        case 2:\r\n            matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber] )/2,0,0);\r\n            break;\r\n    }\r\n    matrixHelper.translate(xPos, yPos, 0);\r\n};\r\n\r\n\r\nITextElement.prototype.buildColor = function(colorData) {\r\n    return 'rgb(' + Math.round(colorData[0]*255) + ',' + Math.round(colorData[1]*255) + ',' + Math.round(colorData[2]*255) + ')';\r\n};\r\n\r\nITextElement.prototype.emptyProp = new LetterProps();\r\n\r\nITextElement.prototype.destroy = function(){\r\n    \r\n};\r\nfunction ICompElement(){}\r\n\r\nextendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement], ICompElement);\r\n\r\nICompElement.prototype.initElement = function(data,globalData,comp) {\r\n    this.initFrame();\r\n    this.initBaseData(data, globalData, comp);\r\n    this.initTransform(data, globalData, comp);\r\n    this.initRenderable();\r\n    this.initHierarchy();\r\n    this.initRendererElement();\r\n    this.createContainerElements();\r\n    this.createRenderableComponents();\r\n    if(this.data.xt || !globalData.progressiveLoad){\r\n        this.buildAllItems();\r\n    }\r\n    this.hide();\r\n};\r\n\r\n/*ICompElement.prototype.hide = function(){\r\n    if(!this.hidden){\r\n        this.hideElement();\r\n        var i,len = this.elements.length;\r\n        for( i = 0; i < len; i+=1 ){\r\n            if(this.elements[i]){\r\n                this.elements[i].hide();\r\n            }\r\n        }\r\n    }\r\n};*/\r\n\r\nICompElement.prototype.prepareFrame = function(num){\r\n    this._mdf = false;\r\n    this.prepareRenderableFrame(num);\r\n    this.prepareProperties(num, this.isInRange);\r\n    if(!this.isInRange && !this.data.xt){\r\n        return;\r\n    }\r\n\r\n    if (!this.tm._placeholder) {\r\n        var timeRemapped = this.tm.v;\r\n        if(timeRemapped === this.data.op){\r\n            timeRemapped = this.data.op - 1;\r\n        }\r\n        this.renderedFrame = timeRemapped;\r\n    } else {\r\n        this.renderedFrame = num/this.data.sr;\r\n    }\r\n    var i,len = this.elements.length;\r\n    if(!this.completeLayers){\r\n        this.checkLayers(this.renderedFrame);\r\n    }\r\n    //This iteration needs to be backwards because of how expressions connect between each other\r\n    for( i = len - 1; i >= 0; i -= 1 ){\r\n        if(this.completeLayers || this.elements[i]){\r\n            this.elements[i].prepareFrame(this.renderedFrame - this.layers[i].st);\r\n            if(this.elements[i]._mdf) {\r\n                this._mdf = true;\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nICompElement.prototype.renderInnerContent = function() {\r\n    var i,len = this.layers.length;\r\n    for( i = 0; i < len; i += 1 ){\r\n        if(this.completeLayers || this.elements[i]){\r\n            this.elements[i].renderFrame();\r\n        }\r\n    }\r\n};\r\n\r\nICompElement.prototype.setElements = function(elems){\r\n    this.elements = elems;\r\n};\r\n\r\nICompElement.prototype.getElements = function(){\r\n    return this.elements;\r\n};\r\n\r\nICompElement.prototype.destroyElements = function(){\r\n    var i,len = this.layers.length;\r\n    for( i = 0; i < len; i+=1 ){\r\n        if(this.elements[i]){\r\n            this.elements[i].destroy();\r\n        }\r\n    }\r\n};\r\n\r\nICompElement.prototype.destroy = function(){\r\n    this.destroyElements();\r\n    this.destroyBaseElement();\r\n};\r\n\r\nfunction IImageElement(data,globalData,comp){\r\n    this.assetData = globalData.getAssetData(data.refId);\r\n    this.initElement(data,globalData,comp);\r\n    this.sourceRect = {top:0,left:0,width:this.assetData.w,height:this.assetData.h};\r\n}\r\n\r\nextendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement], IImageElement);\r\n\r\nIImageElement.prototype.createContent = function(){\r\n\r\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\r\n\r\n    this.innerElem = createNS('image');\r\n    this.innerElem.setAttribute('width',this.assetData.w+\"px\");\r\n    this.innerElem.setAttribute('height',this.assetData.h+\"px\");\r\n    this.innerElem.setAttribute('preserveAspectRatio',this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio);\r\n    this.innerElem.setAttributeNS('http://www.w3.org/1999/xlink','href',assetPath);\r\n    \r\n    this.layerElement.appendChild(this.innerElem);\r\n};\r\n\r\nIImageElement.prototype.sourceRectAtTime = function() {\r\n\treturn this.sourceRect;\r\n}\r\nfunction ISolidElement(data,globalData,comp){\r\n    this.initElement(data,globalData,comp);\r\n}\r\nextendPrototype([IImageElement], ISolidElement);\r\n\r\nISolidElement.prototype.createContent = function(){\r\n\r\n    var rect = createNS('rect');\r\n    ////rect.style.width = this.data.sw;\r\n    ////rect.style.height = this.data.sh;\r\n    ////rect.style.fill = this.data.sc;\r\n    rect.setAttribute('width',this.data.sw);\r\n    rect.setAttribute('height',this.data.sh);\r\n    rect.setAttribute('fill',this.data.sc);\r\n    this.layerElement.appendChild(rect);\r\n};\r\nfunction AudioElement(data,globalData,comp){\r\n    this.initFrame();\r\n    this.initRenderable();\r\n    this.assetData = globalData.getAssetData(data.refId);\r\n\tthis.initBaseData(data, globalData, comp);\r\n\tthis._isPlaying = false;\r\n\tthis._canPlay = false;\r\n\tvar assetPath = this.globalData.getAssetsPath(this.assetData);\r\n    this.audio = this.globalData.audioController.createAudio(assetPath);\r\n    this._currentTime = 0;\r\n    this.globalData.audioController.addAudio(this);\r\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate,this) : {_placeholder:true};\r\n}\r\n\r\nAudioElement.prototype.prepareFrame = function(num) {\r\n    this.prepareRenderableFrame(num, true);\r\n    this.prepareProperties(num, true);\r\n    if (!this.tm._placeholder) {\r\n        var timeRemapped = this.tm.v;\r\n        this._currentTime = timeRemapped;\r\n    } else {\r\n        this._currentTime = num / this.data.sr;\r\n    }\r\n};\r\n\r\nextendPrototype([RenderableElement,BaseElement,FrameElement], AudioElement);\r\n\r\nAudioElement.prototype.renderFrame = function() {\r\n\tif (this.isInRange && this._canPlay) {\r\n\t\tif (!this._isPlaying) {\r\n\t\t\tthis.audio.play();\r\n\t\t\tthis.audio.seek(this._currentTime / this.globalData.frameRate);\r\n\t\t\tthis._isPlaying = true;\r\n\t\t} else if (!this.audio.playing()\r\n\t\t\t|| Math.abs(this._currentTime / this.globalData.frameRate - this.audio.seek()) > 0.1\r\n\t\t) {\r\n\t\t\tthis.audio.seek(this._currentTime / this.globalData.frameRate)\r\n\t\t}\r\n\t}\r\n};\r\n\r\nAudioElement.prototype.show = function() {\r\n\t// this.audio.play()\r\n};\r\n\r\nAudioElement.prototype.hide = function() {\r\n\tthis.audio.pause();\r\n\tthis._isPlaying = false;\r\n};\r\n\r\nAudioElement.prototype.pause = function() {\r\n\tthis.audio.pause();\r\n\tthis._isPlaying = false;\r\n\tthis._canPlay = false;\r\n};\r\n\r\nAudioElement.prototype.resume = function() {\r\n\tthis._canPlay = true;\r\n};\r\n\r\nAudioElement.prototype.setRate = function(rateValue) {\r\n\tthis.audio.rate(rateValue);\r\n};\r\n\r\nAudioElement.prototype.volume = function(volumeValue) {\r\n\tthis.audio.volume(volumeValue);\r\n};\r\n\r\nAudioElement.prototype.getBaseElement = function() {\r\n\treturn null;\r\n};\r\n\r\nAudioElement.prototype.destroy = function() {\r\n};\r\n\r\nAudioElement.prototype.sourceRectAtTime = function() {\r\n};\r\n\r\nAudioElement.prototype.initExpressions = function() {\r\n};\r\n\r\n\r\nfunction SVGCompElement(data,globalData,comp){\r\n    this.layers = data.layers;\r\n    this.supports3d = true;\r\n    this.completeLayers = false;\r\n    this.pendingElements = [];\r\n    this.elements = this.layers ? createSizedArray(this.layers.length) : [];\r\n    //this.layerElement = createNS('g');\r\n    this.initElement(data,globalData,comp);\r\n    this.tm = data.tm ? PropertyFactory.getProp(this,data.tm,0,globalData.frameRate,this) : {_placeholder:true};\r\n}\r\n\r\nextendPrototype([SVGRenderer, ICompElement, SVGBaseElement], SVGCompElement);\r\nfunction SVGTextElement(data,globalData,comp){\r\n    this.textSpans = [];\r\n    this.renderType = 'svg';\r\n    this.initElement(data,globalData,comp);\r\n}\r\n\r\nextendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement], SVGTextElement);\r\n\r\nSVGTextElement.prototype.createContent = function(){\r\n\r\n    if (this.data.singleShape && !this.globalData.fontManager.chars) {\r\n        this.textContainer = createNS('text');\r\n    }\r\n};\r\n\r\nSVGTextElement.prototype.buildTextContents = function(textArray) {\r\n    var i = 0, len = textArray.length;\r\n    var textContents = [], currentTextContent = '';\r\n    while (i < len) {\r\n        if(textArray[i] === String.fromCharCode(13) || textArray[i] === String.fromCharCode(3)) {\r\n            textContents.push(currentTextContent);\r\n            currentTextContent = '';\r\n        } else {\r\n            currentTextContent += textArray[i];\r\n        }\r\n        i += 1;\r\n    }\r\n    textContents.push(currentTextContent);\r\n    return textContents;\r\n}\r\n\r\nSVGTextElement.prototype.buildNewText = function(){\r\n    var i, len;\r\n\r\n    var documentData = this.textProperty.currentData;\r\n    this.renderedLetters = createSizedArray(documentData ? documentData.l.length : 0);\r\n    if(documentData.fc) {\r\n        this.layerElement.setAttribute('fill', this.buildColor(documentData.fc));\r\n    }else{\r\n        this.layerElement.setAttribute('fill', 'rgba(0,0,0,0)');\r\n    }\r\n    if(documentData.sc){\r\n        this.layerElement.setAttribute('stroke', this.buildColor(documentData.sc));\r\n        this.layerElement.setAttribute('stroke-width', documentData.sw);\r\n    }\r\n    this.layerElement.setAttribute('font-size', documentData.finalSize);\r\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n    if(fontData.fClass){\r\n        this.layerElement.setAttribute('class',fontData.fClass);\r\n    } else {\r\n        this.layerElement.setAttribute('font-family', fontData.fFamily);\r\n        var fWeight = documentData.fWeight, fStyle = documentData.fStyle;\r\n        this.layerElement.setAttribute('font-style', fStyle);\r\n        this.layerElement.setAttribute('font-weight', fWeight);\r\n    }\r\n    this.layerElement.setAttribute('aria-label', documentData.t);\r\n\r\n    var letters = documentData.l || [];\r\n    var usesGlyphs = !!this.globalData.fontManager.chars;\r\n    len = letters.length;\r\n\r\n    var tSpan;\r\n    var matrixHelper = this.mHelper;\r\n    var shapes, shapeStr = '', singleShape = this.data.singleShape;\r\n    var xPos = 0, yPos = 0, firstLine = true;\r\n    var trackingOffset = documentData.tr/1000*documentData.finalSize;\r\n    if(singleShape && !usesGlyphs && !documentData.sz) {\r\n        var tElement = this.textContainer;\r\n        var justify = 'start';\r\n        switch(documentData.j) {\r\n            case 1:\r\n                justify = 'end';\r\n                break;\r\n            case 2:\r\n                justify = 'middle';\r\n                break;\r\n        }\r\n        tElement.setAttribute('text-anchor',justify);\r\n        tElement.setAttribute('letter-spacing',trackingOffset);\r\n        var textContent = this.buildTextContents(documentData.finalText);\r\n        len = textContent.length;\r\n        yPos = documentData.ps ? documentData.ps[1] + documentData.ascent : 0;\r\n        for ( i = 0; i < len; i += 1) {\r\n            tSpan = this.textSpans[i] || createNS('tspan');\r\n            tSpan.textContent = textContent[i];\r\n            tSpan.setAttribute('x', 0);\r\n            tSpan.setAttribute('y', yPos);\r\n            tSpan.style.display = 'inherit';\r\n            tElement.appendChild(tSpan);\r\n            this.textSpans[i] = tSpan;\r\n            yPos += documentData.finalLineHeight;\r\n        }\r\n        \r\n        this.layerElement.appendChild(tElement);\r\n    } else {\r\n        var cachedSpansLength = this.textSpans.length;\r\n        var shapeData, charData;\r\n        for (i = 0; i < len; i += 1) {\r\n            if(!usesGlyphs || !singleShape || i === 0){\r\n                tSpan = cachedSpansLength > i ? this.textSpans[i] : createNS(usesGlyphs?'path':'text');\r\n                if (cachedSpansLength <= i) {\r\n                    tSpan.setAttribute('stroke-linecap', 'butt');\r\n                    tSpan.setAttribute('stroke-linejoin','round');\r\n                    tSpan.setAttribute('stroke-miterlimit','4');\r\n                    this.textSpans[i] = tSpan;\r\n                    this.layerElement.appendChild(tSpan);\r\n                }\r\n                tSpan.style.display = 'inherit';\r\n            }\r\n            \r\n            matrixHelper.reset();\r\n            matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\r\n            if (singleShape) {\r\n                if(letters[i].n) {\r\n                    xPos = -trackingOffset;\r\n                    yPos += documentData.yOffset;\r\n                    yPos += firstLine ? 1 : 0;\r\n                    firstLine = false;\r\n                }\r\n                this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\r\n                xPos += letters[i].l || 0;\r\n                //xPos += letters[i].val === ' ' ? 0 : trackingOffset;\r\n                xPos += trackingOffset;\r\n            }\r\n            if(usesGlyphs) {\r\n                charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n                shapeData = charData && charData.data || {};\r\n                shapes = shapeData.shapes ? shapeData.shapes[0].it : [];\r\n                if(!singleShape){\r\n                    tSpan.setAttribute('d',this.createPathShape(matrixHelper,shapes));\r\n                } else {\r\n                    shapeStr += this.createPathShape(matrixHelper,shapes);\r\n                }\r\n            } else {\r\n                if(singleShape) {\r\n                    tSpan.setAttribute(\"transform\", \"translate(\" + matrixHelper.props[12] + \",\" + matrixHelper.props[13] + \")\");\r\n                }\r\n                tSpan.textContent = letters[i].val;\r\n                tSpan.setAttributeNS(\"http://www.w3.org/XML/1998/namespace\", \"xml:space\",\"preserve\");\r\n            }\r\n            //\r\n        }\r\n        if (singleShape && tSpan) {\r\n            tSpan.setAttribute('d',shapeStr);\r\n        }\r\n    }\r\n    while (i < this.textSpans.length){\r\n        this.textSpans[i].style.display = 'none';\r\n        i += 1;\r\n    }\r\n    \r\n    this._sizeChanged = true;\r\n};\r\n\r\nSVGTextElement.prototype.sourceRectAtTime = function(time){\r\n    this.prepareFrame(this.comp.renderedFrame - this.data.st);\r\n    this.renderInnerContent();\r\n    if(this._sizeChanged){\r\n        this._sizeChanged = false;\r\n        var textBox = this.layerElement.getBBox();\r\n        this.bbox = {\r\n            top: textBox.y,\r\n            left: textBox.x,\r\n            width: textBox.width,\r\n            height: textBox.height\r\n        };\r\n    }\r\n    return this.bbox;\r\n};\r\n\r\nSVGTextElement.prototype.renderInnerContent = function(){\r\n\r\n    if(!this.data.singleShape){\r\n        this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n        if(this.lettersChangedFlag || this.textAnimator.lettersChangedFlag){\r\n            this._sizeChanged = true;\r\n            var  i,len;\r\n            var renderedLetters = this.textAnimator.renderedLetters;\r\n\r\n            var letters = this.textProperty.currentData.l;\r\n\r\n            len = letters.length;\r\n            var renderedLetter, textSpan;\r\n            for(i=0;i<len;i+=1){\r\n                if(letters[i].n){\r\n                    continue;\r\n                }\r\n                renderedLetter = renderedLetters[i];\r\n                textSpan = this.textSpans[i];\r\n                if(renderedLetter._mdf.m) {\r\n                    textSpan.setAttribute('transform',renderedLetter.m);\r\n                }\r\n                if(renderedLetter._mdf.o) {\r\n                    textSpan.setAttribute('opacity',renderedLetter.o);\r\n                }\r\n                if(renderedLetter._mdf.sw){\r\n                    textSpan.setAttribute('stroke-width',renderedLetter.sw);\r\n                }\r\n                if(renderedLetter._mdf.sc){\r\n                    textSpan.setAttribute('stroke',renderedLetter.sc);\r\n                }\r\n                if(renderedLetter._mdf.fc){\r\n                    textSpan.setAttribute('fill',renderedLetter.fc);\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nfunction SVGShapeElement(data,globalData,comp){\r\n    //List of drawable elements\r\n    this.shapes = [];\r\n    // Full shape data\r\n    this.shapesData = data.shapes;\r\n    //List of styles that will be applied to shapes\r\n    this.stylesList = [];\r\n    //List of modifiers that will be applied to shapes\r\n    this.shapeModifiers = [];\r\n    //List of items in shape tree\r\n    this.itemsData = [];\r\n    //List of items in previous shape tree\r\n    this.processedElements = [];\r\n    // List of animated components\r\n    this.animatedContents = [];\r\n    this.initElement(data,globalData,comp);\r\n    //Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n    // List of elements that have been created\r\n    this.prevViewData = [];\r\n    //Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n}\r\n\r\nextendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement], SVGShapeElement);\r\n\r\nSVGShapeElement.prototype.initSecondaryElement = function() {\r\n};\r\n\r\nSVGShapeElement.prototype.identityMatrix = new Matrix();\r\n\r\nSVGShapeElement.prototype.buildExpressionInterface = function(){};\r\n\r\nSVGShapeElement.prototype.createContent = function(){\r\n    this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement, 0, [], true);\r\n    this.filterUniqueShapes();\r\n};\r\n\r\n/*\r\nThis method searches for multiple shapes that affect a single element and one of them is animated\r\n*/\r\nSVGShapeElement.prototype.filterUniqueShapes = function(){\r\n    var i, len = this.shapes.length, shape;\r\n    var j, jLen = this.stylesList.length;\r\n    var style, count = 0;\r\n    var tempShapes = [];\r\n    var areAnimated = false;\r\n    for(j = 0; j < jLen; j += 1) {\r\n        style = this.stylesList[j];\r\n        areAnimated = false;\r\n        tempShapes.length = 0;\r\n        for(i = 0; i < len; i += 1) {\r\n            shape = this.shapes[i];\r\n            if(shape.styles.indexOf(style) !== -1) {\r\n                tempShapes.push(shape);\r\n                areAnimated = shape._isAnimated || areAnimated;\r\n            }\r\n        }\r\n        if(tempShapes.length > 1 && areAnimated) {\r\n            this.setShapesAsAnimated(tempShapes);\r\n        }\r\n    }\r\n}\r\n\r\nSVGShapeElement.prototype.setShapesAsAnimated = function(shapes){\r\n    var i, len = shapes.length;\r\n    for(i = 0; i < len; i += 1) {\r\n        shapes[i].setAsAnimated();\r\n    }\r\n}\r\n\r\nSVGShapeElement.prototype.createStyleElement = function(data, level){\r\n    //TODO: prevent drawing of hidden styles\r\n    var elementData;\r\n    var styleOb = new SVGStyleData(data, level);\r\n\r\n    var pathElement = styleOb.pElem;\r\n    if(data.ty === 'st') {\r\n        elementData = new SVGStrokeStyleData(this, data, styleOb);\r\n    } else if(data.ty === 'fl') {\r\n        elementData = new SVGFillStyleData(this, data, styleOb);\r\n    } else if(data.ty === 'gf' || data.ty === 'gs') {\r\n        var gradientConstructor = data.ty === 'gf' ? SVGGradientFillStyleData : SVGGradientStrokeStyleData;\r\n        elementData = new gradientConstructor(this, data, styleOb);\r\n        this.globalData.defs.appendChild(elementData.gf);\r\n        if (elementData.maskId) {\r\n            this.globalData.defs.appendChild(elementData.ms);\r\n            this.globalData.defs.appendChild(elementData.of);\r\n            pathElement.setAttribute('mask','url(' + locationHref + '#' + elementData.maskId + ')');\r\n        }\r\n    }\r\n    \r\n    if(data.ty === 'st' || data.ty === 'gs') {\r\n        pathElement.setAttribute('stroke-linecap', this.lcEnum[data.lc] || 'round');\r\n        pathElement.setAttribute('stroke-linejoin',this.ljEnum[data.lj] || 'round');\r\n        pathElement.setAttribute('fill-opacity','0');\r\n        if(data.lj === 1) {\r\n            pathElement.setAttribute('stroke-miterlimit',data.ml);\r\n        }\r\n    }\r\n\r\n    if(data.r === 2) {\r\n        pathElement.setAttribute('fill-rule', 'evenodd');\r\n    }\r\n\r\n    if(data.ln){\r\n        pathElement.setAttribute('id',data.ln);\r\n    }\r\n    if(data.cl){\r\n        pathElement.setAttribute('class',data.cl);\r\n    }\r\n    if(data.bm){\r\n        pathElement.style['mix-blend-mode'] = getBlendMode(data.bm);\r\n    }\r\n    this.stylesList.push(styleOb);\r\n    this.addToAnimatedContents(data, elementData);\r\n    return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createGroupElement = function(data) {\r\n    var elementData = new ShapeGroupData();\r\n    if(data.ln){\r\n        elementData.gr.setAttribute('id',data.ln);\r\n    }\r\n    if(data.cl){\r\n        elementData.gr.setAttribute('class',data.cl);\r\n    }\r\n    if(data.bm){\r\n        elementData.gr.style['mix-blend-mode'] = getBlendMode(data.bm);\r\n    }\r\n    return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createTransformElement = function(data, container) {\r\n    var transformProperty = TransformPropertyFactory.getTransformProperty(this,data,this);\r\n    var elementData = new SVGTransformData(transformProperty, transformProperty.o, container);\r\n    this.addToAnimatedContents(data, elementData);\r\n    return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createShapeElement = function(data, ownTransformers, level) {\r\n    var ty = 4;\r\n    if(data.ty === 'rc'){\r\n        ty = 5;\r\n    }else if(data.ty === 'el'){\r\n        ty = 6;\r\n    }else if(data.ty === 'sr'){\r\n        ty = 7;\r\n    }\r\n    var shapeProperty = ShapePropertyFactory.getShapeProp(this,data,ty,this);\r\n    var elementData = new SVGShapeData(ownTransformers, level, shapeProperty);\r\n    this.shapes.push(elementData);\r\n    this.addShapeToModifiers(elementData);\r\n    this.addToAnimatedContents(data, elementData);\r\n    return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.addToAnimatedContents = function(data, element) {\r\n    var i = 0, len = this.animatedContents.length;\r\n    while(i < len) {\r\n        if(this.animatedContents[i].element === element) {\r\n            return;\r\n        }\r\n        i += 1;\r\n    }\r\n    this.animatedContents.push({\r\n        fn: SVGElementsRenderer.createRenderFunction(data),\r\n        element: element,\r\n        data: data\r\n    });\r\n};\r\n\r\nSVGShapeElement.prototype.setElementStyles = function(elementData){\r\n    var arr = elementData.styles;\r\n    var j, jLen = this.stylesList.length;\r\n    for (j = 0; j < jLen; j += 1) {\r\n        if (!this.stylesList[j].closed) {\r\n            arr.push(this.stylesList[j]);\r\n        }\r\n    }\r\n};\r\n\r\nSVGShapeElement.prototype.reloadShapes = function(){\r\n    this._isFirstFrame = true;\r\n    var i, len = this.itemsData.length;\r\n    for( i = 0; i < len; i += 1) {\r\n        this.prevViewData[i] = this.itemsData[i];\r\n    }\r\n    this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement, 0, [], true);\r\n    this.filterUniqueShapes();\r\n    len = this.dynamicProperties.length;\r\n    for(i = 0; i < len; i += 1) {\r\n        this.dynamicProperties[i].getValue();\r\n    }\r\n    this.renderModifiers();\r\n};\r\n\r\nSVGShapeElement.prototype.searchShapes = function(arr,itemsData,prevViewData,container, level, transformers, render){\r\n    var ownTransformers = [].concat(transformers);\r\n    var i, len = arr.length - 1;\r\n    var j, jLen;\r\n    var ownStyles = [], ownModifiers = [], styleOb, currentTransform, modifier, processedPos;\r\n    for(i=len;i>=0;i-=1){\r\n        processedPos = this.searchProcessedElement(arr[i]);\r\n        if(!processedPos){\r\n            arr[i]._render = render;\r\n        } else {\r\n            itemsData[i] = prevViewData[processedPos - 1];\r\n        }\r\n        if(arr[i].ty == 'fl' || arr[i].ty == 'st' || arr[i].ty == 'gf' || arr[i].ty == 'gs'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createStyleElement(arr[i], level);\r\n            } else {\r\n                itemsData[i].style.closed = false;\r\n            }\r\n            if(arr[i]._render){\r\n                container.appendChild(itemsData[i].style.pElem);\r\n            }\r\n            ownStyles.push(itemsData[i].style);\r\n        }else if(arr[i].ty == 'gr'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createGroupElement(arr[i]);\r\n            } else {\r\n                jLen = itemsData[i].it.length;\r\n                for(j=0;j<jLen;j+=1){\r\n                    itemsData[i].prevViewData[j] = itemsData[i].it[j];\r\n                }\r\n            }\r\n            this.searchShapes(arr[i].it,itemsData[i].it,itemsData[i].prevViewData,itemsData[i].gr, level + 1, ownTransformers, render);\r\n            if(arr[i]._render){\r\n                container.appendChild(itemsData[i].gr);\r\n            }\r\n        }else if(arr[i].ty == 'tr'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createTransformElement(arr[i], container);\r\n            }\r\n            currentTransform = itemsData[i].transform;\r\n            ownTransformers.push(currentTransform);\r\n        }else if(arr[i].ty == 'sh' || arr[i].ty == 'rc' || arr[i].ty == 'el' || arr[i].ty == 'sr'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createShapeElement(arr[i], ownTransformers, level);\r\n            }\r\n            this.setElementStyles(itemsData[i]);\r\n\r\n        }else if(arr[i].ty == 'tm' || arr[i].ty == 'rd' || arr[i].ty == 'ms' || arr[i].ty == 'pb'){\r\n            if(!processedPos){\r\n                modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n                modifier.init(this,arr[i]);\r\n                itemsData[i] = modifier;\r\n                this.shapeModifiers.push(modifier);\r\n            } else {\r\n                modifier = itemsData[i];\r\n                modifier.closed = false;\r\n            }\r\n            ownModifiers.push(modifier);\r\n        }else if(arr[i].ty == 'rp'){\r\n            if(!processedPos){\r\n                modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n                itemsData[i] = modifier;\r\n                modifier.init(this,arr,i,itemsData);\r\n                this.shapeModifiers.push(modifier);\r\n                render = false;\r\n            }else{\r\n                modifier = itemsData[i];\r\n                modifier.closed = true;\r\n            }\r\n            ownModifiers.push(modifier);\r\n        }\r\n        this.addProcessedElement(arr[i], i + 1);\r\n    }\r\n    len = ownStyles.length;\r\n    for(i=0;i<len;i+=1){\r\n        ownStyles[i].closed = true;\r\n    }\r\n    len = ownModifiers.length;\r\n    for(i=0;i<len;i+=1){\r\n        ownModifiers[i].closed = true;\r\n    }\r\n};\r\n\r\nSVGShapeElement.prototype.renderInnerContent = function() {\r\n    this.renderModifiers();\r\n    var i, len = this.stylesList.length;\r\n    for(i=0;i<len;i+=1){\r\n        this.stylesList[i].reset();\r\n    }\r\n    this.renderShape();\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n        if (this.stylesList[i]._mdf || this._isFirstFrame) {\r\n            if(this.stylesList[i].msElem){\r\n                this.stylesList[i].msElem.setAttribute('d', this.stylesList[i].d);\r\n                //Adding M0 0 fixes same mask bug on all browsers\r\n                this.stylesList[i].d = 'M0 0' + this.stylesList[i].d;\r\n            }\r\n            this.stylesList[i].pElem.setAttribute('d', this.stylesList[i].d || 'M0 0');\r\n        }\r\n    }\r\n};\r\n\r\nSVGShapeElement.prototype.renderShape = function() {\r\n    var i, len = this.animatedContents.length;\r\n    var animatedContent;\r\n    for(i = 0; i < len; i += 1) {\r\n        animatedContent = this.animatedContents[i];\r\n        if((this._isFirstFrame || animatedContent.element._isAnimated) && animatedContent.data !== true) {\r\n            animatedContent.fn(animatedContent.data, animatedContent.element, this._isFirstFrame);\r\n        }\r\n    }\r\n}\r\n\r\nSVGShapeElement.prototype.destroy = function(){\r\n    this.destroyBaseElement();\r\n    this.shapesData = null;\r\n    this.itemsData = null;\r\n};\r\n\r\nfunction SVGTintFilter(filter, filterManager){\r\n    this.filterManager = filterManager;\r\n    var feColorMatrix = createNS('feColorMatrix');\r\n    feColorMatrix.setAttribute('type','matrix');\r\n    feColorMatrix.setAttribute('color-interpolation-filters','linearRGB');\r\n    feColorMatrix.setAttribute('values','0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\r\n    feColorMatrix.setAttribute('result','f1');\r\n    filter.appendChild(feColorMatrix);\r\n    feColorMatrix = createNS('feColorMatrix');\r\n    feColorMatrix.setAttribute('type','matrix');\r\n    feColorMatrix.setAttribute('color-interpolation-filters','sRGB');\r\n    feColorMatrix.setAttribute('values','1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\r\n    feColorMatrix.setAttribute('result','f2');\r\n    filter.appendChild(feColorMatrix);\r\n    this.matrixFilter = feColorMatrix;\r\n    if(filterManager.effectElements[2].p.v !== 100 || filterManager.effectElements[2].p.k){\r\n        var feMerge = createNS('feMerge');\r\n        filter.appendChild(feMerge);\r\n        var feMergeNode;\r\n        feMergeNode = createNS('feMergeNode');\r\n        feMergeNode.setAttribute('in','SourceGraphic');\r\n        feMerge.appendChild(feMergeNode);\r\n        feMergeNode = createNS('feMergeNode');\r\n        feMergeNode.setAttribute('in','f2');\r\n        feMerge.appendChild(feMergeNode);\r\n    }\r\n}\r\n\r\nSVGTintFilter.prototype.renderFrame = function(forceRender){\r\n    if(forceRender || this.filterManager._mdf){\r\n        var colorBlack = this.filterManager.effectElements[0].p.v;\r\n        var colorWhite = this.filterManager.effectElements[1].p.v;\r\n        var opacity = this.filterManager.effectElements[2].p.v/100;\r\n        this.matrixFilter.setAttribute('values',(colorWhite[0]- colorBlack[0])+' 0 0 0 '+ colorBlack[0] +' '+ (colorWhite[1]- colorBlack[1]) +' 0 0 0 '+ colorBlack[1] +' '+ (colorWhite[2]- colorBlack[2]) +' 0 0 0 '+ colorBlack[2] +' 0 0 0 ' + opacity + ' 0');\r\n    }\r\n};\r\nfunction SVGFillFilter(filter, filterManager){\r\n    this.filterManager = filterManager;\r\n    var feColorMatrix = createNS('feColorMatrix');\r\n    feColorMatrix.setAttribute('type','matrix');\r\n    feColorMatrix.setAttribute('color-interpolation-filters','sRGB');\r\n    feColorMatrix.setAttribute('values','1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\r\n    filter.appendChild(feColorMatrix);\r\n    this.matrixFilter = feColorMatrix;\r\n}\r\nSVGFillFilter.prototype.renderFrame = function(forceRender){\r\n    if(forceRender || this.filterManager._mdf){\r\n        var color = this.filterManager.effectElements[2].p.v;\r\n        var opacity = this.filterManager.effectElements[6].p.v;\r\n        this.matrixFilter.setAttribute('values','0 0 0 0 '+color[0]+' 0 0 0 0 '+color[1]+' 0 0 0 0 '+color[2]+' 0 0 0 '+opacity+' 0');\r\n    }\r\n};\r\nfunction SVGGaussianBlurEffect(filter, filterManager){\r\n    // Outset the filter region by 100% on all sides to accommodate blur expansion.\r\n    filter.setAttribute('x','-100%');\r\n    filter.setAttribute('y','-100%');\r\n    filter.setAttribute('width','300%');\r\n    filter.setAttribute('height','300%');\r\n\r\n    this.filterManager = filterManager;\r\n    var feGaussianBlur = createNS('feGaussianBlur');\r\n    filter.appendChild(feGaussianBlur);\r\n    this.feGaussianBlur = feGaussianBlur;\r\n}\r\n\r\nSVGGaussianBlurEffect.prototype.renderFrame = function(forceRender){\r\n    if(forceRender || this.filterManager._mdf){\r\n        // Empirical value, matching AE's blur appearance.\r\n        var kBlurrinessToSigma = 0.3;\r\n        var sigma = this.filterManager.effectElements[0].p.v * kBlurrinessToSigma;\r\n\r\n        // Dimensions mapping:\r\n        //\r\n        //   1 -> horizontal & vertical\r\n        //   2 -> horizontal only\r\n        //   3 -> vertical only\r\n        //\r\n        var dimensions = this.filterManager.effectElements[1].p.v;\r\n        var sigmaX = (dimensions == 3) ? 0 : sigma;\r\n        var sigmaY = (dimensions == 2) ? 0 : sigma;\r\n\r\n        this.feGaussianBlur.setAttribute('stdDeviation', sigmaX + \" \" + sigmaY);\r\n\r\n        // Repeat edges mapping:\r\n        //\r\n        //   0 -> off -> duplicate\r\n        //   1 -> on  -> wrap\r\n        var edgeMode = (this.filterManager.effectElements[2].p.v == 1) ? 'wrap' : 'duplicate';\r\n        this.feGaussianBlur.setAttribute('edgeMode', edgeMode);\r\n    }\r\n}\r\nfunction SVGStrokeEffect(elem, filterManager){\r\n    this.initialized = false;\r\n    this.filterManager = filterManager;\r\n    this.elem = elem;\r\n    this.paths = [];\r\n}\r\n\r\nSVGStrokeEffect.prototype.initialize = function(){\r\n\r\n    var elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\r\n    var path,groupPath, i, len;\r\n    if(this.filterManager.effectElements[1].p.v === 1){\r\n        len = this.elem.maskManager.masksProperties.length;\r\n        i = 0;\r\n    } else {\r\n        i = this.filterManager.effectElements[0].p.v - 1;\r\n        len = i + 1;\r\n    }\r\n    groupPath = createNS('g'); \r\n    groupPath.setAttribute('fill','none');\r\n    groupPath.setAttribute('stroke-linecap','round');\r\n    groupPath.setAttribute('stroke-dashoffset',1);\r\n    for(i;i<len;i+=1){\r\n        path = createNS('path');\r\n        groupPath.appendChild(path);\r\n        this.paths.push({p:path,m:i});\r\n    }\r\n    if(this.filterManager.effectElements[10].p.v === 3){\r\n        var mask = createNS('mask');\r\n        var id = createElementID();\r\n        mask.setAttribute('id',id);\r\n        mask.setAttribute('mask-type','alpha');\r\n        mask.appendChild(groupPath);\r\n        this.elem.globalData.defs.appendChild(mask);\r\n        var g = createNS('g');\r\n        g.setAttribute('mask','url(' + locationHref + '#'+id+')');\r\n        while (elemChildren[0]) {\r\n            g.appendChild(elemChildren[0]);\r\n        }\r\n        this.elem.layerElement.appendChild(g);\r\n        this.masker = mask;\r\n        groupPath.setAttribute('stroke','#fff');\r\n    } else if(this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2){\r\n        if(this.filterManager.effectElements[10].p.v === 2){\r\n            elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\r\n            while(elemChildren.length){\r\n                this.elem.layerElement.removeChild(elemChildren[0]);\r\n            }\r\n        }\r\n        this.elem.layerElement.appendChild(groupPath);\r\n        this.elem.layerElement.removeAttribute('mask');\r\n        groupPath.setAttribute('stroke','#fff');\r\n    }\r\n    this.initialized = true;\r\n    this.pathMasker = groupPath;\r\n};\r\n\r\nSVGStrokeEffect.prototype.renderFrame = function(forceRender){\r\n    if(!this.initialized){\r\n        this.initialize();\r\n    }\r\n    var i, len = this.paths.length;\r\n    var mask, path;\r\n    for(i=0;i<len;i+=1){\r\n        if(this.paths[i].m === -1) {\r\n            continue;\r\n        }\r\n        mask = this.elem.maskManager.viewData[this.paths[i].m];\r\n        path = this.paths[i].p;\r\n        if(forceRender || this.filterManager._mdf || mask.prop._mdf){\r\n            path.setAttribute('d',mask.lastPath);\r\n        }\r\n        if(forceRender || this.filterManager.effectElements[9].p._mdf || this.filterManager.effectElements[4].p._mdf || this.filterManager.effectElements[7].p._mdf || this.filterManager.effectElements[8].p._mdf || mask.prop._mdf){\r\n            var dasharrayValue;\r\n            if(this.filterManager.effectElements[7].p.v !== 0 || this.filterManager.effectElements[8].p.v !== 100){\r\n                var s = Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100;\r\n                var e = Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100;\r\n                var l = path.getTotalLength();\r\n                dasharrayValue = '0 0 0 ' + l*s + ' ';\r\n                var lineLength = l*(e-s);\r\n                var segment = 1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v/100;\r\n                var units = Math.floor(lineLength/segment);\r\n                var j;\r\n                for(j=0;j<units;j+=1){\r\n                    dasharrayValue += '1 ' + this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v/100 + ' ';\r\n                }\r\n                dasharrayValue += '0 ' + l*10 + ' 0 0';\r\n            } else {\r\n                dasharrayValue = '1 ' + this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v/100;\r\n            }\r\n            path.setAttribute('stroke-dasharray',dasharrayValue);\r\n        }\r\n    }\r\n    if(forceRender || this.filterManager.effectElements[4].p._mdf){\r\n        this.pathMasker.setAttribute('stroke-width',this.filterManager.effectElements[4].p.v*2);\r\n    }\r\n    \r\n    if(forceRender || this.filterManager.effectElements[6].p._mdf){\r\n        this.pathMasker.setAttribute('opacity',this.filterManager.effectElements[6].p.v);\r\n    }\r\n    if(this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2){\r\n        if(forceRender || this.filterManager.effectElements[3].p._mdf){\r\n            var color = this.filterManager.effectElements[3].p.v;\r\n            this.pathMasker.setAttribute('stroke','rgb('+bm_floor(color[0]*255)+','+bm_floor(color[1]*255)+','+bm_floor(color[2]*255)+')');\r\n        }\r\n    }\r\n};\r\nfunction SVGTritoneFilter(filter, filterManager){\r\n    this.filterManager = filterManager;\r\n    var feColorMatrix = createNS('feColorMatrix');\r\n    feColorMatrix.setAttribute('type','matrix');\r\n    feColorMatrix.setAttribute('color-interpolation-filters','linearRGB');\r\n    feColorMatrix.setAttribute('values','0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\r\n    feColorMatrix.setAttribute('result','f1');\r\n    filter.appendChild(feColorMatrix);\r\n    var feComponentTransfer = createNS('feComponentTransfer');\r\n    feComponentTransfer.setAttribute('color-interpolation-filters','sRGB');\r\n    filter.appendChild(feComponentTransfer);\r\n    this.matrixFilter = feComponentTransfer;\r\n    var feFuncR = createNS('feFuncR');\r\n    feFuncR.setAttribute('type','table');\r\n    feComponentTransfer.appendChild(feFuncR);\r\n    this.feFuncR = feFuncR;\r\n    var feFuncG = createNS('feFuncG');\r\n    feFuncG.setAttribute('type','table');\r\n    feComponentTransfer.appendChild(feFuncG);\r\n    this.feFuncG = feFuncG;\r\n    var feFuncB = createNS('feFuncB');\r\n    feFuncB.setAttribute('type','table');\r\n    feComponentTransfer.appendChild(feFuncB);\r\n    this.feFuncB = feFuncB;\r\n}\r\n\r\nSVGTritoneFilter.prototype.renderFrame = function(forceRender){\r\n    if(forceRender || this.filterManager._mdf){\r\n        var color1 = this.filterManager.effectElements[0].p.v;\r\n        var color2 = this.filterManager.effectElements[1].p.v;\r\n        var color3 = this.filterManager.effectElements[2].p.v;\r\n        var tableR = color3[0] + ' ' + color2[0] + ' ' + color1[0];\r\n        var tableG = color3[1] + ' ' + color2[1] + ' ' + color1[1];\r\n        var tableB = color3[2] + ' ' + color2[2] + ' ' + color1[2];\r\n        this.feFuncR.setAttribute('tableValues', tableR);\r\n        this.feFuncG.setAttribute('tableValues', tableG);\r\n        this.feFuncB.setAttribute('tableValues', tableB);\r\n        //var opacity = this.filterManager.effectElements[2].p.v/100;\r\n        //this.matrixFilter.setAttribute('values',(colorWhite[0]- colorBlack[0])+' 0 0 0 '+ colorBlack[0] +' '+ (colorWhite[1]- colorBlack[1]) +' 0 0 0 '+ colorBlack[1] +' '+ (colorWhite[2]- colorBlack[2]) +' 0 0 0 '+ colorBlack[2] +' 0 0 0 ' + opacity + ' 0');\r\n    }\r\n};\r\nfunction SVGProLevelsFilter(filter, filterManager){\r\n    this.filterManager = filterManager;\r\n    var effectElements = this.filterManager.effectElements;\r\n    var feComponentTransfer = createNS('feComponentTransfer');\r\n    var feFuncR, feFuncG, feFuncB;\r\n    \r\n    if(effectElements[10].p.k || effectElements[10].p.v !== 0 || effectElements[11].p.k || effectElements[11].p.v !== 1 || effectElements[12].p.k || effectElements[12].p.v !== 1 || effectElements[13].p.k || effectElements[13].p.v !== 0 || effectElements[14].p.k || effectElements[14].p.v !== 1){\r\n        this.feFuncR = this.createFeFunc('feFuncR', feComponentTransfer);\r\n    }\r\n    if(effectElements[17].p.k || effectElements[17].p.v !== 0 || effectElements[18].p.k || effectElements[18].p.v !== 1 || effectElements[19].p.k || effectElements[19].p.v !== 1 || effectElements[20].p.k || effectElements[20].p.v !== 0 || effectElements[21].p.k || effectElements[21].p.v !== 1){\r\n        this.feFuncG = this.createFeFunc('feFuncG', feComponentTransfer);\r\n    }\r\n    if(effectElements[24].p.k || effectElements[24].p.v !== 0 || effectElements[25].p.k || effectElements[25].p.v !== 1 || effectElements[26].p.k || effectElements[26].p.v !== 1 || effectElements[27].p.k || effectElements[27].p.v !== 0 || effectElements[28].p.k || effectElements[28].p.v !== 1){\r\n        this.feFuncB = this.createFeFunc('feFuncB', feComponentTransfer);\r\n    }\r\n    if(effectElements[31].p.k || effectElements[31].p.v !== 0 || effectElements[32].p.k || effectElements[32].p.v !== 1 || effectElements[33].p.k || effectElements[33].p.v !== 1 || effectElements[34].p.k || effectElements[34].p.v !== 0 || effectElements[35].p.k || effectElements[35].p.v !== 1){\r\n        this.feFuncA = this.createFeFunc('feFuncA', feComponentTransfer);\r\n    }\r\n    \r\n    if(this.feFuncR || this.feFuncG || this.feFuncB || this.feFuncA){\r\n        feComponentTransfer.setAttribute('color-interpolation-filters','sRGB');\r\n        filter.appendChild(feComponentTransfer);\r\n        feComponentTransfer = createNS('feComponentTransfer');\r\n    }\r\n\r\n    if(effectElements[3].p.k || effectElements[3].p.v !== 0 || effectElements[4].p.k || effectElements[4].p.v !== 1 || effectElements[5].p.k || effectElements[5].p.v !== 1 || effectElements[6].p.k || effectElements[6].p.v !== 0 || effectElements[7].p.k || effectElements[7].p.v !== 1){\r\n\r\n        feComponentTransfer.setAttribute('color-interpolation-filters','sRGB');\r\n        filter.appendChild(feComponentTransfer);\r\n        this.feFuncRComposed = this.createFeFunc('feFuncR', feComponentTransfer);\r\n        this.feFuncGComposed = this.createFeFunc('feFuncG', feComponentTransfer);\r\n        this.feFuncBComposed = this.createFeFunc('feFuncB', feComponentTransfer);\r\n    }\r\n}\r\n\r\nSVGProLevelsFilter.prototype.createFeFunc = function(type, feComponentTransfer) {\r\n    var feFunc = createNS(type);\r\n    feFunc.setAttribute('type','table');\r\n    feComponentTransfer.appendChild(feFunc);\r\n    return feFunc;\r\n};\r\n\r\nSVGProLevelsFilter.prototype.getTableValue = function(inputBlack, inputWhite, gamma, outputBlack, outputWhite) {\r\n    var cnt = 0;\r\n    var segments = 256;\r\n    var perc;\r\n    var min = Math.min(inputBlack, inputWhite);\r\n    var max = Math.max(inputBlack, inputWhite);\r\n    var table = Array.call(null,{length:segments});\r\n    var colorValue;\r\n    var pos = 0;\r\n    var outputDelta = outputWhite - outputBlack; \r\n    var inputDelta = inputWhite - inputBlack; \r\n    while(cnt <= 256) {\r\n        perc = cnt/256;\r\n        if(perc <= min){\r\n            colorValue = inputDelta < 0 ? outputWhite : outputBlack;\r\n        } else if(perc >= max){\r\n            colorValue = inputDelta < 0 ? outputBlack : outputWhite;\r\n        } else {\r\n            colorValue = (outputBlack + outputDelta * Math.pow((perc - inputBlack) / inputDelta, 1 / gamma));\r\n        }\r\n        table[pos++] = colorValue;\r\n        cnt += 256/(segments-1);\r\n    }\r\n    return table.join(' ');\r\n};\r\n\r\nSVGProLevelsFilter.prototype.renderFrame = function(forceRender){\r\n    if(forceRender || this.filterManager._mdf){\r\n        var val, cnt, perc, bezier;\r\n        var effectElements = this.filterManager.effectElements;\r\n        if(this.feFuncRComposed && (forceRender || effectElements[3].p._mdf || effectElements[4].p._mdf || effectElements[5].p._mdf || effectElements[6].p._mdf || effectElements[7].p._mdf)){\r\n            val = this.getTableValue(effectElements[3].p.v,effectElements[4].p.v,effectElements[5].p.v,effectElements[6].p.v,effectElements[7].p.v);\r\n            this.feFuncRComposed.setAttribute('tableValues',val);\r\n            this.feFuncGComposed.setAttribute('tableValues',val);\r\n            this.feFuncBComposed.setAttribute('tableValues',val);\r\n        }\r\n\r\n\r\n        if(this.feFuncR && (forceRender || effectElements[10].p._mdf || effectElements[11].p._mdf || effectElements[12].p._mdf || effectElements[13].p._mdf || effectElements[14].p._mdf)){\r\n            val = this.getTableValue(effectElements[10].p.v,effectElements[11].p.v,effectElements[12].p.v,effectElements[13].p.v,effectElements[14].p.v);\r\n            this.feFuncR.setAttribute('tableValues',val);\r\n        }\r\n\r\n        if(this.feFuncG && (forceRender || effectElements[17].p._mdf || effectElements[18].p._mdf || effectElements[19].p._mdf || effectElements[20].p._mdf || effectElements[21].p._mdf)){\r\n            val = this.getTableValue(effectElements[17].p.v,effectElements[18].p.v,effectElements[19].p.v,effectElements[20].p.v,effectElements[21].p.v);\r\n            this.feFuncG.setAttribute('tableValues',val);\r\n        }\r\n\r\n        if(this.feFuncB && (forceRender || effectElements[24].p._mdf || effectElements[25].p._mdf || effectElements[26].p._mdf || effectElements[27].p._mdf || effectElements[28].p._mdf)){\r\n            val = this.getTableValue(effectElements[24].p.v,effectElements[25].p.v,effectElements[26].p.v,effectElements[27].p.v,effectElements[28].p.v);\r\n            this.feFuncB.setAttribute('tableValues',val);\r\n        }\r\n\r\n        if(this.feFuncA && (forceRender || effectElements[31].p._mdf || effectElements[32].p._mdf || effectElements[33].p._mdf || effectElements[34].p._mdf || effectElements[35].p._mdf)){\r\n            val = this.getTableValue(effectElements[31].p.v,effectElements[32].p.v,effectElements[33].p.v,effectElements[34].p.v,effectElements[35].p.v);\r\n            this.feFuncA.setAttribute('tableValues',val);\r\n        }\r\n        \r\n    }\r\n};\r\nfunction SVGDropShadowEffect(filter, filterManager) {\r\n    var filterSize = filterManager.container.globalData.renderConfig.filterSize\r\n    filter.setAttribute('x', filterSize.x);\r\n    filter.setAttribute('y', filterSize.y);\r\n    filter.setAttribute('width', filterSize.width);\r\n    filter.setAttribute('height', filterSize.height);\r\n    this.filterManager = filterManager;\r\n\r\n    var feGaussianBlur = createNS('feGaussianBlur');\r\n    feGaussianBlur.setAttribute('in','SourceAlpha');\r\n    feGaussianBlur.setAttribute('result','drop_shadow_1');\r\n    feGaussianBlur.setAttribute('stdDeviation','0');\r\n    this.feGaussianBlur = feGaussianBlur;\r\n    filter.appendChild(feGaussianBlur);\r\n\r\n    var feOffset = createNS('feOffset');\r\n    feOffset.setAttribute('dx','25');\r\n    feOffset.setAttribute('dy','0');\r\n    feOffset.setAttribute('in','drop_shadow_1');\r\n    feOffset.setAttribute('result','drop_shadow_2');\r\n    this.feOffset = feOffset;\r\n    filter.appendChild(feOffset);\r\n    var feFlood = createNS('feFlood');\r\n    feFlood.setAttribute('flood-color','#00ff00');\r\n    feFlood.setAttribute('flood-opacity','1');\r\n    feFlood.setAttribute('result','drop_shadow_3');\r\n    this.feFlood = feFlood;\r\n    filter.appendChild(feFlood);\r\n\r\n    var feComposite = createNS('feComposite');\r\n    feComposite.setAttribute('in','drop_shadow_3');\r\n    feComposite.setAttribute('in2','drop_shadow_2');\r\n    feComposite.setAttribute('operator','in');\r\n    feComposite.setAttribute('result','drop_shadow_4');\r\n    filter.appendChild(feComposite);\r\n\r\n\r\n    var feMerge = createNS('feMerge');\r\n    filter.appendChild(feMerge);\r\n    var feMergeNode;\r\n    feMergeNode = createNS('feMergeNode');\r\n    feMerge.appendChild(feMergeNode);\r\n    feMergeNode = createNS('feMergeNode');\r\n    feMergeNode.setAttribute('in','SourceGraphic');\r\n    this.feMergeNode = feMergeNode;\r\n    this.feMerge = feMerge;\r\n    this.originalNodeAdded = false;\r\n    feMerge.appendChild(feMergeNode);\r\n}\r\n\r\nSVGDropShadowEffect.prototype.renderFrame = function(forceRender){\r\n    if(forceRender || this.filterManager._mdf){\r\n        if(forceRender || this.filterManager.effectElements[4].p._mdf){\r\n            this.feGaussianBlur.setAttribute('stdDeviation', this.filterManager.effectElements[4].p.v / 4);\r\n        }\r\n        if(forceRender || this.filterManager.effectElements[0].p._mdf){\r\n            var col = this.filterManager.effectElements[0].p.v;\r\n            this.feFlood.setAttribute('flood-color',rgbToHex(Math.round(col[0]*255),Math.round(col[1]*255),Math.round(col[2]*255)));\r\n        }\r\n        if(forceRender || this.filterManager.effectElements[1].p._mdf){\r\n            this.feFlood.setAttribute('flood-opacity',this.filterManager.effectElements[1].p.v/255);\r\n        }\r\n        if(forceRender || this.filterManager.effectElements[2].p._mdf || this.filterManager.effectElements[3].p._mdf){\r\n            var distance = this.filterManager.effectElements[3].p.v;\r\n            var angle = (this.filterManager.effectElements[2].p.v - 90) * degToRads;\r\n            var x = distance * Math.cos(angle);\r\n            var y = distance * Math.sin(angle);\r\n            this.feOffset.setAttribute('dx', x);\r\n            this.feOffset.setAttribute('dy', y);\r\n        }\r\n        /*if(forceRender || this.filterManager.effectElements[5].p._mdf){\r\n            if(this.filterManager.effectElements[5].p.v === 1 && this.originalNodeAdded) {\r\n                this.feMerge.removeChild(this.feMergeNode);\r\n                this.originalNodeAdded = false;\r\n            } else if(this.filterManager.effectElements[5].p.v === 0 && !this.originalNodeAdded) {\r\n                this.feMerge.appendChild(this.feMergeNode);\r\n                this.originalNodeAdded = true;\r\n            }\r\n        }*/\r\n    }\r\n};\r\nvar _svgMatteSymbols = [];\r\n\r\nfunction SVGMatte3Effect(filterElem, filterManager, elem){\r\n    this.initialized = false;\r\n    this.filterManager = filterManager;\r\n    this.filterElem = filterElem;\r\n    this.elem = elem;\r\n    elem.matteElement = createNS('g');\r\n    elem.matteElement.appendChild(elem.layerElement);\r\n    elem.matteElement.appendChild(elem.transformedElement);\r\n    elem.baseElement = elem.matteElement;\r\n}\r\n\r\nSVGMatte3Effect.prototype.findSymbol = function(mask) {\r\n    var i = 0, len = _svgMatteSymbols.length;\r\n    while(i < len) {\r\n        if(_svgMatteSymbols[i] === mask) {\r\n            return _svgMatteSymbols[i];\r\n        }\r\n        i += 1;\r\n    }\r\n    return null;\r\n};\r\n\r\nSVGMatte3Effect.prototype.replaceInParent = function(mask, symbolId) {\r\n    var parentNode = mask.layerElement.parentNode;\r\n    if(!parentNode) {\r\n        return;\r\n    }\r\n    var children = parentNode.children;\r\n    var i = 0, len = children.length;\r\n    while (i < len) {\r\n        if (children[i] === mask.layerElement) {\r\n            break;\r\n        }\r\n        i += 1;\r\n    }\r\n    var nextChild;\r\n    if (i <= len - 2) {\r\n        nextChild = children[i + 1];\r\n    }\r\n    var useElem = createNS('use');\r\n    useElem.setAttribute('href', '#' + symbolId);\r\n    if(nextChild) {\r\n        parentNode.insertBefore(useElem, nextChild);\r\n    } else {\r\n        parentNode.appendChild(useElem);\r\n    }\r\n};\r\n\r\nSVGMatte3Effect.prototype.setElementAsMask = function(elem, mask) {\r\n    if(!this.findSymbol(mask)) {\r\n        var symbolId = createElementID();\r\n        var masker = createNS('mask');\r\n        masker.setAttribute('id', mask.layerId);\r\n        masker.setAttribute('mask-type', 'alpha');\r\n        _svgMatteSymbols.push(mask);\r\n        var defs = elem.globalData.defs;\r\n        defs.appendChild(masker);\r\n        var symbol = createNS('symbol');\r\n        symbol.setAttribute('id', symbolId);\r\n        this.replaceInParent(mask, symbolId);\r\n        symbol.appendChild(mask.layerElement);\r\n        defs.appendChild(symbol);\r\n        var useElem = createNS('use');\r\n        useElem.setAttribute('href', '#' + symbolId);\r\n        masker.appendChild(useElem);\r\n        mask.data.hd = false;\r\n        mask.show();\r\n    }\r\n    elem.setMatte(mask.layerId);\r\n};\r\n\r\nSVGMatte3Effect.prototype.initialize = function() {\r\n    var ind = this.filterManager.effectElements[0].p.v;\r\n    var elements = this.elem.comp.elements;\r\n    var i = 0, len = elements.length;\r\n    while (i < len) {\r\n    \tif (elements[i] && elements[i].data.ind === ind) {\r\n    \t\tthis.setElementAsMask(this.elem, elements[i]);\r\n    \t}\r\n    \ti += 1;\r\n    }\r\n    this.initialized = true;\r\n};\r\n\r\nSVGMatte3Effect.prototype.renderFrame = function() {\r\n\tif(!this.initialized) {\r\n\t\tthis.initialize();\r\n\t}\r\n};\r\nfunction SVGEffects(elem){\r\n    var i, len = elem.data.ef ? elem.data.ef.length : 0;\r\n    var filId = createElementID();\r\n    var fil = filtersFactory.createFilter(filId);\r\n    var count = 0;\r\n    this.filters = [];\r\n    var filterManager;\r\n    for(i=0;i<len;i+=1){\r\n        filterManager = null;\r\n        if(elem.data.ef[i].ty === 20){\r\n            count += 1;\r\n            filterManager = new SVGTintFilter(fil, elem.effectsManager.effectElements[i]);\r\n        }else if(elem.data.ef[i].ty === 21){\r\n            count += 1;\r\n            filterManager = new SVGFillFilter(fil, elem.effectsManager.effectElements[i]);\r\n        }else if(elem.data.ef[i].ty === 22){\r\n            filterManager = new SVGStrokeEffect(elem, elem.effectsManager.effectElements[i]);\r\n        }else if(elem.data.ef[i].ty === 23){\r\n            count += 1;\r\n            filterManager = new SVGTritoneFilter(fil, elem.effectsManager.effectElements[i]);\r\n        }else if(elem.data.ef[i].ty === 24){\r\n            count += 1;\r\n            filterManager = new SVGProLevelsFilter(fil, elem.effectsManager.effectElements[i]);\r\n        }else if(elem.data.ef[i].ty === 25){\r\n            count += 1;\r\n            filterManager = new SVGDropShadowEffect(fil, elem.effectsManager.effectElements[i]);\r\n        }else if(elem.data.ef[i].ty === 28){\r\n            //count += 1;\r\n            filterManager = new SVGMatte3Effect(fil, elem.effectsManager.effectElements[i], elem);\r\n        }else if(elem.data.ef[i].ty === 29){\r\n            count += 1;\r\n            filterManager = new SVGGaussianBlurEffect(fil, elem.effectsManager.effectElements[i]);\r\n        }\r\n        if(filterManager) {\r\n            this.filters.push(filterManager);\r\n        }\r\n    }\r\n    if(count){\r\n        elem.globalData.defs.appendChild(fil);\r\n        elem.layerElement.setAttribute('filter','url(' + locationHref + '#'+filId+')');\r\n    }\r\n    if (this.filters.length) {\r\n        elem.addRenderableComponent(this);\r\n    }\r\n}\r\n\r\nSVGEffects.prototype.renderFrame = function(_isFirstFrame){\r\n    var i, len = this.filters.length;\r\n    for(i=0;i<len;i+=1){\r\n        this.filters[i].renderFrame(_isFirstFrame);\r\n    }\r\n};\r\nfunction CVContextData() {\r\n\tthis.saved = [];\r\n    this.cArrPos = 0;\r\n    this.cTr = new Matrix();\r\n    this.cO = 1;\r\n    var i, len = 15;\r\n    this.savedOp = createTypedArray('float32', len);\r\n    for(i=0;i<len;i+=1){\r\n        this.saved[i] = createTypedArray('float32', 16);\r\n    }\r\n    this._length = len;\r\n}\r\n\r\nCVContextData.prototype.duplicate = function() {\r\n\tvar newLength = this._length * 2;\r\n\tvar currentSavedOp = this.savedOp;\r\n    this.savedOp = createTypedArray('float32', newLength);\r\n    this.savedOp.set(currentSavedOp);\r\n    var i = 0;\r\n    for(i = this._length; i < newLength; i += 1) {\r\n        this.saved[i] = createTypedArray('float32', 16);\r\n    }\r\n    this._length = newLength;\r\n};\r\n\r\nCVContextData.prototype.reset = function() {\r\n\tthis.cArrPos = 0;\r\n\tthis.cTr.reset();\r\n    this.cO = 1;\r\n};\r\nfunction CVBaseElement(){\r\n}\r\n\r\nCVBaseElement.prototype = {\r\n    createElements: function(){},\r\n    initRendererElement: function(){},\r\n    createContainerElements: function(){\r\n        this.canvasContext = this.globalData.canvasContext;\r\n        this.renderableEffectsManager = new CVEffects(this);\r\n    },\r\n    createContent: function(){},\r\n    setBlendMode: function(){\r\n        var globalData = this.globalData;\r\n        if(globalData.blendMode !== this.data.bm) {\r\n            globalData.blendMode = this.data.bm;\r\n            var blendModeValue = getBlendMode(this.data.bm);\r\n            globalData.canvasContext.globalCompositeOperation = blendModeValue;\r\n        }\r\n    },\r\n    createRenderableComponents: function(){\r\n        this.maskManager = new CVMaskElement(this.data, this);\r\n    },\r\n    hideElement: function(){\r\n        if (!this.hidden && (!this.isInRange || this.isTransparent)) {\r\n            this.hidden = true;\r\n        }\r\n    },\r\n    showElement: function(){\r\n        if (this.isInRange && !this.isTransparent){\r\n            this.hidden = false;\r\n            this._isFirstFrame = true;\r\n            this.maskManager._isFirstFrame = true;\r\n        }\r\n    },\r\n    renderFrame: function() {\r\n        if (this.hidden || this.data.hd) {\r\n            return;\r\n        }\r\n        this.renderTransform();\r\n        this.renderRenderable();\r\n        this.setBlendMode();\r\n        var forceRealStack = this.data.ty === 0;\r\n        this.globalData.renderer.save(forceRealStack);\r\n        this.globalData.renderer.ctxTransform(this.finalTransform.mat.props);\r\n        this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v);\r\n        this.renderInnerContent();\r\n        this.globalData.renderer.restore(forceRealStack);\r\n        if(this.maskManager.hasMasks) {\r\n            this.globalData.renderer.restore(true);\r\n        }\r\n        if (this._isFirstFrame) {\r\n            this._isFirstFrame = false;\r\n        }\r\n    },\r\n    destroy: function(){\r\n        this.canvasContext = null;\r\n        this.data = null;\r\n        this.globalData = null;\r\n        this.maskManager.destroy();\r\n    },\r\n    mHelper: new Matrix()\r\n};\r\nCVBaseElement.prototype.hide = CVBaseElement.prototype.hideElement;\r\nCVBaseElement.prototype.show = CVBaseElement.prototype.showElement;\r\n\r\nfunction CVImageElement(data, globalData, comp){\r\n    this.assetData = globalData.getAssetData(data.refId);\r\n    this.img = globalData.imageLoader.getImage(this.assetData);\r\n    this.initElement(data,globalData,comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVImageElement);\r\n\r\nCVImageElement.prototype.initElement = SVGShapeElement.prototype.initElement;\r\nCVImageElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\r\n\r\nCVImageElement.prototype.createContent = function(){\r\n\r\n    if (this.img.width && (this.assetData.w !== this.img.width || this.assetData.h !== this.img.height)) {\r\n        var canvas = createTag('canvas');\r\n        canvas.width = this.assetData.w;\r\n        canvas.height = this.assetData.h;\r\n        var ctx = canvas.getContext('2d');\r\n\r\n        var imgW = this.img.width;\r\n        var imgH = this.img.height;\r\n        var imgRel = imgW / imgH;\r\n        var canvasRel = this.assetData.w/this.assetData.h;\r\n        var widthCrop, heightCrop;\r\n        var par = this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio;\r\n        if((imgRel > canvasRel && par === 'xMidYMid slice') || (imgRel < canvasRel && par !== 'xMidYMid slice')) {\r\n            heightCrop = imgH;\r\n            widthCrop = heightCrop*canvasRel;\r\n        } else {\r\n            widthCrop = imgW;\r\n            heightCrop = widthCrop/canvasRel;\r\n        }\r\n        ctx.drawImage(this.img,(imgW-widthCrop)/2,(imgH-heightCrop)/2,widthCrop,heightCrop,0,0,this.assetData.w,this.assetData.h);\r\n        this.img = canvas;\r\n    }\r\n\r\n};\r\n\r\nCVImageElement.prototype.renderInnerContent = function(parentMatrix){\r\n    this.canvasContext.drawImage(this.img, 0, 0);\r\n};\r\n\r\nCVImageElement.prototype.destroy = function(){\r\n    this.img = null;\r\n};\r\nfunction CVCompElement(data, globalData, comp) {\r\n    this.completeLayers = false;\r\n    this.layers = data.layers;\r\n    this.pendingElements = [];\r\n    this.elements = createSizedArray(this.layers.length);\r\n    this.initElement(data, globalData, comp);\r\n    this.tm = data.tm ? PropertyFactory.getProp(this,data.tm,0,globalData.frameRate, this) : {_placeholder:true};\r\n}\r\n\r\nextendPrototype([CanvasRenderer, ICompElement, CVBaseElement], CVCompElement);\r\n\r\nCVCompElement.prototype.renderInnerContent = function() {\r\n    var ctx = this.canvasContext;\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, 0);\r\n    ctx.lineTo(this.data.w, 0);\r\n    ctx.lineTo(this.data.w, this.data.h);\r\n    ctx.lineTo(0, this.data.h);\r\n    ctx.lineTo(0, 0);\r\n    ctx.clip();\r\n    var i,len = this.layers.length;\r\n    for( i = len - 1; i >= 0; i -= 1 ){\r\n        if(this.completeLayers || this.elements[i]){\r\n            this.elements[i].renderFrame();\r\n        }\r\n    }\r\n};\r\n\r\nCVCompElement.prototype.destroy = function(){\r\n    var i,len = this.layers.length;\r\n    for( i = len - 1; i >= 0; i -= 1 ){\r\n        if(this.elements[i]) {\r\n            this.elements[i].destroy();\r\n        }\r\n    }\r\n    this.layers = null;\r\n    this.elements = null;\r\n};\r\n\r\nfunction CVMaskElement(data,element){\r\n    this.data = data;\r\n    this.element = element;\r\n    this.masksProperties = this.data.masksProperties || [];\r\n    this.viewData = createSizedArray(this.masksProperties.length);\r\n    var i, len = this.masksProperties.length, hasMasks = false;\r\n    for (i = 0; i < len; i++) {\r\n        if(this.masksProperties[i].mode !== 'n'){\r\n            hasMasks = true;\r\n        }\r\n        this.viewData[i] = ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[i],3);\r\n    }\r\n    this.hasMasks = hasMasks;\r\n    if(hasMasks) {\r\n        this.element.addRenderableComponent(this);\r\n    }\r\n}\r\n\r\nCVMaskElement.prototype.renderFrame = function () {\r\n    if(!this.hasMasks){\r\n        return;\r\n    }\r\n    var transform = this.element.finalTransform.mat;\r\n    var ctx = this.element.canvasContext;\r\n    var i, len = this.masksProperties.length;\r\n    var pt,pts,data;\r\n    ctx.beginPath();\r\n    for (i = 0; i < len; i++) {\r\n        if(this.masksProperties[i].mode !== 'n'){\r\n            if (this.masksProperties[i].inv) {\r\n                ctx.moveTo(0, 0);\r\n                ctx.lineTo(this.element.globalData.compSize.w, 0);\r\n                ctx.lineTo(this.element.globalData.compSize.w, this.element.globalData.compSize.h);\r\n                ctx.lineTo(0, this.element.globalData.compSize.h);\r\n                ctx.lineTo(0, 0);\r\n            }\r\n            data = this.viewData[i].v;\r\n            pt = transform.applyToPointArray(data.v[0][0],data.v[0][1],0);\r\n            ctx.moveTo(pt[0], pt[1]);\r\n            var j, jLen = data._length;\r\n            for (j = 1; j < jLen; j++) {\r\n                pts = transform.applyToTriplePoints(data.o[j - 1], data.i[j], data.v[j]);\r\n                ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\r\n            }\r\n            pts = transform.applyToTriplePoints(data.o[j - 1], data.i[0], data.v[0]);\r\n            ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\r\n        }\r\n    }\r\n    this.element.globalData.renderer.save(true);\r\n    ctx.clip();\r\n};\r\n\r\nCVMaskElement.prototype.getMaskProperty = MaskElement.prototype.getMaskProperty;\r\n\r\nCVMaskElement.prototype.destroy = function(){\r\n    this.element = null;\r\n};\r\nfunction CVShapeElement(data, globalData, comp) {\r\n    this.shapes = [];\r\n    this.shapesData = data.shapes;\r\n    this.stylesList = [];\r\n    this.itemsData = [];\r\n    this.prevViewData = [];\r\n    this.shapeModifiers = [];\r\n    this.processedElements = [];\r\n    this.transformsManager = new ShapeTransformManager();\r\n    this.initElement(data, globalData, comp);\r\n}\r\n\r\nextendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement], CVShapeElement);\r\n\r\nCVShapeElement.prototype.initElement = RenderableDOMElement.prototype.initElement;\r\n\r\nCVShapeElement.prototype.transformHelper = {opacity:1,_opMdf:false};\r\n\r\nCVShapeElement.prototype.dashResetter = [];\r\n\r\nCVShapeElement.prototype.createContent = function(){\r\n    this.searchShapes(this.shapesData,this.itemsData,this.prevViewData, true, []);\r\n};\r\n\r\nCVShapeElement.prototype.createStyleElement = function(data, transforms) {\r\n    var styleElem = {\r\n        data: data,\r\n        type: data.ty,\r\n        preTransforms: this.transformsManager.addTransformSequence(transforms),\r\n        transforms: [],\r\n        elements: [],\r\n        closed: data.hd === true\r\n    };\r\n    var elementData = {};\r\n    if(data.ty == 'fl' || data.ty == 'st'){\r\n        elementData.c = PropertyFactory.getProp(this,data.c,1,255,this);\r\n        if(!elementData.c.k){\r\n            styleElem.co = 'rgb('+bm_floor(elementData.c.v[0])+','+bm_floor(elementData.c.v[1])+','+bm_floor(elementData.c.v[2])+')';\r\n        }\r\n    } else if (data.ty === 'gf' || data.ty === 'gs') {\r\n        elementData.s = PropertyFactory.getProp(this,data.s,1,null,this);\r\n        elementData.e = PropertyFactory.getProp(this,data.e,1,null,this);\r\n        elementData.h = PropertyFactory.getProp(this,data.h||{k:0},0,0.01,this);\r\n        elementData.a = PropertyFactory.getProp(this,data.a||{k:0},0,degToRads,this);\r\n        elementData.g = new GradientProperty(this,data.g,this);\r\n    }\r\n    elementData.o = PropertyFactory.getProp(this,data.o,0,0.01,this);\r\n    if(data.ty == 'st' || data.ty == 'gs') {\r\n        styleElem.lc = this.lcEnum[data.lc] || 'round';\r\n        styleElem.lj = this.ljEnum[data.lj] || 'round';\r\n        if(data.lj == 1) {\r\n            styleElem.ml = data.ml;\r\n        }\r\n        elementData.w = PropertyFactory.getProp(this,data.w,0,null,this);\r\n        if(!elementData.w.k){\r\n            styleElem.wi = elementData.w.v;\r\n        }\r\n        if(data.d){\r\n            var d = new DashProperty(this,data.d,'canvas', this);\r\n            elementData.d = d;\r\n            if(!elementData.d.k){\r\n                styleElem.da = elementData.d.dashArray;\r\n                styleElem.do = elementData.d.dashoffset[0];\r\n            }\r\n        }\r\n    } else {\r\n        styleElem.r = data.r === 2 ? 'evenodd' : 'nonzero';\r\n    }\r\n    this.stylesList.push(styleElem);\r\n    elementData.style = styleElem;\r\n    return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.createGroupElement = function(data) {\r\n    var elementData = {\r\n        it: [],\r\n        prevViewData: []\r\n    };\r\n    return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.createTransformElement = function(data) {\r\n    var elementData = {\r\n        transform : {\r\n            opacity: 1,\r\n            _opMdf:false,\r\n            key: this.transformsManager.getNewKey(),\r\n            op: PropertyFactory.getProp(this,data.o,0,0.01,this),\r\n            mProps: TransformPropertyFactory.getTransformProperty(this,data,this)\r\n        }\r\n    };\r\n    return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.createShapeElement = function(data) {\r\n    var elementData = new CVShapeData(this, data, this.stylesList, this.transformsManager);\r\n    \r\n    this.shapes.push(elementData);\r\n    this.addShapeToModifiers(elementData);\r\n    return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.reloadShapes = function() {\r\n    this._isFirstFrame = true;\r\n    var i, len = this.itemsData.length;\r\n    for (i = 0; i < len; i += 1) {\r\n        this.prevViewData[i] = this.itemsData[i];\r\n    }\r\n    this.searchShapes(this.shapesData,this.itemsData,this.prevViewData, true, []);\r\n    len = this.dynamicProperties.length;\r\n    for (i = 0; i < len; i += 1) {\r\n        this.dynamicProperties[i].getValue();\r\n    }\r\n    this.renderModifiers();\r\n    this.transformsManager.processSequences(this._isFirstFrame);\r\n};\r\n\r\nCVShapeElement.prototype.addTransformToStyleList = function(transform) {\r\n    var i, len = this.stylesList.length;\r\n    for (i = 0; i < len; i += 1) {\r\n        if(!this.stylesList[i].closed) {\r\n            this.stylesList[i].transforms.push(transform);\r\n        }\r\n    }\r\n}\r\n\r\nCVShapeElement.prototype.removeTransformFromStyleList = function() {\r\n    var i, len = this.stylesList.length;\r\n    for (i = 0; i < len; i += 1) {\r\n        if(!this.stylesList[i].closed) {\r\n            this.stylesList[i].transforms.pop();\r\n        }\r\n    }\r\n}\r\n\r\nCVShapeElement.prototype.closeStyles = function(styles) {\r\n    var i, len = styles.length, j, jLen;\r\n    for (i = 0; i < len; i += 1) {\r\n        styles[i].closed = true;\r\n    }\r\n}\r\n\r\nCVShapeElement.prototype.searchShapes = function(arr,itemsData, prevViewData, shouldRender, transforms){\r\n    var i, len = arr.length - 1;\r\n    var j, jLen;\r\n    var ownStyles = [], ownModifiers = [], processedPos, modifier, currentTransform;\r\n    var ownTransforms = [].concat(transforms);\r\n    for(i=len;i>=0;i-=1){\r\n        processedPos = this.searchProcessedElement(arr[i]);\r\n        if(!processedPos){\r\n            arr[i]._shouldRender = shouldRender;\r\n        } else {\r\n            itemsData[i] = prevViewData[processedPos - 1];\r\n        }\r\n        if(arr[i].ty == 'fl' || arr[i].ty == 'st'|| arr[i].ty == 'gf'|| arr[i].ty == 'gs'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createStyleElement(arr[i], ownTransforms);\r\n            } else {\r\n                itemsData[i].style.closed = false;\r\n            }\r\n            \r\n            ownStyles.push(itemsData[i].style);\r\n        }else if(arr[i].ty == 'gr'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createGroupElement(arr[i]);\r\n            } else {\r\n                jLen = itemsData[i].it.length;\r\n                for(j=0;j<jLen;j+=1){\r\n                    itemsData[i].prevViewData[j] = itemsData[i].it[j];\r\n                }\r\n            }\r\n            this.searchShapes(arr[i].it,itemsData[i].it,itemsData[i].prevViewData, shouldRender, ownTransforms);\r\n        }else if(arr[i].ty == 'tr'){\r\n            if(!processedPos){\r\n                currentTransform = this.createTransformElement(arr[i]);\r\n                itemsData[i] = currentTransform;\r\n            }\r\n            ownTransforms.push(itemsData[i]);\r\n            this.addTransformToStyleList(itemsData[i]);\r\n        }else if(arr[i].ty == 'sh' || arr[i].ty == 'rc' || arr[i].ty == 'el' || arr[i].ty == 'sr'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createShapeElement(arr[i]);\r\n            }\r\n            \r\n        }else if(arr[i].ty == 'tm' || arr[i].ty == 'rd' || arr[i].ty == 'pb'){\r\n            if(!processedPos){\r\n                modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n                modifier.init(this,arr[i]);\r\n                itemsData[i] = modifier;\r\n                this.shapeModifiers.push(modifier);\r\n            } else {\r\n                modifier = itemsData[i];\r\n                modifier.closed = false;\r\n            }\r\n            ownModifiers.push(modifier);\r\n        } else if(arr[i].ty == 'rp'){\r\n            if(!processedPos){\r\n                modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n                itemsData[i] = modifier;\r\n                modifier.init(this,arr,i,itemsData);\r\n                this.shapeModifiers.push(modifier);\r\n                shouldRender = false;\r\n            }else{\r\n                modifier = itemsData[i];\r\n                modifier.closed = true;\r\n            }\r\n            ownModifiers.push(modifier);\r\n        }\r\n        this.addProcessedElement(arr[i], i + 1);\r\n    }\r\n    this.removeTransformFromStyleList();\r\n    this.closeStyles(ownStyles);\r\n    len = ownModifiers.length;\r\n    for(i=0;i<len;i+=1){\r\n        ownModifiers[i].closed = true;\r\n    }\r\n};\r\n\r\nCVShapeElement.prototype.renderInnerContent = function() {\r\n    this.transformHelper.opacity = 1;\r\n    this.transformHelper._opMdf = false;\r\n    this.renderModifiers();\r\n    this.transformsManager.processSequences(this._isFirstFrame);\r\n    this.renderShape(this.transformHelper,this.shapesData,this.itemsData,true);\r\n};\r\n\r\nCVShapeElement.prototype.renderShapeTransform = function(parentTransform, groupTransform) {\r\n    var props, groupMatrix;\r\n    if(parentTransform._opMdf || groupTransform.op._mdf || this._isFirstFrame) {\r\n        groupTransform.opacity = parentTransform.opacity;\r\n        groupTransform.opacity *= groupTransform.op.v;\r\n        groupTransform._opMdf = true;\r\n    }\r\n};\r\n\r\nCVShapeElement.prototype.drawLayer = function() {\r\n    var i, len = this.stylesList.length;\r\n    var j, jLen, k, kLen,elems,nodes, renderer = this.globalData.renderer, ctx = this.globalData.canvasContext, type, currentStyle;\r\n    for(i=0;i<len;i+=1){\r\n        currentStyle = this.stylesList[i];\r\n        type = currentStyle.type;\r\n\r\n        //Skipping style when\r\n        //Stroke width equals 0\r\n        //style should not be rendered (extra unused repeaters)\r\n        //current opacity equals 0\r\n        //global opacity equals 0\r\n        if(((type === 'st' || type === 'gs') && currentStyle.wi === 0) || !currentStyle.data._shouldRender || currentStyle.coOp === 0 || this.globalData.currentGlobalAlpha === 0){\r\n            continue;\r\n        }\r\n        renderer.save();\r\n        elems = currentStyle.elements;\r\n        if(type === 'st' || type === 'gs'){\r\n            ctx.strokeStyle = type === 'st' ? currentStyle.co : currentStyle.grd;\r\n            ctx.lineWidth = currentStyle.wi;\r\n            ctx.lineCap = currentStyle.lc;\r\n            ctx.lineJoin = currentStyle.lj;\r\n            ctx.miterLimit = currentStyle.ml || 0;\r\n        } else {\r\n            ctx.fillStyle = type === 'fl' ? currentStyle.co : currentStyle.grd;\r\n        }\r\n        renderer.ctxOpacity(currentStyle.coOp);\r\n        if(type !== 'st' && type !== 'gs'){\r\n            ctx.beginPath();\r\n        }\r\n        renderer.ctxTransform(currentStyle.preTransforms.finalTransform.props);\r\n        jLen = elems.length;\r\n        for(j=0;j<jLen;j+=1){\r\n            if(type === 'st' || type === 'gs'){\r\n                ctx.beginPath();\r\n                if(currentStyle.da){\r\n                    ctx.setLineDash(currentStyle.da);\r\n                    ctx.lineDashOffset = currentStyle.do;\r\n                }\r\n            }\r\n            nodes = elems[j].trNodes;\r\n            kLen = nodes.length;\r\n\r\n            for(k=0;k<kLen;k+=1){\r\n                if(nodes[k].t == 'm'){\r\n                    ctx.moveTo(nodes[k].p[0],nodes[k].p[1]);\r\n                }else if(nodes[k].t == 'c'){\r\n                    ctx.bezierCurveTo(nodes[k].pts[0],nodes[k].pts[1],nodes[k].pts[2],nodes[k].pts[3],nodes[k].pts[4],nodes[k].pts[5]);\r\n                }else{\r\n                    ctx.closePath();\r\n                }\r\n            }\r\n            if(type === 'st' || type === 'gs'){\r\n                ctx.stroke();\r\n                if(currentStyle.da){\r\n                    ctx.setLineDash(this.dashResetter);\r\n                }\r\n            }\r\n        }\r\n        if(type !== 'st' && type !== 'gs'){\r\n            ctx.fill(currentStyle.r);\r\n        }\r\n        renderer.restore();\r\n    }\r\n};\r\n\r\nCVShapeElement.prototype.renderShape = function(parentTransform,items,data,isMain){\r\n    var i, len = items.length - 1;\r\n    var groupTransform;\r\n    groupTransform = parentTransform;\r\n    for(i=len;i>=0;i-=1){\r\n        if(items[i].ty == 'tr'){\r\n            groupTransform = data[i].transform;\r\n            this.renderShapeTransform(parentTransform, groupTransform);\r\n        }else if(items[i].ty == 'sh' || items[i].ty == 'el' || items[i].ty == 'rc' || items[i].ty == 'sr'){\r\n            this.renderPath(items[i],data[i]);\r\n        }else if(items[i].ty == 'fl'){\r\n            this.renderFill(items[i],data[i],groupTransform);\r\n        }else if(items[i].ty == 'st'){\r\n            this.renderStroke(items[i],data[i],groupTransform);\r\n        }else if(items[i].ty == 'gf' || items[i].ty == 'gs'){\r\n            this.renderGradientFill(items[i],data[i],groupTransform);\r\n        }else if(items[i].ty == 'gr'){\r\n            this.renderShape(groupTransform,items[i].it,data[i].it);\r\n        }else if(items[i].ty == 'tm'){\r\n            //\r\n        }\r\n    }\r\n    if(isMain){\r\n        this.drawLayer();\r\n    }\r\n    \r\n};\r\n\r\nCVShapeElement.prototype.renderStyledShape = function(styledShape, shape){\r\n    if(this._isFirstFrame || shape._mdf || styledShape.transforms._mdf) {\r\n        var shapeNodes = styledShape.trNodes;\r\n        var paths = shape.paths;\r\n        var i, len, j, jLen = paths._length;\r\n        shapeNodes.length = 0;\r\n        var groupTransformMat = styledShape.transforms.finalTransform;\r\n        for (j = 0; j < jLen; j += 1) {\r\n            var pathNodes = paths.shapes[j];\r\n            if(pathNodes && pathNodes.v){\r\n                len = pathNodes._length;\r\n                for (i = 1; i < len; i += 1) {\r\n                    if (i === 1) {\r\n                        shapeNodes.push({\r\n                            t: 'm',\r\n                            p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)\r\n                        });\r\n                    }\r\n                    shapeNodes.push({\r\n                        t: 'c',\r\n                        pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[i], pathNodes.v[i])\r\n                    });\r\n                }\r\n                if (len === 1) {\r\n                    shapeNodes.push({\r\n                        t: 'm',\r\n                        p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)\r\n                    });\r\n                }\r\n                if (pathNodes.c && len) {\r\n                    shapeNodes.push({\r\n                        t: 'c',\r\n                        pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[0], pathNodes.v[0])\r\n                    });\r\n                    shapeNodes.push({\r\n                        t: 'z'\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        styledShape.trNodes = shapeNodes;\r\n    }\r\n}\r\n\r\nCVShapeElement.prototype.renderPath = function(pathData,itemData){\r\n    if(pathData.hd !== true && pathData._shouldRender) {\r\n        var i, len = itemData.styledShapes.length;\r\n        for (i = 0; i < len; i += 1) {\r\n            this.renderStyledShape(itemData.styledShapes[i], itemData.sh);\r\n        }\r\n    }\r\n};\r\n\r\nCVShapeElement.prototype.renderFill = function(styleData,itemData, groupTransform){\r\n    var styleElem = itemData.style;\r\n\r\n    if (itemData.c._mdf || this._isFirstFrame) {\r\n        styleElem.co = 'rgb(' \r\n        + bm_floor(itemData.c.v[0]) + ',' \r\n        + bm_floor(itemData.c.v[1]) + ',' \r\n        + bm_floor(itemData.c.v[2]) + ')';\r\n    }\r\n    if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\r\n        styleElem.coOp = itemData.o.v * groupTransform.opacity;\r\n    }\r\n};\r\n\r\nCVShapeElement.prototype.renderGradientFill = function(styleData,itemData, groupTransform){\r\n    var styleElem = itemData.style;\r\n    if(!styleElem.grd || itemData.g._mdf || itemData.s._mdf || itemData.e._mdf || (styleData.t !== 1 && (itemData.h._mdf || itemData.a._mdf))) {\r\n        var ctx = this.globalData.canvasContext;\r\n        var grd;\r\n        var pt1 = itemData.s.v, pt2 = itemData.e.v;\r\n        if (styleData.t === 1) {\r\n            grd = ctx.createLinearGradient(pt1[0], pt1[1], pt2[0], pt2[1]);\r\n        } else {\r\n            var rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n            var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\r\n\r\n            var percent = itemData.h.v >= 1 ? 0.99 : itemData.h.v <= -1 ? -0.99: itemData.h.v;\r\n            var dist = rad * percent;\r\n            var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\r\n            var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\r\n            var grd = ctx.createRadialGradient(x, y, 0, pt1[0], pt1[1], rad);\r\n        }\r\n\r\n        var i, len = styleData.g.p;\r\n        var cValues = itemData.g.c;\r\n        var opacity = 1;\r\n\r\n        for (i = 0; i < len; i += 1){\r\n            if(itemData.g._hasOpacity && itemData.g._collapsable) {\r\n                opacity = itemData.g.o[i*2 + 1];\r\n            }\r\n            grd.addColorStop(cValues[i * 4] / 100,'rgba('+ cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ','+cValues[i * 4 + 3] + ',' + opacity + ')');\r\n        }\r\n        styleElem.grd = grd;\r\n    }\r\n    styleElem.coOp = itemData.o.v*groupTransform.opacity;\r\n    \r\n};\r\n\r\nCVShapeElement.prototype.renderStroke = function(styleData,itemData, groupTransform){\r\n    var styleElem = itemData.style;\r\n    var d = itemData.d;\r\n    if(d && (d._mdf  || this._isFirstFrame)){\r\n        styleElem.da = d.dashArray;\r\n        styleElem.do = d.dashoffset[0];\r\n    }\r\n    if(itemData.c._mdf || this._isFirstFrame){\r\n        styleElem.co = 'rgb('+bm_floor(itemData.c.v[0])+','+bm_floor(itemData.c.v[1])+','+bm_floor(itemData.c.v[2])+')';\r\n    }\r\n    if(itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame){\r\n        styleElem.coOp = itemData.o.v*groupTransform.opacity;\r\n    }\r\n    if(itemData.w._mdf || this._isFirstFrame){\r\n        styleElem.wi = itemData.w.v;\r\n    }\r\n};\r\n\r\n\r\nCVShapeElement.prototype.destroy = function(){\r\n    this.shapesData = null;\r\n    this.globalData = null;\r\n    this.canvasContext = null;\r\n    this.stylesList.length = 0;\r\n    this.itemsData.length = 0;\r\n};\r\n\r\n\r\nfunction CVSolidElement(data, globalData, comp) {\r\n    this.initElement(data,globalData,comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVSolidElement);\r\n\r\nCVSolidElement.prototype.initElement = SVGShapeElement.prototype.initElement;\r\nCVSolidElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\r\n\r\nCVSolidElement.prototype.renderInnerContent = function() {\r\n    var ctx = this.canvasContext;\r\n    ctx.fillStyle = this.data.sc;\r\n    ctx.fillRect(0, 0, this.data.sw, this.data.sh);\r\n    //\r\n};\r\nfunction CVTextElement(data, globalData, comp){\r\n    this.textSpans = [];\r\n    this.yOffset = 0;\r\n    this.fillColorAnim = false;\r\n    this.strokeColorAnim = false;\r\n    this.strokeWidthAnim = false;\r\n    this.stroke = false;\r\n    this.fill = false;\r\n    this.justifyOffset = 0;\r\n    this.currentRender = null;\r\n    this.renderType = 'canvas';\r\n    this.values = {\r\n        fill: 'rgba(0,0,0,0)',\r\n        stroke: 'rgba(0,0,0,0)',\r\n        sWidth: 0,\r\n        fValue: ''\r\n    };\r\n    this.initElement(data,globalData,comp);\r\n}\r\nextendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement], CVTextElement);\r\n\r\nCVTextElement.prototype.tHelper = createTag('canvas').getContext('2d');\r\n\r\nCVTextElement.prototype.buildNewText = function(){\r\n    var documentData = this.textProperty.currentData;\r\n    this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\r\n\r\n    var hasFill = false;\r\n    if(documentData.fc) {\r\n        hasFill = true;\r\n        this.values.fill = this.buildColor(documentData.fc);\r\n    }else{\r\n        this.values.fill = 'rgba(0,0,0,0)';\r\n    }\r\n    this.fill = hasFill;\r\n    var hasStroke = false;\r\n    if(documentData.sc){\r\n        hasStroke = true;\r\n        this.values.stroke = this.buildColor(documentData.sc);\r\n        this.values.sWidth = documentData.sw;\r\n    }\r\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n    var i, len;\r\n    var letters = documentData.l;\r\n    var matrixHelper = this.mHelper;\r\n    this.stroke = hasStroke;\r\n    this.values.fValue = documentData.finalSize + 'px '+ this.globalData.fontManager.getFontByName(documentData.f).fFamily;\r\n    len = documentData.finalText.length;\r\n    //this.tHelper.font = this.values.fValue;\r\n    var charData, shapeData, k, kLen, shapes, j, jLen, pathNodes, commands, pathArr, singleShape = this.data.singleShape;\r\n    var trackingOffset = documentData.tr/1000*documentData.finalSize;\r\n    var xPos = 0, yPos = 0, firstLine = true;\r\n    var cnt = 0;\r\n    for (i = 0; i < len; i += 1) {\r\n        charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n        shapeData = charData && charData.data || {};\r\n        matrixHelper.reset();\r\n        if(singleShape && letters[i].n) {\r\n            xPos = -trackingOffset;\r\n            yPos += documentData.yOffset;\r\n            yPos += firstLine ? 1 : 0;\r\n            firstLine = false;\r\n        }\r\n\r\n        shapes = shapeData.shapes ? shapeData.shapes[0].it : [];\r\n        jLen = shapes.length;\r\n        matrixHelper.scale(documentData.finalSize/100,documentData.finalSize/100);\r\n        if(singleShape){\r\n            this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\r\n        }\r\n        commands = createSizedArray(jLen);\r\n        for(j=0;j<jLen;j+=1){\r\n            kLen = shapes[j].ks.k.i.length;\r\n            pathNodes = shapes[j].ks.k;\r\n            pathArr = [];\r\n            for(k=1;k<kLen;k+=1){\r\n                if(k==1){\r\n                    pathArr.push(matrixHelper.applyToX(pathNodes.v[0][0],pathNodes.v[0][1],0),matrixHelper.applyToY(pathNodes.v[0][0],pathNodes.v[0][1],0));\r\n                }\r\n                pathArr.push(matrixHelper.applyToX(pathNodes.o[k-1][0],pathNodes.o[k-1][1],0),matrixHelper.applyToY(pathNodes.o[k-1][0],pathNodes.o[k-1][1],0),matrixHelper.applyToX(pathNodes.i[k][0],pathNodes.i[k][1],0),matrixHelper.applyToY(pathNodes.i[k][0],pathNodes.i[k][1],0),matrixHelper.applyToX(pathNodes.v[k][0],pathNodes.v[k][1],0),matrixHelper.applyToY(pathNodes.v[k][0],pathNodes.v[k][1],0));\r\n            }\r\n            pathArr.push(matrixHelper.applyToX(pathNodes.o[k-1][0],pathNodes.o[k-1][1],0),matrixHelper.applyToY(pathNodes.o[k-1][0],pathNodes.o[k-1][1],0),matrixHelper.applyToX(pathNodes.i[0][0],pathNodes.i[0][1],0),matrixHelper.applyToY(pathNodes.i[0][0],pathNodes.i[0][1],0),matrixHelper.applyToX(pathNodes.v[0][0],pathNodes.v[0][1],0),matrixHelper.applyToY(pathNodes.v[0][0],pathNodes.v[0][1],0));\r\n            commands[j] = pathArr;\r\n        }\r\n        if(singleShape){\r\n            xPos += letters[i].l;\r\n            xPos += trackingOffset;\r\n        }\r\n        if(this.textSpans[cnt]){\r\n            this.textSpans[cnt].elem = commands;\r\n        } else {\r\n            this.textSpans[cnt] = {elem: commands};\r\n        }\r\n        cnt +=1;\r\n    }\r\n};\r\n\r\nCVTextElement.prototype.renderInnerContent = function(){\r\n    var ctx = this.canvasContext;\r\n    var finalMat = this.finalTransform.mat.props;\r\n    ctx.font = this.values.fValue;\r\n    ctx.lineCap = 'butt';\r\n    ctx.lineJoin = 'miter';\r\n    ctx.miterLimit = 4;\r\n\r\n    if(!this.data.singleShape){\r\n        this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n    }\r\n\r\n    var  i,len, j, jLen, k, kLen;\r\n    var renderedLetters = this.textAnimator.renderedLetters;\r\n\r\n    var letters = this.textProperty.currentData.l;\r\n\r\n    len = letters.length;\r\n    var renderedLetter;\r\n    var lastFill = null, lastStroke = null, lastStrokeW = null, commands, pathArr;\r\n    for(i=0;i<len;i+=1){\r\n        if(letters[i].n){\r\n            continue;\r\n        }\r\n        renderedLetter = renderedLetters[i];\r\n        if(renderedLetter){\r\n            this.globalData.renderer.save();\r\n            this.globalData.renderer.ctxTransform(renderedLetter.p);\r\n            this.globalData.renderer.ctxOpacity(renderedLetter.o);\r\n        }\r\n        if(this.fill){\r\n            if(renderedLetter && renderedLetter.fc){\r\n                if(lastFill !== renderedLetter.fc){\r\n                    lastFill = renderedLetter.fc;\r\n                    ctx.fillStyle = renderedLetter.fc;\r\n                }\r\n            }else if(lastFill !== this.values.fill){\r\n                lastFill = this.values.fill;\r\n                ctx.fillStyle = this.values.fill;\r\n            }\r\n            commands = this.textSpans[i].elem;\r\n            jLen = commands.length;\r\n            this.globalData.canvasContext.beginPath();\r\n            for(j=0;j<jLen;j+=1) {\r\n                pathArr = commands[j];\r\n                kLen = pathArr.length;\r\n                this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\r\n                for (k = 2; k < kLen; k += 6) {\r\n                    this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\r\n                }\r\n            }\r\n            this.globalData.canvasContext.closePath();\r\n            this.globalData.canvasContext.fill();\r\n            ///ctx.fillText(this.textSpans[i].val,0,0);\r\n        }\r\n        if(this.stroke){\r\n            if(renderedLetter && renderedLetter.sw){\r\n                if(lastStrokeW !== renderedLetter.sw){\r\n                    lastStrokeW = renderedLetter.sw;\r\n                    ctx.lineWidth = renderedLetter.sw;\r\n                }\r\n            }else if(lastStrokeW !== this.values.sWidth){\r\n                lastStrokeW = this.values.sWidth;\r\n                ctx.lineWidth = this.values.sWidth;\r\n            }\r\n            if(renderedLetter && renderedLetter.sc){\r\n                if(lastStroke !== renderedLetter.sc){\r\n                    lastStroke = renderedLetter.sc;\r\n                    ctx.strokeStyle = renderedLetter.sc;\r\n                }\r\n            }else if(lastStroke !== this.values.stroke){\r\n                lastStroke = this.values.stroke;\r\n                ctx.strokeStyle = this.values.stroke;\r\n            }\r\n            commands = this.textSpans[i].elem;\r\n            jLen = commands.length;\r\n            this.globalData.canvasContext.beginPath();\r\n            for(j=0;j<jLen;j+=1) {\r\n                pathArr = commands[j];\r\n                kLen = pathArr.length;\r\n                this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\r\n                for (k = 2; k < kLen; k += 6) {\r\n                    this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\r\n                }\r\n            }\r\n            this.globalData.canvasContext.closePath();\r\n            this.globalData.canvasContext.stroke();\r\n            ///ctx.strokeText(letters[i].val,0,0);\r\n        }\r\n        if(renderedLetter) {\r\n            this.globalData.renderer.restore();\r\n        }\r\n    }\r\n};\r\nfunction CVEffects() {\r\n\r\n}\r\nCVEffects.prototype.renderFrame = function(){};\r\nfunction HBaseElement(data,globalData,comp){}\r\nHBaseElement.prototype = {\r\n    checkBlendMode: function(){},\r\n    initRendererElement: function(){\r\n        this.baseElement = createTag(this.data.tg || 'div');\r\n        if(this.data.hasMask) {\r\n            this.svgElement = createNS('svg');\r\n            this.layerElement = createNS('g');\r\n            this.maskedElement = this.layerElement;\r\n            this.svgElement.appendChild(this.layerElement);\r\n            this.baseElement.appendChild(this.svgElement);\r\n        } else {\r\n            this.layerElement = this.baseElement;\r\n        }\r\n        styleDiv(this.baseElement);\r\n    },\r\n    createContainerElements: function(){\r\n        this.renderableEffectsManager = new CVEffects(this);\r\n        this.transformedElement = this.baseElement;\r\n        this.maskedElement = this.layerElement;\r\n        if (this.data.ln) {\r\n            this.layerElement.setAttribute('id',this.data.ln);\r\n        }\r\n        if (this.data.cl) {\r\n            this.layerElement.setAttribute('class', this.data.cl);\r\n        }\r\n        if (this.data.bm !== 0) {\r\n            this.setBlendMode();\r\n        }\r\n    },\r\n    renderElement: function() {\r\n        if(this.finalTransform._matMdf){\r\n            this.transformedElement.style.transform = this.transformedElement.style.webkitTransform = this.finalTransform.mat.toCSS();\r\n        }\r\n        if(this.finalTransform._opMdf){\r\n            this.transformedElement.style.opacity = this.finalTransform.mProp.o.v;\r\n        }\r\n    },\r\n    renderFrame: function() {\r\n        //If it is exported as hidden (data.hd === true) no need to render\r\n        //If it is not visible no need to render\r\n        if (this.data.hd || this.hidden) {\r\n            return;\r\n        }\r\n        this.renderTransform();\r\n        this.renderRenderable();\r\n        this.renderElement();\r\n        this.renderInnerContent();\r\n        if (this._isFirstFrame) {\r\n            this._isFirstFrame = false;\r\n        }\r\n    },\r\n    destroy: function(){\r\n        this.layerElement = null;\r\n        this.transformedElement = null;\r\n        if(this.matteElement) {\r\n            this.matteElement = null;\r\n        }\r\n        if(this.maskManager) {\r\n            this.maskManager.destroy();\r\n            this.maskManager = null;\r\n        }\r\n    },\r\n    createRenderableComponents: function(){\r\n        this.maskManager = new MaskElement(this.data, this, this.globalData);\r\n    },\r\n    addEffects: function(){\r\n    },\r\n    setMatte: function(){}\r\n};\r\nHBaseElement.prototype.getBaseElement = SVGBaseElement.prototype.getBaseElement;\r\nHBaseElement.prototype.destroyBaseElement = HBaseElement.prototype.destroy;\r\nHBaseElement.prototype.buildElementParenting = HybridRenderer.prototype.buildElementParenting;\r\nfunction HSolidElement(data,globalData,comp){\r\n    this.initElement(data,globalData,comp);\r\n}\r\nextendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement], HSolidElement);\r\n\r\nHSolidElement.prototype.createContent = function(){\r\n    var rect;\r\n    if(this.data.hasMask){\r\n        rect = createNS('rect');\r\n        rect.setAttribute('width',this.data.sw);\r\n        rect.setAttribute('height',this.data.sh);\r\n        rect.setAttribute('fill',this.data.sc);\r\n        this.svgElement.setAttribute('width',this.data.sw);\r\n        this.svgElement.setAttribute('height',this.data.sh);\r\n    } else {\r\n        rect = createTag('div');\r\n        rect.style.width = this.data.sw + 'px';\r\n        rect.style.height = this.data.sh + 'px';\r\n        rect.style.backgroundColor = this.data.sc;\r\n    }\r\n    this.layerElement.appendChild(rect);\r\n};\r\n\r\nfunction HCompElement(data,globalData,comp){\r\n    this.layers = data.layers;\r\n    this.supports3d = !data.hasMask;\r\n    this.completeLayers = false;\r\n    this.pendingElements = [];\r\n    this.elements = this.layers ? createSizedArray(this.layers.length) : [];\r\n    this.initElement(data,globalData,comp);\r\n    this.tm = data.tm ? PropertyFactory.getProp(this,data.tm,0,globalData.frameRate,this) : {_placeholder:true};\r\n}\r\n\r\nextendPrototype([HybridRenderer, ICompElement, HBaseElement], HCompElement);\r\nHCompElement.prototype._createBaseContainerElements = HCompElement.prototype.createContainerElements;\r\n\r\nHCompElement.prototype.createContainerElements = function(){\r\n    this._createBaseContainerElements();\r\n    //divElement.style.clip = 'rect(0px, '+this.data.w+'px, '+this.data.h+'px, 0px)';\r\n    if(this.data.hasMask){\r\n        this.svgElement.setAttribute('width',this.data.w);\r\n        this.svgElement.setAttribute('height',this.data.h);\r\n        this.transformedElement = this.baseElement;\r\n    } else {\r\n        this.transformedElement = this.layerElement;\r\n    }\r\n};\r\n\r\nHCompElement.prototype.addTo3dContainer = function(elem,pos) {\r\n    var j = 0;\r\n    var nextElement;\r\n    while(j<pos){\r\n        if(this.elements[j] && this.elements[j].getBaseElement){\r\n            nextElement = this.elements[j].getBaseElement();\r\n        }\r\n        j += 1;\r\n    }\r\n    if(nextElement){\r\n        this.layerElement.insertBefore(elem, nextElement);\r\n    } else {\r\n        this.layerElement.appendChild(elem);\r\n    }\r\n}\r\n\r\nfunction HShapeElement(data,globalData,comp){\r\n    //List of drawable elements\r\n    this.shapes = [];\r\n    // Full shape data\r\n    this.shapesData = data.shapes;\r\n    //List of styles that will be applied to shapes\r\n    this.stylesList = [];\r\n    //List of modifiers that will be applied to shapes\r\n    this.shapeModifiers = [];\r\n    //List of items in shape tree\r\n    this.itemsData = [];\r\n    //List of items in previous shape tree\r\n    this.processedElements = [];\r\n    // List of animated components\r\n    this.animatedContents = [];\r\n    this.shapesContainer = createNS('g');\r\n    this.initElement(data,globalData,comp);\r\n    //Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n    // List of elements that have been created\r\n    this.prevViewData = [];\r\n    this.currentBBox = {\r\n        x:999999,\r\n        y: -999999,\r\n        h: 0,\r\n        w: 0\r\n    };\r\n}\r\nextendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement], HShapeElement);\r\nHShapeElement.prototype._renderShapeFrame = HShapeElement.prototype.renderInnerContent;\r\n\r\nHShapeElement.prototype.createContent = function(){\r\n    var cont;\r\n    this.baseElement.style.fontSize = 0;\r\n    if (this.data.hasMask) {\r\n        this.layerElement.appendChild(this.shapesContainer);\r\n        cont = this.svgElement;\r\n    } else {\r\n        cont = createNS('svg');\r\n        var size = this.comp.data ? this.comp.data : this.globalData.compSize;\r\n        cont.setAttribute('width',size.w);\r\n        cont.setAttribute('height',size.h);\r\n        cont.appendChild(this.shapesContainer);\r\n        this.layerElement.appendChild(cont);\r\n    }\r\n\r\n    this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0, [], true);\r\n    this.filterUniqueShapes();\r\n    this.shapeCont = cont;\r\n};\r\n\r\nHShapeElement.prototype.getTransformedPoint = function(transformers, point) {\r\n    var i, len = transformers.length;\r\n    for(i = 0; i < len; i += 1) {\r\n        point = transformers[i].mProps.v.applyToPointArray(point[0], point[1], 0);\r\n    }\r\n    return point;\r\n}\r\n\r\nHShapeElement.prototype.calculateShapeBoundingBox = function(item, boundingBox) {\r\n    var shape = item.sh.v;\r\n    var transformers = item.transformers;\r\n    var i, len = shape._length, vPoint, oPoint, nextIPoint, nextVPoint, bounds;\r\n    if (len <= 1) {\r\n        return;\r\n    }\r\n    for (i = 0; i < len - 1; i += 1) {\r\n        vPoint = this.getTransformedPoint(transformers, shape.v[i]);\r\n        oPoint = this.getTransformedPoint(transformers, shape.o[i]);\r\n        nextIPoint = this.getTransformedPoint(transformers, shape.i[i + 1]);\r\n        nextVPoint = this.getTransformedPoint(transformers, shape.v[i + 1]);\r\n        this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\r\n    }\r\n    if(shape.c) {\r\n        vPoint = this.getTransformedPoint(transformers, shape.v[i]);\r\n        oPoint = this.getTransformedPoint(transformers, shape.o[i]);\r\n        nextIPoint = this.getTransformedPoint(transformers, shape.i[0]);\r\n        nextVPoint = this.getTransformedPoint(transformers, shape.v[0]);\r\n        this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\r\n    }\r\n}\r\n\r\nHShapeElement.prototype.checkBounds = function(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox) {\r\n    this.getBoundsOfCurve(vPoint, oPoint, nextIPoint, nextVPoint);\r\n    var bounds = this.shapeBoundingBox;\r\n    boundingBox.x = bm_min(bounds.left, boundingBox.x);\r\n    boundingBox.xMax = bm_max(bounds.right, boundingBox.xMax);\r\n    boundingBox.y = bm_min(bounds.top, boundingBox.y);\r\n    boundingBox.yMax = bm_max(bounds.bottom, boundingBox.yMax);\r\n}\r\n\r\nHShapeElement.prototype.shapeBoundingBox = {\r\n    left:0,\r\n    right:0,\r\n    top:0,\r\n    bottom:0,\r\n}\r\n\r\nHShapeElement.prototype.tempBoundingBox = {\r\n    x:0,\r\n    xMax:0,\r\n    y:0,\r\n    yMax:0,\r\n    width:0,\r\n    height:0\r\n}\r\n\r\nHShapeElement.prototype.getBoundsOfCurve = function(p0, p1, p2, p3) {\r\n\r\n    var bounds = [[p0[0],p3[0]], [p0[1],p3[1]]];\r\n\r\n    for (var a, b, c, t, b2ac, t1, t2, i = 0; i < 2; ++i) {\r\n\r\n      b = 6 * p0[i] - 12 * p1[i] + 6 * p2[i];\r\n      a = -3 * p0[i] + 9 * p1[i] - 9 * p2[i] + 3 * p3[i];\r\n      c = 3 * p1[i] - 3 * p0[i];\r\n\r\n      b = b | 0;\r\n      a = a | 0;\r\n      c = c | 0;\r\n\r\n      if (a === 0) {\r\n\r\n        if (b === 0) {\r\n          continue;\r\n        }\r\n\r\n        t = -c / b;\r\n\r\n        if (0 < t && t < 1) {\r\n          bounds[i].push(this.calculateF(t,p0,p1,p2,p3,i));\r\n        }\r\n        continue;\r\n      }\r\n\r\n      b2ac = b * b - 4 * c * a;\r\n\r\n      if (b2ac < 0) {\r\n        continue;\r\n      }\r\n\r\n      t1 = (-b + bm_sqrt(b2ac))/(2 * a);\r\n      if (0 < t1 && t1 < 1) bounds[i].push(this.calculateF(t1,p0,p1,p2,p3,i));\r\n\r\n      t2 = (-b - bm_sqrt(b2ac))/(2 * a);\r\n      if (0 < t2 && t2 < 1) bounds[i].push(this.calculateF(t2,p0,p1,p2,p3,i));\r\n\r\n    }\r\n\r\n    this.shapeBoundingBox.left = bm_min.apply(null, bounds[0]);\r\n    this.shapeBoundingBox.top = bm_min.apply(null, bounds[1]);\r\n    this.shapeBoundingBox.right = bm_max.apply(null, bounds[0]);\r\n    this.shapeBoundingBox.bottom = bm_max.apply(null, bounds[1]);\r\n  };\r\n\r\n  HShapeElement.prototype.calculateF = function(t, p0, p1, p2, p3, i) {\r\n    return bm_pow(1-t, 3) * p0[i]\r\n        + 3 * bm_pow(1-t, 2) * t * p1[i]\r\n        + 3 * (1-t) * bm_pow(t, 2) * p2[i]\r\n        + bm_pow(t, 3) * p3[i];\r\n  }\r\n\r\nHShapeElement.prototype.calculateBoundingBox = function(itemsData, boundingBox) {\r\n    var i, len = itemsData.length, path;\r\n    for(i = 0; i < len; i += 1) {\r\n        if(itemsData[i] && itemsData[i].sh) {\r\n            this.calculateShapeBoundingBox(itemsData[i], boundingBox)\r\n        } else if(itemsData[i] && itemsData[i].it) {\r\n            this.calculateBoundingBox(itemsData[i].it, boundingBox)\r\n        }\r\n    }\r\n}\r\n\r\nHShapeElement.prototype.currentBoxContains = function(box) {\r\n    return this.currentBBox.x <= box.x \r\n    && this.currentBBox.y <= box.y \r\n    && this.currentBBox.width + this.currentBBox.x >= box.x + box.width\r\n    && this.currentBBox.height + this.currentBBox.y >= box.y + box.height\r\n}\r\n\r\nHShapeElement.prototype.renderInnerContent = function() {\r\n    this._renderShapeFrame();\r\n\r\n    if(!this.hidden && (this._isFirstFrame || this._mdf)) {\r\n        var tempBoundingBox = this.tempBoundingBox;\r\n        var max = 999999;\r\n        tempBoundingBox.x = max;\r\n        tempBoundingBox.xMax = -max;\r\n        tempBoundingBox.y = max;\r\n        tempBoundingBox.yMax = -max;\r\n        this.calculateBoundingBox(this.itemsData, tempBoundingBox);\r\n        tempBoundingBox.width = tempBoundingBox.xMax < tempBoundingBox.x ? 0 : tempBoundingBox.xMax - tempBoundingBox.x;\r\n        tempBoundingBox.height = tempBoundingBox.yMax < tempBoundingBox.y ? 0 : tempBoundingBox.yMax - tempBoundingBox.y;\r\n        //var tempBoundingBox = this.shapeCont.getBBox();\r\n        if(this.currentBoxContains(tempBoundingBox)) {\r\n            return;\r\n        }\r\n        var changed = false;\r\n        if(this.currentBBox.w !== tempBoundingBox.width){\r\n            this.currentBBox.w = tempBoundingBox.width;\r\n            this.shapeCont.setAttribute('width',tempBoundingBox.width);\r\n            changed = true;\r\n        }\r\n        if(this.currentBBox.h !== tempBoundingBox.height){\r\n            this.currentBBox.h = tempBoundingBox.height;\r\n            this.shapeCont.setAttribute('height',tempBoundingBox.height);\r\n            changed = true;\r\n        }\r\n        if(changed  || this.currentBBox.x !== tempBoundingBox.x  || this.currentBBox.y !== tempBoundingBox.y){\r\n            this.currentBBox.w = tempBoundingBox.width;\r\n            this.currentBBox.h = tempBoundingBox.height;\r\n            this.currentBBox.x = tempBoundingBox.x;\r\n            this.currentBBox.y = tempBoundingBox.y;\r\n\r\n            this.shapeCont.setAttribute('viewBox',this.currentBBox.x+' '+this.currentBBox.y+' '+this.currentBBox.w+' '+this.currentBBox.h);\r\n            this.shapeCont.style.transform = this.shapeCont.style.webkitTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\r\n        }\r\n    }\r\n\r\n};\r\nfunction HTextElement(data,globalData,comp){\r\n    this.textSpans = [];\r\n    this.textPaths = [];\r\n    this.currentBBox = {\r\n        x:999999,\r\n        y: -999999,\r\n        h: 0,\r\n        w: 0\r\n    };\r\n    this.renderType = 'svg';\r\n    this.isMasked = false;\r\n    this.initElement(data,globalData,comp);\r\n\r\n}\r\nextendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement], HTextElement);\r\n\r\nHTextElement.prototype.createContent = function(){\r\n    this.isMasked = this.checkMasks();\r\n    if(this.isMasked){\r\n        this.renderType = 'svg';\r\n        this.compW = this.comp.data.w;\r\n        this.compH = this.comp.data.h;\r\n        this.svgElement.setAttribute('width',this.compW);\r\n        this.svgElement.setAttribute('height',this.compH);\r\n        var g = createNS('g');\r\n        this.maskedElement.appendChild(g);\r\n        this.innerElem = g;\r\n    } else {\r\n        this.renderType = 'html';\r\n        this.innerElem = this.layerElement;\r\n    }\r\n\r\n    this.checkParenting();\r\n\r\n};\r\n\r\nHTextElement.prototype.buildNewText = function(){\r\n    var documentData = this.textProperty.currentData;\r\n    this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\r\n    var innerElemStyle = this.innerElem.style;\r\n    innerElemStyle.color = innerElemStyle.fill = documentData.fc ? this.buildColor(documentData.fc) : 'rgba(0,0,0,0)';\r\n    if(documentData.sc){\r\n        innerElemStyle.stroke = this.buildColor(documentData.sc);\r\n        innerElemStyle.strokeWidth = documentData.sw+'px';\r\n    }\r\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n    if(!this.globalData.fontManager.chars){\r\n        innerElemStyle.fontSize = documentData.finalSize+'px';\r\n        innerElemStyle.lineHeight = documentData.finalSize+'px';\r\n        if(fontData.fClass){\r\n            this.innerElem.className = fontData.fClass;\r\n        } else {\r\n            innerElemStyle.fontFamily = fontData.fFamily;\r\n            var fWeight = documentData.fWeight, fStyle = documentData.fStyle;\r\n            innerElemStyle.fontStyle = fStyle;\r\n            innerElemStyle.fontWeight = fWeight;\r\n        }\r\n    }\r\n    var i, len;\r\n\r\n    var letters = documentData.l;\r\n    len = letters.length;\r\n    var tSpan,tParent,tCont;\r\n    var matrixHelper = this.mHelper;\r\n    var shapes, shapeStr = '';\r\n    var cnt = 0;\r\n    for (i = 0;i < len ;i += 1) {\r\n        if(this.globalData.fontManager.chars){\r\n            if(!this.textPaths[cnt]){\r\n                tSpan = createNS('path');\r\n                tSpan.setAttribute('stroke-linecap', 'butt');\r\n                tSpan.setAttribute('stroke-linejoin','round');\r\n                tSpan.setAttribute('stroke-miterlimit','4');\r\n            } else {\r\n                tSpan = this.textPaths[cnt];\r\n            }\r\n            if(!this.isMasked){\r\n                if(this.textSpans[cnt]){\r\n                    tParent = this.textSpans[cnt];\r\n                    tCont = tParent.children[0];\r\n                } else {\r\n\r\n                    tParent = createTag('div');\r\n                    tParent.style.lineHeight = 0;\r\n                    tCont = createNS('svg');\r\n                    tCont.appendChild(tSpan);\r\n                    styleDiv(tParent);\r\n                }\r\n            }\r\n        }else{\r\n            if(!this.isMasked){\r\n                if(this.textSpans[cnt]){\r\n                    tParent = this.textSpans[cnt];\r\n                    tSpan = this.textPaths[cnt];\r\n                } else {\r\n                    tParent = createTag('span');\r\n                    styleDiv(tParent);\r\n                    tSpan = createTag('span');\r\n                    styleDiv(tSpan);\r\n                    tParent.appendChild(tSpan);\r\n                }\r\n            } else {\r\n                tSpan = this.textPaths[cnt] ? this.textPaths[cnt] : createNS('text');\r\n            }\r\n        }\r\n        //tSpan.setAttribute('visibility', 'hidden');\r\n        if(this.globalData.fontManager.chars){\r\n            var charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n            var shapeData;\r\n            if(charData){\r\n                shapeData = charData.data;\r\n            } else {\r\n                shapeData = null;\r\n            }\r\n            matrixHelper.reset();\r\n            if(shapeData && shapeData.shapes){\r\n                shapes = shapeData.shapes[0].it;\r\n                matrixHelper.scale(documentData.finalSize/100,documentData.finalSize/100);\r\n                shapeStr = this.createPathShape(matrixHelper,shapes);\r\n                tSpan.setAttribute('d',shapeStr);\r\n            }\r\n            if(!this.isMasked){\r\n                this.innerElem.appendChild(tParent);\r\n                if(shapeData && shapeData.shapes){\r\n\r\n                    //document.body.appendChild is needed to get exact measure of shape\r\n                    document.body.appendChild(tCont);\r\n                    var boundingBox = tCont.getBBox();\r\n                    tCont.setAttribute('width',boundingBox.width + 2);\r\n                    tCont.setAttribute('height',boundingBox.height + 2);\r\n                    tCont.setAttribute('viewBox',(boundingBox.x-1)+' '+ (boundingBox.y-1)+' '+ (boundingBox.width+2)+' '+ (boundingBox.height+2));\r\n                    tCont.style.transform = tCont.style.webkitTransform = 'translate(' + (boundingBox.x-1) + 'px,' + (boundingBox.y-1) + 'px)';\r\n\r\n                    letters[i].yOffset = boundingBox.y-1;\r\n\r\n                } else{\r\n                    tCont.setAttribute('width',1);\r\n                    tCont.setAttribute('height',1);\r\n                }\r\n                    tParent.appendChild(tCont);\r\n            }else{\r\n                this.innerElem.appendChild(tSpan);\r\n            }\r\n        }else{\r\n            tSpan.textContent = letters[i].val;\r\n            tSpan.setAttributeNS(\"http://www.w3.org/XML/1998/namespace\", \"xml:space\",\"preserve\");\r\n            if(!this.isMasked){\r\n                this.innerElem.appendChild(tParent);\r\n                //\r\n                tSpan.style.transform = tSpan.style.webkitTransform = 'translate3d(0,'+ -documentData.finalSize/1.2+'px,0)';\r\n            } else {\r\n                this.innerElem.appendChild(tSpan);\r\n            }\r\n        }\r\n        //\r\n        if(!this.isMasked){\r\n            this.textSpans[cnt] = tParent;\r\n        }else{\r\n            this.textSpans[cnt] = tSpan;\r\n        }\r\n        this.textSpans[cnt].style.display = 'block';\r\n        this.textPaths[cnt] = tSpan;\r\n        cnt += 1;\r\n    }\r\n    while(cnt < this.textSpans.length){\r\n        this.textSpans[cnt].style.display = 'none';\r\n        cnt += 1;\r\n    }\r\n};\r\n\r\nHTextElement.prototype.renderInnerContent = function() {\r\n\r\n    if(this.data.singleShape){\r\n        if(!this._isFirstFrame && !this.lettersChangedFlag){\r\n            return;\r\n        } else {\r\n            // Todo Benchmark if using this is better than getBBox\r\n             if(this.isMasked && this.finalTransform._matMdf){\r\n                 this.svgElement.setAttribute('viewBox',-this.finalTransform.mProp.p.v[0]+' '+ -this.finalTransform.mProp.p.v[1]+' '+this.compW+' '+this.compH);\r\n                this.svgElement.style.transform = this.svgElement.style.webkitTransform = 'translate(' + -this.finalTransform.mProp.p.v[0] + 'px,' + -this.finalTransform.mProp.p.v[1] + 'px)';\r\n             }\r\n        }\r\n    }\r\n\r\n    this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n    if(!this.lettersChangedFlag && !this.textAnimator.lettersChangedFlag){\r\n        return;\r\n    }\r\n    var  i,len, count = 0;\r\n    var renderedLetters = this.textAnimator.renderedLetters;\r\n\r\n    var letters = this.textProperty.currentData.l;\r\n\r\n    len = letters.length;\r\n    var renderedLetter, textSpan, textPath;\r\n    for(i=0;i<len;i+=1){\r\n        if(letters[i].n){\r\n            count += 1;\r\n            continue;\r\n        }\r\n        textSpan = this.textSpans[i];\r\n        textPath = this.textPaths[i];\r\n        renderedLetter = renderedLetters[count];\r\n        count += 1;\r\n        if(renderedLetter._mdf.m) {\r\n            if(!this.isMasked){\r\n                textSpan.style.transform = textSpan.style.webkitTransform = renderedLetter.m;\r\n            }else{\r\n                textSpan.setAttribute('transform',renderedLetter.m);\r\n            }\r\n        }\r\n        ////textSpan.setAttribute('opacity',renderedLetter.o);\r\n        textSpan.style.opacity = renderedLetter.o;\r\n        if(renderedLetter.sw && renderedLetter._mdf.sw){\r\n            textPath.setAttribute('stroke-width',renderedLetter.sw);\r\n        }\r\n        if(renderedLetter.sc && renderedLetter._mdf.sc){\r\n            textPath.setAttribute('stroke',renderedLetter.sc);\r\n        }\r\n        if(renderedLetter.fc && renderedLetter._mdf.fc){\r\n            textPath.setAttribute('fill',renderedLetter.fc);\r\n            textPath.style.color = renderedLetter.fc;\r\n        }\r\n    }\r\n\r\n    if(this.innerElem.getBBox && !this.hidden && (this._isFirstFrame || this._mdf)){\r\n        var boundingBox = this.innerElem.getBBox();\r\n\r\n        if(this.currentBBox.w !== boundingBox.width){\r\n            this.currentBBox.w = boundingBox.width;\r\n            this.svgElement.setAttribute('width',boundingBox.width);\r\n        }\r\n        if(this.currentBBox.h !== boundingBox.height){\r\n            this.currentBBox.h = boundingBox.height;\r\n            this.svgElement.setAttribute('height',boundingBox.height);\r\n        }\r\n\r\n        var margin = 1;\r\n        if(this.currentBBox.w !== (boundingBox.width + margin*2) || this.currentBBox.h !== (boundingBox.height + margin*2)  || this.currentBBox.x !== (boundingBox.x - margin)  || this.currentBBox.y !== (boundingBox.y - margin)){\r\n            this.currentBBox.w = boundingBox.width + margin*2;\r\n            this.currentBBox.h = boundingBox.height + margin*2;\r\n            this.currentBBox.x = boundingBox.x - margin;\r\n            this.currentBBox.y = boundingBox.y - margin;\r\n\r\n            this.svgElement.setAttribute('viewBox',this.currentBBox.x+' '+this.currentBBox.y+' '+this.currentBBox.w+' '+this.currentBBox.h);\r\n            this.svgElement.style.transform = this.svgElement.style.webkitTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\r\n        }\r\n    }\r\n};\r\nfunction HImageElement(data,globalData,comp){\r\n    this.assetData = globalData.getAssetData(data.refId);\r\n    this.initElement(data,globalData,comp);\r\n}\r\n\r\nextendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement], HImageElement);\r\n\r\n\r\nHImageElement.prototype.createContent = function(){\r\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\r\n    var img = new Image();\r\n\r\n    if(this.data.hasMask){\r\n        this.imageElem = createNS('image');\r\n        this.imageElem.setAttribute('width',this.assetData.w+\"px\");\r\n        this.imageElem.setAttribute('height',this.assetData.h+\"px\");\r\n        this.imageElem.setAttributeNS('http://www.w3.org/1999/xlink','href',assetPath);\r\n        this.layerElement.appendChild(this.imageElem);\r\n        this.baseElement.setAttribute('width',this.assetData.w);\r\n        this.baseElement.setAttribute('height',this.assetData.h);\r\n    } else {\r\n        this.layerElement.appendChild(img);\r\n    }\r\n    img.src = assetPath;\r\n    if(this.data.ln){\r\n        this.baseElement.setAttribute('id',this.data.ln);\r\n    }\r\n};\r\nfunction HCameraElement(data,globalData,comp){\r\n    this.initFrame();\r\n    this.initBaseData(data,globalData,comp);\r\n    this.initHierarchy();\r\n    var getProp = PropertyFactory.getProp;\r\n    this.pe = getProp(this,data.pe,0,0,this);\r\n    if(data.ks.p.s){\r\n        this.px = getProp(this,data.ks.p.x,1,0,this);\r\n        this.py = getProp(this,data.ks.p.y,1,0,this);\r\n        this.pz = getProp(this,data.ks.p.z,1,0,this);\r\n    }else{\r\n        this.p = getProp(this,data.ks.p,1,0,this);\r\n    }\r\n    if(data.ks.a){\r\n        this.a = getProp(this,data.ks.a,1,0,this);\r\n    }\r\n    if(data.ks.or.k.length && data.ks.or.k[0].to){\r\n        var i,len = data.ks.or.k.length;\r\n        for(i=0;i<len;i+=1){\r\n            data.ks.or.k[i].to = null;\r\n            data.ks.or.k[i].ti = null;\r\n        }\r\n    }\r\n    this.or = getProp(this,data.ks.or,1,degToRads,this);\r\n    this.or.sh = true;\r\n    this.rx = getProp(this,data.ks.rx,0,degToRads,this);\r\n    this.ry = getProp(this,data.ks.ry,0,degToRads,this);\r\n    this.rz = getProp(this,data.ks.rz,0,degToRads,this);\r\n    this.mat = new Matrix();\r\n    this._prevMat = new Matrix();\r\n    this._isFirstFrame = true;\r\n    \r\n    // TODO: find a better way to make the HCamera element to be compatible with the LayerInterface and TransformInterface.\r\n    this.finalTransform = {\r\n        mProp: this\r\n    };\r\n}\r\nextendPrototype([BaseElement, FrameElement, HierarchyElement], HCameraElement);\r\n\r\nHCameraElement.prototype.setup = function() {\r\n    var i, len = this.comp.threeDElements.length, comp;\r\n    for(i=0;i<len;i+=1){\r\n        //[perspectiveElem,container]\r\n        comp = this.comp.threeDElements[i];\r\n        if(comp.type === '3d') {\r\n            comp.perspectiveElem.style.perspective = comp.perspectiveElem.style.webkitPerspective = this.pe.v+'px';\r\n            comp.container.style.transformOrigin = comp.container.style.mozTransformOrigin = comp.container.style.webkitTransformOrigin = \"0px 0px 0px\";\r\n            comp.perspectiveElem.style.transform = comp.perspectiveElem.style.webkitTransform = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\r\n        }\r\n    }\r\n};\r\n\r\nHCameraElement.prototype.createElements = function(){\r\n};\r\n\r\nHCameraElement.prototype.hide = function(){\r\n};\r\n\r\nHCameraElement.prototype.renderFrame = function(){\r\n    var _mdf = this._isFirstFrame;\r\n    var i, len;\r\n    if(this.hierarchy){\r\n        len = this.hierarchy.length;\r\n        for(i=0;i<len;i+=1){\r\n            _mdf = this.hierarchy[i].finalTransform.mProp._mdf || _mdf;\r\n        }\r\n    }\r\n    if(_mdf || this.pe._mdf || (this.p && this.p._mdf) || (this.px && (this.px._mdf || this.py._mdf || this.pz._mdf)) || this.rx._mdf || this.ry._mdf || this.rz._mdf || this.or._mdf || (this.a && this.a._mdf)) {\r\n        this.mat.reset();\r\n\r\n        if(this.hierarchy){\r\n            var mat;\r\n            len = this.hierarchy.length - 1;\r\n            for (i = len; i >= 0; i -= 1) {\r\n                var mTransf = this.hierarchy[i].finalTransform.mProp;\r\n                this.mat.translate(-mTransf.p.v[0],-mTransf.p.v[1],mTransf.p.v[2]);\r\n                this.mat.rotateX(-mTransf.or.v[0]).rotateY(-mTransf.or.v[1]).rotateZ(mTransf.or.v[2]);\r\n                this.mat.rotateX(-mTransf.rx.v).rotateY(-mTransf.ry.v).rotateZ(mTransf.rz.v);\r\n                this.mat.scale(1/mTransf.s.v[0],1/mTransf.s.v[1],1/mTransf.s.v[2]);\r\n                this.mat.translate(mTransf.a.v[0],mTransf.a.v[1],mTransf.a.v[2]);\r\n            }\r\n        }\r\n        if (this.p) {\r\n            this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]);\r\n        } else {\r\n            this.mat.translate(-this.px.v,-this.py.v,this.pz.v);\r\n        }\r\n        if (this.a) {\r\n            var diffVector\r\n            if (this.p) {\r\n                diffVector = [this.p.v[0] - this.a.v[0], this.p.v[1] - this.a.v[1], this.p.v[2] - this.a.v[2]];\r\n            } else {\r\n                diffVector = [this.px.v - this.a.v[0], this.py.v - this.a.v[1], this.pz.v - this.a.v[2]];\r\n            }\r\n            var mag = Math.sqrt(Math.pow(diffVector[0],2)+Math.pow(diffVector[1],2)+Math.pow(diffVector[2],2));\r\n            //var lookDir = getNormalizedPoint(getDiffVector(this.a.v,this.p.v));\r\n            var lookDir = [diffVector[0]/mag,diffVector[1]/mag,diffVector[2]/mag];\r\n            var lookLengthOnXZ = Math.sqrt( lookDir[2]*lookDir[2] + lookDir[0]*lookDir[0] );\r\n            var m_rotationX = (Math.atan2( lookDir[1], lookLengthOnXZ ));\r\n            var m_rotationY = (Math.atan2( lookDir[0], -lookDir[2]));\r\n            this.mat.rotateY(m_rotationY).rotateX(-m_rotationX);\r\n\r\n        }\r\n        this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v);\r\n        this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]);\r\n        this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0);\r\n        this.mat.translate(0,0,this.pe.v);\r\n\r\n\r\n        \r\n\r\n        var hasMatrixChanged = !this._prevMat.equals(this.mat);\r\n        if((hasMatrixChanged || this.pe._mdf) && this.comp.threeDElements) {\r\n            len = this.comp.threeDElements.length;\r\n            var comp;\r\n            for(i=0;i<len;i+=1){\r\n                comp = this.comp.threeDElements[i];\r\n                if(comp.type === '3d') {\r\n                    if(hasMatrixChanged) {\r\n                        comp.container.style.transform = comp.container.style.webkitTransform = this.mat.toCSS();\r\n                    }\r\n                    if(this.pe._mdf) {\r\n                        comp.perspectiveElem.style.perspective = comp.perspectiveElem.style.webkitPerspective = this.pe.v+'px';\r\n                    }\r\n                }\r\n            }\r\n            this.mat.clone(this._prevMat);\r\n        }\r\n    }\r\n    this._isFirstFrame = false;\r\n};\r\n\r\nHCameraElement.prototype.prepareFrame = function(num) {\r\n    this.prepareProperties(num, true);\r\n};\r\n\r\nHCameraElement.prototype.destroy = function(){\r\n};\r\nHCameraElement.prototype.getBaseElement = function(){return null;};\r\nfunction HEffects() {\r\n}\r\nHEffects.prototype.renderFrame = function(){};\r\nvar animationManager = (function(){\r\n    var moduleOb = {};\r\n    var registeredAnimations = [];\r\n    var initTime = 0;\r\n    var len = 0;\r\n    var playingAnimationsNum = 0;\r\n    var _stopped = true;\r\n    var _isFrozen = false;\r\n\r\n    function removeElement(ev){\r\n        var i = 0;\r\n        var animItem = ev.target;\r\n        while(i<len) {\r\n            if (registeredAnimations[i].animation === animItem) {\r\n                registeredAnimations.splice(i, 1);\r\n                i -= 1;\r\n                len -= 1;\r\n                if(!animItem.isPaused){\r\n                    subtractPlayingCount();\r\n                }\r\n            }\r\n            i += 1;\r\n        }\r\n    }\r\n\r\n    function registerAnimation(element, animationData){\r\n        if(!element){\r\n            return null;\r\n        }\r\n        var i=0;\r\n        while(i<len){\r\n            if(registeredAnimations[i].elem == element && registeredAnimations[i].elem !== null ){\r\n                return registeredAnimations[i].animation;\r\n            }\r\n            i+=1;\r\n        }\r\n        var animItem = new AnimationItem();\r\n        setupAnimation(animItem, element);\r\n        animItem.setData(element, animationData);\r\n        return animItem;\r\n    }\r\n\r\n    function getRegisteredAnimations() {\r\n        var i, len = registeredAnimations.length;\r\n        var animations = [];\r\n        for(i = 0; i < len; i += 1) {\r\n            animations.push(registeredAnimations[i].animation);\r\n        }\r\n        return animations;\r\n    }\r\n\r\n    function addPlayingCount(){\r\n        playingAnimationsNum += 1;\r\n        activate();\r\n    }\r\n\r\n    function subtractPlayingCount(){\r\n        playingAnimationsNum -= 1;\r\n    }\r\n\r\n    function setupAnimation(animItem, element){\r\n        animItem.addEventListener('destroy',removeElement);\r\n        animItem.addEventListener('_active',addPlayingCount);\r\n        animItem.addEventListener('_idle',subtractPlayingCount);\r\n        registeredAnimations.push({elem: element,animation:animItem});\r\n        len += 1;\r\n    }\r\n\r\n    function loadAnimation(params){\r\n        var animItem = new AnimationItem();\r\n        setupAnimation(animItem, null);\r\n        animItem.setParams(params);\r\n        return animItem;\r\n    }\r\n\r\n\r\n    function setSpeed(val,animation){\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.setSpeed(val, animation);\r\n        }\r\n    }\r\n\r\n    function setDirection(val, animation){\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.setDirection(val, animation);\r\n        }\r\n    }\r\n\r\n    function play(animation){\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.play(animation);\r\n        }\r\n    }\r\n    function resume(nowTime) {\r\n        var elapsedTime = nowTime - initTime;\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.advanceTime(elapsedTime);\r\n        }\r\n        initTime = nowTime;\r\n        if(playingAnimationsNum && !_isFrozen) {\r\n            window.requestAnimationFrame(resume);\r\n        } else {\r\n            _stopped = true;\r\n        }\r\n    }\r\n\r\n    function first(nowTime){\r\n        initTime = nowTime;\r\n        window.requestAnimationFrame(resume);\r\n    }\r\n\r\n    function pause(animation) {\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.pause(animation);\r\n        }\r\n    }\r\n\r\n    function goToAndStop(value,isFrame,animation) {\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.goToAndStop(value,isFrame,animation);\r\n        }\r\n    }\r\n\r\n    function stop(animation) {\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.stop(animation);\r\n        }\r\n    }\r\n\r\n    function togglePause(animation) {\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.togglePause(animation);\r\n        }\r\n    }\r\n\r\n    function destroy(animation) {\r\n        var i;\r\n        for(i=(len-1);i>=0;i-=1){\r\n            registeredAnimations[i].animation.destroy(animation);\r\n        }\r\n    }\r\n\r\n    function searchAnimations(animationData, standalone, renderer){\r\n        var animElements = [].concat([].slice.call(document.getElementsByClassName('lottie')),\r\n                  [].slice.call(document.getElementsByClassName('bodymovin')));\r\n        var i, len = animElements.length;\r\n        for(i=0;i<len;i+=1){\r\n            if(renderer){\r\n                animElements[i].setAttribute('data-bm-type',renderer);\r\n            }\r\n            registerAnimation(animElements[i], animationData);\r\n        }\r\n        if(standalone && len === 0){\r\n            if(!renderer){\r\n                renderer = 'svg';\r\n            }\r\n            var body = document.getElementsByTagName('body')[0];\r\n            body.innerText = '';\r\n            var div = createTag('div');\r\n            div.style.width = '100%';\r\n            div.style.height = '100%';\r\n            div.setAttribute('data-bm-type',renderer);\r\n            body.appendChild(div);\r\n            registerAnimation(div, animationData);\r\n        }\r\n    }\r\n\r\n    function resize(){\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.resize();\r\n        }\r\n    }\r\n\r\n    function activate(){\r\n        if(!_isFrozen && playingAnimationsNum){\r\n            if(_stopped) {\r\n                window.requestAnimationFrame(first);\r\n                _stopped = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    function freeze() {\r\n        _isFrozen = true;\r\n    }\r\n\r\n    function unfreeze() {\r\n        _isFrozen = false;\r\n        activate();\r\n    }\r\n\r\n    function setVolume(val,animation) {\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.setVolume(val, animation);\r\n        }\r\n    }\r\n\r\n    function mute(animation) {\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.mute(animation);\r\n        }\r\n    }\r\n\r\n    function unmute(animation) {\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.unmute(animation);\r\n        }\r\n    }\r\n\r\n    moduleOb.registerAnimation = registerAnimation;\r\n    moduleOb.loadAnimation = loadAnimation;\r\n    moduleOb.setSpeed = setSpeed;\r\n    moduleOb.setDirection = setDirection;\r\n    moduleOb.play = play;\r\n    moduleOb.pause = pause;\r\n    moduleOb.stop = stop;\r\n    moduleOb.togglePause = togglePause;\r\n    moduleOb.searchAnimations = searchAnimations;\r\n    moduleOb.resize = resize;\r\n    //moduleOb.start = start;\r\n    moduleOb.goToAndStop = goToAndStop;\r\n    moduleOb.destroy = destroy;\r\n    moduleOb.freeze = freeze;\r\n    moduleOb.unfreeze = unfreeze;\r\n    moduleOb.setVolume = setVolume;\r\n    moduleOb.mute = mute;\r\n    moduleOb.unmute = unmute;\r\n    moduleOb.getRegisteredAnimations = getRegisteredAnimations;\r\n    return moduleOb;\r\n}());\r\n\r\nvar AnimationItem = function () {\r\n    this._cbs = [];\r\n    this.name = '';\r\n    this.path = '';\r\n    this.isLoaded = false;\r\n    this.currentFrame = 0;\r\n    this.currentRawFrame = 0;\r\n    this.firstFrame = 0;\r\n    this.totalFrames = 0;\r\n    this.frameRate = 0;\r\n    this.frameMult = 0;\r\n    this.playSpeed = 1;\r\n    this.playDirection = 1;\r\n    this.playCount = 0;\r\n    this.animationData = {};\r\n    this.assets = [];\r\n    this.isPaused = true;\r\n    this.autoplay = false;\r\n    this.loop = true;\r\n    this.renderer = null;\r\n    this.animationID = createElementID();\r\n    this.assetsPath = '';\r\n    this.timeCompleted = 0;\r\n    this.segmentPos = 0;\r\n    this.isSubframeEnabled = subframeEnabled;\r\n    this.segments = [];\r\n    this._idle = true;\r\n    this._completedLoop = false;\r\n    this.projectInterface = ProjectInterface();\r\n    this.imagePreloader = new ImagePreloader();\r\n    this.audioController = audioControllerFactory();\r\n};\r\n\r\nextendPrototype([BaseEvent], AnimationItem);\r\n\r\nAnimationItem.prototype.setParams = function(params) {\r\n    if(params.wrapper || params.container){\r\n        this.wrapper = params.wrapper || params.container;\r\n    }\r\n    var animType = params.animType ? params.animType : params.renderer ? params.renderer : 'svg';\r\n    switch(animType){\r\n        case 'canvas':\r\n            this.renderer = new CanvasRenderer(this, params.rendererSettings);\r\n            break;\r\n        case 'svg':\r\n            this.renderer = new SVGRenderer(this, params.rendererSettings);\r\n            break;\r\n        default:\r\n            this.renderer = new HybridRenderer(this, params.rendererSettings);\r\n            break;\r\n    }\r\n    this.imagePreloader.setCacheType(animType);\r\n    this.renderer.setProjectInterface(this.projectInterface);\r\n    this.animType = animType;\r\n    if (params.loop === ''\r\n        || params.loop === null\r\n        || params.loop === undefined\r\n        || params.loop === true)\r\n    {\r\n        this.loop = true;\r\n    } else if (params.loop === false) {\r\n        this.loop = false;\r\n    } else {\r\n        this.loop = parseInt(params.loop);\r\n    }\r\n    this.autoplay = 'autoplay' in params ? params.autoplay : true;\r\n    this.name = params.name ? params.name :  '';\r\n    this.autoloadSegments = params.hasOwnProperty('autoloadSegments') ? params.autoloadSegments :  true;\r\n    this.assetsPath = params.assetsPath;\r\n    this.initialSegment = params.initialSegment;\r\n    if (params.audioFactory) {\r\n        this.audioController.setAudioFactory(params.audioFactory);\r\n    }\r\n    if (params.animationData) {\r\n        this.configAnimation(params.animationData);\r\n    } else if(params.path){\r\n\r\n        if( params.path.lastIndexOf('\\\\') !== -1){\r\n            this.path = params.path.substr(0,params.path.lastIndexOf('\\\\')+1);\r\n        } else {\r\n            this.path = params.path.substr(0,params.path.lastIndexOf('/')+1);\r\n        }\r\n        this.fileName = params.path.substr(params.path.lastIndexOf('/')+1);\r\n        this.fileName = this.fileName.substr(0,this.fileName.lastIndexOf('.json'));\r\n\r\n        assetLoader.load(params.path, this.configAnimation.bind(this), function() {\r\n            this.trigger('data_failed');\r\n        }.bind(this));\r\n    }\r\n\r\n};\r\n\r\nAnimationItem.prototype.setData = function (wrapper, animationData) {\r\n    var params = {\r\n        wrapper: wrapper,\r\n        animationData: animationData ? (typeof animationData  === \"object\") ? animationData : JSON.parse(animationData) : null\r\n    };\r\n    var wrapperAttributes = wrapper.attributes;\r\n\r\n    params.path = wrapperAttributes.getNamedItem('data-animation-path') ? wrapperAttributes.getNamedItem('data-animation-path').value : wrapperAttributes.getNamedItem('data-bm-path') ? wrapperAttributes.getNamedItem('data-bm-path').value :  wrapperAttributes.getNamedItem('bm-path') ? wrapperAttributes.getNamedItem('bm-path').value : '';\r\n    params.animType = wrapperAttributes.getNamedItem('data-anim-type') ? wrapperAttributes.getNamedItem('data-anim-type').value : wrapperAttributes.getNamedItem('data-bm-type') ? wrapperAttributes.getNamedItem('data-bm-type').value : wrapperAttributes.getNamedItem('bm-type') ? wrapperAttributes.getNamedItem('bm-type').value :  wrapperAttributes.getNamedItem('data-bm-renderer') ? wrapperAttributes.getNamedItem('data-bm-renderer').value : wrapperAttributes.getNamedItem('bm-renderer') ? wrapperAttributes.getNamedItem('bm-renderer').value : 'canvas';\r\n\r\n    var loop = wrapperAttributes.getNamedItem('data-anim-loop') ? wrapperAttributes.getNamedItem('data-anim-loop').value :  wrapperAttributes.getNamedItem('data-bm-loop') ? wrapperAttributes.getNamedItem('data-bm-loop').value :  wrapperAttributes.getNamedItem('bm-loop') ? wrapperAttributes.getNamedItem('bm-loop').value : '';\r\n    if(loop === ''){\r\n    }else if(loop === 'false'){\r\n        params.loop = false;\r\n    }else if(loop === 'true'){\r\n        params.loop = true;\r\n    }else{\r\n        params.loop = parseInt(loop);\r\n    }\r\n    var autoplay = wrapperAttributes.getNamedItem('data-anim-autoplay') ? wrapperAttributes.getNamedItem('data-anim-autoplay').value :  wrapperAttributes.getNamedItem('data-bm-autoplay') ? wrapperAttributes.getNamedItem('data-bm-autoplay').value :  wrapperAttributes.getNamedItem('bm-autoplay') ? wrapperAttributes.getNamedItem('bm-autoplay').value : true;\r\n    params.autoplay = autoplay !== \"false\";\r\n\r\n    params.name = wrapperAttributes.getNamedItem('data-name') ? wrapperAttributes.getNamedItem('data-name').value :  wrapperAttributes.getNamedItem('data-bm-name') ? wrapperAttributes.getNamedItem('data-bm-name').value : wrapperAttributes.getNamedItem('bm-name') ? wrapperAttributes.getNamedItem('bm-name').value :  '';\r\n    var prerender = wrapperAttributes.getNamedItem('data-anim-prerender') ? wrapperAttributes.getNamedItem('data-anim-prerender').value :  wrapperAttributes.getNamedItem('data-bm-prerender') ? wrapperAttributes.getNamedItem('data-bm-prerender').value :  wrapperAttributes.getNamedItem('bm-prerender') ? wrapperAttributes.getNamedItem('bm-prerender').value : '';\r\n\r\n    if(prerender === 'false'){\r\n        params.prerender = false;\r\n    }\r\n    this.setParams(params);\r\n};\r\n\r\nAnimationItem.prototype.includeLayers = function(data) {\r\n    if(data.op > this.animationData.op){\r\n        this.animationData.op = data.op;\r\n        this.totalFrames = Math.floor(data.op - this.animationData.ip);\r\n    }\r\n    var layers = this.animationData.layers;\r\n    var i, len = layers.length;\r\n    var newLayers = data.layers;\r\n    var j, jLen = newLayers.length;\r\n    for(j=0;j<jLen;j+=1){\r\n        i = 0;\r\n        while(i<len){\r\n            if(layers[i].id == newLayers[j].id){\r\n                layers[i] = newLayers[j];\r\n                break;\r\n            }\r\n            i += 1;\r\n        }\r\n    }\r\n    if(data.chars || data.fonts){\r\n        this.renderer.globalData.fontManager.addChars(data.chars);\r\n        this.renderer.globalData.fontManager.addFonts(data.fonts, this.renderer.globalData.defs);\r\n    }\r\n    if(data.assets){\r\n        len = data.assets.length;\r\n        for(i = 0; i < len; i += 1){\r\n            this.animationData.assets.push(data.assets[i]);\r\n        }\r\n    }\r\n    this.animationData.__complete = false;\r\n    dataManager.completeData(this.animationData,this.renderer.globalData.fontManager);\r\n    this.renderer.includeLayers(data.layers);\r\n    if(expressionsPlugin){\r\n        expressionsPlugin.initExpressions(this);\r\n    }\r\n    this.loadNextSegment();\r\n};\r\n\r\nAnimationItem.prototype.loadNextSegment = function() {\r\n    var segments = this.animationData.segments;\r\n    if(!segments || segments.length === 0 || !this.autoloadSegments){\r\n        this.trigger('data_ready');\r\n        this.timeCompleted = this.totalFrames;\r\n        return;\r\n    }\r\n    var segment = segments.shift();\r\n    this.timeCompleted = segment.time * this.frameRate;\r\n    var segmentPath = this.path+this.fileName+'_' + this.segmentPos + '.json';\r\n    this.segmentPos += 1;\r\n    assetLoader.load(segmentPath, this.includeLayers.bind(this), function() {\r\n        this.trigger('data_failed');\r\n    }.bind(this));\r\n};\r\n\r\nAnimationItem.prototype.loadSegments = function() {\r\n    var segments = this.animationData.segments;\r\n    if(!segments) {\r\n        this.timeCompleted = this.totalFrames;\r\n    }\r\n    this.loadNextSegment();\r\n};\r\n\r\nAnimationItem.prototype.imagesLoaded = function() {\r\n    this.trigger('loaded_images');\r\n    this.checkLoaded()\r\n}\r\n\r\nAnimationItem.prototype.preloadImages = function() {\r\n    this.imagePreloader.setAssetsPath(this.assetsPath);\r\n    this.imagePreloader.setPath(this.path);\r\n    this.imagePreloader.loadAssets(this.animationData.assets, this.imagesLoaded.bind(this));\r\n}\r\n\r\nAnimationItem.prototype.configAnimation = function (animData) {\r\n    if(!this.renderer){\r\n        return;\r\n    }\r\n    try {\r\n        this.animationData = animData;\r\n\r\n        if (this.initialSegment) {\r\n            this.totalFrames = Math.floor(this.initialSegment[1] - this.initialSegment[0]);\r\n            this.firstFrame = Math.round(this.initialSegment[0]);\r\n        } else {\r\n            this.totalFrames = Math.floor(this.animationData.op - this.animationData.ip);\r\n            this.firstFrame = Math.round(this.animationData.ip);\r\n        }\r\n        this.renderer.configAnimation(animData);\r\n        if(!animData.assets){\r\n            animData.assets = [];\r\n        }\r\n\r\n        this.assets = this.animationData.assets;\r\n        this.frameRate = this.animationData.fr;\r\n        this.frameMult = this.animationData.fr / 1000;\r\n        this.renderer.searchExtraCompositions(animData.assets);\r\n        this.trigger('config_ready');\r\n        this.preloadImages();\r\n        this.loadSegments();\r\n        this.updaFrameModifier();\r\n        this.waitForFontsLoaded();\r\n        if (this.isPaused) {\r\n            this.audioController.pause();\r\n        }\r\n    } catch(error) {\r\n        this.triggerConfigError(error);\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.waitForFontsLoaded = function(){\r\n    if(!this.renderer) {\r\n        return;\r\n    }\r\n    if(this.renderer.globalData.fontManager.isLoaded){\r\n        this.checkLoaded();\r\n    }else{\r\n        setTimeout(this.waitForFontsLoaded.bind(this),20);\r\n    }\r\n}\r\n\r\nAnimationItem.prototype.checkLoaded = function () {\r\n    if (!this.isLoaded \r\n        && this.renderer.globalData.fontManager.isLoaded\r\n        && (this.imagePreloader.loaded() || this.renderer.rendererType !== 'canvas')\r\n    ) {\r\n        this.isLoaded = true;\r\n        dataManager.completeData(this.animationData, this.renderer.globalData.fontManager);\r\n        if(expressionsPlugin){\r\n            expressionsPlugin.initExpressions(this);\r\n        }\r\n        this.renderer.initItems();\r\n        setTimeout(function() {\r\n            this.trigger('DOMLoaded');\r\n        }.bind(this), 0);\r\n        this.gotoFrame();\r\n        if(this.autoplay){\r\n            this.play();\r\n        }\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.resize = function () {\r\n    this.renderer.updateContainerSize();\r\n};\r\n\r\nAnimationItem.prototype.setSubframe = function(flag){\r\n    this.isSubframeEnabled = !!flag;\r\n};\r\n\r\nAnimationItem.prototype.gotoFrame = function () {\r\n    this.currentFrame = this.isSubframeEnabled ? this.currentRawFrame : ~~this.currentRawFrame;\r\n\r\n    if(this.timeCompleted !== this.totalFrames && this.currentFrame > this.timeCompleted){\r\n        this.currentFrame = this.timeCompleted;\r\n    }\r\n    this.trigger('enterFrame');\r\n    this.renderFrame();\r\n};\r\n\r\nAnimationItem.prototype.renderFrame = function () {\r\n    if(this.isLoaded === false){\r\n        return;\r\n    }\r\n    try {\r\n        this.renderer.renderFrame(this.currentFrame + this.firstFrame);\r\n    } catch(error) {\r\n        this.triggerRenderFrameError(error);\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.play = function (name) {\r\n    if(name && this.name != name){\r\n        return;\r\n    }\r\n    if (this.isPaused === true) {\r\n        this.isPaused = false;\r\n        this.audioController.resume();\r\n        if(this._idle){\r\n            this._idle = false;\r\n            this.trigger('_active');\r\n        }\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.pause = function (name) {\r\n    if(name && this.name != name){\r\n        return;\r\n    }\r\n    if(this.isPaused === false){\r\n        this.isPaused = true;\r\n        this._idle = true;\r\n        this.trigger('_idle');\r\n        this.audioController.pause();\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.togglePause = function (name) {\r\n    if(name && this.name != name){\r\n        return;\r\n    }\r\n    if(this.isPaused === true){\r\n        this.play();\r\n    }else{\r\n        this.pause();\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.stop = function (name) {\r\n    if(name && this.name != name){\r\n        return;\r\n    }\r\n    this.pause();\r\n    this.playCount = 0;\r\n    this._completedLoop = false;\r\n    this.setCurrentRawFrameValue(0);\r\n};\r\n\r\nAnimationItem.prototype.goToAndStop = function (value, isFrame, name) {\r\n    if(name && this.name != name){\r\n        return;\r\n    }\r\n    if(isFrame){\r\n        this.setCurrentRawFrameValue(value);\r\n    }else{\r\n        this.setCurrentRawFrameValue(value * this.frameModifier);\r\n    }\r\n    this.pause();\r\n};\r\n\r\nAnimationItem.prototype.goToAndPlay = function (value, isFrame, name) {\r\n    this.goToAndStop(value, isFrame, name);\r\n    this.play();\r\n};\r\n\r\nAnimationItem.prototype.advanceTime = function (value) {\r\n    if (this.isPaused === true || this.isLoaded === false) {\r\n        return;\r\n    }\r\n    var nextValue = this.currentRawFrame + value * this.frameModifier;\r\n    var _isComplete = false;\r\n    // Checking if nextValue > totalFrames - 1 for addressing non looping and looping animations.\r\n    // If animation won't loop, it should stop at totalFrames - 1. If it will loop it should complete the last frame and then loop.\r\n    if (nextValue >= this.totalFrames - 1 && this.frameModifier > 0) {\r\n        if (!this.loop || this.playCount === this.loop) {\r\n            if (!this.checkSegments(nextValue >  this.totalFrames ? nextValue % this.totalFrames : 0)) {\r\n                _isComplete = true;\r\n                nextValue = this.totalFrames - 1;\r\n            }\r\n        } else if (nextValue >= this.totalFrames) {\r\n            this.playCount += 1;\r\n            if (!this.checkSegments(nextValue % this.totalFrames)) {\r\n                this.setCurrentRawFrameValue(nextValue % this.totalFrames);\r\n                this._completedLoop = true;\r\n                this.trigger('loopComplete');\r\n            }\r\n        } else {\r\n            this.setCurrentRawFrameValue(nextValue);\r\n        }\r\n    } else if(nextValue < 0) {\r\n        if (!this.checkSegments(nextValue % this.totalFrames)) {\r\n            if (this.loop && !(this.playCount-- <= 0 && this.loop !== true)) {\r\n                this.setCurrentRawFrameValue(this.totalFrames + (nextValue % this.totalFrames));\r\n                if(!this._completedLoop) {\r\n                    this._completedLoop = true;\r\n                } else {\r\n                    this.trigger('loopComplete');\r\n                }\r\n            } else {\r\n                _isComplete = true;\r\n                nextValue = 0;\r\n            }\r\n        }\r\n    } else {\r\n        this.setCurrentRawFrameValue(nextValue);\r\n    }\r\n    if (_isComplete) {\r\n        this.setCurrentRawFrameValue(nextValue);\r\n        this.pause();\r\n        this.trigger('complete');\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.adjustSegment = function(arr, offset){\r\n    this.playCount = 0;\r\n    if(arr[1] < arr[0]){\r\n        if(this.frameModifier > 0){\r\n            if(this.playSpeed < 0){\r\n                this.setSpeed(-this.playSpeed);\r\n            } else {\r\n                this.setDirection(-1);\r\n            }\r\n        }\r\n        this.timeCompleted = this.totalFrames = arr[0] - arr[1];\r\n        this.firstFrame = arr[1];\r\n        this.setCurrentRawFrameValue(this.totalFrames - 0.001 - offset);\r\n    } else if(arr[1] > arr[0]){\r\n        if(this.frameModifier < 0){\r\n            if(this.playSpeed < 0){\r\n                this.setSpeed(-this.playSpeed);\r\n            } else {\r\n                this.setDirection(1);\r\n            }\r\n        }\r\n        this.timeCompleted = this.totalFrames = arr[1] - arr[0];\r\n        this.firstFrame = arr[0];\r\n        this.setCurrentRawFrameValue(0.001 + offset);\r\n    }\r\n    this.trigger('segmentStart');\r\n};\r\nAnimationItem.prototype.setSegment = function (init,end) {\r\n    var pendingFrame = -1;\r\n    if(this.isPaused) {\r\n        if (this.currentRawFrame + this.firstFrame < init) {\r\n            pendingFrame = init;\r\n        } else if (this.currentRawFrame + this.firstFrame > end) {\r\n            pendingFrame = end - init;\r\n        }\r\n    }\r\n\r\n    this.firstFrame = init;\r\n    this.timeCompleted = this.totalFrames = end - init;\r\n    if(pendingFrame !== -1) {\r\n        this.goToAndStop(pendingFrame,true);\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.playSegments = function (arr, forceFlag) {\r\n    if (forceFlag) {\r\n        this.segments.length = 0;\r\n    }\r\n    if (typeof arr[0] === 'object') {\r\n        var i, len = arr.length;\r\n        for (i = 0; i < len; i += 1) {\r\n            this.segments.push(arr[i]);\r\n        }\r\n    } else {\r\n        this.segments.push(arr);\r\n    }\r\n    if (this.segments.length && forceFlag) {\r\n        this.adjustSegment(this.segments.shift(), 0);\r\n    }\r\n    if (this.isPaused) {\r\n        this.play();\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.resetSegments = function (forceFlag) {\r\n    this.segments.length = 0;\r\n    this.segments.push([this.animationData.ip,this.animationData.op]);\r\n    //this.segments.push([this.animationData.ip*this.frameRate,Math.floor(this.animationData.op - this.animationData.ip+this.animationData.ip*this.frameRate)]);\r\n    if (forceFlag) {\r\n        this.checkSegments(0);\r\n    }\r\n};\r\nAnimationItem.prototype.checkSegments = function(offset) {\r\n    if (this.segments.length) {\r\n        this.adjustSegment(this.segments.shift(), offset);\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\n\r\nAnimationItem.prototype.destroy = function (name) {\r\n    if ((name && this.name != name) || !this.renderer) {\r\n        return;\r\n    }\r\n    this.renderer.destroy();\r\n    this.imagePreloader.destroy();\r\n    this.trigger('destroy');\r\n    this._cbs = null;\r\n    this.onEnterFrame = this.onLoopComplete = this.onComplete = this.onSegmentStart = this.onDestroy = null;\r\n    this.renderer = null;\r\n};\r\n\r\nAnimationItem.prototype.setCurrentRawFrameValue = function(value){\r\n    this.currentRawFrame = value;\r\n    this.gotoFrame();\r\n};\r\n\r\nAnimationItem.prototype.setSpeed = function (val) {\r\n    this.playSpeed = val;\r\n    this.updaFrameModifier();\r\n};\r\n\r\nAnimationItem.prototype.setDirection = function (val) {\r\n    this.playDirection = val < 0 ? -1 : 1;\r\n    this.updaFrameModifier();\r\n};\r\n\r\nAnimationItem.prototype.setVolume = function (val, name) {\r\n    if (name && this.name !== name) {\r\n        return;\r\n    }\r\n    this.audioController.setVolume(val);\r\n};\r\n\r\nAnimationItem.prototype.getVolume = function () {\r\n    return this.audioController.getVolume();\r\n};\r\n\r\nAnimationItem.prototype.mute = function (name) {\r\n    if (name && this.name !== name) {\r\n        return;\r\n    }\r\n    this.audioController.mute();\r\n};\r\n\r\nAnimationItem.prototype.unmute = function (name) {\r\n    if(name && this.name !== name){\r\n        return;\r\n    }\r\n    this.audioController.unmute();\r\n};\r\n\r\nAnimationItem.prototype.updaFrameModifier = function () {\r\n    this.frameModifier = this.frameMult * this.playSpeed * this.playDirection;\r\n    this.audioController.setRate(this.playSpeed * this.playDirection)\r\n};\r\n\r\nAnimationItem.prototype.getPath = function () {\r\n    return this.path;\r\n};\r\n\r\nAnimationItem.prototype.getAssetsPath = function (assetData) {\r\n    var path = '';\r\n    if(assetData.e) {\r\n        path = assetData.p;\r\n    } else if(this.assetsPath){\r\n        var imagePath = assetData.p;\r\n        if(imagePath.indexOf('images/') !== -1){\r\n            imagePath = imagePath.split('/')[1];\r\n        }\r\n        path = this.assetsPath + imagePath;\r\n    } else {\r\n        path = this.path;\r\n        path += assetData.u ? assetData.u : '';\r\n        path += assetData.p;\r\n    }\r\n    return path;\r\n};\r\n\r\nAnimationItem.prototype.getAssetData = function (id) {\r\n    var i = 0, len = this.assets.length;\r\n    while (i < len) {\r\n        if(id == this.assets[i].id){\r\n            return this.assets[i];\r\n        }\r\n        i += 1;\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.hide = function () {\r\n    this.renderer.hide();\r\n};\r\n\r\nAnimationItem.prototype.show = function () {\r\n    this.renderer.show();\r\n};\r\n\r\nAnimationItem.prototype.getDuration = function (isFrame) {\r\n    return isFrame ? this.totalFrames : this.totalFrames / this.frameRate;\r\n};\r\n\r\nAnimationItem.prototype.trigger = function(name){\r\n    if(this._cbs && this._cbs[name]){\r\n        switch(name){\r\n            case 'enterFrame':\r\n                this.triggerEvent(name,new BMEnterFrameEvent(name,this.currentFrame,this.totalFrames,this.frameModifier));\r\n                break;\r\n            case 'loopComplete':\r\n                this.triggerEvent(name,new BMCompleteLoopEvent(name,this.loop,this.playCount,this.frameMult));\r\n                break;\r\n            case 'complete':\r\n                this.triggerEvent(name,new BMCompleteEvent(name,this.frameMult));\r\n                break;\r\n            case 'segmentStart':\r\n                this.triggerEvent(name,new BMSegmentStartEvent(name,this.firstFrame,this.totalFrames));\r\n                break;\r\n            case 'destroy':\r\n                this.triggerEvent(name,new BMDestroyEvent(name,this));\r\n                break;\r\n            default:\r\n                this.triggerEvent(name);\r\n        }\r\n    }\r\n    if(name === 'enterFrame' && this.onEnterFrame){\r\n        this.onEnterFrame.call(this,new BMEnterFrameEvent(name,this.currentFrame,this.totalFrames,this.frameMult));\r\n    }\r\n    if(name === 'loopComplete' && this.onLoopComplete){\r\n        this.onLoopComplete.call(this,new BMCompleteLoopEvent(name,this.loop,this.playCount,this.frameMult));\r\n    }\r\n    if(name === 'complete' && this.onComplete){\r\n        this.onComplete.call(this,new BMCompleteEvent(name,this.frameMult));\r\n    }\r\n    if(name === 'segmentStart' && this.onSegmentStart){\r\n        this.onSegmentStart.call(this,new BMSegmentStartEvent(name,this.firstFrame,this.totalFrames));\r\n    }\r\n    if(name === 'destroy' && this.onDestroy){\r\n        this.onDestroy.call(this,new BMDestroyEvent(name,this));\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.triggerRenderFrameError = function(nativeError) {\r\n\r\n    var error = new BMRenderFrameErrorEvent(nativeError, this.currentFrame);\r\n    this.triggerEvent('error', error);\r\n\r\n    if (this.onError) {\r\n        this.onError.call(this, error);\r\n    }\r\n}\r\n\r\nAnimationItem.prototype.triggerConfigError = function(nativeError) {\r\n\r\n    var error = new BMConfigErrorEvent(nativeError, this.currentFrame);\r\n    this.triggerEvent('error', error);\r\n\r\n    if (this.onError) {\r\n        this.onError.call(this, error);\r\n    }\r\n}\r\nvar Expressions = (function(){\r\n    var ob = {};\r\n    ob.initExpressions = initExpressions;\r\n\r\n\r\n    function initExpressions(animation){\r\n\r\n    \tvar stackCount = 0;\r\n    \tvar registers = [];\r\n\r\n    \tfunction pushExpression() {\r\n\t\t\tstackCount += 1;\r\n    \t}\r\n\r\n    \tfunction popExpression() {\r\n\t\t\tstackCount -= 1;\r\n\t\t\tif (stackCount === 0) {\r\n\t\t\t\treleaseInstances();\r\n\t\t\t}\r\n    \t}\r\n\r\n    \tfunction registerExpressionProperty(expression) {\r\n    \t\tif (registers.indexOf(expression) === -1) {\r\n\t\t\t\tregisters.push(expression)\r\n    \t\t}\r\n    \t}\r\n\r\n    \tfunction releaseInstances() {\r\n    \t\tvar i, len = registers.length;\r\n    \t\tfor (i = 0; i < len; i += 1) {\r\n\t\t\t\tregisters[i].release();\r\n    \t\t}\r\n    \t\tregisters.length = 0;\r\n    \t}\r\n\r\n        animation.renderer.compInterface = CompExpressionInterface(animation.renderer);\r\n        animation.renderer.globalData.projectInterface.registerComposition(animation.renderer);\r\n        animation.renderer.globalData.pushExpression = pushExpression;\r\n        animation.renderer.globalData.popExpression = popExpression;\r\n        animation.renderer.globalData.registerExpressionProperty = registerExpressionProperty;\r\n    }\r\n   return ob;\r\n}());\r\n\r\nexpressionsPlugin = Expressions;\r\n\r\nvar ExpressionManager = (function(){\r\n    'use strict';\r\n    var ob = {};\r\n    var Math = BMMath;\r\n    var window = null;\r\n    var document = null;\r\n\r\n    function $bm_isInstanceOfArray(arr) {\r\n        return arr.constructor === Array || arr.constructor === Float32Array;\r\n    }\r\n\r\n    function isNumerable(tOfV, v) {\r\n        return tOfV === 'number' || tOfV === 'boolean' || tOfV === 'string' || v instanceof Number;\r\n    }\r\n\r\n    function $bm_neg(a){\r\n        var tOfA = typeof a;\r\n        if(tOfA === 'number' || tOfA === 'boolean'  || a instanceof Number ){\r\n            return -a;\r\n        }\r\n        if($bm_isInstanceOfArray(a)){\r\n            var i, lenA = a.length;\r\n            var retArr = [];\r\n            for(i=0;i<lenA;i+=1){\r\n                retArr[i] = -a[i];\r\n            }\r\n            return retArr;\r\n        }\r\n        if (a.propType) {\r\n            return a.v;\r\n        }\r\n    }\r\n\r\n    var easeInBez = BezierFactory.getBezierEasing(0.333,0,.833,.833, 'easeIn').get;\r\n    var easeOutBez = BezierFactory.getBezierEasing(0.167,0.167,.667,1, 'easeOut').get;\r\n    var easeInOutBez = BezierFactory.getBezierEasing(.33,0,.667,1, 'easeInOut').get;\r\n\r\n    function sum(a,b) {\r\n        var tOfA = typeof a;\r\n        var tOfB = typeof b;\r\n        if(tOfA === 'string' || tOfB === 'string'){\r\n            return a + b;\r\n        }\r\n        if(isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n            return a + b;\r\n        }\r\n        if($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)){\r\n            a = a.slice(0);\r\n            a[0] = a[0] + b;\r\n            return a;\r\n        }\r\n        if(isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)){\r\n            b = b.slice(0);\r\n            b[0] = a + b[0];\r\n            return b;\r\n        }\r\n        if($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)){\r\n            \r\n            var i = 0, lenA = a.length, lenB = b.length;\r\n            var retArr = [];\r\n            while(i<lenA || i < lenB){\r\n                if((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)){\r\n                    retArr[i] = a[i] + b[i];\r\n                }else{\r\n                    retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\r\n                }\r\n                i += 1;\r\n            }\r\n            return retArr;\r\n        }\r\n        return 0;\r\n    }\r\n    var add = sum;\r\n\r\n    function sub(a,b) {\r\n        var tOfA = typeof a;\r\n        var tOfB = typeof b;\r\n        if(isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n            if(tOfA === 'string') {\r\n                a = parseInt(a);\r\n            }\r\n            if(tOfB === 'string') {\r\n                b = parseInt(b);\r\n            }\r\n            return a - b;\r\n        }\r\n        if( $bm_isInstanceOfArray(a) && isNumerable(tOfB, b)){\r\n            a = a.slice(0);\r\n            a[0] = a[0] - b;\r\n            return a;\r\n        }\r\n        if(isNumerable(tOfA, a) &&  $bm_isInstanceOfArray(b)){\r\n            b = b.slice(0);\r\n            b[0] = a - b[0];\r\n            return b;\r\n        }\r\n        if($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)){\r\n            var i = 0, lenA = a.length, lenB = b.length;\r\n            var retArr = [];\r\n            while(i<lenA || i < lenB){\r\n                if((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)){\r\n                    retArr[i] = a[i] - b[i];\r\n                }else{\r\n                    retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\r\n                }\r\n                i += 1;\r\n            }\r\n            return retArr;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    function mul(a,b) {\r\n        var tOfA = typeof a;\r\n        var tOfB = typeof b;\r\n        var arr;\r\n        if(isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n            return a * b;\r\n        }\r\n\r\n        var i, len;\r\n        if($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)){\r\n            len = a.length;\r\n            arr = createTypedArray('float32', len);\r\n            for(i=0;i<len;i+=1){\r\n                arr[i] = a[i] * b;\r\n            }\r\n            return arr;\r\n        }\r\n        if(isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)){\r\n            len = b.length;\r\n            arr = createTypedArray('float32', len);\r\n            for(i=0;i<len;i+=1){\r\n                arr[i] = a * b[i];\r\n            }\r\n            return arr;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    function div(a,b) {\r\n        var tOfA = typeof a;\r\n        var tOfB = typeof b;\r\n        var arr;\r\n        if(isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n            return a / b;\r\n        }\r\n        var i, len;\r\n        if($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)){\r\n            len = a.length;\r\n            arr = createTypedArray('float32', len);\r\n            for(i=0;i<len;i+=1){\r\n                arr[i] = a[i] / b;\r\n            }\r\n            return arr;\r\n        }\r\n        if(isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)){\r\n            len = b.length;\r\n            arr = createTypedArray('float32', len);\r\n            for(i=0;i<len;i+=1){\r\n                arr[i] = a / b[i];\r\n            }\r\n            return arr;\r\n        }\r\n        return 0;\r\n    }\r\n    function mod(a,b) {\r\n        if(typeof a === 'string') {\r\n            a = parseInt(a);\r\n        }\r\n        if(typeof b === 'string') {\r\n            b = parseInt(b);\r\n        }\r\n        return a % b;\r\n    }\r\n    var $bm_sum = sum;\r\n    var $bm_sub = sub;\r\n    var $bm_mul = mul;\r\n    var $bm_div = div;\r\n    var $bm_mod = mod;\r\n\r\n    function clamp(num, min, max) {\r\n        if(min > max){\r\n            var mm = max;\r\n            max = min;\r\n            min = mm;\r\n        }\r\n        return Math.min(Math.max(num, min), max);\r\n    }\r\n\r\n    function radiansToDegrees(val) {\r\n        return val/degToRads;\r\n    }\r\n    var radians_to_degrees = radiansToDegrees;\r\n\r\n    function degreesToRadians(val) {\r\n        return val*degToRads;\r\n    }\r\n    var degrees_to_radians = radiansToDegrees;\r\n\r\n    var helperLengthArray = [0,0,0,0,0,0];\r\n\r\n    function length(arr1, arr2) {\r\n        if (typeof arr1 === 'number' || arr1 instanceof Number) {\r\n            arr2 = arr2 || 0;\r\n            return Math.abs(arr1 - arr2);\r\n        }\r\n        if(!arr2) {\r\n            arr2 = helperLengthArray;\r\n        }\r\n        var i, len = Math.min(arr1.length, arr2.length);\r\n        var addedLength = 0;\r\n        for (i = 0; i < len; i += 1) {\r\n            addedLength += Math.pow(arr2[i] - arr1[i], 2);\r\n        }\r\n        return Math.sqrt(addedLength);\r\n    }\r\n\r\n    function normalize(vec) {\r\n        return div(vec, length(vec));\r\n    }\r\n\r\n    function rgbToHsl(val) {\r\n        var r = val[0]; var g = val[1]; var b = val[2];\r\n        var max = Math.max(r, g, b), min = Math.min(r, g, b);\r\n        var h, s, l = (max + min) / 2;\r\n\r\n        if(max == min){\r\n            h = s = 0; // achromatic\r\n        }else{\r\n            var d = max - min;\r\n            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n            switch(max){\r\n                case r: h = (g - b) / d + (g < b ? 6 : 0); break;\r\n                case g: h = (b - r) / d + 2; break;\r\n                case b: h = (r - g) / d + 4; break;\r\n            }\r\n            h /= 6;\r\n        }\r\n\r\n        return [h, s, l,val[3]];\r\n    }\r\n\r\n    function hue2rgb(p, q, t){\r\n        if(t < 0) t += 1;\r\n        if(t > 1) t -= 1;\r\n        if(t < 1/6) return p + (q - p) * 6 * t;\r\n        if(t < 1/2) return q;\r\n        if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\r\n        return p;\r\n    }\r\n\r\n    function hslToRgb(val){\r\n        var h = val[0];\r\n        var s = val[1];\r\n        var l = val[2];\r\n\r\n        var r, g, b;\r\n\r\n        if(s === 0){\r\n            r = g = b = l; // achromatic\r\n        }else{\r\n\r\n            var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n            var p = 2 * l - q;\r\n            r = hue2rgb(p, q, h + 1/3);\r\n            g = hue2rgb(p, q, h);\r\n            b = hue2rgb(p, q, h - 1/3);\r\n        }\r\n\r\n        return [r, g , b, val[3]];\r\n    }\r\n\r\n    function linear(t, tMin, tMax, value1, value2){\r\n        if(value1 === undefined || value2 === undefined){\r\n            value1 = tMin;\r\n            value2 = tMax;\r\n            tMin = 0;\r\n            tMax = 1;\r\n        }\r\n        if(tMax < tMin) {\r\n            var _tMin = tMax;\r\n            tMax = tMin;\r\n            tMin = _tMin;\r\n        }\r\n        if(t <= tMin) {\r\n            return value1;\r\n        }else if(t >= tMax){\r\n            return value2;\r\n        }\r\n        var perc = tMax === tMin ? 0 : (t-tMin)/(tMax-tMin);\r\n        if(!value1.length){\r\n            return value1 + (value2-value1)*perc;\r\n        }\r\n        var i, len = value1.length;\r\n        var arr = createTypedArray('float32', len);\r\n        for(i=0;i<len;i+=1){\r\n            arr[i] = value1[i] + (value2[i]-value1[i])*perc;\r\n        }\r\n        return arr;\r\n    }\r\n    function random(min,max){\r\n        if(max === undefined){\r\n            if(min === undefined){\r\n                min = 0;\r\n                max = 1;\r\n            } else {\r\n                max = min;\r\n                min = undefined;\r\n            }\r\n        }\r\n        if(max.length){\r\n            var i, len = max.length;\r\n            if(!min){\r\n                min = createTypedArray('float32', len);\r\n            }\r\n            var arr = createTypedArray('float32', len);\r\n            var rnd = BMMath.random();\r\n            for(i=0;i<len;i+=1){\r\n                arr[i] = min[i] + rnd*(max[i]-min[i]);\r\n            }\r\n            return arr;\r\n        }\r\n        if(min === undefined){\r\n            min = 0;\r\n        }\r\n        var rndm = BMMath.random();\r\n        return min + rndm*(max-min);\r\n    }\r\n\r\n    function createPath(points, inTangents, outTangents, closed) {\r\n        var i, len = points.length;\r\n        var path = shape_pool.newElement();\r\n        path.setPathData(!!closed, len);\r\n        var arrPlaceholder = [0,0], inVertexPoint, outVertexPoint;\r\n        for(i = 0; i < len; i += 1) {\r\n            inVertexPoint = (inTangents && inTangents[i]) ? inTangents[i] : arrPlaceholder;\r\n            outVertexPoint = (outTangents && outTangents[i]) ? outTangents[i] : arrPlaceholder;\r\n            path.setTripleAt(points[i][0],points[i][1],outVertexPoint[0] + points[i][0],outVertexPoint[1] + points[i][1],inVertexPoint[0] + points[i][0],inVertexPoint[1] + points[i][1],i,true);\r\n        }\r\n        return path;\r\n    }\r\n\r\n    function initiateExpression(elem,data,property){\r\n        var val = data.x;\r\n        var needsVelocity = /velocity(?![\\w\\d])/.test(val);\r\n        var _needsRandom = val.indexOf('random') !== -1;\r\n        var elemType = elem.data.ty;\r\n        var transform,$bm_transform,content,effect;\r\n        var thisProperty = property;\r\n        thisProperty.valueAtTime = thisProperty.getValueAtTime;\r\n        Object.defineProperty(thisProperty, 'value', {\r\n            get: function() {\r\n                return thisProperty.v\r\n            }\r\n        })\r\n        elem.comp.frameDuration = 1/elem.comp.globalData.frameRate;\r\n        elem.comp.displayStartTime = 0;\r\n        var inPoint = elem.data.ip/elem.comp.globalData.frameRate;\r\n        var outPoint = elem.data.op/elem.comp.globalData.frameRate;\r\n        var width = elem.data.sw ? elem.data.sw : 0;\r\n        var height = elem.data.sh ? elem.data.sh : 0;\r\n        var name = elem.data.nm;\r\n        var loopIn, loop_in, loopOut, loop_out, smooth;\r\n        var toWorld,fromWorld,fromComp,toComp,fromCompToSurface, position, rotation, anchorPoint, scale, thisLayer, thisComp,mask,valueAtTime,velocityAtTime;\r\n        var __expression_functions = [];\r\n        if(data.xf) {\r\n            var i, len = data.xf.length;\r\n            for(i = 0; i < len; i += 1) {\r\n                __expression_functions[i] = eval('(function(){ return ' + data.xf[i] + '}())');\r\n            }\r\n        }\r\n\r\n        var scoped_bm_rt;\r\n        var expression_function = eval('[function _expression_function(){' + val+';scoped_bm_rt=$bm_rt}' + ']')[0];\r\n        var numKeys = property.kf ? data.k.length : 0;\r\n\r\n        var active = !this.data || this.data.hd !== true;\r\n\r\n        var wiggle = function wiggle(freq,amp){\r\n            var i,j, len = this.pv.length ? this.pv.length : 1;\r\n            var addedAmps = createTypedArray('float32', len);\r\n            freq = 5;\r\n            var iterations = Math.floor(time*freq);\r\n            i = 0;\r\n            j = 0;\r\n            while(i<iterations){\r\n                //var rnd = BMMath.random();\r\n                for(j=0;j<len;j+=1){\r\n                    addedAmps[j] += -amp + amp*2*BMMath.random();\r\n                    //addedAmps[j] += -amp + amp*2*rnd;\r\n                }\r\n                i += 1;\r\n            }\r\n            //var rnd2 = BMMath.random();\r\n            var periods = time*freq;\r\n            var perc = periods - Math.floor(periods);\r\n            var arr = createTypedArray('float32', len);\r\n            if(len>1){\r\n                for(j=0;j<len;j+=1){\r\n                    arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp*2*BMMath.random())*perc;\r\n                    //arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp*2*rnd)*perc;\r\n                    //arr[i] = this.pv[i] + addedAmp + amp1*perc + amp2*(1-perc);\r\n                }\r\n                return arr;\r\n            } else {\r\n                return this.pv + addedAmps[0] + (-amp + amp*2*BMMath.random())*perc;\r\n            }\r\n        }.bind(this);\r\n\r\n        if(thisProperty.loopIn) {\r\n            loopIn = thisProperty.loopIn.bind(thisProperty);\r\n            loop_in = loopIn;\r\n        }\r\n\r\n        if(thisProperty.loopOut) {\r\n            loopOut = thisProperty.loopOut.bind(thisProperty);\r\n            loop_out = loopOut;\r\n        }\r\n\r\n        if(thisProperty.smooth) {\r\n            smooth = thisProperty.smooth.bind(thisProperty);\r\n        }\r\n\r\n        function loopInDuration(type,duration){\r\n            return loopIn(type,duration,true);\r\n        }\r\n\r\n        function loopOutDuration(type,duration){\r\n            return loopOut(type,duration,true);\r\n        }\r\n\r\n        if(this.getValueAtTime) {\r\n            valueAtTime = this.getValueAtTime.bind(this);\r\n        }\r\n\r\n        if(this.getVelocityAtTime) {\r\n            velocityAtTime = this.getVelocityAtTime.bind(this);\r\n        }\r\n\r\n        var comp = elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);\r\n\r\n        function lookAt(elem1,elem2){\r\n            var fVec = [elem2[0]-elem1[0],elem2[1]-elem1[1],elem2[2]-elem1[2]];\r\n            var pitch = Math.atan2(fVec[0],Math.sqrt(fVec[1]*fVec[1]+fVec[2]*fVec[2]))/degToRads;\r\n            var yaw = -Math.atan2(fVec[1],fVec[2])/degToRads;\r\n            return [yaw,pitch,0];\r\n        }\r\n\r\n        function easeOut(t, tMin, tMax, val1, val2){\r\n            return applyEase(easeOutBez, t, tMin, tMax, val1, val2);\r\n        }\r\n\r\n        function easeIn(t, tMin, tMax, val1, val2){\r\n            return applyEase(easeInBez, t, tMin, tMax, val1, val2);\r\n        }\r\n\r\n        function ease(t, tMin, tMax, val1, val2){\r\n            return applyEase(easeInOutBez, t, tMin, tMax, val1, val2);\r\n        }\r\n\r\n        function applyEase(fn, t, tMin, tMax, val1, val2) {\r\n            if(val1 === undefined){\r\n                val1 = tMin;\r\n                val2 = tMax;\r\n            } else {\r\n                t = (t - tMin) / (tMax - tMin);\r\n            }\r\n            t = t > 1 ? 1 : t < 0 ? 0 : t;\r\n            var mult = fn(t);\r\n            if($bm_isInstanceOfArray(val1)) {\r\n                var i, len = val1.length;\r\n                var arr = createTypedArray('float32', len);\r\n                for (i = 0; i < len; i += 1) {\r\n                    arr[i] = (val2[i] - val1[i]) * mult + val1[i];\r\n                }\r\n                return arr;\r\n            } else {\r\n                return (val2 - val1) * mult + val1;\r\n            }\r\n        }\r\n\r\n        function nearestKey(time){\r\n            var i, len = data.k.length,index,keyTime;\r\n            if(!data.k.length || typeof(data.k[0]) === 'number'){\r\n                index = 0;\r\n                keyTime = 0;\r\n            } else {\r\n                index = -1;\r\n                time *= elem.comp.globalData.frameRate;\r\n                if (time < data.k[0].t) {\r\n                    index = 1;\r\n                    keyTime = data.k[0].t;\r\n                } else {\r\n                    for(i=0;i<len-1;i+=1){\r\n                        if(time === data.k[i].t){\r\n                            index = i + 1;\r\n                            keyTime = data.k[i].t;\r\n                            break;\r\n                        }else if(time>data.k[i].t && time<data.k[i+1].t){\r\n                            if(time-data.k[i].t > data.k[i+1].t - time){\r\n                                index = i + 2;\r\n                                keyTime = data.k[i+1].t;\r\n                            } else {\r\n                                index = i + 1;\r\n                                keyTime = data.k[i].t;\r\n                            }\r\n                            break;\r\n                        }\r\n                    }\r\n                    if(index === -1){\r\n                        index = i + 1;\r\n                        keyTime = data.k[i].t;\r\n                    }\r\n                }\r\n                \r\n            }\r\n            var ob = {};\r\n            ob.index = index;\r\n            ob.time = keyTime/elem.comp.globalData.frameRate;\r\n            return ob;\r\n        }\r\n\r\n        function key(ind){\r\n            var ob, i, len;\r\n            if(!data.k.length || typeof(data.k[0]) === 'number'){\r\n                throw new Error('The property has no keyframe at index ' + ind);\r\n            }\r\n            ind -= 1;\r\n            ob = {\r\n                time: data.k[ind].t/elem.comp.globalData.frameRate,\r\n                value: []\r\n            };\r\n            var arr = data.k[ind].hasOwnProperty('s') ? data.k[ind].s : data.k[ind - 1].e;\r\n\r\n            len = arr.length;\r\n            for(i=0;i<len;i+=1){\r\n                ob[i] = arr[i];\r\n                ob.value[i] = arr[i]\r\n            }\r\n            return ob;\r\n        }\r\n\r\n        function framesToTime(frames, fps) { \r\n            if (!fps) {\r\n                fps = elem.comp.globalData.frameRate;\r\n            }\r\n            return frames / fps;\r\n        }\r\n\r\n        function timeToFrames(t, fps) {\r\n            if (!t && t !== 0) {\r\n                t = time;\r\n            }\r\n            if (!fps) {\r\n                fps = elem.comp.globalData.frameRate;\r\n            }\r\n            return t * fps;\r\n        }\r\n\r\n        function seedRandom(seed){\r\n            BMMath.seedrandom(randSeed + seed);\r\n        }\r\n\r\n        function sourceRectAtTime() {\r\n            return elem.sourceRectAtTime();\r\n        }\r\n\r\n        function substring(init, end) {\r\n            if(typeof value === 'string') {\r\n                if(end === undefined) {\r\n                return value.substring(init)\r\n                }\r\n                return value.substring(init, end)\r\n            }\r\n            return '';\r\n        }\r\n\r\n        function substr(init, end) {\r\n            if(typeof value === 'string') {\r\n                if(end === undefined) {\r\n                return value.substr(init)\r\n                }\r\n                return value.substr(init, end)\r\n            }\r\n            return '';\r\n        }\r\n\r\n        function posterizeTime(framesPerSecond) {\r\n            time = framesPerSecond === 0 ? 0 : Math.floor(time * framesPerSecond) / framesPerSecond\r\n            value = valueAtTime(time)\r\n        }\r\n\r\n        var time, velocity, value, text, textIndex, textTotal, selectorValue;\r\n        var index = elem.data.ind;\r\n        var hasParent = !!(elem.hierarchy && elem.hierarchy.length);\r\n        var parent;\r\n        var randSeed = Math.floor(Math.random()*1000000);\r\n        var globalData = elem.globalData;\r\n        function executeExpression(_value) {\r\n            // globalData.pushExpression();\r\n            value = _value;\r\n            if (_needsRandom) {\r\n                seedRandom(randSeed);\r\n            }\r\n            if (this.frameExpressionId === elem.globalData.frameId && this.propType !== 'textSelector') {\r\n                return value;\r\n            }\r\n            if(this.propType === 'textSelector'){\r\n                textIndex = this.textIndex;\r\n                textTotal = this.textTotal;\r\n                selectorValue = this.selectorValue;\r\n            }\r\n            if (!thisLayer) {\r\n                text = elem.layerInterface.text;\r\n                thisLayer = elem.layerInterface;\r\n                thisComp = elem.comp.compInterface;\r\n                toWorld = thisLayer.toWorld.bind(thisLayer);\r\n                fromWorld = thisLayer.fromWorld.bind(thisLayer);\r\n                fromComp = thisLayer.fromComp.bind(thisLayer);\r\n                toComp = thisLayer.toComp.bind(thisLayer);\r\n                mask = thisLayer.mask ? thisLayer.mask.bind(thisLayer) : null;\r\n                fromCompToSurface = fromComp;\r\n            }\r\n            if (!transform) {\r\n                transform = elem.layerInterface(\"ADBE Transform Group\");\r\n                $bm_transform = transform;\r\n                if(transform) {\r\n                    anchorPoint = transform.anchorPoint;\r\n                    /*position = transform.position;\r\n                    rotation = transform.rotation;\r\n                    scale = transform.scale;*/\r\n                }\r\n            }\r\n            \r\n            if (elemType === 4 && !content) {\r\n                content = thisLayer(\"ADBE Root Vectors Group\");\r\n            }\r\n            if (!effect) {\r\n                effect = thisLayer(4);\r\n            }\r\n            hasParent = !!(elem.hierarchy && elem.hierarchy.length);\r\n            if (hasParent && !parent) {\r\n                parent = elem.hierarchy[0].layerInterface;\r\n            }\r\n            time = this.comp.renderedFrame/this.comp.globalData.frameRate;\r\n            if (needsVelocity) {\r\n                velocity = velocityAtTime(time);\r\n            }\r\n            expression_function();\r\n            this.frameExpressionId = elem.globalData.frameId;\r\n\r\n            //TODO: Check if it's possible to return on ShapeInterface the .v value\r\n            if (scoped_bm_rt.propType === \"shape\") {\r\n                scoped_bm_rt = scoped_bm_rt.v;\r\n            }\r\n            // globalData.popExpression();\r\n            return scoped_bm_rt;\r\n        }\r\n        return executeExpression;\r\n    }\r\n\r\n    ob.initiateExpression = initiateExpression;\r\n    return ob;\r\n}());\r\nvar expressionHelpers = (function(){\r\n\r\n    function searchExpressions(elem,data,prop){\r\n        if(data.x){\r\n            prop.k = true;\r\n            prop.x = true;\r\n            prop.initiateExpression = ExpressionManager.initiateExpression;\r\n            prop.effectsSequence.push(prop.initiateExpression(elem,data,prop).bind(prop));\r\n        }\r\n    }\r\n\r\n    function getValueAtTime(frameNum) {\r\n        frameNum *= this.elem.globalData.frameRate;\r\n        frameNum -= this.offsetTime;\r\n        if(frameNum !== this._cachingAtTime.lastFrame) {\r\n            this._cachingAtTime.lastIndex = this._cachingAtTime.lastFrame < frameNum ? this._cachingAtTime.lastIndex : 0;\r\n            this._cachingAtTime.value = this.interpolateValue(frameNum, this._cachingAtTime);\r\n            this._cachingAtTime.lastFrame = frameNum;\r\n        }\r\n        return this._cachingAtTime.value;\r\n\r\n    }\r\n\r\n    function getSpeedAtTime(frameNum) {\r\n        var delta = -0.01;\r\n        var v1 = this.getValueAtTime(frameNum);\r\n        var v2 = this.getValueAtTime(frameNum + delta);\r\n        var speed = 0;\r\n        if(v1.length){\r\n            var i;\r\n            for(i=0;i<v1.length;i+=1){\r\n                speed += Math.pow(v2[i] - v1[i], 2);\r\n            }\r\n            speed = Math.sqrt(speed) * 100;\r\n        } else {\r\n            speed = 0;\r\n        }\r\n        return speed;\r\n    }\r\n\r\n    function getVelocityAtTime(frameNum) {\r\n        if(this.vel !== undefined){\r\n            return this.vel;\r\n        }\r\n        var delta = -0.001;\r\n        //frameNum += this.elem.data.st;\r\n        var v1 = this.getValueAtTime(frameNum);\r\n        var v2 = this.getValueAtTime(frameNum + delta);\r\n        var velocity;\r\n        if(v1.length){\r\n            velocity = createTypedArray('float32', v1.length);\r\n            var i;\r\n            for(i=0;i<v1.length;i+=1){\r\n                //removing frameRate\r\n                //if needed, don't add it here\r\n                //velocity[i] = this.elem.globalData.frameRate*((v2[i] - v1[i])/delta);\r\n                velocity[i] = (v2[i] - v1[i])/delta;\r\n            }\r\n        } else {\r\n            velocity = (v2 - v1)/delta;\r\n        }\r\n        return velocity;\r\n    }\r\n\r\n    function getStaticValueAtTime() {\r\n        return this.pv;\r\n    }\r\n\r\n    function setGroupProperty(propertyGroup){\r\n        this.propertyGroup = propertyGroup;\r\n    }\r\n\r\n\treturn {\r\n\t\tsearchExpressions: searchExpressions,\r\n\t\tgetSpeedAtTime: getSpeedAtTime,\r\n\t\tgetVelocityAtTime: getVelocityAtTime,\r\n\t\tgetValueAtTime: getValueAtTime,\r\n\t\tgetStaticValueAtTime: getStaticValueAtTime,\r\n\t\tsetGroupProperty: setGroupProperty,\r\n\t}\r\n}());\r\n(function addPropertyDecorator() {\r\n\r\n    function loopOut(type,duration,durationFlag){\r\n        if(!this.k || !this.keyframes){\r\n            return this.pv;\r\n        }\r\n        type = type ? type.toLowerCase() : '';\r\n        var currentFrame = this.comp.renderedFrame;\r\n        var keyframes = this.keyframes;\r\n        var lastKeyFrame = keyframes[keyframes.length - 1].t;\r\n        if(currentFrame<=lastKeyFrame){\r\n            return this.pv;\r\n        }else{\r\n            var cycleDuration, firstKeyFrame;\r\n            if(!durationFlag){\r\n                if(!duration || duration > keyframes.length - 1){\r\n                    duration = keyframes.length - 1;\r\n                }\r\n                firstKeyFrame = keyframes[keyframes.length - 1 - duration].t;\r\n                cycleDuration = lastKeyFrame - firstKeyFrame;\r\n            } else {\r\n                if(!duration){\r\n                    cycleDuration = Math.max(0,lastKeyFrame - this.elem.data.ip);\r\n                } else {\r\n                    cycleDuration = Math.abs(lastKeyFrame - elem.comp.globalData.frameRate*duration);\r\n                }\r\n                firstKeyFrame = lastKeyFrame - cycleDuration;\r\n            }\r\n            var i, len, ret;\r\n            if(type === 'pingpong') {\r\n                var iterations = Math.floor((currentFrame - firstKeyFrame)/cycleDuration);\r\n                if(iterations % 2 !== 0){\r\n                    return this.getValueAtTime(((cycleDuration - (currentFrame - firstKeyFrame) % cycleDuration +  firstKeyFrame)) / this.comp.globalData.frameRate, 0);\r\n                }\r\n            } else if(type === 'offset'){\r\n                var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n                var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n                var current = this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration +  firstKeyFrame) / this.comp.globalData.frameRate, 0);\r\n                var repeats = Math.floor((currentFrame - firstKeyFrame)/cycleDuration);\r\n                if(this.pv.length){\r\n                    ret = new Array(initV.length);\r\n                    len = ret.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        ret[i] = (endV[i]-initV[i])*repeats + current[i];\r\n                    }\r\n                    return ret;\r\n                }\r\n                return (endV-initV)*repeats + current;\r\n            } else if(type === 'continue'){\r\n                var lastValue = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n                var nextLastValue = this.getValueAtTime((lastKeyFrame - 0.001) / this.comp.globalData.frameRate, 0);\r\n                if(this.pv.length){\r\n                    ret = new Array(lastValue.length);\r\n                    len = ret.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        ret[i] = lastValue[i] + (lastValue[i]-nextLastValue[i])*((currentFrame - lastKeyFrame)/ this.comp.globalData.frameRate)/0.0005;\r\n                    }\r\n                    return ret;\r\n                }\r\n                return lastValue + (lastValue-nextLastValue)*(((currentFrame - lastKeyFrame))/0.001);\r\n            }\r\n            return this.getValueAtTime((((currentFrame - firstKeyFrame) % cycleDuration +  firstKeyFrame)) / this.comp.globalData.frameRate, 0);\r\n        }\r\n    }\r\n\r\n    function loopIn(type,duration, durationFlag) {\r\n        if(!this.k){\r\n            return this.pv;\r\n        }\r\n        type = type ? type.toLowerCase() : '';\r\n        var currentFrame = this.comp.renderedFrame;\r\n        var keyframes = this.keyframes;\r\n        var firstKeyFrame = keyframes[0].t;\r\n        if(currentFrame>=firstKeyFrame){\r\n            return this.pv;\r\n        }else{\r\n            var cycleDuration, lastKeyFrame;\r\n            if(!durationFlag){\r\n                if(!duration || duration > keyframes.length - 1){\r\n                    duration = keyframes.length - 1;\r\n                }\r\n                lastKeyFrame = keyframes[duration].t;\r\n                cycleDuration = lastKeyFrame - firstKeyFrame;\r\n            } else {\r\n                if(!duration){\r\n                    cycleDuration = Math.max(0,this.elem.data.op - firstKeyFrame);\r\n                } else {\r\n                    cycleDuration = Math.abs(elem.comp.globalData.frameRate*duration);\r\n                }\r\n                lastKeyFrame = firstKeyFrame + cycleDuration;\r\n            }\r\n            var i, len, ret;\r\n            if(type === 'pingpong') {\r\n                var iterations = Math.floor((firstKeyFrame - currentFrame)/cycleDuration);\r\n                if(iterations % 2 === 0){\r\n                    return this.getValueAtTime((((firstKeyFrame - currentFrame)%cycleDuration +  firstKeyFrame)) / this.comp.globalData.frameRate, 0);\r\n                }\r\n            } else if(type === 'offset'){\r\n                var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n                var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n                var current = this.getValueAtTime((cycleDuration - (firstKeyFrame - currentFrame)%cycleDuration +  firstKeyFrame) / this.comp.globalData.frameRate, 0);\r\n                var repeats = Math.floor((firstKeyFrame - currentFrame)/cycleDuration)+1;\r\n                if(this.pv.length){\r\n                    ret = new Array(initV.length);\r\n                    len = ret.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        ret[i] = current[i]-(endV[i]-initV[i])*repeats;\r\n                    }\r\n                    return ret;\r\n                }\r\n                return current-(endV-initV)*repeats;\r\n            } else if(type === 'continue'){\r\n                var firstValue = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n                var nextFirstValue = this.getValueAtTime((firstKeyFrame + 0.001) / this.comp.globalData.frameRate, 0);\r\n                if(this.pv.length){\r\n                    ret = new Array(firstValue.length);\r\n                    len = ret.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        ret[i] = firstValue[i] + (firstValue[i]-nextFirstValue[i])*(firstKeyFrame - currentFrame)/0.001;\r\n                    }\r\n                    return ret;\r\n                }\r\n                return firstValue + (firstValue-nextFirstValue)*(firstKeyFrame - currentFrame)/0.001;\r\n            }\r\n            return this.getValueAtTime(((cycleDuration - (firstKeyFrame - currentFrame) % cycleDuration +  firstKeyFrame)) / this.comp.globalData.frameRate, 0);\r\n        }\r\n    }\r\n\r\n    function smooth(width, samples) {\r\n        if (!this.k){\r\n            return this.pv;\r\n        }\r\n        width = (width || 0.4) * 0.5;\r\n        samples = Math.floor(samples || 5);\r\n        if (samples <= 1) {\r\n            return this.pv;\r\n        }\r\n        var currentTime = this.comp.renderedFrame / this.comp.globalData.frameRate;\r\n        var initFrame = currentTime - width;\r\n        var endFrame = currentTime + width;\r\n        var sampleFrequency = samples > 1 ? (endFrame - initFrame) / (samples - 1) : 1;\r\n        var i = 0, j = 0;\r\n        var value;\r\n        if (this.pv.length) {\r\n            value = createTypedArray('float32', this.pv.length);\r\n        } else {\r\n            value = 0;\r\n        }\r\n        var sampleValue;\r\n        while (i < samples) {\r\n            sampleValue = this.getValueAtTime(initFrame + i * sampleFrequency);\r\n            if(this.pv.length) {\r\n                for (j = 0; j < this.pv.length; j += 1) {\r\n                    value[j] += sampleValue[j];\r\n                }\r\n            } else {\r\n                value += sampleValue;\r\n            }\r\n            i += 1;\r\n        }\r\n        if(this.pv.length) {\r\n            for (j = 0; j < this.pv.length; j += 1) {\r\n                value[j] /= samples;\r\n            }\r\n        } else {\r\n            value /= samples;\r\n        }\r\n        return value;\r\n    }\r\n\r\n    function getValueAtTime(frameNum) {\r\n        frameNum *= this.elem.globalData.frameRate;\r\n        frameNum -= this.offsetTime;\r\n        if(frameNum !== this._cachingAtTime.lastFrame) {\r\n            this._cachingAtTime.lastIndex = this._cachingAtTime.lastFrame < frameNum ? this._cachingAtTime.lastIndex : 0;\r\n            this._cachingAtTime.value = this.interpolateValue(frameNum, this._cachingAtTime);\r\n            this._cachingAtTime.lastFrame = frameNum;\r\n        }\r\n        return this._cachingAtTime.value;\r\n\r\n    }\r\n\r\n    function getTransformValueAtTime(time) {\r\n        if (!this._transformCachingAtTime) {\r\n            this._transformCachingAtTime = {\r\n                v: new Matrix(),\r\n            };\r\n        }\r\n        ////\r\n        var matrix = this._transformCachingAtTime.v;\r\n        matrix.cloneFromProps(this.pre.props);\r\n        if (this.appliedTransformations < 1) {\r\n            var anchor = this.a.getValueAtTime(time);\r\n            matrix.translate(-anchor[0], -anchor[1], anchor[2]);\r\n        }\r\n        if (this.appliedTransformations < 2) {\r\n            var scale = this.s.getValueAtTime(time);\r\n            matrix.scale(scale[0], scale[1], scale[2]);\r\n        }\r\n        if (this.sk && this.appliedTransformations < 3) {\r\n            var skew = this.sk.getValueAtTime(time);\r\n            var skewAxis = this.sa.getValueAtTime(time);\r\n            matrix.skewFromAxis(-skew, skewAxis);\r\n        }\r\n        if (this.r && this.appliedTransformations < 4) {\r\n            var rotation = this.r.getValueAtTime(time);\r\n            matrix.rotate(-rotation);\r\n        } else if (!this.r && this.appliedTransformations < 4){\r\n            var rotationZ = this.rz.getValueAtTime(time);\r\n            var rotationY = this.ry.getValueAtTime(time);\r\n            var rotationX = this.rx.getValueAtTime(time);\r\n            var orientation = this.or.getValueAtTime(time);\r\n            matrix.rotateZ(-rotationZ.v)\r\n            .rotateY(rotationY.v)\r\n            .rotateX(rotationX.v)\r\n            .rotateZ(-orientation[2])\r\n            .rotateY(orientation[1])\r\n            .rotateX(orientation[0]);\r\n        }\r\n        if (this.data.p && this.data.p.s) {\r\n            var positionX = this.px.getValueAtTime(time);\r\n            var positionY = this.py.getValueAtTime(time);\r\n            if (this.data.p.z) {\r\n                var positionZ = this.pz.getValueAtTime(time);\r\n                matrix.translate(positionX, positionY, -positionZ);\r\n            } else {\r\n                matrix.translate(positionX, positionY, 0);\r\n            }\r\n        } else {\r\n            var position = this.p.getValueAtTime(time);\r\n            matrix.translate(position[0], position[1], -position[2]);\r\n        }\r\n        return matrix;\r\n        ////\r\n    }\r\n\r\n    function getTransformStaticValueAtTime(time) {\r\n\r\n    }\r\n\r\n    var getTransformProperty = TransformPropertyFactory.getTransformProperty;\r\n    TransformPropertyFactory.getTransformProperty = function(elem, data, container) {\r\n        var prop = getTransformProperty(elem, data, container);\r\n        if(prop.dynamicProperties.length) {\r\n            prop.getValueAtTime = getTransformValueAtTime.bind(prop);\r\n        } else {\r\n            prop.getValueAtTime = getTransformStaticValueAtTime.bind(prop);\r\n        }\r\n        prop.setGroupProperty = expressionHelpers.setGroupProperty;\r\n        return prop;\r\n    };\r\n\r\n    var propertyGetProp = PropertyFactory.getProp;\r\n    PropertyFactory.getProp = function(elem,data,type, mult, container){\r\n        var prop = propertyGetProp(elem,data,type, mult, container);\r\n        //prop.getVelocityAtTime = getVelocityAtTime;\r\n        //prop.loopOut = loopOut;\r\n        //prop.loopIn = loopIn;\r\n        if(prop.kf){\r\n            prop.getValueAtTime = expressionHelpers.getValueAtTime.bind(prop);\r\n        } else {\r\n            prop.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(prop);\r\n        }\r\n        prop.setGroupProperty = expressionHelpers.setGroupProperty;\r\n        prop.loopOut = loopOut;\r\n        prop.loopIn = loopIn;\r\n        prop.smooth = smooth;\r\n        prop.getVelocityAtTime = expressionHelpers.getVelocityAtTime.bind(prop);\r\n        prop.getSpeedAtTime = expressionHelpers.getSpeedAtTime.bind(prop);\r\n        prop.numKeys = data.a === 1 ? data.k.length : 0;\r\n        prop.propertyIndex = data.ix;\r\n        var value = 0;\r\n        if(type !== 0) {\r\n            value = createTypedArray('float32', data.a === 1 ?  data.k[0].s.length : data.k.length);\r\n        }\r\n        prop._cachingAtTime = {\r\n            lastFrame: initialDefaultFrame,\r\n            lastIndex: 0,\r\n            value: value\r\n        };\r\n        expressionHelpers.searchExpressions(elem,data,prop);\r\n        if(prop.k){\r\n            container.addDynamicProperty(prop);\r\n        }\r\n\r\n        return prop;\r\n    };\r\n\r\n    function getShapeValueAtTime(frameNum) {\r\n        //For now this caching object is created only when needed instead of creating it when the shape is initialized.\r\n        if (!this._cachingAtTime) {\r\n            this._cachingAtTime = {\r\n                shapeValue: shape_pool.clone(this.pv),\r\n                lastIndex: 0,\r\n                lastTime: initialDefaultFrame\r\n            };\r\n        }\r\n        \r\n        frameNum *= this.elem.globalData.frameRate;\r\n        frameNum -= this.offsetTime;\r\n        if(frameNum !== this._cachingAtTime.lastTime) {\r\n            this._cachingAtTime.lastIndex = this._cachingAtTime.lastTime < frameNum ? this._caching.lastIndex : 0;\r\n            this._cachingAtTime.lastTime = frameNum;\r\n            this.interpolateShape(frameNum, this._cachingAtTime.shapeValue, this._cachingAtTime);\r\n        }\r\n        return this._cachingAtTime.shapeValue;\r\n    }\r\n\r\n    var ShapePropertyConstructorFunction = ShapePropertyFactory.getConstructorFunction();\r\n    var KeyframedShapePropertyConstructorFunction = ShapePropertyFactory.getKeyframedConstructorFunction();\r\n\r\n    function ShapeExpressions(){}\r\n    ShapeExpressions.prototype = {\r\n        vertices: function(prop, time){\r\n            if (this.k) {\r\n                this.getValue();\r\n            }\r\n            var shapePath = this.v;\r\n            if(time !== undefined) {\r\n                shapePath = this.getValueAtTime(time, 0);\r\n            }\r\n            var i, len = shapePath._length;\r\n            var vertices = shapePath[prop];\r\n            var points = shapePath.v;\r\n            var arr = createSizedArray(len);\r\n            for(i = 0; i < len; i += 1) {\r\n                if(prop === 'i' || prop === 'o') {\r\n                    arr[i] = [vertices[i][0] - points[i][0], vertices[i][1] - points[i][1]];\r\n                } else {\r\n                    arr[i] = [vertices[i][0], vertices[i][1]];\r\n                }\r\n                \r\n            }\r\n            return arr;\r\n        },\r\n        points: function(time){\r\n            return this.vertices('v', time);\r\n        },\r\n        inTangents: function(time){\r\n            return this.vertices('i', time);\r\n        },\r\n        outTangents: function(time){\r\n            return this.vertices('o', time);\r\n        },\r\n        isClosed: function(){\r\n            return this.v.c;\r\n        },\r\n        pointOnPath: function(perc, time){\r\n            var shapePath = this.v;\r\n            if(time !== undefined) {\r\n                shapePath = this.getValueAtTime(time, 0);\r\n            }\r\n            if(!this._segmentsLength) {\r\n                this._segmentsLength = bez.getSegmentsLength(shapePath);\r\n            }\r\n\r\n            var segmentsLength = this._segmentsLength;\r\n            var lengths = segmentsLength.lengths;\r\n            var lengthPos = segmentsLength.totalLength * perc;\r\n            var i = 0, len = lengths.length;\r\n            var j = 0, jLen;\r\n            var accumulatedLength = 0, pt;\r\n            while(i < len) {\r\n                if(accumulatedLength + lengths[i].addedLength > lengthPos) {\r\n                    var initIndex = i;\r\n                    var endIndex = (shapePath.c && i === len - 1) ? 0 : i + 1;\r\n                    var segmentPerc = (lengthPos - accumulatedLength)/lengths[i].addedLength;\r\n                    pt = bez.getPointInSegment(shapePath.v[initIndex], shapePath.v[endIndex], shapePath.o[initIndex], shapePath.i[endIndex], segmentPerc, lengths[i]);\r\n                    break;\r\n                } else {\r\n                    accumulatedLength += lengths[i].addedLength;\r\n                }\r\n                i += 1;\r\n            }\r\n            if(!pt){\r\n                pt = shapePath.c ? [shapePath.v[0][0],shapePath.v[0][1]]:[shapePath.v[shapePath._length-1][0],shapePath.v[shapePath._length-1][1]];\r\n            }\r\n            return pt;\r\n        },\r\n        vectorOnPath: function(perc, time, vectorType){\r\n            //perc doesn't use triple equality because it can be a Number object as well as a primitive.\r\n            perc = perc == 1 ? this.v.c ? 0 : 0.999 : perc;\r\n            var pt1 = this.pointOnPath(perc, time);\r\n            var pt2 = this.pointOnPath(perc + 0.001, time);\r\n            var xLength = pt2[0] - pt1[0];\r\n            var yLength = pt2[1] - pt1[1];\r\n            var magnitude = Math.sqrt(Math.pow(xLength,2) + Math.pow(yLength,2));\r\n            if (magnitude === 0) {\r\n                return [0,0];\r\n            }\r\n            var unitVector = vectorType === 'tangent' ? [xLength/magnitude, yLength/magnitude] : [-yLength/magnitude, xLength/magnitude];\r\n            return unitVector;\r\n        },\r\n        tangentOnPath: function(perc, time){\r\n            return this.vectorOnPath(perc, time, 'tangent');\r\n        },\r\n        normalOnPath: function(perc, time){\r\n            return this.vectorOnPath(perc, time, 'normal');\r\n        },\r\n        setGroupProperty: expressionHelpers.setGroupProperty,\r\n        getValueAtTime: expressionHelpers.getStaticValueAtTime\r\n    };\r\n    extendPrototype([ShapeExpressions], ShapePropertyConstructorFunction);\r\n    extendPrototype([ShapeExpressions], KeyframedShapePropertyConstructorFunction);\r\n    KeyframedShapePropertyConstructorFunction.prototype.getValueAtTime = getShapeValueAtTime;\r\n    KeyframedShapePropertyConstructorFunction.prototype.initiateExpression = ExpressionManager.initiateExpression;\r\n\r\n    var propertyGetShapeProp = ShapePropertyFactory.getShapeProp;\r\n    ShapePropertyFactory.getShapeProp = function(elem,data,type, arr, trims){\r\n        var prop = propertyGetShapeProp(elem,data,type, arr, trims);\r\n        prop.propertyIndex = data.ix;\r\n        prop.lock = false;\r\n        if(type === 3){\r\n            expressionHelpers.searchExpressions(elem,data.pt,prop);\r\n        } else if(type === 4){\r\n            expressionHelpers.searchExpressions(elem,data.ks,prop);\r\n        }\r\n        if(prop.k){\r\n            elem.addDynamicProperty(prop);\r\n        }\r\n        return prop;\r\n    };\r\n}());\r\n(function addDecorator() {\r\n\r\n    function searchExpressions(){\r\n        if(this.data.d.x){\r\n            this.calculateExpression = ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this);\r\n            this.addEffect(this.getExpressionValue.bind(this));\r\n            return true;\r\n        }\r\n    }\r\n\r\n    TextProperty.prototype.getExpressionValue = function(currentValue, text) {\r\n        var newValue = this.calculateExpression(text);\r\n        if(currentValue.t !== newValue) {\r\n            var newData = {};\r\n            this.copyData(newData, currentValue);\r\n            newData.t = newValue.toString();\r\n            newData.__complete = false;\r\n            return newData;\r\n        }\r\n        return currentValue;\r\n    }\r\n\r\n    TextProperty.prototype.searchProperty = function(){\r\n\r\n        var isKeyframed = this.searchKeyframes();\r\n        var hasExpressions = this.searchExpressions();\r\n        this.kf = isKeyframed || hasExpressions;\r\n        return this.kf;\r\n    };\r\n\r\n    TextProperty.prototype.searchExpressions = searchExpressions;\r\n    \r\n}());\r\nvar ShapePathInterface = (\r\n\r\n\tfunction() {\r\n\r\n\t\treturn function pathInterfaceFactory(shape,view,propertyGroup){\r\n\t\t    var prop = view.sh;\r\n\r\n\t\t    function interfaceFunction(val){\r\n\t\t        if(val === 'Shape' || val === 'shape' || val === 'Path' || val === 'path' || val === 'ADBE Vector Shape' || val === 2){\r\n\t\t            return interfaceFunction.path;\r\n\t\t        }\r\n\t\t    }\r\n\r\n\t\t    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n\t\t    prop.setGroupProperty(PropertyInterface('Path', _propertyGroup));\r\n\t\t    Object.defineProperties(interfaceFunction, {\r\n\t\t        'path': {\r\n\t\t            get: function(){\r\n\t\t                if(prop.k){\r\n\t\t                    prop.getValue();\r\n\t\t                }\r\n\t\t                return prop;\r\n\t\t            }\r\n\t\t        },\r\n\t\t        'shape': {\r\n\t\t            get: function(){\r\n\t\t                if(prop.k){\r\n\t\t                    prop.getValue();\r\n\t\t                }\r\n\t\t                return prop;\r\n\t\t            }\r\n\t\t        },\r\n\t\t        '_name': { value: shape.nm },\r\n\t\t        'ix': { value: shape.ix },\r\n\t\t        'propertyIndex': { value: shape.ix },\r\n\t\t        'mn': { value: shape.mn },\r\n\t\t        'propertyGroup': {value: propertyGroup},\r\n\t\t    });\r\n\t\t    return interfaceFunction;\r\n\t\t}\r\n\t}()\r\n)\r\nvar propertyGroupFactory = (function() {\r\n\treturn function(interfaceFunction, parentPropertyGroup) {\r\n\t\treturn function(val) {\r\n\t\t\tval = val === undefined ? 1 : val\r\n\t\t\tif(val <= 0){\r\n\t\t\t    return interfaceFunction;\r\n\t\t\t} else{\r\n\t\t\t    return parentPropertyGroup(val-1);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}())\r\nvar PropertyInterface = (function() {\r\n\treturn function(propertyName, propertyGroup) {\r\n\r\n\t\tvar interfaceFunction = {\r\n\t\t\t_name: propertyName\r\n\t\t}\r\n\r\n\t\tfunction _propertyGroup(val){\r\n\t\t    val = val === undefined ? 1 : val\r\n\t\t    if(val <= 0){\r\n\t\t        return interfaceFunction;\r\n\t\t    } else {\r\n\t\t        return propertyGroup(--val);\r\n\t\t    }\r\n\t\t}\r\n\r\n\t\treturn _propertyGroup;\r\n\t}\r\n}())\r\nvar ShapeExpressionInterface = (function(){\r\n\r\n    function iterateElements(shapes,view, propertyGroup){\r\n        var arr = [];\r\n        var i, len = shapes ? shapes.length : 0;\r\n        for(i=0;i<len;i+=1){\r\n            if(shapes[i].ty == 'gr'){\r\n                arr.push(groupInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }else if(shapes[i].ty == 'fl'){\r\n                arr.push(fillInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }else if(shapes[i].ty == 'st'){\r\n                arr.push(strokeInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }else if(shapes[i].ty == 'tm'){\r\n                arr.push(trimInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }else if(shapes[i].ty == 'tr'){\r\n                //arr.push(transformInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }else if(shapes[i].ty == 'el'){\r\n                arr.push(ellipseInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }else if(shapes[i].ty == 'sr'){\r\n                arr.push(starInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            } else if(shapes[i].ty == 'sh'){\r\n                arr.push(ShapePathInterface(shapes[i],view[i],propertyGroup));\r\n            } else if(shapes[i].ty == 'rc'){\r\n                arr.push(rectInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            } else if(shapes[i].ty == 'rd'){\r\n                arr.push(roundedInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            } else if(shapes[i].ty == 'rp'){\r\n                arr.push(repeaterInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    function contentsInterfaceFactory(shape,view, propertyGroup){\r\n       var interfaces;\r\n       var interfaceFunction = function _interfaceFunction(value){\r\n           var i = 0, len = interfaces.length;\r\n            while(i<len){\r\n                if(interfaces[i]._name === value || interfaces[i].mn === value || interfaces[i].propertyIndex === value || interfaces[i].ix === value || interfaces[i].ind === value){\r\n                   return interfaces[i];\r\n                }\r\n                i+=1;\r\n            }\r\n            if(typeof value === 'number'){\r\n               return interfaces[value-1];\r\n            }\r\n       };\r\n\r\n       interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n       interfaces = iterateElements(shape.it, view.it, interfaceFunction.propertyGroup);\r\n       interfaceFunction.numProperties = interfaces.length;\r\n       var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1],view.it[view.it.length - 1],interfaceFunction.propertyGroup);\r\n       interfaceFunction.transform = transformInterface;\r\n       interfaceFunction.propertyIndex = shape.cix;\r\n       interfaceFunction._name = shape.nm;\r\n\r\n       return interfaceFunction;\r\n   }\r\n\r\n    function groupInterfaceFactory(shape,view, propertyGroup){\r\n        var interfaceFunction = function _interfaceFunction(value){\r\n            switch(value){\r\n                case 'ADBE Vectors Group':\r\n                case 'Contents':\r\n                case 2:\r\n                    return interfaceFunction.content;\r\n                //Not necessary for now. Keeping them here in case a new case appears\r\n                //case 'ADBE Vector Transform Group':\r\n                //case 3:\r\n                default:\r\n                    return interfaceFunction.transform;\r\n            }\r\n        };\r\n        interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n        var content = contentsInterfaceFactory(shape,view,interfaceFunction.propertyGroup);\r\n        var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1],view.it[view.it.length - 1],interfaceFunction.propertyGroup);\r\n        interfaceFunction.content = content;\r\n        interfaceFunction.transform = transformInterface;\r\n        Object.defineProperty(interfaceFunction, '_name', {\r\n            get: function(){\r\n                return shape.nm;\r\n            }\r\n        });\r\n        //interfaceFunction.content = interfaceFunction;\r\n        interfaceFunction.numProperties = shape.np;\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        interfaceFunction.nm = shape.nm;\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function fillInterfaceFactory(shape,view,propertyGroup){\r\n        function interfaceFunction(val){\r\n            if(val === 'Color' || val === 'color'){\r\n                return interfaceFunction.color;\r\n            } else if(val === 'Opacity' || val === 'opacity'){\r\n                return interfaceFunction.opacity;\r\n            }\r\n        }\r\n        Object.defineProperties(interfaceFunction, {\r\n            'color': {\r\n                get: ExpressionPropertyInterface(view.c)\r\n            },\r\n            'opacity': {\r\n                get: ExpressionPropertyInterface(view.o)\r\n            },\r\n            '_name': { value: shape.nm },\r\n            'mn': { value: shape.mn }\r\n        });\r\n\r\n        view.c.setGroupProperty(PropertyInterface('Color', propertyGroup));\r\n        view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function strokeInterfaceFactory(shape,view,propertyGroup){\r\n        var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n        var _dashPropertyGroup = propertyGroupFactory(dashOb, _propertyGroup);\r\n        function addPropertyToDashOb(i) {\r\n            Object.defineProperty(dashOb, shape.d[i].nm, {\r\n                get: ExpressionPropertyInterface(view.d.dataProps[i].p)\r\n            });\r\n        }\r\n        var i, len = shape.d ? shape.d.length : 0;\r\n        var dashOb = {};\r\n        for (i = 0; i < len; i += 1) {\r\n            addPropertyToDashOb(i);\r\n            view.d.dataProps[i].p.setGroupProperty(_dashPropertyGroup);\r\n        }\r\n\r\n        function interfaceFunction(val){\r\n            if(val === 'Color' || val === 'color'){\r\n                return interfaceFunction.color;\r\n            } else if(val === 'Opacity' || val === 'opacity'){\r\n                return interfaceFunction.opacity;\r\n            } else if(val === 'Stroke Width' || val === 'stroke width'){\r\n                return interfaceFunction.strokeWidth;\r\n            }\r\n        }\r\n        Object.defineProperties(interfaceFunction, {\r\n            'color': {\r\n                get: ExpressionPropertyInterface(view.c)\r\n            },\r\n            'opacity': {\r\n                get: ExpressionPropertyInterface(view.o)\r\n            },\r\n            'strokeWidth': {\r\n                get: ExpressionPropertyInterface(view.w)\r\n            },\r\n            'dash': {\r\n                get: function() {\r\n                    return dashOb;\r\n                }\r\n            },\r\n            '_name': { value: shape.nm },\r\n            'mn': { value: shape.mn }\r\n        });\r\n\r\n        view.c.setGroupProperty(PropertyInterface('Color', _propertyGroup));\r\n        view.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\r\n        view.w.setGroupProperty(PropertyInterface('Stroke Width', _propertyGroup));\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function trimInterfaceFactory(shape,view,propertyGroup){\r\n\r\n        function interfaceFunction(val){\r\n            if(val === shape.e.ix || val === 'End' || val === 'end'){\r\n                return interfaceFunction.end;\r\n            }\r\n            if(val === shape.s.ix){\r\n                return interfaceFunction.start;\r\n            }\r\n            if(val === shape.o.ix){\r\n                return interfaceFunction.offset;\r\n            }\r\n        }\r\n\r\n        var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n\r\n        view.s.setGroupProperty(PropertyInterface('Start', _propertyGroup));\r\n        view.e.setGroupProperty(PropertyInterface('End', _propertyGroup));\r\n        view.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        interfaceFunction.propertyGroup = propertyGroup;\r\n\r\n        Object.defineProperties(interfaceFunction, {\r\n            'start': {\r\n                get: ExpressionPropertyInterface(view.s)\r\n            },\r\n            'end': {\r\n                get: ExpressionPropertyInterface(view.e)\r\n            },\r\n            'offset': {\r\n                get: ExpressionPropertyInterface(view.o)\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function transformInterfaceFactory(shape,view,propertyGroup){\r\n\r\n        function interfaceFunction(value){\r\n            if(shape.a.ix === value || value === 'Anchor Point'){\r\n                return interfaceFunction.anchorPoint;\r\n            }\r\n            if(shape.o.ix === value || value === 'Opacity'){\r\n                return interfaceFunction.opacity;\r\n            }\r\n            if(shape.p.ix === value || value === 'Position'){\r\n                return interfaceFunction.position;\r\n            }\r\n            if(shape.r.ix === value || value === 'Rotation' || value === 'ADBE Vector Rotation'){\r\n                return interfaceFunction.rotation;\r\n            }\r\n            if(shape.s.ix === value || value === 'Scale'){\r\n                return interfaceFunction.scale;\r\n            }\r\n            if(shape.sk && shape.sk.ix === value || value === 'Skew'){\r\n                return interfaceFunction.skew;\r\n            }\r\n            if(shape.sa && shape.sa.ix === value || value === 'Skew Axis'){\r\n                return interfaceFunction.skewAxis;\r\n            }\r\n        }\r\n        \r\n        var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n        view.transform.mProps.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\r\n        view.transform.mProps.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n        view.transform.mProps.a.setGroupProperty(PropertyInterface('Anchor Point', _propertyGroup));\r\n        view.transform.mProps.s.setGroupProperty(PropertyInterface('Scale', _propertyGroup));\r\n        view.transform.mProps.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\r\n        if(view.transform.mProps.sk){\r\n            view.transform.mProps.sk.setGroupProperty(PropertyInterface('Skew', _propertyGroup));\r\n            view.transform.mProps.sa.setGroupProperty(PropertyInterface('Skew Angle', _propertyGroup));\r\n        }\r\n        view.transform.op.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\r\n        Object.defineProperties(interfaceFunction, {\r\n            'opacity': {\r\n                get: ExpressionPropertyInterface(view.transform.mProps.o)\r\n            },\r\n            'position': {\r\n                get: ExpressionPropertyInterface(view.transform.mProps.p)\r\n            },\r\n            'anchorPoint': {\r\n                get: ExpressionPropertyInterface(view.transform.mProps.a)\r\n            },\r\n            'scale': {\r\n                get: ExpressionPropertyInterface(view.transform.mProps.s)\r\n            },\r\n            'rotation': {\r\n                get: ExpressionPropertyInterface(view.transform.mProps.r)\r\n            },\r\n            'skew': {\r\n                get: ExpressionPropertyInterface(view.transform.mProps.sk)\r\n            },\r\n            'skewAxis': {\r\n                get: ExpressionPropertyInterface(view.transform.mProps.sa)\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.ty = 'tr';\r\n        interfaceFunction.mn = shape.mn;\r\n        interfaceFunction.propertyGroup = propertyGroup;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function ellipseInterfaceFactory(shape,view,propertyGroup){\r\n\r\n        function interfaceFunction(value){\r\n            if(shape.p.ix === value){\r\n                return interfaceFunction.position;\r\n            }\r\n            if(shape.s.ix === value){\r\n                return interfaceFunction.size;\r\n            }\r\n        }\r\n        var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n        prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\r\n        prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n\r\n        Object.defineProperties(interfaceFunction, {\r\n            'size': {\r\n                get: ExpressionPropertyInterface(prop.s)\r\n            },\r\n            'position': {\r\n                get: ExpressionPropertyInterface(prop.p)\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function starInterfaceFactory(shape,view,propertyGroup){\r\n\r\n        function interfaceFunction(value){\r\n            if(shape.p.ix === value){\r\n                return interfaceFunction.position;\r\n            }\r\n            if(shape.r.ix === value){\r\n                return interfaceFunction.rotation;\r\n            }\r\n            if(shape.pt.ix === value){\r\n                return interfaceFunction.points;\r\n            }\r\n            if(shape.or.ix === value || 'ADBE Vector Star Outer Radius' === value){\r\n                return interfaceFunction.outerRadius;\r\n            }\r\n            if(shape.os.ix === value){\r\n                return interfaceFunction.outerRoundness;\r\n            }\r\n            if(shape.ir && (shape.ir.ix === value || 'ADBE Vector Star Inner Radius' === value)){\r\n                return interfaceFunction.innerRadius;\r\n            }\r\n            if(shape.is && shape.is.ix === value){\r\n                return interfaceFunction.innerRoundness;\r\n            }\r\n\r\n        }\r\n\r\n        var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n        var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        prop.or.setGroupProperty(PropertyInterface('Outer Radius', _propertyGroup));\r\n        prop.os.setGroupProperty(PropertyInterface('Outer Roundness', _propertyGroup));\r\n        prop.pt.setGroupProperty(PropertyInterface('Points', _propertyGroup));\r\n        prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n        prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\r\n        if(shape.ir){\r\n            prop.ir.setGroupProperty(PropertyInterface('Inner Radius', _propertyGroup));\r\n            prop.is.setGroupProperty(PropertyInterface('Inner Roundness', _propertyGroup));\r\n        }\r\n\r\n        Object.defineProperties(interfaceFunction, {\r\n            'position': {\r\n                get: ExpressionPropertyInterface(prop.p)\r\n            },\r\n            'rotation': {\r\n                get: ExpressionPropertyInterface(prop.r)\r\n            },\r\n            'points': {\r\n                get: ExpressionPropertyInterface(prop.pt)\r\n            },\r\n            'outerRadius': {\r\n                get: ExpressionPropertyInterface(prop.or)\r\n            },\r\n            'outerRoundness': {\r\n                get: ExpressionPropertyInterface(prop.os)\r\n            },\r\n            'innerRadius': {\r\n                get: ExpressionPropertyInterface(prop.ir)\r\n            },\r\n            'innerRoundness': {\r\n                get: ExpressionPropertyInterface(prop.is)\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function rectInterfaceFactory(shape,view,propertyGroup){\r\n\r\n        function interfaceFunction(value){\r\n            if(shape.p.ix === value){\r\n                return interfaceFunction.position;\r\n            }\r\n            if(shape.r.ix === value){\r\n                return interfaceFunction.roundness;\r\n            }\r\n            if(shape.s.ix === value || value === 'Size' || value === 'ADBE Vector Rect Size'){\r\n                return interfaceFunction.size;\r\n            }\r\n\r\n        }\r\n        var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n\r\n        var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n        prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\r\n        prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\r\n\r\n        Object.defineProperties(interfaceFunction, {\r\n            'position': {\r\n                get: ExpressionPropertyInterface(prop.p)\r\n            },\r\n            'roundness': {\r\n                get: ExpressionPropertyInterface(prop.r)\r\n            },\r\n            'size': {\r\n                get: ExpressionPropertyInterface(prop.s)\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function roundedInterfaceFactory(shape,view,propertyGroup){\r\n       \r\n        function interfaceFunction(value){\r\n            if(shape.r.ix === value || 'Round Corners 1' === value){\r\n                return interfaceFunction.radius;\r\n            }\r\n        }\r\n\r\n        var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n        var prop = view;\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        prop.rd.setGroupProperty(PropertyInterface('Radius', _propertyGroup));\r\n\r\n        Object.defineProperties(interfaceFunction, {\r\n            'radius': {\r\n                get: ExpressionPropertyInterface(prop.rd)\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function repeaterInterfaceFactory(shape,view,propertyGroup){\r\n\r\n        function interfaceFunction(value){\r\n            if(shape.c.ix === value || 'Copies' === value){\r\n                return interfaceFunction.copies;\r\n            } else if(shape.o.ix === value || 'Offset' === value){\r\n                return interfaceFunction.offset;\r\n            }\r\n        }\r\n\r\n        var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n        var prop = view;\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        prop.c.setGroupProperty(PropertyInterface('Copies', _propertyGroup));\r\n        prop.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\r\n        Object.defineProperties(interfaceFunction, {\r\n            'copies': {\r\n                get: ExpressionPropertyInterface(prop.c)\r\n            },\r\n            'offset': {\r\n                get: ExpressionPropertyInterface(prop.o)\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    return function(shapes,view,propertyGroup) {\r\n        var interfaces;\r\n        function _interfaceFunction(value){\r\n            if(typeof value === 'number'){\r\n                value = value === undefined ? 1 : value\r\n                if (value === 0) {\r\n                    return propertyGroup\r\n                } else {\r\n                    return interfaces[value-1];\r\n                }\r\n            } else {\r\n                var i = 0, len = interfaces.length;\r\n                while(i<len){\r\n                    if(interfaces[i]._name === value){\r\n                        return interfaces[i];\r\n                    }\r\n                    i+=1;\r\n                }\r\n            }\r\n        }\r\n        _interfaceFunction.propertyGroup = propertyGroup;\r\n        interfaces = iterateElements(shapes, view, _interfaceFunction);\r\n        _interfaceFunction.numProperties = interfaces.length;\r\n        return _interfaceFunction;\r\n    };\r\n}());\r\n\r\nvar TextExpressionInterface = (function(){\r\n\treturn function(elem){\r\n        var _prevValue, _sourceText;\r\n        function _thisLayerFunction(name){\r\n            switch(name){\r\n                case \"ADBE Text Document\":\r\n                    return _thisLayerFunction.sourceText;\r\n            }\r\n        }\r\n        Object.defineProperty(_thisLayerFunction, \"sourceText\", {\r\n            get: function(){\r\n                elem.textProperty.getValue()\r\n                var stringValue = elem.textProperty.currentData.t;\r\n                if(stringValue !== _prevValue) {\r\n                    elem.textProperty.currentData.t = _prevValue;\r\n                    _sourceText = new String(stringValue);\r\n                    //If stringValue is an empty string, eval returns undefined, so it has to be returned as a String primitive\r\n                    _sourceText.value = stringValue ? stringValue : new String(stringValue);\r\n                }\r\n                return _sourceText;\r\n            }\r\n        });\r\n        return _thisLayerFunction;\r\n    };\r\n}());\r\nvar LayerExpressionInterface = (function (){\r\n    function toWorld(arr, time){\r\n        var toWorldMat = new Matrix();\r\n        toWorldMat.reset();\r\n        var transformMat;\r\n        if (time !== undefined) {\r\n            toWorldMat = this._elem.finalTransform.mProp.getValueAtTime(time);\r\n        } else {\r\n            transformMat = this._elem.finalTransform.mProp;\r\n            transformMat.applyToMatrix(toWorldMat);\r\n        }\r\n        if(this._elem.hierarchy && this._elem.hierarchy.length){\r\n            var i, len = this._elem.hierarchy.length;\r\n            for(i=0;i<len;i+=1){\r\n                this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\r\n            }\r\n            return toWorldMat.applyToPointArray(arr[0],arr[1],arr[2]||0);\r\n        }\r\n        return toWorldMat.applyToPointArray(arr[0],arr[1],arr[2]||0);\r\n    }\r\n    function fromWorld(arr, time){\r\n        var toWorldMat = new Matrix();\r\n        toWorldMat.reset();\r\n        var transformMat;\r\n        if (time !== undefined) {\r\n            toWorldMat = this._elem.finalTransform.mProp.getValueAtTime(time);\r\n        } else {\r\n            transformMat = this._elem.finalTransform.mProp;\r\n            transformMat.applyToMatrix(toWorldMat);\r\n        }\r\n        if (this._elem.hierarchy && this._elem.hierarchy.length){\r\n            var i, len = this._elem.hierarchy.length;\r\n            for(i=0;i<len;i+=1){\r\n                this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\r\n            }\r\n            return toWorldMat.inversePoint(arr);\r\n        }\r\n        return toWorldMat.inversePoint(arr);\r\n    }\r\n    function fromComp(arr){\r\n        var toWorldMat = new Matrix();\r\n        toWorldMat.reset();\r\n        this._elem.finalTransform.mProp.applyToMatrix(toWorldMat);\r\n        if(this._elem.hierarchy && this._elem.hierarchy.length){\r\n            var i, len = this._elem.hierarchy.length;\r\n            for(i=0;i<len;i+=1){\r\n                this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\r\n            }\r\n            return toWorldMat.inversePoint(arr);\r\n        }\r\n        return toWorldMat.inversePoint(arr);\r\n    }\r\n\r\n    function sampleImage() {\r\n        return [1,1,1,1];\r\n    }\r\n\r\n\r\n    return function(elem){\r\n\r\n        var transformInterface;\r\n\r\n        function _registerMaskInterface(maskManager){\r\n            _thisLayerFunction.mask = new MaskManagerInterface(maskManager, elem);\r\n        }\r\n        function _registerEffectsInterface(effects){\r\n            _thisLayerFunction.effect = effects;\r\n        }\r\n\r\n        function _thisLayerFunction(name){\r\n            switch(name){\r\n                case \"ADBE Root Vectors Group\":\r\n                case \"Contents\":\r\n                case 2:\r\n                    return _thisLayerFunction.shapeInterface;\r\n                case 1:\r\n                case 6:\r\n                case \"Transform\":\r\n                case \"transform\":\r\n                case \"ADBE Transform Group\":\r\n                    return transformInterface;\r\n                case 4:\r\n                case \"ADBE Effect Parade\":\r\n                case \"effects\":\r\n                case \"Effects\":\r\n                    return _thisLayerFunction.effect;\r\n                case \"ADBE Text Properties\":\r\n                    return _thisLayerFunction.textInterface;\r\n            }\r\n        }\r\n        _thisLayerFunction.toWorld = toWorld;\r\n        _thisLayerFunction.fromWorld = fromWorld;\r\n        _thisLayerFunction.toComp = toWorld;\r\n        _thisLayerFunction.fromComp = fromComp;\r\n        _thisLayerFunction.sampleImage = sampleImage;\r\n        _thisLayerFunction.sourceRectAtTime = elem.sourceRectAtTime.bind(elem);\r\n        _thisLayerFunction._elem = elem;\r\n        transformInterface = TransformExpressionInterface(elem.finalTransform.mProp);\r\n        var anchorPointDescriptor = getDescriptor(transformInterface, 'anchorPoint');\r\n        Object.defineProperties(_thisLayerFunction,{\r\n            hasParent: {\r\n                get: function(){\r\n                    return elem.hierarchy.length;\r\n                }\r\n            },\r\n            parent: {\r\n                get: function(){\r\n                    return elem.hierarchy[0].layerInterface;\r\n                }\r\n            },\r\n            rotation: getDescriptor(transformInterface, 'rotation'),\r\n            scale: getDescriptor(transformInterface, 'scale'),\r\n            position: getDescriptor(transformInterface, 'position'),\r\n            opacity: getDescriptor(transformInterface, 'opacity'),\r\n            anchorPoint: anchorPointDescriptor,\r\n            anchor_point: anchorPointDescriptor,\r\n            transform: {\r\n                get: function () {\r\n                    return transformInterface;\r\n                }\r\n            },\r\n            active: {\r\n                get: function(){\r\n                    return elem.isInRange;\r\n                }\r\n            }\r\n        });\r\n\r\n        _thisLayerFunction.startTime = elem.data.st;\r\n        _thisLayerFunction.index = elem.data.ind;\r\n        _thisLayerFunction.source = elem.data.refId;\r\n        _thisLayerFunction.height = elem.data.ty === 0 ? elem.data.h : 100;\r\n        _thisLayerFunction.width = elem.data.ty === 0 ? elem.data.w : 100;\r\n        _thisLayerFunction.inPoint = elem.data.ip/elem.comp.globalData.frameRate;\r\n        _thisLayerFunction.outPoint = elem.data.op/elem.comp.globalData.frameRate;\r\n        _thisLayerFunction._name = elem.data.nm;\r\n\r\n        _thisLayerFunction.registerMaskInterface = _registerMaskInterface;\r\n        _thisLayerFunction.registerEffectsInterface = _registerEffectsInterface;\r\n        return _thisLayerFunction;\r\n    };\r\n}());\r\n\r\nvar CompExpressionInterface = (function () {\r\n    return function(comp) {\r\n        function _thisLayerFunction(name) {\r\n            var i = 0, len = comp.layers.length;\r\n            while ( i < len) {\r\n                if (comp.layers[i].nm === name || comp.layers[i].ind === name) {\r\n                    return comp.elements[i].layerInterface;\r\n                }\r\n                i += 1;\r\n            }\r\n            return null;\r\n            //return {active:false};\r\n        }\r\n        Object.defineProperty(_thisLayerFunction, \"_name\", { value: comp.data.nm });\r\n        _thisLayerFunction.layer = _thisLayerFunction;\r\n        _thisLayerFunction.pixelAspect = 1;\r\n        _thisLayerFunction.height = comp.data.h || comp.globalData.compSize.h;\r\n        _thisLayerFunction.width = comp.data.w || comp.globalData.compSize.w;\r\n        _thisLayerFunction.pixelAspect = 1;\r\n        _thisLayerFunction.frameDuration = 1 / comp.globalData.frameRate;\r\n        _thisLayerFunction.displayStartTime = 0;\r\n        _thisLayerFunction.numLayers = comp.layers.length;\r\n        return _thisLayerFunction;\r\n    };\r\n}());\r\nvar TransformExpressionInterface = (function (){\r\n    return function(transform){\r\n        function _thisFunction(name){\r\n            switch(name){\r\n                case \"scale\":\r\n                case \"Scale\":\r\n                case \"ADBE Scale\":\r\n                case 6:\r\n                    return _thisFunction.scale;\r\n                case \"rotation\":\r\n                case \"Rotation\":\r\n                case \"ADBE Rotation\":\r\n                case \"ADBE Rotate Z\":\r\n                case 10:\r\n                    return _thisFunction.rotation;\r\n                case \"ADBE Rotate X\":\r\n                    return _thisFunction.xRotation;\r\n                case \"ADBE Rotate Y\":\r\n                    return _thisFunction.yRotation;\r\n                case \"position\":\r\n                case \"Position\":\r\n                case \"ADBE Position\":\r\n                case 2:\r\n                    return _thisFunction.position;\r\n                case 'ADBE Position_0':\r\n                    return _thisFunction.xPosition;\r\n                case 'ADBE Position_1':\r\n                    return _thisFunction.yPosition;\r\n                case 'ADBE Position_2':\r\n                    return _thisFunction.zPosition;\r\n                case \"anchorPoint\":\r\n                case \"AnchorPoint\":\r\n                case \"Anchor Point\":\r\n                case \"ADBE AnchorPoint\":\r\n                case 1:\r\n                    return _thisFunction.anchorPoint;\r\n                case \"opacity\":\r\n                case \"Opacity\":\r\n                case 11:\r\n                    return _thisFunction.opacity;\r\n            }\r\n        }\r\n\r\n        Object.defineProperty(_thisFunction, \"rotation\", {\r\n            get: ExpressionPropertyInterface(transform.r || transform.rz)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"zRotation\", {\r\n            get: ExpressionPropertyInterface(transform.rz || transform.r)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"xRotation\", {\r\n            get: ExpressionPropertyInterface(transform.rx)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"yRotation\", {\r\n            get: ExpressionPropertyInterface(transform.ry)\r\n        });\r\n        Object.defineProperty(_thisFunction, \"scale\", {\r\n            get: ExpressionPropertyInterface(transform.s)\r\n        });\r\n\r\n        if(transform.p) {\r\n            var _transformFactory = ExpressionPropertyInterface(transform.p);\r\n        } else {\r\n            var _px = ExpressionPropertyInterface(transform.px);\r\n            var _py = ExpressionPropertyInterface(transform.py);\r\n            var _pz;\r\n            if (transform.pz) {\r\n                _pz = ExpressionPropertyInterface(transform.pz);\r\n            }\r\n        }\r\n        Object.defineProperty(_thisFunction, \"position\", {\r\n            get: function () {\r\n                if(transform.p) {\r\n                    return _transformFactory();\r\n                } else {\r\n                    return [\r\n                        _px(),\r\n                        _py(),\r\n                        _pz ? _pz() : 0];\r\n                }\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"xPosition\", {\r\n            get: ExpressionPropertyInterface(transform.px)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"yPosition\", {\r\n            get: ExpressionPropertyInterface(transform.py)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"zPosition\", {\r\n            get: ExpressionPropertyInterface(transform.pz)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"anchorPoint\", {\r\n            get: ExpressionPropertyInterface(transform.a)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"opacity\", {\r\n            get: ExpressionPropertyInterface(transform.o)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"skew\", {\r\n            get: ExpressionPropertyInterface(transform.sk)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"skewAxis\", {\r\n            get: ExpressionPropertyInterface(transform.sa)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"orientation\", {\r\n            get: ExpressionPropertyInterface(transform.or)\r\n        });\r\n\r\n        return _thisFunction;\r\n    };\r\n}());\r\nvar ProjectInterface = (function (){\r\n\r\n    function registerComposition(comp){\r\n        this.compositions.push(comp);\r\n    }\r\n\r\n    return function(){\r\n        function _thisProjectFunction(name){\r\n            var i = 0, len = this.compositions.length;\r\n            while(i<len){\r\n                if(this.compositions[i].data && this.compositions[i].data.nm === name){\r\n                    if(this.compositions[i].prepareFrame && this.compositions[i].data.xt) {\r\n                        this.compositions[i].prepareFrame(this.currentFrame);\r\n                    }\r\n                    return this.compositions[i].compInterface;\r\n                }\r\n                i+=1;\r\n            }\r\n        }\r\n\r\n        _thisProjectFunction.compositions = [];\r\n        _thisProjectFunction.currentFrame = 0;\r\n\r\n        _thisProjectFunction.registerComposition = registerComposition;\r\n\r\n\r\n\r\n        return _thisProjectFunction;\r\n    };\r\n}());\r\nvar EffectsExpressionInterface = (function (){\r\n    var ob = {\r\n        createEffectsInterface: createEffectsInterface\r\n    };\r\n\r\n    function createEffectsInterface(elem, propertyGroup){\r\n        if(elem.effectsManager){\r\n\r\n            var effectElements = [];\r\n            var effectsData = elem.data.ef;\r\n            var i, len = elem.effectsManager.effectElements.length;\r\n            for(i=0;i<len;i+=1){\r\n                effectElements.push(createGroupInterface(effectsData[i],elem.effectsManager.effectElements[i],propertyGroup,elem));\r\n            }\r\n\r\n            var effects = elem.data.ef || [];\r\n            var groupInterface = function(name){\r\n                i = 0, len = effects.length;\r\n                while(i<len) {\r\n                    if(name === effects[i].nm || name === effects[i].mn || name === effects[i].ix){\r\n                        return effectElements[i];\r\n                    }\r\n                    i += 1;\r\n                }\r\n            };\r\n            Object.defineProperty(groupInterface, 'numProperties', {\r\n                get: function(){\r\n                    return effects.length;\r\n                }\r\n            });\r\n            return groupInterface\r\n        }\r\n    }\r\n\r\n    function createGroupInterface(data,elements, propertyGroup, elem){\r\n\r\n        function groupInterface(name){\r\n            var effects = data.ef, i = 0, len = effects.length;\r\n            while(i<len) {\r\n                if(name === effects[i].nm || name === effects[i].mn || name === effects[i].ix){\r\n                    if(effects[i].ty === 5){\r\n                        return effectElements[i];\r\n                    } else {\r\n                        return effectElements[i]();\r\n                    }\r\n                }\r\n                i += 1;\r\n            }\r\n            throw new Error();\r\n        };\r\n        var _propertyGroup = propertyGroupFactory(groupInterface, propertyGroup);\r\n\r\n        var effectElements = [];\r\n        var i, len = data.ef.length;\r\n        for(i=0;i<len;i+=1){\r\n            if(data.ef[i].ty === 5){\r\n                effectElements.push(createGroupInterface(data.ef[i],elements.effectElements[i],elements.effectElements[i].propertyGroup, elem));\r\n            } else {\r\n                effectElements.push(createValueInterface(elements.effectElements[i],data.ef[i].ty, elem, _propertyGroup));\r\n            }\r\n        }\r\n\r\n        if(data.mn === 'ADBE Color Control'){\r\n            Object.defineProperty(groupInterface, 'color', {\r\n                get: function(){\r\n                    return effectElements[0]();\r\n                }\r\n            });\r\n        }\r\n        Object.defineProperties(groupInterface, {\r\n            numProperties: {\r\n                get: function(){\r\n                    return data.np;\r\n                }\r\n            },\r\n            _name: { value: data.nm },\r\n            propertyGroup: {value: _propertyGroup},\r\n        });\r\n        groupInterface.active = groupInterface.enabled = data.en !== 0;\r\n        return groupInterface;\r\n    }\r\n\r\n    function createValueInterface(element, type, elem, propertyGroup){\r\n        var expressionProperty = ExpressionPropertyInterface(element.p);\r\n        function interfaceFunction(){\r\n            if(type === 10){\r\n                return elem.comp.compInterface(element.p.v);\r\n            }\r\n            return expressionProperty();\r\n        }\r\n\r\n        if(element.p.setGroupProperty) {\r\n            element.p.setGroupProperty(PropertyInterface('', propertyGroup));\r\n        }\r\n\r\n        return interfaceFunction;\r\n    }\r\n\r\n    return ob;\r\n\r\n}());\r\nvar MaskManagerInterface = (function(){\r\n\r\n\tfunction MaskInterface(mask, data){\r\n\t\tthis._mask = mask;\r\n\t\tthis._data = data;\r\n\t}\r\n\tObject.defineProperty(MaskInterface.prototype, 'maskPath', {\r\n        get: function(){\r\n            if(this._mask.prop.k){\r\n                this._mask.prop.getValue();\r\n            }\r\n            return this._mask.prop;\r\n        }\r\n    });\r\n\tObject.defineProperty(MaskInterface.prototype, 'maskOpacity', {\r\n        get: function(){\r\n            if(this._mask.op.k){\r\n                this._mask.op.getValue();\r\n            }\r\n            return this._mask.op.v * 100;\r\n        }\r\n    });\r\n\r\n\tvar MaskManager = function(maskManager, elem){\r\n\t\tvar _maskManager = maskManager;\r\n\t\tvar _elem = elem;\r\n\t\tvar _masksInterfaces = createSizedArray(maskManager.viewData.length);\r\n\t\tvar i, len = maskManager.viewData.length;\r\n\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\t_masksInterfaces[i] = new MaskInterface(maskManager.viewData[i], maskManager.masksProperties[i]);\r\n\t\t}\r\n\r\n\t\tvar maskFunction = function(name){\r\n\t\t\ti = 0;\r\n\t\t    while(i<len){\r\n\t\t        if(maskManager.masksProperties[i].nm === name){\r\n\t\t            return _masksInterfaces[i];\r\n\t\t        }\r\n\t\t        i += 1;\r\n\t\t    }\r\n\t\t};\r\n\t\treturn maskFunction;\r\n\t};\r\n\treturn MaskManager;\r\n}());\r\n\r\nvar ExpressionPropertyInterface = (function() {\r\n\r\n    var defaultUnidimensionalValue = {pv:0, v:0, mult: 1}\r\n    var defaultMultidimensionalValue = {pv:[0,0,0], v:[0,0,0], mult: 1}\r\n\r\n    function completeProperty(expressionValue, property, type) {\r\n        Object.defineProperty(expressionValue, 'velocity', {\r\n            get: function(){\r\n                return property.getVelocityAtTime(property.comp.currentFrame);\r\n            }\r\n        });\r\n        expressionValue.numKeys = property.keyframes ? property.keyframes.length : 0;\r\n        expressionValue.key = function(pos) {\r\n            if (!expressionValue.numKeys) {\r\n                return 0;\r\n            } else {\r\n                var value = '';\r\n                if ('s' in property.keyframes[pos-1]) {\r\n                    value = property.keyframes[pos-1].s;\r\n                } else if ('e' in property.keyframes[pos-2]) {\r\n                    value = property.keyframes[pos-2].e;\r\n                } else {\r\n                    value = property.keyframes[pos-2].s;\r\n                }\r\n                var valueProp = type === 'unidimensional' ? new Number(value) : Object.assign({}, value);\r\n                valueProp.time = property.keyframes[pos-1].t / property.elem.comp.globalData.frameRate;\r\n                valueProp.value = type === 'unidimensional' ? value[0] : value;\r\n                return valueProp;\r\n            }\r\n        };\r\n        expressionValue.valueAtTime = property.getValueAtTime;\r\n        expressionValue.speedAtTime = property.getSpeedAtTime;\r\n        expressionValue.velocityAtTime = property.getVelocityAtTime;\r\n        expressionValue.propertyGroup = property.propertyGroup;\r\n    }\r\n\r\n    function UnidimensionalPropertyInterface(property) {\r\n        if(!property || !('pv' in property)) {\r\n            property = defaultUnidimensionalValue;\r\n        }\r\n        var mult = 1 / property.mult;\r\n        var val = property.pv * mult;\r\n        var expressionValue = new Number(val);\r\n        expressionValue.value = val;\r\n        completeProperty(expressionValue, property, 'unidimensional');\r\n\r\n        return function() {\r\n            if (property.k) {\r\n                property.getValue();\r\n            }\r\n            val = property.v * mult;\r\n            if(expressionValue.value !== val) {\r\n                expressionValue = new Number(val);\r\n                expressionValue.value = val;\r\n                completeProperty(expressionValue, property, 'unidimensional');\r\n            }\r\n            return expressionValue;\r\n        }\r\n    }\r\n\r\n    function MultidimensionalPropertyInterface(property) {\r\n        if(!property || !('pv' in property)) {\r\n            property = defaultMultidimensionalValue;\r\n        }\r\n        var mult = 1 / property.mult;\r\n        var len = property.pv.length;\r\n        var expressionValue = createTypedArray('float32', len);\r\n        var arrValue = createTypedArray('float32', len);\r\n        expressionValue.value = arrValue;\r\n        completeProperty(expressionValue, property, 'multidimensional');\r\n\r\n        return function() {\r\n            if (property.k) {\r\n                property.getValue();\r\n            }\r\n            for (var i = 0; i < len; i += 1) {\r\n                expressionValue[i] = arrValue[i] = property.v[i] * mult;\r\n            }\r\n            return expressionValue;\r\n        }\r\n    }\r\n\r\n    //TODO: try to avoid using this getter\r\n    function defaultGetter() {\r\n        return defaultUnidimensionalValue;\r\n    }\r\n    \r\n    return function(property) {\r\n        if(!property) {\r\n            return defaultGetter;\r\n        } else if (property.propType === 'unidimensional') {\r\n            return UnidimensionalPropertyInterface(property);\r\n        } else {\r\n            return MultidimensionalPropertyInterface(property);\r\n        }\r\n    }\r\n}());\r\n\r\n(function(){\r\n\r\n    var TextExpressionSelectorProp = (function(){\r\n\r\n        function getValueProxy(index,total){\r\n            this.textIndex = index+1;\r\n            this.textTotal = total;\r\n            this.v = this.getValue() * this.mult;\r\n            return this.v;\r\n        }\r\n\r\n        return function TextExpressionSelectorProp(elem,data){\r\n            this.pv = 1;\r\n            this.comp = elem.comp;\r\n            this.elem = elem;\r\n            this.mult = 0.01;\r\n            this.propType = 'textSelector';\r\n            this.textTotal = data.totalChars;\r\n            this.selectorValue = 100;\r\n            this.lastValue = [1,1,1];\r\n            this.k = true;\r\n            this.x = true;\r\n            this.getValue = ExpressionManager.initiateExpression.bind(this)(elem,data,this);\r\n            this.getMult = getValueProxy;\r\n            this.getVelocityAtTime = expressionHelpers.getVelocityAtTime;\r\n            if(this.kf){\r\n                this.getValueAtTime = expressionHelpers.getValueAtTime.bind(this);\r\n            } else {\r\n                this.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(this);\r\n            }\r\n            this.setGroupProperty = expressionHelpers.setGroupProperty;\r\n        };\r\n    }());\r\n\r\n\tvar propertyGetTextProp = TextSelectorProp.getTextSelectorProp;\r\n\tTextSelectorProp.getTextSelectorProp = function(elem, data,arr){\r\n\t    if(data.t === 1){\r\n\t        return new TextExpressionSelectorProp(elem, data,arr);\r\n\t    } else {\r\n\t        return propertyGetTextProp(elem,data,arr);\r\n\t    }\r\n\t};\r\n}());\r\nfunction SliderEffect(data,elem, container){\r\n    this.p = PropertyFactory.getProp(elem,data.v,0,0,container);\r\n}\r\nfunction AngleEffect(data,elem, container){\r\n    this.p = PropertyFactory.getProp(elem,data.v,0,0,container);\r\n}\r\nfunction ColorEffect(data,elem, container){\r\n    this.p = PropertyFactory.getProp(elem,data.v,1,0,container);\r\n}\r\nfunction PointEffect(data,elem, container){\r\n    this.p = PropertyFactory.getProp(elem,data.v,1,0,container);\r\n}\r\nfunction LayerIndexEffect(data,elem, container){\r\n    this.p = PropertyFactory.getProp(elem,data.v,0,0,container);\r\n}\r\nfunction MaskIndexEffect(data,elem, container){\r\n    this.p = PropertyFactory.getProp(elem,data.v,0,0,container);\r\n}\r\nfunction CheckboxEffect(data,elem, container){\r\n    this.p = PropertyFactory.getProp(elem,data.v,0,0,container);\r\n}\r\nfunction NoValueEffect(){\r\n    this.p = {};\r\n}\r\nfunction EffectsManager(){}\r\nfunction EffectsManager(data,element){\r\n    var effects = data.ef || [];\r\n    this.effectElements = [];\r\n    var i,len = effects.length;\r\n    var effectItem;\r\n    for(i=0;i<len;i++) {\r\n        effectItem = new GroupEffect(effects[i],element);\r\n        this.effectElements.push(effectItem);\r\n    }\r\n}\r\n\r\nfunction GroupEffect(data,element){\r\n    this.init(data,element);\r\n}\r\n\r\nextendPrototype([DynamicPropertyContainer], GroupEffect);\r\n\r\nGroupEffect.prototype.getValue = GroupEffect.prototype.iterateDynamicProperties;\r\n\r\nGroupEffect.prototype.init = function(data,element){\r\n    this.data = data;\r\n    this.effectElements = [];\r\n    this.initDynamicPropertyContainer(element);\r\n    var i, len = this.data.ef.length;\r\n    var eff, effects = this.data.ef;\r\n    for(i=0;i<len;i+=1){\r\n        eff = null;\r\n        switch(effects[i].ty){\r\n            case 0:\r\n                eff = new SliderEffect(effects[i],element,this);\r\n                break;\r\n            case 1:\r\n                eff = new AngleEffect(effects[i],element,this);\r\n                break;\r\n            case 2:\r\n                eff = new ColorEffect(effects[i],element,this);\r\n                break;\r\n            case 3:\r\n                eff = new PointEffect(effects[i],element,this);\r\n                break;\r\n            case 4:\r\n            case 7:\r\n                eff = new CheckboxEffect(effects[i],element,this);\r\n                break;\r\n            case 10:\r\n                eff = new LayerIndexEffect(effects[i],element,this);\r\n                break;\r\n            case 11:\r\n                eff = new MaskIndexEffect(effects[i],element,this);\r\n                break;\r\n            case 5:\r\n                eff = new EffectsManager(effects[i],element,this);\r\n                break;\r\n            //case 6:\r\n            default:\r\n                eff = new NoValueEffect(effects[i],element,this);\r\n                break;\r\n        }\r\n        if(eff) {\r\n            this.effectElements.push(eff);\r\n        }\r\n    }\r\n};\r\n\r\nvar lottie = {};\r\n\r\nvar _isFrozen = false;\r\n\r\nfunction setLocationHref (href) {\r\n    locationHref = href;\r\n}\r\n\r\nfunction searchAnimations() {\r\n    if (standalone === true) {\r\n        animationManager.searchAnimations(animationData, standalone, renderer);\r\n    } else {\r\n        animationManager.searchAnimations();\r\n    }\r\n}\r\n\r\nfunction setSubframeRendering(flag) {\r\n    subframeEnabled = flag;\r\n}\r\n\r\nfunction loadAnimation(params) {\r\n    if (standalone === true) {\r\n        params.animationData = JSON.parse(animationData);\r\n    }\r\n    return animationManager.loadAnimation(params);\r\n}\r\n\r\nfunction setQuality(value) {\r\n    if (typeof value === 'string') {\r\n        switch (value) {\r\n            case 'high':\r\n                defaultCurveSegments = 200;\r\n                break;\r\n            case 'medium':\r\n                defaultCurveSegments = 50;\r\n                break;\r\n            case 'low':\r\n                defaultCurveSegments = 10;\r\n                break;\r\n        }\r\n    } else if (!isNaN(value) && value > 1) {\r\n        defaultCurveSegments = value;\r\n    }\r\n    if (defaultCurveSegments >= 50) {\r\n        roundValues(false);\r\n    } else {\r\n        roundValues(true);\r\n    }\r\n}\r\n\r\nfunction inBrowser() {\r\n    return typeof navigator !== 'undefined';\r\n}\r\n\r\nfunction installPlugin(type, plugin) {\r\n    if (type === 'expressions') {\r\n        expressionsPlugin = plugin;\r\n    }\r\n}\r\n\r\nfunction getFactory(name) {\r\n    switch (name) {\r\n        case \"propertyFactory\":\r\n            return PropertyFactory;\r\n        case \"shapePropertyFactory\":\r\n            return ShapePropertyFactory;\r\n        case \"matrix\":\r\n            return Matrix;\r\n    }\r\n}\r\n\r\nlottie.play = animationManager.play;\r\nlottie.pause = animationManager.pause;\r\nlottie.setLocationHref = setLocationHref;\r\nlottie.togglePause = animationManager.togglePause;\r\nlottie.setSpeed = animationManager.setSpeed;\r\nlottie.setDirection = animationManager.setDirection;\r\nlottie.stop = animationManager.stop;\r\nlottie.searchAnimations = searchAnimations;\r\nlottie.registerAnimation = animationManager.registerAnimation;\r\nlottie.loadAnimation = loadAnimation;\r\nlottie.setSubframeRendering = setSubframeRendering;\r\nlottie.resize = animationManager.resize;\r\n//lottie.start = start;\r\nlottie.goToAndStop = animationManager.goToAndStop;\r\nlottie.destroy = animationManager.destroy;\r\nlottie.setQuality = setQuality;\r\nlottie.inBrowser = inBrowser;\r\nlottie.installPlugin = installPlugin;\r\nlottie.freeze = animationManager.freeze;\r\nlottie.unfreeze = animationManager.unfreeze;\r\nlottie.setVolume = animationManager.setVolume;\r\nlottie.mute = animationManager.mute;\r\nlottie.unmute = animationManager.unmute;\r\nlottie.getRegisteredAnimations = animationManager.getRegisteredAnimations;\r\nlottie.__getFactory = getFactory;\r\nlottie.version = '5.7.3';\r\n\r\nfunction checkReady() {\r\n    if (document.readyState === \"complete\") {\r\n        clearInterval(readyStateCheckInterval);\r\n        searchAnimations();\r\n    }\r\n}\r\n\r\nfunction getQueryVariable(variable) {\r\n    var vars = queryString.split('&');\r\n    for (var i = 0; i < vars.length; i++) {\r\n        var pair = vars[i].split('=');\r\n        if (decodeURIComponent(pair[0]) == variable) {\r\n            return decodeURIComponent(pair[1]);\r\n        }\r\n    }\r\n}\r\nvar standalone = '__[STANDALONE]__';\r\nvar animationData = '__[ANIMATIONDATA]__';\r\nvar renderer = '';\r\nif (standalone) {\r\n    var scripts = document.getElementsByTagName('script');\r\n    var index = scripts.length - 1;\r\n    var myScript = scripts[index] || {\r\n        src: ''\r\n    };\r\n    var queryString = myScript.src.replace(/^[^\\?]+\\??/, '');\r\n    renderer = getQueryVariable('renderer');\r\n}\r\nvar readyStateCheckInterval = setInterval(checkReady, 100);\r\n\nreturn lottie;\n}));"]},"banner":"For license information please see 0.1df30860.chunk.js.LICENSE.txt","extractedComments":"/*!\n   Transformation Matrix v2.0\n   (c) Epistemex 2014-2015\n   www.epistemex.com\n   By Ken Fyrstenberg\n   Contributions by leeoniya.\n   License: MIT, header required.\n   */\n\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\n","commentsFilename":"static/js/0.1df30860.chunk.js.LICENSE.txt"}